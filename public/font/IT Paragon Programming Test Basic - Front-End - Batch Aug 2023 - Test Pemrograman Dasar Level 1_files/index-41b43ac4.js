var fK=Object.defineProperty;var pK=(t,e,n)=>e in t?fK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $r=(t,e,n)=>(pK(t,typeof e!="symbol"?e+"":e,n),n);(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=new Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="ae866702-deba-477d-bd2c-083604b2ce9f",t._sentryDebugIdIdentifier="sentry-dbid-ae866702-deba-477d-bd2c-083604b2ce9f")}catch{}})();function u9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var mK=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};mK.SENTRY_RELEASE={id:"9af845375e699d19facb28fbf2bfc7303779d8a4"};var vi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function u5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var a=[null];a.push.apply(a,arguments);var i=Function.bind.apply(e,a);return new i}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var c9={exports:{}},zb={},d9={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0=Symbol.for("react.element"),gK=Symbol.for("react.portal"),yK=Symbol.for("react.fragment"),bK=Symbol.for("react.strict_mode"),vK=Symbol.for("react.profiler"),wK=Symbol.for("react.provider"),xK=Symbol.for("react.context"),_K=Symbol.for("react.forward_ref"),kK=Symbol.for("react.suspense"),SK=Symbol.for("react.memo"),NK=Symbol.for("react.lazy"),LI=Symbol.iterator;function EK(t){return t===null||typeof t!="object"?null:(t=LI&&t[LI]||t["@@iterator"],typeof t=="function"?t:null)}var h9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f9=Object.assign,p9={};function pp(t,e,n){this.props=t,this.context=e,this.refs=p9,this.updater=n||h9}pp.prototype.isReactComponent={};pp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m9(){}m9.prototype=pp.prototype;function c5(t,e,n){this.props=t,this.context=e,this.refs=p9,this.updater=n||h9}var d5=c5.prototype=new m9;d5.constructor=c5;f9(d5,pp.prototype);d5.isPureReactComponent=!0;var FI=Array.isArray,g9=Object.prototype.hasOwnProperty,h5={current:null},y9={key:!0,ref:!0,__self:!0,__source:!0};function b9(t,e,n){var r,a={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)g9.call(e,r)&&!y9.hasOwnProperty(r)&&(a[r]=e[r]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)a[r]===void 0&&(a[r]=o[r]);return{$$typeof:n0,type:t,key:i,ref:s,props:a,_owner:h5.current}}function TK(t,e){return{$$typeof:n0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f5(t){return typeof t=="object"&&t!==null&&t.$$typeof===n0}function CK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var PI=/\/+/g;function Xw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CK(""+t.key):e.toString(36)}function m2(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case n0:case gK:s=!0}}if(s)return s=t,a=a(s),t=r===""?"."+Xw(s,0):r,FI(a)?(n="",t!=null&&(n=t.replace(PI,"$&/")+"/"),m2(a,e,n,"",function(u){return u})):a!=null&&(f5(a)&&(a=TK(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(PI,"$&/")+"/")+t)),e.push(a)),1;if(s=0,r=r===""?".":r+":",FI(t))for(var o=0;o<t.length;o++){i=t[o];var l=r+Xw(i,o);s+=m2(i,e,n,l,a)}else if(l=EK(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=r+Xw(i,o++),s+=m2(i,e,n,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Z0(t,e,n){if(t==null)return t;var r=[],a=0;return m2(t,r,"","",function(i){return e.call(n,i,a++)}),r}function IK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ei={current:null},g2={transition:null},AK={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:g2,ReactCurrentOwner:h5};nn.Children={map:Z0,forEach:function(t,e,n){Z0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Z0(t,function(){e++}),e},toArray:function(t){return Z0(t,function(e){return e})||[]},only:function(t){if(!f5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nn.Component=pp;nn.Fragment=yK;nn.Profiler=vK;nn.PureComponent=c5;nn.StrictMode=bK;nn.Suspense=kK;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AK;nn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f9({},t.props),a=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=h5.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)g9.call(e,l)&&!y9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:n0,type:t.type,key:a,ref:i,props:r,_owner:s}};nn.createContext=function(t){return t={$$typeof:xK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wK,_context:t},t.Consumer=t};nn.createElement=b9;nn.createFactory=function(t){var e=b9.bind(null,t);return e.type=t,e};nn.createRef=function(){return{current:null}};nn.forwardRef=function(t){return{$$typeof:_K,render:t}};nn.isValidElement=f5;nn.lazy=function(t){return{$$typeof:NK,_payload:{_status:-1,_result:t},_init:IK}};nn.memo=function(t,e){return{$$typeof:SK,type:t,compare:e===void 0?null:e}};nn.startTransition=function(t){var e=g2.transition;g2.transition={};try{t()}finally{g2.transition=e}};nn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};nn.useCallback=function(t,e){return Ei.current.useCallback(t,e)};nn.useContext=function(t){return Ei.current.useContext(t)};nn.useDebugValue=function(){};nn.useDeferredValue=function(t){return Ei.current.useDeferredValue(t)};nn.useEffect=function(t,e){return Ei.current.useEffect(t,e)};nn.useId=function(){return Ei.current.useId()};nn.useImperativeHandle=function(t,e,n){return Ei.current.useImperativeHandle(t,e,n)};nn.useInsertionEffect=function(t,e){return Ei.current.useInsertionEffect(t,e)};nn.useLayoutEffect=function(t,e){return Ei.current.useLayoutEffect(t,e)};nn.useMemo=function(t,e){return Ei.current.useMemo(t,e)};nn.useReducer=function(t,e,n){return Ei.current.useReducer(t,e,n)};nn.useRef=function(t){return Ei.current.useRef(t)};nn.useState=function(t){return Ei.current.useState(t)};nn.useSyncExternalStore=function(t,e,n){return Ei.current.useSyncExternalStore(t,e,n)};nn.useTransition=function(){return Ei.current.useTransition()};nn.version="18.2.0";d9.exports=nn;var D=d9.exports;const v_=Bb(D),Z2=u9({__proto__:null,default:v_},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DK=D,RK=Symbol.for("react.element"),$K=Symbol.for("react.fragment"),OK=Object.prototype.hasOwnProperty,LK=DK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FK={key:!0,ref:!0,__self:!0,__source:!0};function v9(t,e,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)OK.call(e,r)&&!FK.hasOwnProperty(r)&&(a[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)a[r]===void 0&&(a[r]=e[r]);return{$$typeof:RK,type:t,key:i,ref:s,props:a,_owner:LK.current}}zb.Fragment=$K;zb.jsx=v9;zb.jsxs=v9;c9.exports=zb;var p5=c9.exports;const St=p5.Fragment,h=p5.jsx,_=p5.jsxs;var w_={},w9={exports:{}},ks={},x9={exports:{}},_9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ae,se){var X=ae.length;ae.push(se);e:for(;0<X;){var ne=X-1>>>1,ke=ae[ne];if(0<a(ke,se))ae[ne]=se,ae[X]=ke,X=ne;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var se=ae[0],X=ae.pop();if(X!==se){ae[0]=X;e:for(var ne=0,ke=ae.length,Oe=ke>>>1;ne<Oe;){var We=2*(ne+1)-1,ze=ae[We],be=We+1,Ie=ae[be];if(0>a(ze,X))be<ke&&0>a(Ie,ze)?(ae[ne]=Ie,ae[be]=X,ne=be):(ae[ne]=ze,ae[We]=X,ne=We);else if(be<ke&&0>a(Ie,X))ae[ne]=Ie,ae[be]=X,ne=be;else break e}}return se}function a(ae,se){var X=ae.sortIndex-se.sortIndex;return X!==0?X:ae.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ae){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=ae)r(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(u)}}function x(ae){if(g=!1,w(ae),!m)if(n(l)!==null)m=!0,re(k);else{var se=n(u);se!==null&&he(x,se.startTime-ae)}}function k(ae,se){m=!1,g&&(g=!1,y(I),I=-1),p=!0;var X=f;try{for(w(se),d=n(l);d!==null&&(!(d.expirationTime>se)||ae&&!z());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,f=d.priorityLevel;var ke=ne(d.expirationTime<=se);se=t.unstable_now(),typeof ke=="function"?d.callback=ke:d===n(l)&&r(l),w(se)}else r(l);d=n(l)}if(d!==null)var Oe=!0;else{var We=n(u);We!==null&&he(x,We.startTime-se),Oe=!1}return Oe}finally{d=null,f=X,p=!1}}var S=!1,E=null,I=-1,C=5,R=-1;function z(){return!(t.unstable_now()-R<C)}function H(){if(E!==null){var ae=t.unstable_now();R=ae;var se=!0;try{se=E(!0,ae)}finally{se?U():(S=!1,E=null)}}else S=!1}var U;if(typeof b=="function")U=function(){b(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Q=q.port2;q.port1.onmessage=H,U=function(){Q.postMessage(null)}}else U=function(){v(H,0)};function re(ae){E=ae,S||(S=!0,U())}function he(ae,se){I=v(function(){ae(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,re(k))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ae){switch(f){case 1:case 2:case 3:var se=3;break;default:se=f}var X=f;f=se;try{return ae()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,se){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var X=f;f=ae;try{return se()}finally{f=X}},t.unstable_scheduleCallback=function(ae,se,X){var ne=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ne+X:ne):X=ne,ae){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=X+ke,ae={id:c++,callback:se,priorityLevel:ae,startTime:X,expirationTime:ke,sortIndex:-1},X>ne?(ae.sortIndex=X,e(u,ae),n(l)===null&&ae===n(u)&&(g?(y(I),I=-1):g=!0,he(x,X-ne))):(ae.sortIndex=ke,e(l,ae),m||p||(m=!0,re(k))),ae},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(ae){var se=f;return function(){var X=f;f=se;try{return ae.apply(this,arguments)}finally{f=X}}}})(_9);x9.exports=_9;var PK=x9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9=D,_s=PK;function Ye(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S9=new Set,Xm={};function hh(t,e){Tf(t,e),Tf(t+"Capture",e)}function Tf(t,e){for(Xm[t]=e,t=0;t<e.length;t++)S9.add(e[t])}var ru=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x_=Object.prototype.hasOwnProperty,MK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,MI={},BI={};function BK(t){return x_.call(BI,t)?!0:x_.call(MI,t)?!1:MK.test(t)?BI[t]=!0:(MI[t]=!0,!1)}function zK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function UK(t,e,n,r){if(e===null||typeof e>"u"||zK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(t,e,n,r,a,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Pa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pa[t]=new Ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pa[e]=new Ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pa[t]=new Ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pa[t]=new Ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pa[t]=new Ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pa[t]=new Ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pa[t]=new Ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pa[t]=new Ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pa[t]=new Ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var m5=/[\-:]([a-z])/g;function g5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m5,g5);Pa[e]=new Ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m5,g5);Pa[e]=new Ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m5,g5);Pa[e]=new Ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pa[t]=new Ti(t,1,!1,t.toLowerCase(),null,!1,!1)});Pa.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pa[t]=new Ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function y5(t,e,n,r){var a=Pa.hasOwnProperty(e)?Pa[e]:null;(a!==null?a.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(UK(e,n,a,r)&&(n=null),r||a===null?BK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):a.mustUseProperty?t[a.propertyName]=n===null?a.type===3?!1:"":n:(e=a.attributeName,r=a.attributeNamespace,n===null?t.removeAttribute(e):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var mu=k9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J0=Symbol.for("react.element"),Wh=Symbol.for("react.portal"),Gh=Symbol.for("react.fragment"),b5=Symbol.for("react.strict_mode"),__=Symbol.for("react.profiler"),N9=Symbol.for("react.provider"),E9=Symbol.for("react.context"),v5=Symbol.for("react.forward_ref"),k_=Symbol.for("react.suspense"),S_=Symbol.for("react.suspense_list"),w5=Symbol.for("react.memo"),Iu=Symbol.for("react.lazy"),T9=Symbol.for("react.offscreen"),zI=Symbol.iterator;function Wp(t){return t===null||typeof t!="object"?null:(t=zI&&t[zI]||t["@@iterator"],typeof t=="function"?t:null)}var _r=Object.assign,Qw;function hm(t){if(Qw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qw=e&&e[1]||""}return`
`+Qw+t}var Zw=!1;function Jw(t,e){if(!t||Zw)return"";Zw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=o);break}}}finally{Zw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hm(t):""}function jK(t){switch(t.tag){case 5:return hm(t.type);case 16:return hm("Lazy");case 13:return hm("Suspense");case 19:return hm("SuspenseList");case 0:case 2:case 15:return t=Jw(t.type,!1),t;case 11:return t=Jw(t.type.render,!1),t;case 1:return t=Jw(t.type,!0),t;default:return""}}function N_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gh:return"Fragment";case Wh:return"Portal";case __:return"Profiler";case b5:return"StrictMode";case k_:return"Suspense";case S_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E9:return(t.displayName||"Context")+".Consumer";case N9:return(t._context.displayName||"Context")+".Provider";case v5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w5:return e=t.displayName||null,e!==null?e:N_(t.type)||"Memo";case Iu:e=t._payload,t=t._init;try{return N_(t(e))}catch{}}return null}function VK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N_(e);case 8:return e===b5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WK(t){var e=C9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function e1(t){t._valueTracker||(t._valueTracker=WK(t))}function I9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function J2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function E_(t,e){var n=e.checked;return _r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function UI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function A9(t,e){e=e.checked,e!=null&&y5(t,"checked",e,!1)}function T_(t,e){A9(t,e);var n=hc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?C_(t,e.type,n):e.hasOwnProperty("defaultValue")&&C_(t,e.type,hc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function C_(t,e,n){(e!=="number"||J2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fm=Array.isArray;function uf(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hc(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function I_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ye(91));return _r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ye(92));if(fm(n)){if(1<n.length)throw Error(Ye(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hc(n)}}function D9(t,e){var n=hc(e.value),r=hc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function R9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?R9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var t1,$9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,a){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(t1=t1||document.createElement("div"),t1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=t1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Em={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GK=["Webkit","ms","Moz","O"];Object.keys(Em).forEach(function(t){GK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Em[e]=Em[t]})});function O9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Em.hasOwnProperty(t)&&Em[t]?(""+e).trim():e+"px"}function L9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=O9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,a):t[n]=a}}var HK=_r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D_(t,e){if(e){if(HK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ye(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ye(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ye(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ye(62))}}function R_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $_=null;function x5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var O_=null,cf=null,df=null;function GI(t){if(t=i0(t)){if(typeof O_!="function")throw Error(Ye(280));var e=t.stateNode;e&&(e=Gb(e),O_(t.stateNode,t.type,e))}}function F9(t){cf?df?df.push(t):df=[t]:cf=t}function P9(){if(cf){var t=cf,e=df;if(df=cf=null,GI(t),e)for(t=0;t<e.length;t++)GI(e[t])}}function M9(t,e){return t(e)}function B9(){}var e3=!1;function z9(t,e,n){if(e3)return t(e,n);e3=!0;try{return M9(t,e,n)}finally{e3=!1,(cf!==null||df!==null)&&(B9(),P9())}}function Zm(t,e){var n=t.stateNode;if(n===null)return null;var r=Gb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ye(231,e,typeof n));return n}var L_=!1;if(ru)try{var Gp={};Object.defineProperty(Gp,"passive",{get:function(){L_=!0}}),window.addEventListener("test",Gp,Gp),window.removeEventListener("test",Gp,Gp)}catch{L_=!1}function qK(t,e,n,r,a,i,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Tm=!1,ey=null,ty=!1,F_=null,YK={onError:function(t){Tm=!0,ey=t}};function KK(t,e,n,r,a,i,s,o,l){Tm=!1,ey=null,qK.apply(YK,arguments)}function XK(t,e,n,r,a,i,s,o,l){if(KK.apply(this,arguments),Tm){if(Tm){var u=ey;Tm=!1,ey=null}else throw Error(Ye(198));ty||(ty=!0,F_=u)}}function fh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HI(t){if(fh(t)!==t)throw Error(Ye(188))}function QK(t){var e=t.alternate;if(!e){if(e=fh(t),e===null)throw Error(Ye(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return HI(a),t;if(i===r)return HI(a),e;i=i.sibling}throw Error(Ye(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(Ye(189))}}if(n.alternate!==r)throw Error(Ye(190))}if(n.tag!==3)throw Error(Ye(188));return n.stateNode.current===n?t:e}function j9(t){return t=QK(t),t!==null?V9(t):null}function V9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V9(t);if(e!==null)return e;t=t.sibling}return null}var W9=_s.unstable_scheduleCallback,qI=_s.unstable_cancelCallback,ZK=_s.unstable_shouldYield,JK=_s.unstable_requestPaint,Lr=_s.unstable_now,eX=_s.unstable_getCurrentPriorityLevel,_5=_s.unstable_ImmediatePriority,G9=_s.unstable_UserBlockingPriority,ny=_s.unstable_NormalPriority,tX=_s.unstable_LowPriority,H9=_s.unstable_IdlePriority,Ub=null,ml=null;function nX(t){if(ml&&typeof ml.onCommitFiberRoot=="function")try{ml.onCommitFiberRoot(Ub,t,void 0,(t.current.flags&128)===128)}catch{}}var $o=Math.clz32?Math.clz32:iX,rX=Math.log,aX=Math.LN2;function iX(t){return t>>>=0,t===0?32:31-(rX(t)/aX|0)|0}var n1=64,r1=4194304;function pm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ry(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,a=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~a;o!==0?r=pm(o):(i&=s,i!==0&&(r=pm(i)))}else s=n&~a,s!==0?r=pm(s):i!==0&&(r=pm(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&a)&&(a=r&-r,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$o(e),a=1<<n,r|=t[n],e&=~a;return r}function sX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oX(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-$o(i),o=1<<s,l=a[s];l===-1?(!(o&n)||o&r)&&(a[s]=sX(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function P_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q9(){var t=n1;return n1<<=1,!(n1&4194240)&&(n1=64),t}function t3(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function r0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$o(e),t[e]=n}function lX(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var a=31-$o(n),i=1<<a;e[a]=0,r[a]=-1,t[a]=-1,n&=~i}}function k5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$o(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}var In=0;function Y9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K9,S5,X9,Q9,Z9,M_=!1,a1=[],Yu=null,Ku=null,Xu=null,Jm=new Map,eg=new Map,Ou=[],uX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YI(t,e){switch(t){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Xu=null;break;case"pointerover":case"pointerout":Jm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eg.delete(e.pointerId)}}function Hp(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=i0(e),e!==null&&S5(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function cX(t,e,n,r,a){switch(e){case"focusin":return Yu=Hp(Yu,t,e,n,r,a),!0;case"dragenter":return Ku=Hp(Ku,t,e,n,r,a),!0;case"mouseover":return Xu=Hp(Xu,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Jm.set(i,Hp(Jm.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,eg.set(i,Hp(eg.get(i)||null,t,e,n,r,a)),!0}return!1}function J9(t){var e=dd(t.target);if(e!==null){var n=fh(e);if(n!==null){if(e=n.tag,e===13){if(e=U9(n),e!==null){t.blockedOn=e,Z9(t.priority,function(){X9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function y2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=B_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$_=r,n.target.dispatchEvent(r),$_=null}else return e=i0(n),e!==null&&S5(e),t.blockedOn=n,!1;e.shift()}return!0}function KI(t,e,n){y2(t)&&n.delete(e)}function dX(){M_=!1,Yu!==null&&y2(Yu)&&(Yu=null),Ku!==null&&y2(Ku)&&(Ku=null),Xu!==null&&y2(Xu)&&(Xu=null),Jm.forEach(KI),eg.forEach(KI)}function qp(t,e){t.blockedOn===e&&(t.blockedOn=null,M_||(M_=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,dX)))}function tg(t){function e(a){return qp(a,t)}if(0<a1.length){qp(a1[0],t);for(var n=1;n<a1.length;n++){var r=a1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yu!==null&&qp(Yu,t),Ku!==null&&qp(Ku,t),Xu!==null&&qp(Xu,t),Jm.forEach(e),eg.forEach(e),n=0;n<Ou.length;n++)r=Ou[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ou.length&&(n=Ou[0],n.blockedOn===null);)J9(n),n.blockedOn===null&&Ou.shift()}var hf=mu.ReactCurrentBatchConfig,ay=!0;function hX(t,e,n,r){var a=In,i=hf.transition;hf.transition=null;try{In=1,N5(t,e,n,r)}finally{In=a,hf.transition=i}}function fX(t,e,n,r){var a=In,i=hf.transition;hf.transition=null;try{In=4,N5(t,e,n,r)}finally{In=a,hf.transition=i}}function N5(t,e,n,r){if(ay){var a=B_(t,e,n,r);if(a===null)d3(t,e,r,iy,n),YI(t,r);else if(cX(a,t,e,n,r))r.stopPropagation();else if(YI(t,r),e&4&&-1<uX.indexOf(t)){for(;a!==null;){var i=i0(a);if(i!==null&&K9(i),i=B_(t,e,n,r),i===null&&d3(t,e,r,iy,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else d3(t,e,r,null,n)}}var iy=null;function B_(t,e,n,r){if(iy=null,t=x5(r),t=dd(t),t!==null)if(e=fh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iy=t,null}function eL(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eX()){case _5:return 1;case G9:return 4;case ny:case tX:return 16;case H9:return 536870912;default:return 16}default:return 16}}var Pu=null,E5=null,b2=null;function tL(){if(b2)return b2;var t,e=E5,n=e.length,r,a="value"in Pu?Pu.value:Pu.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return b2=a.slice(t,1<r?1-r:void 0)}function v2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function i1(){return!0}function XI(){return!1}function Ss(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?i1:XI,this.isPropagationStopped=XI,this}return _r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=i1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=i1)},persist:function(){},isPersistent:i1}),e}var mp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T5=Ss(mp),a0=_r({},mp,{view:0,detail:0}),pX=Ss(a0),n3,r3,Yp,jb=_r({},a0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C5,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yp&&(Yp&&t.type==="mousemove"?(n3=t.screenX-Yp.screenX,r3=t.screenY-Yp.screenY):r3=n3=0,Yp=t),n3)},movementY:function(t){return"movementY"in t?t.movementY:r3}}),QI=Ss(jb),mX=_r({},jb,{dataTransfer:0}),gX=Ss(mX),yX=_r({},a0,{relatedTarget:0}),a3=Ss(yX),bX=_r({},mp,{animationName:0,elapsedTime:0,pseudoElement:0}),vX=Ss(bX),wX=_r({},mp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xX=Ss(wX),_X=_r({},mp,{data:0}),ZI=Ss(_X),kX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NX[t])?!!e[t]:!1}function C5(){return EX}var TX=_r({},a0,{key:function(t){if(t.key){var e=kX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=v2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?SX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C5,charCode:function(t){return t.type==="keypress"?v2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?v2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CX=Ss(TX),IX=_r({},jb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JI=Ss(IX),AX=_r({},a0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C5}),DX=Ss(AX),RX=_r({},mp,{propertyName:0,elapsedTime:0,pseudoElement:0}),$X=Ss(RX),OX=_r({},jb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LX=Ss(OX),FX=[9,13,27,32],I5=ru&&"CompositionEvent"in window,Cm=null;ru&&"documentMode"in document&&(Cm=document.documentMode);var PX=ru&&"TextEvent"in window&&!Cm,nL=ru&&(!I5||Cm&&8<Cm&&11>=Cm),eA=String.fromCharCode(32),tA=!1;function rL(t,e){switch(t){case"keyup":return FX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aL(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hh=!1;function MX(t,e){switch(t){case"compositionend":return aL(e);case"keypress":return e.which!==32?null:(tA=!0,eA);case"textInput":return t=e.data,t===eA&&tA?null:t;default:return null}}function BX(t,e){if(Hh)return t==="compositionend"||!I5&&rL(t,e)?(t=tL(),b2=E5=Pu=null,Hh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nL&&e.locale!=="ko"?null:e.data;default:return null}}var zX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zX[t.type]:e==="textarea"}function iL(t,e,n,r){F9(r),e=sy(e,"onChange"),0<e.length&&(n=new T5("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Im=null,ng=null;function UX(t){gL(t,0)}function Vb(t){var e=Kh(t);if(I9(e))return t}function jX(t,e){if(t==="change")return e}var sL=!1;if(ru){var i3;if(ru){var s3="oninput"in document;if(!s3){var rA=document.createElement("div");rA.setAttribute("oninput","return;"),s3=typeof rA.oninput=="function"}i3=s3}else i3=!1;sL=i3&&(!document.documentMode||9<document.documentMode)}function aA(){Im&&(Im.detachEvent("onpropertychange",oL),ng=Im=null)}function oL(t){if(t.propertyName==="value"&&Vb(ng)){var e=[];iL(e,ng,t,x5(t)),z9(UX,e)}}function VX(t,e,n){t==="focusin"?(aA(),Im=e,ng=n,Im.attachEvent("onpropertychange",oL)):t==="focusout"&&aA()}function WX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vb(ng)}function GX(t,e){if(t==="click")return Vb(e)}function HX(t,e){if(t==="input"||t==="change")return Vb(e)}function qX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bo=typeof Object.is=="function"?Object.is:qX;function rg(t,e){if(Bo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!x_.call(e,a)||!Bo(t[a],e[a]))return!1}return!0}function iA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sA(t,e){var n=iA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iA(n)}}function lL(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lL(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uL(){for(var t=window,e=J2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=J2(t.document)}return e}function A5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YX(t){var e=uL(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lL(n.ownerDocument.documentElement,n)){if(r!==null&&A5(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!t.extend&&i>r&&(a=r,r=i,i=a),a=sA(n,i);var s=sA(n,r);a&&s&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KX=ru&&"documentMode"in document&&11>=document.documentMode,qh=null,z_=null,Am=null,U_=!1;function oA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;U_||qh==null||qh!==J2(r)||(r=qh,"selectionStart"in r&&A5(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Am&&rg(Am,r)||(Am=r,r=sy(z_,"onSelect"),0<r.length&&(e=new T5("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qh)))}function s1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yh={animationend:s1("Animation","AnimationEnd"),animationiteration:s1("Animation","AnimationIteration"),animationstart:s1("Animation","AnimationStart"),transitionend:s1("Transition","TransitionEnd")},o3={},cL={};ru&&(cL=document.createElement("div").style,"AnimationEvent"in window||(delete Yh.animationend.animation,delete Yh.animationiteration.animation,delete Yh.animationstart.animation),"TransitionEvent"in window||delete Yh.transitionend.transition);function Wb(t){if(o3[t])return o3[t];if(!Yh[t])return t;var e=Yh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cL)return o3[t]=e[n];return t}var dL=Wb("animationend"),hL=Wb("animationiteration"),fL=Wb("animationstart"),pL=Wb("transitionend"),mL=new Map,lA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $c(t,e){mL.set(t,e),hh(e,[t])}for(var l3=0;l3<lA.length;l3++){var u3=lA[l3],XX=u3.toLowerCase(),QX=u3[0].toUpperCase()+u3.slice(1);$c(XX,"on"+QX)}$c(dL,"onAnimationEnd");$c(hL,"onAnimationIteration");$c(fL,"onAnimationStart");$c("dblclick","onDoubleClick");$c("focusin","onFocus");$c("focusout","onBlur");$c(pL,"onTransitionEnd");Tf("onMouseEnter",["mouseout","mouseover"]);Tf("onMouseLeave",["mouseout","mouseover"]);Tf("onPointerEnter",["pointerout","pointerover"]);Tf("onPointerLeave",["pointerout","pointerover"]);hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZX=new Set("cancel close invalid load scroll toggle".split(" ").concat(mm));function uA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XK(r,e,void 0,t),t.currentTarget=null}function gL(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;uA(a,o,u),i=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;uA(a,o,u),i=l}}}if(ty)throw t=F_,ty=!1,F_=null,t}function Jn(t,e){var n=e[H_];n===void 0&&(n=e[H_]=new Set);var r=t+"__bubble";n.has(r)||(yL(e,t,2,!1),n.add(r))}function c3(t,e,n){var r=0;e&&(r|=4),yL(n,t,r,e)}var o1="_reactListening"+Math.random().toString(36).slice(2);function ag(t){if(!t[o1]){t[o1]=!0,S9.forEach(function(n){n!=="selectionchange"&&(ZX.has(n)||c3(n,!1,t),c3(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[o1]||(e[o1]=!0,c3("selectionchange",!1,e))}}function yL(t,e,n,r){switch(eL(e)){case 1:var a=hX;break;case 4:a=fX;break;default:a=N5}n=a.bind(null,e,n,t),a=void 0,!L_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function d3(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=dd(o),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}o=o.parentNode}}r=r.return}z9(function(){var u=i,c=x5(n),d=[];e:{var f=mL.get(t);if(f!==void 0){var p=T5,m=t;switch(t){case"keypress":if(v2(n)===0)break e;case"keydown":case"keyup":p=CX;break;case"focusin":m="focus",p=a3;break;case"focusout":m="blur",p=a3;break;case"beforeblur":case"afterblur":p=a3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=QI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=gX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DX;break;case dL:case hL:case fL:p=vX;break;case pL:p=$X;break;case"scroll":p=pX;break;case"wheel":p=LX;break;case"copy":case"cut":case"paste":p=xX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=JI}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var b=u,w;b!==null;){w=b;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=Zm(b,y),x!=null&&g.push(ig(b,x,w)))),v)break;b=b.return}0<g.length&&(f=new p(f,m,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==$_&&(m=n.relatedTarget||n.fromElement)&&(dd(m)||m[au]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?dd(m):null,m!==null&&(v=fh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=QI,x="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=JI,x="onPointerLeave",y="onPointerEnter",b="pointer"),v=p==null?f:Kh(p),w=m==null?f:Kh(m),f=new g(x,b+"leave",p,n,c),f.target=v,f.relatedTarget=w,x=null,dd(c)===u&&(g=new g(y,b+"enter",m,n,c),g.target=w,g.relatedTarget=v,x=g),v=x,p&&m)t:{for(g=p,y=m,b=0,w=g;w;w=Eh(w))b++;for(w=0,x=y;x;x=Eh(x))w++;for(;0<b-w;)g=Eh(g),b--;for(;0<w-b;)y=Eh(y),w--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=Eh(g),y=Eh(y)}g=null}else g=null;p!==null&&cA(d,f,p,g,!1),m!==null&&v!==null&&cA(d,v,m,g,!0)}}e:{if(f=u?Kh(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=jX;else if(nA(f))if(sL)k=HX;else{k=WX;var S=VX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=GX);if(k&&(k=k(t,u))){iL(d,k,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&C_(f,"number",f.value)}switch(S=u?Kh(u):window,t){case"focusin":(nA(S)||S.contentEditable==="true")&&(qh=S,z_=u,Am=null);break;case"focusout":Am=z_=qh=null;break;case"mousedown":U_=!0;break;case"contextmenu":case"mouseup":case"dragend":U_=!1,oA(d,n,c);break;case"selectionchange":if(KX)break;case"keydown":case"keyup":oA(d,n,c)}var E;if(I5)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Hh?rL(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(nL&&n.locale!=="ko"&&(Hh||I!=="onCompositionStart"?I==="onCompositionEnd"&&Hh&&(E=tL()):(Pu=c,E5="value"in Pu?Pu.value:Pu.textContent,Hh=!0)),S=sy(u,I),0<S.length&&(I=new ZI(I,t,null,n,c),d.push({event:I,listeners:S}),E?I.data=E:(E=aL(n),E!==null&&(I.data=E)))),(E=PX?MX(t,n):BX(t,n))&&(u=sy(u,"onBeforeInput"),0<u.length&&(c=new ZI("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=E))}gL(d,e)})}function ig(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sy(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Zm(t,n),i!=null&&r.unshift(ig(t,i,a)),i=Zm(t,e),i!=null&&r.push(ig(t,i,a))),t=t.return}return r}function Eh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cA(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,a?(l=Zm(n,i),l!=null&&s.unshift(ig(n,l,o))):a||(l=Zm(n,i),l!=null&&s.push(ig(n,l,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var JX=/\r\n?/g,eQ=/\u0000|\uFFFD/g;function dA(t){return(typeof t=="string"?t:""+t).replace(JX,`
`).replace(eQ,"")}function l1(t,e,n){if(e=dA(e),dA(t)!==e&&n)throw Error(Ye(425))}function oy(){}var j_=null,V_=null;function W_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var G_=typeof setTimeout=="function"?setTimeout:void 0,tQ=typeof clearTimeout=="function"?clearTimeout:void 0,hA=typeof Promise=="function"?Promise:void 0,nQ=typeof queueMicrotask=="function"?queueMicrotask:typeof hA<"u"?function(t){return hA.resolve(null).then(t).catch(rQ)}:G_;function rQ(t){setTimeout(function(){throw t})}function h3(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){t.removeChild(a),tg(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);tg(e)}function Qu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var gp=Math.random().toString(36).slice(2),hl="__reactFiber$"+gp,sg="__reactProps$"+gp,au="__reactContainer$"+gp,H_="__reactEvents$"+gp,aQ="__reactListeners$"+gp,iQ="__reactHandles$"+gp;function dd(t){var e=t[hl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[au]||n[hl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fA(t);t!==null;){if(n=t[hl])return n;t=fA(t)}return e}t=n,n=t.parentNode}return null}function i0(t){return t=t[hl]||t[au],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Kh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ye(33))}function Gb(t){return t[sg]||null}var q_=[],Xh=-1;function Oc(t){return{current:t}}function nr(t){0>Xh||(t.current=q_[Xh],q_[Xh]=null,Xh--)}function Yn(t,e){Xh++,q_[Xh]=t.current,t.current=e}var fc={},ei=Oc(fc),ji=Oc(!1),Pd=fc;function Cf(t,e){var n=t.type.contextTypes;if(!n)return fc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Vi(t){return t=t.childContextTypes,t!=null}function ly(){nr(ji),nr(ei)}function pA(t,e,n){if(ei.current!==fc)throw Error(Ye(168));Yn(ei,e),Yn(ji,n)}function bL(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in e))throw Error(Ye(108,VK(t)||"Unknown",a));return _r({},n,r)}function uy(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fc,Pd=ei.current,Yn(ei,t),Yn(ji,ji.current),!0}function mA(t,e,n){var r=t.stateNode;if(!r)throw Error(Ye(169));n?(t=bL(t,e,Pd),r.__reactInternalMemoizedMergedChildContext=t,nr(ji),nr(ei),Yn(ei,t)):nr(ji),Yn(ji,n)}var Ul=null,Hb=!1,f3=!1;function vL(t){Ul===null?Ul=[t]:Ul.push(t)}function sQ(t){Hb=!0,vL(t)}function Lc(){if(!f3&&Ul!==null){f3=!0;var t=0,e=In;try{var n=Ul;for(In=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ul=null,Hb=!1}catch(a){throw Ul!==null&&(Ul=Ul.slice(t+1)),W9(_5,Lc),a}finally{In=e,f3=!1}}return null}var Qh=[],Zh=0,cy=null,dy=0,Vs=[],Ws=0,Md=null,ql=1,Yl="";function nd(t,e){Qh[Zh++]=dy,Qh[Zh++]=cy,cy=t,dy=e}function wL(t,e,n){Vs[Ws++]=ql,Vs[Ws++]=Yl,Vs[Ws++]=Md,Md=t;var r=ql;t=Yl;var a=32-$o(r)-1;r&=~(1<<a),n+=1;var i=32-$o(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,ql=1<<32-$o(e)+a|n<<a|r,Yl=i+t}else ql=1<<i|n<<a|r,Yl=t}function D5(t){t.return!==null&&(nd(t,1),wL(t,1,0))}function R5(t){for(;t===cy;)cy=Qh[--Zh],Qh[Zh]=null,dy=Qh[--Zh],Qh[Zh]=null;for(;t===Md;)Md=Vs[--Ws],Vs[Ws]=null,Yl=Vs[--Ws],Vs[Ws]=null,ql=Vs[--Ws],Vs[Ws]=null}var ws=null,ms=null,dr=!1,No=null;function xL(t,e){var n=Xs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function gA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ws=t,ms=Qu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ws=t,ms=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Md!==null?{id:ql,overflow:Yl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ws=t,ms=null,!0):!1;default:return!1}}function Y_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function K_(t){if(dr){var e=ms;if(e){var n=e;if(!gA(t,e)){if(Y_(t))throw Error(Ye(418));e=Qu(n.nextSibling);var r=ws;e&&gA(t,e)?xL(r,n):(t.flags=t.flags&-4097|2,dr=!1,ws=t)}}else{if(Y_(t))throw Error(Ye(418));t.flags=t.flags&-4097|2,dr=!1,ws=t}}}function yA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ws=t}function u1(t){if(t!==ws)return!1;if(!dr)return yA(t),dr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!W_(t.type,t.memoizedProps)),e&&(e=ms)){if(Y_(t))throw _L(),Error(Ye(418));for(;e;)xL(t,e),e=Qu(e.nextSibling)}if(yA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ye(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ms=Qu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ms=null}}else ms=ws?Qu(t.stateNode.nextSibling):null;return!0}function _L(){for(var t=ms;t;)t=Qu(t.nextSibling)}function If(){ms=ws=null,dr=!1}function $5(t){No===null?No=[t]:No.push(t)}var oQ=mu.ReactCurrentBatchConfig;function _o(t,e){if(t&&t.defaultProps){e=_r({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var hy=Oc(null),fy=null,Jh=null,O5=null;function L5(){O5=Jh=fy=null}function F5(t){var e=hy.current;nr(hy),t._currentValue=e}function X_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ff(t,e){fy=t,O5=Jh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bi=!0),t.firstContext=null)}function ro(t){var e=t._currentValue;if(O5!==t)if(t={context:t,memoizedValue:e,next:null},Jh===null){if(fy===null)throw Error(Ye(308));Jh=t,fy.dependencies={lanes:0,firstContext:t}}else Jh=Jh.next=t;return e}var hd=null;function P5(t){hd===null?hd=[t]:hd.push(t)}function kL(t,e,n,r){var a=e.interleaved;return a===null?(n.next=n,P5(e)):(n.next=a.next,a.next=n),e.interleaved=n,iu(t,r)}function iu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Au=!1;function M5(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SL(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zu(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,mn&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,iu(t,n)}return a=r.interleaved,a===null?(e.next=e,P5(r)):(e.next=a.next,a.next=e),r.interleaved=e,iu(t,n)}function w2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k5(t,n)}}function bA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function py(t,e,n,r){var a=t.updateQueue;Au=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=a.baseState;s=0,c=u=l=null,o=i;do{var f=o.lane,p=o.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=_r({},d,f);break e;case 2:Au=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(c===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=c,e=a.shared.interleaved,e!==null){a=e;do s|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);zd|=s,t.lanes=s,t.memoizedState=d}}function vA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ye(191,a));a.call(r)}}}var NL=new k9.Component().refs;function Q_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_r({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qb={isMounted:function(t){return(t=t._reactInternals)?fh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wi(),a=ec(t),i=Jl(r,a);i.payload=e,n!=null&&(i.callback=n),e=Zu(t,i,a),e!==null&&(Oo(e,t,a,r),w2(e,t,a))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wi(),a=ec(t),i=Jl(r,a);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zu(t,i,a),e!==null&&(Oo(e,t,a,r),w2(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wi(),r=ec(t),a=Jl(n,r);a.tag=2,e!=null&&(a.callback=e),e=Zu(t,a,r),e!==null&&(Oo(e,t,r,n),w2(e,t,r))}};function wA(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!rg(n,r)||!rg(a,i):!0}function EL(t,e,n){var r=!1,a=fc,i=e.contextType;return typeof i=="object"&&i!==null?i=ro(i):(a=Vi(e)?Pd:ei.current,r=e.contextTypes,i=(r=r!=null)?Cf(t,a):fc),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qb,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function xA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qb.enqueueReplaceState(e,e.state,null)}function Z_(t,e,n,r){var a=t.stateNode;a.props=n,a.state=t.memoizedState,a.refs=NL,M5(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ro(i):(i=Vi(e)?Pd:ei.current,a.context=Cf(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Q_(t,e,i,n),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&qb.enqueueReplaceState(a,a.state,null),py(t,n,a,r),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Kp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ye(309));var r=n.stateNode}if(!r)throw Error(Ye(147,t));var a=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=a.refs;o===NL&&(o=a.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ye(284));if(!n._owner)throw Error(Ye(290,t))}return t}function c1(t,e){throw t=Object.prototype.toString.call(e),Error(Ye(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _A(t){var e=t._init;return e(t._payload)}function TL(t){function e(y,b){if(t){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=tc(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,x){return b===null||b.tag!==6?(b=w3(w,y.mode,x),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,x){var k=w.type;return k===Gh?c(y,b,w.props.children,x,w.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Iu&&_A(k)===b.type)?(x=a(b,w.props),x.ref=Kp(y,b,w),x.return=y,x):(x=E2(w.type,w.key,w.props,null,y.mode,x),x.ref=Kp(y,b,w),x.return=y,x)}function u(y,b,w,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=x3(w,y.mode,x),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function c(y,b,w,x,k){return b===null||b.tag!==7?(b=Sd(w,y.mode,x,k),b.return=y,b):(b=a(b,w),b.return=y,b)}function d(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=w3(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case J0:return w=E2(b.type,b.key,b.props,null,y.mode,w),w.ref=Kp(y,null,b),w.return=y,w;case Wh:return b=x3(b,y.mode,w),b.return=y,b;case Iu:var x=b._init;return d(y,x(b._payload),w)}if(fm(b)||Wp(b))return b=Sd(b,y.mode,w,null),b.return=y,b;c1(y,b)}return null}function f(y,b,w,x){var k=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(y,b,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:return w.key===k?l(y,b,w,x):null;case Wh:return w.key===k?u(y,b,w,x):null;case Iu:return k=w._init,f(y,b,k(w._payload),x)}if(fm(w)||Wp(w))return k!==null?null:c(y,b,w,x,null);c1(y,w)}return null}function p(y,b,w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,o(b,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case J0:return y=y.get(x.key===null?w:x.key)||null,l(b,y,x,k);case Wh:return y=y.get(x.key===null?w:x.key)||null,u(b,y,x,k);case Iu:var S=x._init;return p(y,b,w,S(x._payload),k)}if(fm(x)||Wp(x))return y=y.get(w)||null,c(b,y,x,k,null);c1(b,x)}return null}function m(y,b,w,x){for(var k=null,S=null,E=b,I=b=0,C=null;E!==null&&I<w.length;I++){E.index>I?(C=E,E=null):C=E.sibling;var R=f(y,E,w[I],x);if(R===null){E===null&&(E=C);break}t&&E&&R.alternate===null&&e(y,E),b=i(R,b,I),S===null?k=R:S.sibling=R,S=R,E=C}if(I===w.length)return n(y,E),dr&&nd(y,I),k;if(E===null){for(;I<w.length;I++)E=d(y,w[I],x),E!==null&&(b=i(E,b,I),S===null?k=E:S.sibling=E,S=E);return dr&&nd(y,I),k}for(E=r(y,E);I<w.length;I++)C=p(E,y,I,w[I],x),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?I:C.key),b=i(C,b,I),S===null?k=C:S.sibling=C,S=C);return t&&E.forEach(function(z){return e(y,z)}),dr&&nd(y,I),k}function g(y,b,w,x){var k=Wp(w);if(typeof k!="function")throw Error(Ye(150));if(w=k.call(w),w==null)throw Error(Ye(151));for(var S=k=null,E=b,I=b=0,C=null,R=w.next();E!==null&&!R.done;I++,R=w.next()){E.index>I?(C=E,E=null):C=E.sibling;var z=f(y,E,R.value,x);if(z===null){E===null&&(E=C);break}t&&E&&z.alternate===null&&e(y,E),b=i(z,b,I),S===null?k=z:S.sibling=z,S=z,E=C}if(R.done)return n(y,E),dr&&nd(y,I),k;if(E===null){for(;!R.done;I++,R=w.next())R=d(y,R.value,x),R!==null&&(b=i(R,b,I),S===null?k=R:S.sibling=R,S=R);return dr&&nd(y,I),k}for(E=r(y,E);!R.done;I++,R=w.next())R=p(E,y,I,R.value,x),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?I:R.key),b=i(R,b,I),S===null?k=R:S.sibling=R,S=R);return t&&E.forEach(function(H){return e(y,H)}),dr&&nd(y,I),k}function v(y,b,w,x){if(typeof w=="object"&&w!==null&&w.type===Gh&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case J0:e:{for(var k=w.key,S=b;S!==null;){if(S.key===k){if(k=w.type,k===Gh){if(S.tag===7){n(y,S.sibling),b=a(S,w.props.children),b.return=y,y=b;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Iu&&_A(k)===S.type){n(y,S.sibling),b=a(S,w.props),b.ref=Kp(y,S,w),b.return=y,y=b;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===Gh?(b=Sd(w.props.children,y.mode,x,w.key),b.return=y,y=b):(x=E2(w.type,w.key,w.props,null,y.mode,x),x.ref=Kp(y,b,w),x.return=y,y=x)}return s(y);case Wh:e:{for(S=w.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=x3(w,y.mode,x),b.return=y,y=b}return s(y);case Iu:return S=w._init,v(y,b,S(w._payload),x)}if(fm(w))return m(y,b,w,x);if(Wp(w))return g(y,b,w,x);c1(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=a(b,w),b.return=y,y=b):(n(y,b),b=w3(w,y.mode,x),b.return=y,y=b),s(y)):n(y,b)}return v}var Af=TL(!0),CL=TL(!1),s0={},gl=Oc(s0),og=Oc(s0),lg=Oc(s0);function fd(t){if(t===s0)throw Error(Ye(174));return t}function B5(t,e){switch(Yn(lg,e),Yn(og,t),Yn(gl,s0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:A_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=A_(e,t)}nr(gl),Yn(gl,e)}function Df(){nr(gl),nr(og),nr(lg)}function IL(t){fd(lg.current);var e=fd(gl.current),n=A_(e,t.type);e!==n&&(Yn(og,t),Yn(gl,n))}function z5(t){og.current===t&&(nr(gl),nr(og))}var br=Oc(0);function my(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var p3=[];function U5(){for(var t=0;t<p3.length;t++)p3[t]._workInProgressVersionPrimary=null;p3.length=0}var x2=mu.ReactCurrentDispatcher,m3=mu.ReactCurrentBatchConfig,Bd=0,xr=null,ra=null,ha=null,gy=!1,Dm=!1,ug=0,lQ=0;function ja(){throw Error(Ye(321))}function j5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bo(t[n],e[n]))return!1;return!0}function V5(t,e,n,r,a,i){if(Bd=i,xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,x2.current=t===null||t.memoizedState===null?hQ:fQ,t=n(r,a),Dm){i=0;do{if(Dm=!1,ug=0,25<=i)throw Error(Ye(301));i+=1,ha=ra=null,e.updateQueue=null,x2.current=pQ,t=n(r,a)}while(Dm)}if(x2.current=yy,e=ra!==null&&ra.next!==null,Bd=0,ha=ra=xr=null,gy=!1,e)throw Error(Ye(300));return t}function W5(){var t=ug!==0;return ug=0,t}function il(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?xr.memoizedState=ha=t:ha=ha.next=t,ha}function ao(){if(ra===null){var t=xr.alternate;t=t!==null?t.memoizedState:null}else t=ra.next;var e=ha===null?xr.memoizedState:ha.next;if(e!==null)ha=e,ra=t;else{if(t===null)throw Error(Ye(310));ra=t,t={memoizedState:ra.memoizedState,baseState:ra.baseState,baseQueue:ra.baseQueue,queue:ra.queue,next:null},ha===null?xr.memoizedState=ha=t:ha=ha.next=t}return ha}function cg(t,e){return typeof e=="function"?e(t):e}function g3(t){var e=ao(),n=e.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=t;var r=ra,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var o=s=null,l=null,u=i;do{var c=u.lane;if((Bd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=r):l=l.next=d,xr.lanes|=c,zd|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=o,Bo(r,e.memoizedState)||(Bi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){a=t;do i=a.lane,xr.lanes|=i,zd|=i,a=a.next;while(a!==t)}else a===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function y3(t){var e=ao(),n=e.queue;if(n===null)throw Error(Ye(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);Bo(i,e.memoizedState)||(Bi=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function AL(){}function DL(t,e){var n=xr,r=ao(),a=e(),i=!Bo(r.memoizedState,a);if(i&&(r.memoizedState=a,Bi=!0),r=r.queue,G5(OL.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ha!==null&&ha.memoizedState.tag&1){if(n.flags|=2048,dg(9,$L.bind(null,n,r,a,e),void 0,null),xa===null)throw Error(Ye(349));Bd&30||RL(n,e,a)}return a}function RL(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $L(t,e,n,r){e.value=n,e.getSnapshot=r,LL(e)&&FL(t)}function OL(t,e,n){return n(function(){LL(e)&&FL(t)})}function LL(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bo(t,n)}catch{return!0}}function FL(t){var e=iu(t,1);e!==null&&Oo(e,t,1,-1)}function kA(t){var e=il();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:t},e.queue=t,t=t.dispatch=dQ.bind(null,xr,t),[e.memoizedState,t]}function dg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PL(){return ao().memoizedState}function _2(t,e,n,r){var a=il();xr.flags|=t,a.memoizedState=dg(1|e,n,void 0,r===void 0?null:r)}function Yb(t,e,n,r){var a=ao();r=r===void 0?null:r;var i=void 0;if(ra!==null){var s=ra.memoizedState;if(i=s.destroy,r!==null&&j5(r,s.deps)){a.memoizedState=dg(e,n,i,r);return}}xr.flags|=t,a.memoizedState=dg(1|e,n,i,r)}function SA(t,e){return _2(8390656,8,t,e)}function G5(t,e){return Yb(2048,8,t,e)}function ML(t,e){return Yb(4,2,t,e)}function BL(t,e){return Yb(4,4,t,e)}function zL(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UL(t,e,n){return n=n!=null?n.concat([t]):null,Yb(4,4,zL.bind(null,e,t),n)}function H5(){}function jL(t,e){var n=ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&j5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VL(t,e){var n=ao();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&j5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WL(t,e,n){return Bd&21?(Bo(n,e)||(n=q9(),xr.lanes|=n,zd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bi=!0),t.memoizedState=n)}function uQ(t,e){var n=In;In=n!==0&&4>n?n:4,t(!0);var r=m3.transition;m3.transition={};try{t(!1),e()}finally{In=n,m3.transition=r}}function GL(){return ao().memoizedState}function cQ(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HL(t))qL(e,n);else if(n=kL(t,e,n,r),n!==null){var a=wi();Oo(n,t,r,a),YL(n,e,r)}}function dQ(t,e,n){var r=ec(t),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HL(t))qL(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Bo(o,s)){var l=e.interleaved;l===null?(a.next=a,P5(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}n=kL(t,e,a,r),n!==null&&(a=wi(),Oo(n,t,r,a),YL(n,e,r))}}function HL(t){var e=t.alternate;return t===xr||e!==null&&e===xr}function qL(t,e){Dm=gy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function YL(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,k5(t,n)}}var yy={readContext:ro,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},hQ={readContext:ro,useCallback:function(t,e){return il().memoizedState=[t,e===void 0?null:e],t},useContext:ro,useEffect:SA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_2(4194308,4,zL.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _2(4194308,4,t,e)},useInsertionEffect:function(t,e){return _2(4,2,t,e)},useMemo:function(t,e){var n=il();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=il();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cQ.bind(null,xr,t),[r.memoizedState,t]},useRef:function(t){var e=il();return t={current:t},e.memoizedState=t},useState:kA,useDebugValue:H5,useDeferredValue:function(t){return il().memoizedState=t},useTransition:function(){var t=kA(!1),e=t[0];return t=uQ.bind(null,t[1]),il().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xr,a=il();if(dr){if(n===void 0)throw Error(Ye(407));n=n()}else{if(n=e(),xa===null)throw Error(Ye(349));Bd&30||RL(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,SA(OL.bind(null,r,i,t),[t]),r.flags|=2048,dg(9,$L.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=il(),e=xa.identifierPrefix;if(dr){var n=Yl,r=ql;n=(r&~(1<<32-$o(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ug++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=lQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fQ={readContext:ro,useCallback:jL,useContext:ro,useEffect:G5,useImperativeHandle:UL,useInsertionEffect:ML,useLayoutEffect:BL,useMemo:VL,useReducer:g3,useRef:PL,useState:function(){return g3(cg)},useDebugValue:H5,useDeferredValue:function(t){var e=ao();return WL(e,ra.memoizedState,t)},useTransition:function(){var t=g3(cg)[0],e=ao().memoizedState;return[t,e]},useMutableSource:AL,useSyncExternalStore:DL,useId:GL,unstable_isNewReconciler:!1},pQ={readContext:ro,useCallback:jL,useContext:ro,useEffect:G5,useImperativeHandle:UL,useInsertionEffect:ML,useLayoutEffect:BL,useMemo:VL,useReducer:y3,useRef:PL,useState:function(){return y3(cg)},useDebugValue:H5,useDeferredValue:function(t){var e=ao();return ra===null?e.memoizedState=t:WL(e,ra.memoizedState,t)},useTransition:function(){var t=y3(cg)[0],e=ao().memoizedState;return[t,e]},useMutableSource:AL,useSyncExternalStore:DL,useId:GL,unstable_isNewReconciler:!1};function Rf(t,e){try{var n="",r=e;do n+=jK(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function b3(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function J_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mQ=typeof WeakMap=="function"?WeakMap:Map;function KL(t,e,n){n=Jl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vy||(vy=!0,uk=r),J_(t,e)},n}function XL(t,e,n){n=Jl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var a=e.value;n.payload=function(){return r(a)},n.callback=function(){J_(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){J_(t,e),typeof r!="function"&&(Ju===null?Ju=new Set([this]):Ju.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function NA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mQ;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(a.add(n),t=IQ.bind(null,t,e,n),e.then(t,t))}function EA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TA(t,e,n,r,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jl(-1,1),e.tag=2,Zu(n,e,1))),n.lanes|=1),t)}var gQ=mu.ReactCurrentOwner,Bi=!1;function fi(t,e,n,r){e.child=t===null?CL(e,null,n,r):Af(e,t.child,n,r)}function CA(t,e,n,r,a){n=n.render;var i=e.ref;return ff(e,a),r=V5(t,e,n,r,i,a),n=W5(),t!==null&&!Bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,su(t,e,a)):(dr&&n&&D5(e),e.flags|=1,fi(t,e,r,a),e.child)}function IA(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!eN(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,QL(t,e,i,r,a)):(t=E2(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:rg,n(s,r)&&t.ref===e.ref)return su(t,e,a)}return e.flags|=1,t=tc(i,r),t.ref=e.ref,t.return=e,e.child=t}function QL(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(rg(i,r)&&t.ref===e.ref)if(Bi=!1,e.pendingProps=r=i,(t.lanes&a)!==0)t.flags&131072&&(Bi=!0);else return e.lanes=t.lanes,su(t,e,a)}return ek(t,e,n,r,a)}function ZL(t,e,n){var r=e.pendingProps,a=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(tf,hs),hs|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yn(tf,hs),hs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Yn(tf,hs),hs|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Yn(tf,hs),hs|=r;return fi(t,e,a,n),e.child}function JL(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ek(t,e,n,r,a){var i=Vi(n)?Pd:ei.current;return i=Cf(e,i),ff(e,a),n=V5(t,e,n,r,i,a),r=W5(),t!==null&&!Bi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,su(t,e,a)):(dr&&r&&D5(e),e.flags|=1,fi(t,e,n,a),e.child)}function AA(t,e,n,r,a){if(Vi(n)){var i=!0;uy(e)}else i=!1;if(ff(e,a),e.stateNode===null)k2(t,e),EL(e,n,r),Z_(e,n,r,a),r=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ro(u):(u=Vi(n)?Pd:ei.current,u=Cf(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&xA(e,s,r,u),Au=!1;var f=e.memoizedState;s.state=f,py(e,r,s,a),l=e.memoizedState,o!==r||f!==l||ji.current||Au?(typeof c=="function"&&(Q_(e,n,c,r),l=e.memoizedState),(o=Au||wA(e,n,o,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,SL(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:_o(e.type,o),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ro(l):(l=Vi(n)?Pd:ei.current,l=Cf(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||f!==l)&&xA(e,s,r,l),Au=!1,f=e.memoizedState,s.state=f,py(e,r,s,a);var m=e.memoizedState;o!==d||f!==m||ji.current||Au?(typeof p=="function"&&(Q_(e,n,p,r),m=e.memoizedState),(u=Au||wA(e,n,u,r,f,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return tk(t,e,n,r,i,a)}function tk(t,e,n,r,a,i){JL(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return a&&mA(e,n,!1),su(t,e,i);r=e.stateNode,gQ.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Af(e,t.child,null,i),e.child=Af(e,null,o,i)):fi(t,e,o,i),e.memoizedState=r.state,a&&mA(e,n,!0),e.child}function eF(t){var e=t.stateNode;e.pendingContext?pA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pA(t,e.context,!1),B5(t,e.containerInfo)}function DA(t,e,n,r,a){return If(),$5(a),e.flags|=256,fi(t,e,n,r),e.child}var nk={dehydrated:null,treeContext:null,retryLane:0};function rk(t){return{baseLanes:t,cachePool:null,transitions:null}}function tF(t,e,n){var r=e.pendingProps,a=br.current,i=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(a&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Yn(br,a&1),t===null)return K_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Qb(s,r,0,null),t=Sd(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rk(n),e.memoizedState=nk,t):q5(e,s));if(a=t.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return yQ(t,e,s,r,o,a,n);if(i){i=r.fallback,s=e.mode,a=t.child,o=a.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==a?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=tc(a,l),r.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=tc(o,i):(i=Sd(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?rk(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=nk,r}return i=t.child,t=i.sibling,r=tc(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function q5(t,e){return e=Qb({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function d1(t,e,n,r){return r!==null&&$5(r),Af(e,t.child,null,n),t=q5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yQ(t,e,n,r,a,i,s){if(n)return e.flags&256?(e.flags&=-257,r=b3(Error(Ye(422))),d1(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,a=e.mode,r=Qb({mode:"visible",children:r.children},a,0,null),i=Sd(i,a,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Af(e,t.child,null,s),e.child.memoizedState=rk(s),e.memoizedState=nk,i);if(!(e.mode&1))return d1(t,e,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(Ye(419)),r=b3(i,r,void 0),d1(t,e,s,r)}if(o=(s&t.childLanes)!==0,Bi||o){if(r=xa,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,iu(t,a),Oo(r,t,a,-1))}return J5(),r=b3(Error(Ye(421))),d1(t,e,s,r)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=AQ.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,ms=Qu(a.nextSibling),ws=e,dr=!0,No=null,t!==null&&(Vs[Ws++]=ql,Vs[Ws++]=Yl,Vs[Ws++]=Md,ql=t.id,Yl=t.overflow,Md=e),e=q5(e,r.children),e.flags|=4096,e)}function RA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),X_(t.return,e,n)}function v3(t,e,n,r,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function nF(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;if(fi(t,e,r.children,n),r=br.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RA(t,n,e);else if(t.tag===19)RA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yn(br,r),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&my(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),v3(e,!1,a,n,i);break;case"backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&my(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}v3(e,!0,n,null,i);break;case"together":v3(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function k2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function su(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ye(153));if(e.child!==null){for(t=e.child,n=tc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=tc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bQ(t,e,n){switch(e.tag){case 3:eF(e),If();break;case 5:IL(e);break;case 1:Vi(e.type)&&uy(e);break;case 4:B5(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,a=e.memoizedProps.value;Yn(hy,r._currentValue),r._currentValue=a;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yn(br,br.current&1),e.flags|=128,null):n&e.child.childLanes?tF(t,e,n):(Yn(br,br.current&1),t=su(t,e,n),t!==null?t.sibling:null);Yn(br,br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return nF(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Yn(br,br.current),r)break;return null;case 22:case 23:return e.lanes=0,ZL(t,e,n)}return su(t,e,n)}var rF,ak,aF,iF;rF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ak=function(){};aF=function(t,e,n,r){var a=t.memoizedProps;if(a!==r){t=e.stateNode,fd(gl.current);var i=null;switch(n){case"input":a=E_(t,a),r=E_(t,r),i=[];break;case"select":a=_r({},a,{value:void 0}),r=_r({},r,{value:void 0}),i=[];break;case"textarea":a=I_(t,a),r=I_(t,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oy)}D_(n,r);var s;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Jn("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};iF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xp(t,e){if(!dr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Va(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vQ(t,e,n){var r=e.pendingProps;switch(R5(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Va(e),null;case 1:return Vi(e.type)&&ly(),Va(e),null;case 3:return r=e.stateNode,Df(),nr(ji),nr(ei),U5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(u1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,No!==null&&(hk(No),No=null))),ak(t,e),Va(e),null;case 5:z5(e);var a=fd(lg.current);if(n=e.type,t!==null&&e.stateNode!=null)aF(t,e,n,r,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ye(166));return Va(e),null}if(t=fd(gl.current),u1(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hl]=e,r[sg]=i,t=(e.mode&1)!==0,n){case"dialog":Jn("cancel",r),Jn("close",r);break;case"iframe":case"object":case"embed":Jn("load",r);break;case"video":case"audio":for(a=0;a<mm.length;a++)Jn(mm[a],r);break;case"source":Jn("error",r);break;case"img":case"image":case"link":Jn("error",r),Jn("load",r);break;case"details":Jn("toggle",r);break;case"input":UI(r,i),Jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Jn("invalid",r);break;case"textarea":VI(r,i),Jn("invalid",r)}D_(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&l1(r.textContent,o,t),a=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&l1(r.textContent,o,t),a=["children",""+o]):Xm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Jn("scroll",r)}switch(n){case"input":e1(r),jI(r,i,!0);break;case"textarea":e1(r),WI(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oy)}r=a,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=R9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[hl]=e,t[sg]=r,rF(t,e,!1,!1),e.stateNode=t;e:{switch(s=R_(n,r),n){case"dialog":Jn("cancel",t),Jn("close",t),a=r;break;case"iframe":case"object":case"embed":Jn("load",t),a=r;break;case"video":case"audio":for(a=0;a<mm.length;a++)Jn(mm[a],t);a=r;break;case"source":Jn("error",t),a=r;break;case"img":case"image":case"link":Jn("error",t),Jn("load",t),a=r;break;case"details":Jn("toggle",t),a=r;break;case"input":UI(t,r),a=E_(t,r),Jn("invalid",t);break;case"option":a=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},a=_r({},r,{value:void 0}),Jn("invalid",t);break;case"textarea":VI(t,r),a=I_(t,r),Jn("invalid",t);break;default:a=r}D_(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?L9(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$9(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qm(t,l):typeof l=="number"&&Qm(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xm.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Jn("scroll",t):l!=null&&y5(t,i,l,s))}switch(n){case"input":e1(t),jI(t,r,!1);break;case"textarea":e1(t),WI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hc(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?uf(t,!!r.multiple,i,!1):r.defaultValue!=null&&uf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=oy)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Va(e),null;case 6:if(t&&e.stateNode!=null)iF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ye(166));if(n=fd(lg.current),fd(gl.current),u1(e)){if(r=e.stateNode,n=e.memoizedProps,r[hl]=e,(i=r.nodeValue!==n)&&(t=ws,t!==null))switch(t.tag){case 3:l1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&l1(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hl]=e,e.stateNode=r}return Va(e),null;case 13:if(nr(br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dr&&ms!==null&&e.mode&1&&!(e.flags&128))_L(),If(),e.flags|=98560,i=!1;else if(i=u1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Ye(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ye(317));i[hl]=e}else If(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Va(e),i=!1}else No!==null&&(hk(No),No=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?oa===0&&(oa=3):J5())),e.updateQueue!==null&&(e.flags|=4),Va(e),null);case 4:return Df(),ak(t,e),t===null&&ag(e.stateNode.containerInfo),Va(e),null;case 10:return F5(e.type._context),Va(e),null;case 17:return Vi(e.type)&&ly(),Va(e),null;case 19:if(nr(br),i=e.memoizedState,i===null)return Va(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Xp(i,!1);else{if(oa!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=my(t),s!==null){for(e.flags|=128,Xp(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yn(br,br.current&1|2),e.child}t=t.sibling}i.tail!==null&&Lr()>$f&&(e.flags|=128,r=!0,Xp(i,!1),e.lanes=4194304)}else{if(!r)if(t=my(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!dr)return Va(e),null}else 2*Lr()-i.renderingStartTime>$f&&n!==1073741824&&(e.flags|=128,r=!0,Xp(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Lr(),e.sibling=null,n=br.current,Yn(br,r?n&1|2:n&1),e):(Va(e),null);case 22:case 23:return Z5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hs&1073741824&&(Va(e),e.subtreeFlags&6&&(e.flags|=8192)):Va(e),null;case 24:return null;case 25:return null}throw Error(Ye(156,e.tag))}function wQ(t,e){switch(R5(e),e.tag){case 1:return Vi(e.type)&&ly(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Df(),nr(ji),nr(ei),U5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return z5(e),null;case 13:if(nr(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ye(340));If()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nr(br),null;case 4:return Df(),null;case 10:return F5(e.type._context),null;case 22:case 23:return Z5(),null;case 24:return null;default:return null}}var h1=!1,qa=!1,xQ=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ef(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Er(t,e,r)}else n.current=null}function ik(t,e,n){try{n()}catch(r){Er(t,e,r)}}var $A=!1;function _Q(t,e){if(j_=ay,t=uL(),A5(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||a!==0&&d.nodeType!==3||(o=s+a),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===a&&(o=s),f===i&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(V_={focusedElem:t,selectionRange:n},ay=!1,dt=e;dt!==null;)if(e=dt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,dt=t;else for(;dt!==null;){e=dt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:_o(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ye(163))}}catch(x){Er(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,dt=t;break}dt=e.return}return m=$A,$A=!1,m}function Rm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&ik(e,n,i)}a=a.next}while(a!==r)}}function Kb(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sF(t){var e=t.alternate;e!==null&&(t.alternate=null,sF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hl],delete e[sg],delete e[H_],delete e[aQ],delete e[iQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oF(t){return t.tag===5||t.tag===3||t.tag===4}function OA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ok(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oy));else if(r!==4&&(t=t.child,t!==null))for(ok(t,e,n),t=t.sibling;t!==null;)ok(t,e,n),t=t.sibling}function lk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lk(t,e,n),t=t.sibling;t!==null;)lk(t,e,n),t=t.sibling}var Da=null,So=!1;function ku(t,e,n){for(n=n.child;n!==null;)lF(t,e,n),n=n.sibling}function lF(t,e,n){if(ml&&typeof ml.onCommitFiberUnmount=="function")try{ml.onCommitFiberUnmount(Ub,n)}catch{}switch(n.tag){case 5:qa||ef(n,e);case 6:var r=Da,a=So;Da=null,ku(t,e,n),Da=r,So=a,Da!==null&&(So?(t=Da,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Da.removeChild(n.stateNode));break;case 18:Da!==null&&(So?(t=Da,n=n.stateNode,t.nodeType===8?h3(t.parentNode,n):t.nodeType===1&&h3(t,n),tg(t)):h3(Da,n.stateNode));break;case 4:r=Da,a=So,Da=n.stateNode.containerInfo,So=!0,ku(t,e,n),Da=r,So=a;break;case 0:case 11:case 14:case 15:if(!qa&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ik(n,e,s),a=a.next}while(a!==r)}ku(t,e,n);break;case 1:if(!qa&&(ef(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Er(n,e,o)}ku(t,e,n);break;case 21:ku(t,e,n);break;case 22:n.mode&1?(qa=(r=qa)||n.memoizedState!==null,ku(t,e,n),qa=r):ku(t,e,n);break;default:ku(t,e,n)}}function LA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xQ),e.forEach(function(r){var a=DQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(a,a))})}}function yo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:Da=o.stateNode,So=!1;break e;case 3:Da=o.stateNode.containerInfo,So=!0;break e;case 4:Da=o.stateNode.containerInfo,So=!0;break e}o=o.return}if(Da===null)throw Error(Ye(160));lF(i,s,a),Da=null,So=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Er(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uF(e,t),e=e.sibling}function uF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yo(e,t),rl(t),r&4){try{Rm(3,t,t.return),Kb(3,t)}catch(g){Er(t,t.return,g)}try{Rm(5,t,t.return)}catch(g){Er(t,t.return,g)}}break;case 1:yo(e,t),rl(t),r&512&&n!==null&&ef(n,n.return);break;case 5:if(yo(e,t),rl(t),r&512&&n!==null&&ef(n,n.return),t.flags&32){var a=t.stateNode;try{Qm(a,"")}catch(g){Er(t,t.return,g)}}if(r&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&A9(a,i),R_(o,s);var u=R_(o,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?L9(a,d):c==="dangerouslySetInnerHTML"?$9(a,d):c==="children"?Qm(a,d):y5(a,c,d,u)}switch(o){case"input":T_(a,i);break;case"textarea":D9(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?uf(a,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?uf(a,!!i.multiple,i.defaultValue,!0):uf(a,!!i.multiple,i.multiple?[]:"",!1))}a[sg]=i}catch(g){Er(t,t.return,g)}}break;case 6:if(yo(e,t),rl(t),r&4){if(t.stateNode===null)throw Error(Ye(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(g){Er(t,t.return,g)}}break;case 3:if(yo(e,t),rl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tg(e.containerInfo)}catch(g){Er(t,t.return,g)}break;case 4:yo(e,t),rl(t);break;case 13:yo(e,t),rl(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(X5=Lr())),r&4&&LA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(qa=(u=qa)||c,yo(e,t),qa=u):yo(e,t),rl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(dt=t,c=t.child;c!==null;){for(d=dt=c;dt!==null;){switch(f=dt,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rm(4,f,f.return);break;case 1:ef(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Er(r,n,g)}}break;case 5:ef(f,f.return);break;case 22:if(f.memoizedState!==null){PA(d);continue}}p!==null?(p.return=f,dt=p):PA(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{a=d.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=O9("display",s))}catch(g){Er(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Er(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yo(e,t),rl(t),r&4&&LA(t);break;case 21:break;default:yo(e,t),rl(t)}}function rl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oF(n)){var r=n;break e}n=n.return}throw Error(Ye(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qm(a,""),r.flags&=-33);var i=OA(t);lk(t,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,o=OA(t);ok(t,o,s);break;default:throw Error(Ye(161))}}catch(l){Er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kQ(t,e,n){dt=t,cF(t)}function cF(t,e,n){for(var r=(t.mode&1)!==0;dt!==null;){var a=dt,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||h1;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||qa;o=h1;var u=qa;if(h1=s,(qa=l)&&!u)for(dt=a;dt!==null;)s=dt,l=s.child,s.tag===22&&s.memoizedState!==null?MA(a):l!==null?(l.return=s,dt=l):MA(a);for(;i!==null;)dt=i,cF(i),i=i.sibling;dt=a,h1=o,qa=u}FA(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,dt=i):FA(t)}}function FA(t){for(;dt!==null;){var e=dt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qa||Kb(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qa)if(n===null)r.componentDidMount();else{var a=e.elementType===e.type?n.memoizedProps:_o(e.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vA(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vA(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&tg(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ye(163))}qa||e.flags&512&&sk(e)}catch(f){Er(e,e.return,f)}}if(e===t){dt=null;break}if(n=e.sibling,n!==null){n.return=e.return,dt=n;break}dt=e.return}}function PA(t){for(;dt!==null;){var e=dt;if(e===t){dt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,dt=n;break}dt=e.return}}function MA(t){for(;dt!==null;){var e=dt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kb(4,e)}catch(l){Er(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var a=e.return;try{r.componentDidMount()}catch(l){Er(e,a,l)}}var i=e.return;try{sk(e)}catch(l){Er(e,i,l)}break;case 5:var s=e.return;try{sk(e)}catch(l){Er(e,s,l)}}}catch(l){Er(e,e.return,l)}if(e===t){dt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,dt=o;break}dt=e.return}}var SQ=Math.ceil,by=mu.ReactCurrentDispatcher,Y5=mu.ReactCurrentOwner,no=mu.ReactCurrentBatchConfig,mn=0,xa=null,Vr=null,Fa=0,hs=0,tf=Oc(0),oa=0,hg=null,zd=0,Xb=0,K5=0,$m=null,Mi=null,X5=0,$f=1/0,Ml=null,vy=!1,uk=null,Ju=null,f1=!1,Mu=null,wy=0,Om=0,ck=null,S2=-1,N2=0;function wi(){return mn&6?Lr():S2!==-1?S2:S2=Lr()}function ec(t){return t.mode&1?mn&2&&Fa!==0?Fa&-Fa:oQ.transition!==null?(N2===0&&(N2=q9()),N2):(t=In,t!==0||(t=window.event,t=t===void 0?16:eL(t.type)),t):1}function Oo(t,e,n,r){if(50<Om)throw Om=0,ck=null,Error(Ye(185));r0(t,n,r),(!(mn&2)||t!==xa)&&(t===xa&&(!(mn&2)&&(Xb|=n),oa===4&&Lu(t,Fa)),Wi(t,r),n===1&&mn===0&&!(e.mode&1)&&($f=Lr()+500,Hb&&Lc()))}function Wi(t,e){var n=t.callbackNode;oX(t,e);var r=ry(t,t===xa?Fa:0);if(r===0)n!==null&&qI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qI(n),e===1)t.tag===0?sQ(BA.bind(null,t)):vL(BA.bind(null,t)),nQ(function(){!(mn&6)&&Lc()}),n=null;else{switch(Y9(r)){case 1:n=_5;break;case 4:n=G9;break;case 16:n=ny;break;case 536870912:n=H9;break;default:n=ny}n=bF(n,dF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function dF(t,e){if(S2=-1,N2=0,mn&6)throw Error(Ye(327));var n=t.callbackNode;if(pf()&&t.callbackNode!==n)return null;var r=ry(t,t===xa?Fa:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xy(t,r);else{e=r;var a=mn;mn|=2;var i=fF();(xa!==t||Fa!==e)&&(Ml=null,$f=Lr()+500,kd(t,e));do try{TQ();break}catch(o){hF(t,o)}while(1);L5(),by.current=i,mn=a,Vr!==null?e=0:(xa=null,Fa=0,e=oa)}if(e!==0){if(e===2&&(a=P_(t),a!==0&&(r=a,e=dk(t,a))),e===1)throw n=hg,kd(t,0),Lu(t,r),Wi(t,Lr()),n;if(e===6)Lu(t,r);else{if(a=t.current.alternate,!(r&30)&&!NQ(a)&&(e=xy(t,r),e===2&&(i=P_(t),i!==0&&(r=i,e=dk(t,i))),e===1))throw n=hg,kd(t,0),Lu(t,r),Wi(t,Lr()),n;switch(t.finishedWork=a,t.finishedLanes=r,e){case 0:case 1:throw Error(Ye(345));case 2:rd(t,Mi,Ml);break;case 3:if(Lu(t,r),(r&130023424)===r&&(e=X5+500-Lr(),10<e)){if(ry(t,0)!==0)break;if(a=t.suspendedLanes,(a&r)!==r){wi(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=G_(rd.bind(null,t,Mi,Ml),e);break}rd(t,Mi,Ml);break;case 4:if(Lu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,a=-1;0<r;){var s=31-$o(r);i=1<<s,s=e[s],s>a&&(a=s),r&=~i}if(r=a,r=Lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SQ(r/1960))-r,10<r){t.timeoutHandle=G_(rd.bind(null,t,Mi,Ml),r);break}rd(t,Mi,Ml);break;case 5:rd(t,Mi,Ml);break;default:throw Error(Ye(329))}}}return Wi(t,Lr()),t.callbackNode===n?dF.bind(null,t):null}function dk(t,e){var n=$m;return t.current.memoizedState.isDehydrated&&(kd(t,e).flags|=256),t=xy(t,e),t!==2&&(e=Mi,Mi=n,e!==null&&hk(e)),t}function hk(t){Mi===null?Mi=t:Mi.push.apply(Mi,t)}function NQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Bo(i(),a))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lu(t,e){for(e&=~K5,e&=~Xb,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$o(e),r=1<<n;t[n]=-1,e&=~r}}function BA(t){if(mn&6)throw Error(Ye(327));pf();var e=ry(t,0);if(!(e&1))return Wi(t,Lr()),null;var n=xy(t,e);if(t.tag!==0&&n===2){var r=P_(t);r!==0&&(e=r,n=dk(t,r))}if(n===1)throw n=hg,kd(t,0),Lu(t,e),Wi(t,Lr()),n;if(n===6)throw Error(Ye(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rd(t,Mi,Ml),Wi(t,Lr()),null}function Q5(t,e){var n=mn;mn|=1;try{return t(e)}finally{mn=n,mn===0&&($f=Lr()+500,Hb&&Lc())}}function Ud(t){Mu!==null&&Mu.tag===0&&!(mn&6)&&pf();var e=mn;mn|=1;var n=no.transition,r=In;try{if(no.transition=null,In=1,t)return t()}finally{In=r,no.transition=n,mn=e,!(mn&6)&&Lc()}}function Z5(){hs=tf.current,nr(tf)}function kd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tQ(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(R5(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ly();break;case 3:Df(),nr(ji),nr(ei),U5();break;case 5:z5(r);break;case 4:Df();break;case 13:nr(br);break;case 19:nr(br);break;case 10:F5(r.type._context);break;case 22:case 23:Z5()}n=n.return}if(xa=t,Vr=t=tc(t.current,null),Fa=hs=e,oa=0,hg=null,K5=Xb=zd=0,Mi=$m=null,hd!==null){for(e=0;e<hd.length;e++)if(n=hd[e],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}hd=null}return t}function hF(t,e){do{var n=Vr;try{if(L5(),x2.current=yy,gy){for(var r=xr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}gy=!1}if(Bd=0,ha=ra=xr=null,Dm=!1,ug=0,Y5.current=null,n===null||n.return===null){oa=1,hg=e,Vr=null;break}e:{var i=t,s=n.return,o=n,l=e;if(e=Fa,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=EA(s);if(p!==null){p.flags&=-257,TA(p,s,o,i,e),p.mode&1&&NA(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){NA(i,u,e),J5();break e}l=Error(Ye(426))}}else if(dr&&o.mode&1){var v=EA(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TA(v,s,o,i,e),$5(Rf(l,o));break e}}i=l=Rf(l,o),oa!==4&&(oa=2),$m===null?$m=[i]:$m.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=KL(i,l,e);bA(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ju===null||!Ju.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=XL(i,o,e);bA(i,x);break e}}i=i.return}while(i!==null)}mF(n)}catch(k){e=k,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(1)}function fF(){var t=by.current;return by.current=yy,t===null?yy:t}function J5(){(oa===0||oa===3||oa===2)&&(oa=4),xa===null||!(zd&268435455)&&!(Xb&268435455)||Lu(xa,Fa)}function xy(t,e){var n=mn;mn|=2;var r=fF();(xa!==t||Fa!==e)&&(Ml=null,kd(t,e));do try{EQ();break}catch(a){hF(t,a)}while(1);if(L5(),mn=n,by.current=r,Vr!==null)throw Error(Ye(261));return xa=null,Fa=0,oa}function EQ(){for(;Vr!==null;)pF(Vr)}function TQ(){for(;Vr!==null&&!ZK();)pF(Vr)}function pF(t){var e=yF(t.alternate,t,hs);t.memoizedProps=t.pendingProps,e===null?mF(t):Vr=e,Y5.current=null}function mF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=wQ(n,e),n!==null){n.flags&=32767,Vr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{oa=6,Vr=null;return}}else if(n=vQ(n,e,hs),n!==null){Vr=n;return}if(e=e.sibling,e!==null){Vr=e;return}Vr=e=t}while(e!==null);oa===0&&(oa=5)}function rd(t,e,n){var r=In,a=no.transition;try{no.transition=null,In=1,CQ(t,e,n,r)}finally{no.transition=a,In=r}return null}function CQ(t,e,n,r){do pf();while(Mu!==null);if(mn&6)throw Error(Ye(327));n=t.finishedWork;var a=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ye(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(lX(t,i),t===xa&&(Vr=xa=null,Fa=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||f1||(f1=!0,bF(ny,function(){return pf(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=no.transition,no.transition=null;var s=In;In=1;var o=mn;mn|=4,Y5.current=null,_Q(t,n),uF(n,t),YX(V_),ay=!!j_,V_=j_=null,t.current=n,kQ(n),JK(),mn=o,In=s,no.transition=i}else t.current=n;if(f1&&(f1=!1,Mu=t,wy=a),i=t.pendingLanes,i===0&&(Ju=null),nX(n.stateNode),Wi(t,Lr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)a=e[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(vy)throw vy=!1,t=uk,uk=null,t;return wy&1&&t.tag!==0&&pf(),i=t.pendingLanes,i&1?t===ck?Om++:(Om=0,ck=t):Om=0,Lc(),null}function pf(){if(Mu!==null){var t=Y9(wy),e=no.transition,n=In;try{if(no.transition=null,In=16>t?16:t,Mu===null)var r=!1;else{if(t=Mu,Mu=null,wy=0,mn&6)throw Error(Ye(331));var a=mn;for(mn|=4,dt=t.current;dt!==null;){var i=dt,s=i.child;if(dt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(dt=u;dt!==null;){var c=dt;switch(c.tag){case 0:case 11:case 15:Rm(8,c,i)}var d=c.child;if(d!==null)d.return=c,dt=d;else for(;dt!==null;){c=dt;var f=c.sibling,p=c.return;if(sF(c),c===u){dt=null;break}if(f!==null){f.return=p,dt=f;break}dt=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}dt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,dt=s;else e:for(;dt!==null;){if(i=dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rm(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,dt=y;break e}dt=i.return}}var b=t.current;for(dt=b;dt!==null;){s=dt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,dt=w;else e:for(s=b;dt!==null;){if(o=dt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kb(9,o)}}catch(k){Er(o,o.return,k)}if(o===s){dt=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,dt=x;break e}dt=o.return}}if(mn=a,Lc(),ml&&typeof ml.onPostCommitFiberRoot=="function")try{ml.onPostCommitFiberRoot(Ub,t)}catch{}r=!0}return r}finally{In=n,no.transition=e}}return!1}function zA(t,e,n){e=Rf(n,e),e=KL(t,e,1),t=Zu(t,e,1),e=wi(),t!==null&&(r0(t,1,e),Wi(t,e))}function Er(t,e,n){if(t.tag===3)zA(t,t,n);else for(;e!==null;){if(e.tag===3){zA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ju===null||!Ju.has(r))){t=Rf(n,t),t=XL(e,t,1),e=Zu(e,t,1),t=wi(),e!==null&&(r0(e,1,t),Wi(e,t));break}}e=e.return}}function IQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wi(),t.pingedLanes|=t.suspendedLanes&n,xa===t&&(Fa&n)===n&&(oa===4||oa===3&&(Fa&130023424)===Fa&&500>Lr()-X5?kd(t,0):K5|=n),Wi(t,e)}function gF(t,e){e===0&&(t.mode&1?(e=r1,r1<<=1,!(r1&130023424)&&(r1=4194304)):e=1);var n=wi();t=iu(t,e),t!==null&&(r0(t,e,n),Wi(t,n))}function AQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),gF(t,n)}function DQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ye(314))}r!==null&&r.delete(e),gF(t,n)}var yF;yF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ji.current)Bi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bi=!1,bQ(t,e,n);Bi=!!(t.flags&131072)}else Bi=!1,dr&&e.flags&1048576&&wL(e,dy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;k2(t,e),t=e.pendingProps;var a=Cf(e,ei.current);ff(e,n),a=V5(null,e,r,t,a,n);var i=W5();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vi(r)?(i=!0,uy(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,M5(e),a.updater=qb,e.stateNode=a,a._reactInternals=e,Z_(e,r,t,n),e=tk(null,e,r,!0,i,n)):(e.tag=0,dr&&i&&D5(e),fi(null,e,a,n),e=e.child),e;case 16:r=e.elementType;e:{switch(k2(t,e),t=e.pendingProps,a=r._init,r=a(r._payload),e.type=r,a=e.tag=$Q(r),t=_o(r,t),a){case 0:e=ek(null,e,r,t,n);break e;case 1:e=AA(null,e,r,t,n);break e;case 11:e=CA(null,e,r,t,n);break e;case 14:e=IA(null,e,r,_o(r.type,t),n);break e}throw Error(Ye(306,r,""))}return e;case 0:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:_o(r,a),ek(t,e,r,a,n);case 1:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:_o(r,a),AA(t,e,r,a,n);case 3:e:{if(eF(e),t===null)throw Error(Ye(387));r=e.pendingProps,i=e.memoizedState,a=i.element,SL(t,e),py(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Rf(Error(Ye(423)),e),e=DA(t,e,r,n,a);break e}else if(r!==a){a=Rf(Error(Ye(424)),e),e=DA(t,e,r,n,a);break e}else for(ms=Qu(e.stateNode.containerInfo.firstChild),ws=e,dr=!0,No=null,n=CL(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(If(),r===a){e=su(t,e,n);break e}fi(t,e,r,n)}e=e.child}return e;case 5:return IL(e),t===null&&K_(e),r=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,s=a.children,W_(r,a)?s=null:i!==null&&W_(r,i)&&(e.flags|=32),JL(t,e),fi(t,e,s,n),e.child;case 6:return t===null&&K_(e),null;case 13:return tF(t,e,n);case 4:return B5(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Af(e,null,r,n):fi(t,e,r,n),e.child;case 11:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:_o(r,a),CA(t,e,r,a,n);case 7:return fi(t,e,e.pendingProps,n),e.child;case 8:return fi(t,e,e.pendingProps.children,n),e.child;case 12:return fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,a=e.pendingProps,i=e.memoizedProps,s=a.value,Yn(hy,r._currentValue),r._currentValue=s,i!==null)if(Bo(i.value,s)){if(i.children===a.children&&!ji.current){e=su(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Jl(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),X_(i.return,n,e),o.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ye(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),X_(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}fi(t,e,a.children,n),e=e.child}return e;case 9:return a=e.type,r=e.pendingProps.children,ff(e,n),a=ro(a),r=r(a),e.flags|=1,fi(t,e,r,n),e.child;case 14:return r=e.type,a=_o(r,e.pendingProps),a=_o(r.type,a),IA(t,e,r,a,n);case 15:return QL(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,a=e.pendingProps,a=e.elementType===r?a:_o(r,a),k2(t,e),e.tag=1,Vi(r)?(t=!0,uy(e)):t=!1,ff(e,n),EL(e,r,a),Z_(e,r,a,n),tk(null,e,r,!0,t,n);case 19:return nF(t,e,n);case 22:return ZL(t,e,n)}throw Error(Ye(156,e.tag))};function bF(t,e){return W9(t,e)}function RQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xs(t,e,n,r){return new RQ(t,e,n,r)}function eN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $Q(t){if(typeof t=="function")return eN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v5)return 11;if(t===w5)return 14}return 2}function tc(t,e){var n=t.alternate;return n===null?(n=Xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function E2(t,e,n,r,a,i){var s=2;if(r=t,typeof t=="function")eN(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gh:return Sd(n.children,a,i,e);case b5:s=8,a|=8;break;case __:return t=Xs(12,n,e,a|2),t.elementType=__,t.lanes=i,t;case k_:return t=Xs(13,n,e,a),t.elementType=k_,t.lanes=i,t;case S_:return t=Xs(19,n,e,a),t.elementType=S_,t.lanes=i,t;case T9:return Qb(n,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N9:s=10;break e;case E9:s=9;break e;case v5:s=11;break e;case w5:s=14;break e;case Iu:s=16,r=null;break e}throw Error(Ye(130,t==null?t:typeof t,""))}return e=Xs(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function Sd(t,e,n,r){return t=Xs(7,t,r,e),t.lanes=n,t}function Qb(t,e,n,r){return t=Xs(22,t,r,e),t.elementType=T9,t.lanes=n,t.stateNode={isHidden:!1},t}function w3(t,e,n){return t=Xs(6,t,null,e),t.lanes=n,t}function x3(t,e,n){return e=Xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OQ(t,e,n,r,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t3(0),this.expirationTimes=t3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t3(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function tN(t,e,n,r,a,i,s,o,l){return t=new OQ(t,e,n,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Xs(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},M5(i),t}function LQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vF(t){if(!t)return fc;t=t._reactInternals;e:{if(fh(t)!==t||t.tag!==1)throw Error(Ye(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ye(171))}if(t.tag===1){var n=t.type;if(Vi(n))return bL(t,n,e)}return e}function wF(t,e,n,r,a,i,s,o,l){return t=tN(n,r,!0,t,a,i,s,o,l),t.context=vF(null),n=t.current,r=wi(),a=ec(n),i=Jl(r,a),i.callback=e??null,Zu(n,i,a),t.current.lanes=a,r0(t,a,r),Wi(t,r),t}function Zb(t,e,n,r){var a=e.current,i=wi(),s=ec(a);return n=vF(n),e.context===null?e.context=n:e.pendingContext=n,e=Jl(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zu(a,e,s),t!==null&&(Oo(t,a,s,i),w2(t,a,s)),s}function _y(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function nN(t,e){UA(t,e),(t=t.alternate)&&UA(t,e)}function FQ(){return null}var xF=typeof reportError=="function"?reportError:function(t){console.error(t)};function rN(t){this._internalRoot=t}Jb.prototype.render=rN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ye(409));Zb(t,e,null,null)};Jb.prototype.unmount=rN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ud(function(){Zb(null,t,null,null)}),e[au]=null}};function Jb(t){this._internalRoot=t}Jb.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ou.length&&e!==0&&e<Ou[n].priority;n++);Ou.splice(n,0,t),n===0&&J9(t)}};function aN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ev(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jA(){}function PQ(t,e,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=_y(s);i.call(u)}}var s=wF(e,r,t,0,null,!1,!1,"",jA);return t._reactRootContainer=s,t[au]=s.current,ag(t.nodeType===8?t.parentNode:t),Ud(),s}for(;a=t.lastChild;)t.removeChild(a);if(typeof r=="function"){var o=r;r=function(){var u=_y(l);o.call(u)}}var l=tN(t,0,!1,null,null,!1,!1,"",jA);return t._reactRootContainer=l,t[au]=l.current,ag(t.nodeType===8?t.parentNode:t),Ud(function(){Zb(e,l,n,r)}),l}function tv(t,e,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=_y(s);o.call(l)}}Zb(e,s,t,a)}else s=PQ(n,e,t,a,r);return _y(s)}K9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pm(e.pendingLanes);n!==0&&(k5(e,n|1),Wi(e,Lr()),!(mn&6)&&($f=Lr()+500,Lc()))}break;case 13:Ud(function(){var r=iu(t,1);if(r!==null){var a=wi();Oo(r,t,1,a)}}),nN(t,1)}};S5=function(t){if(t.tag===13){var e=iu(t,134217728);if(e!==null){var n=wi();Oo(e,t,134217728,n)}nN(t,134217728)}};X9=function(t){if(t.tag===13){var e=ec(t),n=iu(t,e);if(n!==null){var r=wi();Oo(n,t,e,r)}nN(t,e)}};Q9=function(){return In};Z9=function(t,e){var n=In;try{return In=t,e()}finally{In=n}};O_=function(t,e,n){switch(e){case"input":if(T_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=Gb(r);if(!a)throw Error(Ye(90));I9(r),T_(r,a)}}}break;case"textarea":D9(t,n);break;case"select":e=n.value,e!=null&&uf(t,!!n.multiple,e,!1)}};M9=Q5;B9=Ud;var MQ={usingClientEntryPoint:!1,Events:[i0,Kh,Gb,F9,P9,Q5]},Qp={findFiberByHostInstance:dd,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},BQ={bundleType:Qp.bundleType,version:Qp.version,rendererPackageName:Qp.rendererPackageName,rendererConfig:Qp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:mu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j9(t),t===null?null:t.stateNode},findFiberByHostInstance:Qp.findFiberByHostInstance||FQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{Ub=p1.inject(BQ),ml=p1}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MQ;ks.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aN(e))throw Error(Ye(200));return LQ(t,e,null,n)};ks.createRoot=function(t,e){if(!aN(t))throw Error(Ye(299));var n=!1,r="",a=xF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=tN(t,1,!1,null,null,n,!1,r,a),t[au]=e.current,ag(t.nodeType===8?t.parentNode:t),new rN(e)};ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ye(188)):(t=Object.keys(t).join(","),Error(Ye(268,t)));return t=j9(e),t=t===null?null:t.stateNode,t};ks.flushSync=function(t){return Ud(t)};ks.hydrate=function(t,e,n){if(!ev(e))throw Error(Ye(200));return tv(null,t,e,!0,n)};ks.hydrateRoot=function(t,e,n){if(!aN(t))throw Error(Ye(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=xF;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wF(e,null,t,1,n??null,a,!1,i,s),t[au]=e.current,ag(t),r)for(t=0;t<r.length;t++)n=r[t],a=n._getVersion,a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a);return new Jb(e)};ks.render=function(t,e,n){if(!ev(e))throw Error(Ye(200));return tv(null,t,e,!1,n)};ks.unmountComponentAtNode=function(t){if(!ev(t))throw Error(Ye(40));return t._reactRootContainer?(Ud(function(){tv(null,null,t,!1,function(){t._reactRootContainer=null,t[au]=null})}),!0):!1};ks.unstable_batchedUpdates=Q5;ks.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ev(n))throw Error(Ye(200));if(t==null||t._reactInternals===void 0)throw Error(Ye(38));return tv(t,e,n,!1,r)};ks.version="18.2.0-next-9e3b772b8-20220608";function _F(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_F)}catch(t){console.error(t)}}_F(),w9.exports=ks;var nv=w9.exports,VA=nv;w_.createRoot=VA.createRoot,w_.hydrateRoot=VA.hydrateRoot;/**
 * @remix-run/router v1.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}var Bu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bu||(Bu={}));const WA="popstate";function zQ(t){t===void 0&&(t={});function e(r,a){let{pathname:i,search:s,hash:o}=r.location;return fk("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ky(a)}return jQ(e,n,null,t)}function ua(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UQ(){return Math.random().toString(36).substr(2,8)}function GA(t,e){return{usr:t.state,key:t.key,idx:e}}function fk(t,e,n,r){return n===void 0&&(n=null),fg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yp(e):e,{state:n,key:e&&e.key||r||UQ()})}function ky(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jQ(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o=Bu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(fg({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=Bu.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:y})}function f(v,y){o=Bu.Push;let b=fk(g.location,v,y);n&&n(b,v),u=c()+1;let w=GA(b,u),x=g.createHref(b);try{s.pushState(w,"",x)}catch{a.location.assign(x)}i&&l&&l({action:o,location:g.location,delta:1})}function p(v,y){o=Bu.Replace;let b=fk(g.location,v,y);n&&n(b,v),u=c();let w=GA(b,u),x=g.createHref(b);s.replaceState(w,"",x),i&&l&&l({action:o,location:g.location,delta:0})}function m(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:ky(v);return ua(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return o},get location(){return t(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(WA,d),l=v,()=>{a.removeEventListener(WA,d),l=null}},createHref(v){return e(a,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(v){return s.go(v)}};return g}var HA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HA||(HA={}));function VQ(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?yp(e):e,a=sN(r.pathname||"/",n);if(a==null)return null;let i=kF(t);WQ(i);let s=null;for(let o=0;s==null&&o<i.length;++o)s=JQ(i[o],nZ(a));return s}function kF(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(ua(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=nc([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(ua(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kF(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:QQ(u,i.index),routesMeta:c})};return t.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of SF(i.path))a(i,s,l)}),e}function SF(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=SF(r.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function WQ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZQ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GQ=/^:\w+$/,HQ=3,qQ=2,YQ=1,KQ=10,XQ=-2,qA=t=>t==="*";function QQ(t,e){let n=t.split("/"),r=n.length;return n.some(qA)&&(r+=XQ),e&&(r+=qQ),n.filter(a=>!qA(a)).reduce((a,i)=>a+(GQ.test(i)?HQ:i===""?YQ:KQ),r)}function ZQ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function JQ(t,e){let{routesMeta:n}=t,r={},a="/",i=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,u=a==="/"?e:e.slice(a.length)||"/",c=eZ({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=o.route;i.push({params:r,pathname:nc([a,c.pathname]),pathnameBase:sZ(nc([a,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(a=nc([a,c.pathnameBase]))}return i}function eZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tZ(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=o[d]||"";s=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=rZ(o[d]||"",c),u},{}),pathname:i,pathnameBase:s,pattern:t}}function tZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),iN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function nZ(t){try{return decodeURI(t)}catch(e){return iN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rZ(t,e){try{return decodeURIComponent(t)}catch(n){return iN(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function sN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?yp(t):t;return{pathname:n?n.startsWith("/")?n:iZ(n,e):e,search:oZ(r),hash:lZ(a)}}function iZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _3(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function EF(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=yp(t):(a=fg({},t),ua(!a.pathname||!a.pathname.includes("?"),_3("?","pathname","search",a)),ua(!a.pathname||!a.pathname.includes("#"),_3("#","pathname","hash",a)),ua(!a.search||!a.search.includes("#"),_3("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(r||s==null)o=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;a.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=aZ(a,o),u=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const nc=t=>t.join("/").replace(/\/\/+/g,"/"),sZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TF=["post","put","patch","delete"];new Set(TF);const cZ=["get",...TF];new Set(cZ);/**
 * React Router v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const hZ=typeof Object.is=="function"?Object.is:dZ,{useState:fZ,useEffect:pZ,useLayoutEffect:mZ,useDebugValue:gZ}=Z2;function yZ(t,e,n){const r=e(),[{inst:a},i]=fZ({inst:{value:r,getSnapshot:e}});return mZ(()=>{a.value=r,a.getSnapshot=e,k3(a)&&i({inst:a})},[t,r,e]),pZ(()=>(k3(a)&&i({inst:a}),t(()=>{k3(a)&&i({inst:a})})),[t]),gZ(r),r}function k3(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!hZ(n,r)}catch{return!0}}function bZ(t,e,n){return e()}const vZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wZ=!vZ,xZ=wZ?bZ:yZ;"useSyncExternalStore"in Z2&&(t=>t.useSyncExternalStore)(Z2);const CF=D.createContext(null),IF=D.createContext(null),o0=D.createContext(null),rv=D.createContext(null),Fc=D.createContext({outlet:null,matches:[]}),AF=D.createContext(null);function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pk.apply(this,arguments)}function _Z(t,e){let{relative:n}=e===void 0?{}:e;l0()||ua(!1);let{basename:r,navigator:a}=D.useContext(o0),{hash:i,pathname:s,search:o}=$F(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:nc([r,s])),a.createHref({pathname:l,search:o,hash:i})}function l0(){return D.useContext(rv)!=null}function Xr(){return l0()||ua(!1),D.useContext(rv).location}function ai(){l0()||ua(!1);let{basename:t,navigator:e}=D.useContext(o0),{matches:n}=D.useContext(Fc),{pathname:r}=Xr(),a=JSON.stringify(NF(n).map(o=>o.pathnameBase)),i=D.useRef(!1);return D.useEffect(()=>{i.current=!0}),D.useCallback(function(o,l){if(l===void 0&&(l={}),!i.current)return;if(typeof o=="number"){e.go(o);return}let u=EF(o,JSON.parse(a),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:nc([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,a,r])}const DF=D.createContext(null);function RF(){return D.useContext(DF)}function kZ(t){let e=D.useContext(Fc).outlet;return e&&D.createElement(DF.Provider,{value:t},e)}function Ko(){let{matches:t}=D.useContext(Fc),e=t[t.length-1];return e?e.params:{}}function $F(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=D.useContext(Fc),{pathname:a}=Xr(),i=JSON.stringify(NF(r).map(s=>s.pathnameBase));return D.useMemo(()=>EF(t,JSON.parse(i),a,n==="path"),[t,i,a,n])}function SZ(t,e){l0()||ua(!1);let{navigator:n}=D.useContext(o0),r=D.useContext(IF),{matches:a}=D.useContext(Fc),i=a[a.length-1],s=i?i.params:{};i&&i.pathname;let o=i?i.pathnameBase:"/";i&&i.route;let l=Xr(),u;if(e){var c;let g=typeof e=="string"?yp(e):e;o==="/"||(c=g.pathname)!=null&&c.startsWith(o)||ua(!1),u=g}else u=l;let d=u.pathname||"/",f=o==="/"?d:d.slice(o.length)||"/",p=VQ(t,{pathname:f}),m=CZ(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:nc([o,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?o:nc([o,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),a,r||void 0);return e&&m?D.createElement(rv.Provider,{value:{location:pk({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Bu.Pop}},m):m}function NZ(){let t=RZ(),e=uZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,i)}class EZ extends D.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?D.createElement(Fc.Provider,{value:this.props.routeContext},D.createElement(AF.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TZ(t){let{routeContext:e,match:n,children:r}=t,a=D.useContext(CF);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Fc.Provider,{value:e},r)}function CZ(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,a=n==null?void 0:n.errors;if(a!=null){let i=r.findIndex(s=>s.route.id&&(a==null?void 0:a[s.route.id]));i>=0||ua(!1),r=r.slice(0,Math.min(r.length,i+1))}return r.reduceRight((i,s,o)=>{let l=s.route.id?a==null?void 0:a[s.route.id]:null,u=null;n&&(s.route.ErrorBoundary?u=D.createElement(s.route.ErrorBoundary,null):s.route.errorElement?u=s.route.errorElement:u=D.createElement(NZ,null));let c=e.concat(r.slice(0,o+1)),d=()=>{let f=i;return l?f=u:s.route.Component?f=D.createElement(s.route.Component,null):s.route.element&&(f=s.route.element),D.createElement(TZ,{match:s,routeContext:{outlet:i,matches:c},children:f})};return n&&(s.route.ErrorBoundary||s.route.errorElement||o===0)?D.createElement(EZ,{location:n.location,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c}}):d()},null)}var YA;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(YA||(YA={}));var Sy;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Sy||(Sy={}));function IZ(t){let e=D.useContext(IF);return e||ua(!1),e}function AZ(t){let e=D.useContext(Fc);return e||ua(!1),e}function DZ(t){let e=AZ(),n=e.matches[e.matches.length-1];return n.route.id||ua(!1),n.route.id}function RZ(){var t;let e=D.useContext(AF),n=IZ(Sy.UseRouteError),r=DZ(Sy.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function av(t){return kZ(t.context)}function kn(t){ua(!1)}function $Z(t){let{basename:e="/",children:n=null,location:r,navigationType:a=Bu.Pop,navigator:i,static:s=!1}=t;l0()&&ua(!1);let o=e.replace(/^\/*/,"/"),l=D.useMemo(()=>({basename:o,navigator:i,static:s}),[o,i,s]);typeof r=="string"&&(r=yp(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,m=D.useMemo(()=>{let g=sN(u,o);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:p},navigationType:a}},[o,u,c,d,f,p,a]);return m==null?null:D.createElement(o0.Provider,{value:l},D.createElement(rv.Provider,{children:n,value:m}))}function OZ(t){let{children:e,location:n}=t,r=D.useContext(CF),a=r&&!e?r.router.routes:mk(e);return SZ(a,n)}var KA;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(KA||(KA={}));new Promise(()=>{});function mk(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,a)=>{if(!D.isValidElement(r))return;if(r.type===D.Fragment){n.push.apply(n,mk(r.props.children,e));return}r.type!==kn&&ua(!1),!r.props.index||!r.props.children||ua(!1);let i=[...e,a],s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=mk(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gk(){return gk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gk.apply(this,arguments)}function LZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function FZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PZ(t,e){return t.button===0&&(!e||e==="_self")&&!FZ(t)}function yk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function MZ(t,e){let n=yk(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(a=>{n.append(r,a)});return n}const BZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function zZ(t){let{basename:e,children:n,window:r}=t,a=D.useRef();a.current==null&&(a.current=zQ({window:r,v5Compat:!0}));let i=a.current,[s,o]=D.useState({action:i.action,location:i.location});return D.useLayoutEffect(()=>i.listen(o),[i]),D.createElement($Z,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:i})}const UZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nt=D.forwardRef(function(e,n){let{onClick:r,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:c}=e,d=LZ(e,BZ),{basename:f}=D.useContext(o0),p,m=!1;if(typeof u=="string"&&jZ.test(u)&&(p=u,UZ)){let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),x=sN(w.pathname,f);w.origin===b.origin&&x!=null?u=x+w.search+w.hash:m=!0}let g=_Z(u,{relative:a}),v=VZ(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:a});function y(b){r&&r(b),b.defaultPrevented||v(b)}return D.createElement("a",gk({},d,{href:p||g,onClick:m||i?r:y,ref:n,target:l}))});var XA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(XA||(XA={}));var QA;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QA||(QA={}));function VZ(t,e){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s}=e===void 0?{}:e,o=ai(),l=Xr(),u=$F(t,{relative:s});return D.useCallback(c=>{if(PZ(c,n)){c.preventDefault();let d=r!==void 0?r:ky(l)===ky(u);o(t,{replace:d,state:a,preventScrollReset:i,relative:s})}},[l,o,u,r,a,n,t,i,s])}function OF(t){let e=D.useRef(yk(t)),n=D.useRef(!1),r=Xr(),a=D.useMemo(()=>MZ(r.search,n.current?null:e.current),[r.search]),i=ai(),s=D.useCallback((o,l)=>{const u=yk(typeof o=="function"?o(a):o);n.current=!0,i("?"+u,l)},[i,a]);return[a,s]}const LF=Object.prototype.toString;function FF(t){switch(LF.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ou(t,Error)}}function bp(t,e){return LF.call(t)===`[object ${e}]`}function oN(t){return bp(t,"ErrorEvent")}function ZA(t){return bp(t,"DOMError")}function WZ(t){return bp(t,"DOMException")}function pc(t){return bp(t,"String")}function PF(t){return t===null||typeof t!="object"&&typeof t!="function"}function Of(t){return bp(t,"Object")}function iv(t){return typeof Event<"u"&&ou(t,Event)}function GZ(t){return typeof Element<"u"&&ou(t,Element)}function HZ(t){return bp(t,"RegExp")}function lN(t){return!!(t&&t.then&&typeof t.then=="function")}function qZ(t){return Of(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function MF(t){return typeof t=="number"&&t!==t}function ou(t,e){try{return t instanceof e}catch{return!1}}function mf(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function JA(t,e){if(!Array.isArray(t))return"";const n=[];for(let r=0;r<t.length;r++){const a=t[r];try{n.push(String(a))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function YZ(t,e,n=!1){return pc(t)?HZ(e)?e.test(t):pc(e)?n?t===e:t.includes(e):!1:!1}function vp(t,e=[],n=!1){return e.some(r=>YZ(t,r,n))}function KZ(t,e,n=250,r,a,i,s){if(!i.exception||!i.exception.values||!s||!ou(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=XZ(bk(t,e,a,s.originalException,r,i.exception.values,o,0),n))}function bk(t,e,n,r,a,i,s,o){if(i.length>=n+1)return i;let l=[...i];if(ou(r[a],Error)){e7(s,o);const u=t(e,r[a]),c=l.length;t7(u,a,c,o),l=bk(t,e,n,r[a],a,[u,...l],u,c)}return Array.isArray(r.errors)&&r.errors.forEach((u,c)=>{if(ou(u,Error)){e7(s,o);const d=t(e,u),f=l.length;t7(d,`errors[${c}]`,f,o),l=bk(t,e,n,u,a,[d,...l],d,f)}}),l}function e7(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,is_exception_group:!0,exception_id:e}}function t7(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}function XZ(t,e){return t.map(n=>(n.value&&(n.value=mf(n.value,e)),n))}function m1(t){return t&&t.Math==Math?t:void 0}const Gi=typeof globalThis=="object"&&m1(globalThis)||typeof window=="object"&&m1(window)||typeof self=="object"&&m1(self)||typeof global=="object"&&m1(global)||function(){return this}()||{};function u0(){return Gi}function uN(t,e,n){const r=n||Gi,a=r.__SENTRY__=r.__SENTRY__||{};return a[t]||(a[t]=e())}const T2=u0(),QZ=80;function mc(t,e={}){try{let n=t;const r=5,a=[];let i=0,s=0;const o=" > ",l=o.length;let u;const c=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||QZ;for(;n&&i++<r&&(u=ZZ(n,c),!(u==="html"||i>1&&s+a.length*l+u.length>=d));)a.push(u),s+=u.length,n=n.parentNode;return a.reverse().join(o)}catch{return"<unknown>"}}function ZZ(t,e){const n=t,r=[];let a,i,s,o,l;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const u=e&&e.length?e.filter(d=>n.getAttribute(d)).map(d=>[d,n.getAttribute(d)]):null;if(u&&u.length)u.forEach(d=>{r.push(`[${d[0]}="${d[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),a=n.className,a&&pc(a))for(i=a.split(/\s+/),l=0;l<i.length;l++)r.push(`.${i[l]}`);const c=["aria-label","type","name","title","alt"];for(l=0;l<c.length;l++)s=c[l],o=n.getAttribute(s),o&&r.push(`[${s}="${o}"]`);return r.join("")}function JZ(){try{return T2.document.location.href}catch{return""}}function eJ(t){return T2.document&&T2.document.querySelector?T2.document.querySelector(t):null}const tJ="Sentry Logger ",Ny=["debug","info","warn","error","log","assert","trace"];function BF(t){if(!("console"in Gi))return t();const e=Gi.console,n={};Ny.forEach(r=>{const a=e[r]&&e[r].__sentry_original__;r in e&&a&&(n[r]=e[r],e[r]=a)});try{return t()}finally{Object.keys(n).forEach(r=>{e[r]=n[r]})}}function n7(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ny.forEach(n=>{e[n]=(...r)=>{t&&BF(()=>{Gi.console[n](`${tJ}[${n}]:`,...r)})}}):Ny.forEach(n=>{e[n]=()=>{}}),e}let Ue;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ue=uN("logger",n7):Ue=n7();const nJ=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function rJ(t){return t==="http"||t==="https"}function sv(t,e=!1){const{host:n,path:r,pass:a,port:i,projectId:s,protocol:o,publicKey:l}=t;return`${o}://${l}${e&&a?`:${a}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${s}`}function aJ(t){const e=nJ.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}const[n,r,a="",i,s="",o]=e.slice(1);let l="",u=o;const c=u.split("/");if(c.length>1&&(l=c.slice(0,-1).join("/"),u=c.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return zF({host:i,pass:a,path:l,projectId:u,port:s,protocol:n,publicKey:r})}function zF(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function iJ(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;const{port:e,projectId:n,protocol:r}=t;return["protocol","publicKey","host","projectId"].find(s=>t[s]?!1:(Ue.error(`Invalid Sentry Dsn: ${s} missing`),!0))?!1:n.match(/^\d+$/)?rJ(r)?e&&isNaN(parseInt(e,10))?(Ue.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Ue.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Ue.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function sJ(t){const e=typeof t=="string"?aJ(t):zF(t);if(!(!e||!iJ(e)))return e}class Eo extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ya(t,e,n){if(!(e in t))return;const r=t[e],a=n(r);if(typeof a=="function")try{UF(a,r)}catch{}t[e]=a}function cN(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function UF(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,cN(t,"__sentry_original__",e)}function dN(t){return t.__sentry_original__}function oJ(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function jF(t){if(FF(t))return{message:t.message,name:t.name,stack:t.stack,...a7(t)};if(iv(t)){const e={type:t.type,target:r7(t.target),currentTarget:r7(t.currentTarget),...a7(t)};return typeof CustomEvent<"u"&&ou(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function r7(t){try{return GZ(t)?mc(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function a7(t){if(typeof t=="object"&&t!==null){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}else return{}}function lJ(t,e=40){const n=Object.keys(jF(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return mf(n[0],e);for(let r=n.length;r>0;r--){const a=n.slice(0,r).join(", ");if(!(a.length>e))return r===n.length?a:mf(a,e)}return""}function yl(t){return vk(t,new Map)}function vk(t,e){if(Of(t)){const n=e.get(t);if(n!==void 0)return n;const r={};e.set(t,r);for(const a of Object.keys(t))typeof t[a]<"u"&&(r[a]=vk(t[a],e));return r}if(Array.isArray(t)){const n=e.get(t);if(n!==void 0)return n;const r=[];return e.set(t,r),t.forEach(a=>{r.push(vk(a,e))}),r}return t}const VF=50,i7=/\(error: (.*)\)/,s7=/captureMessage|captureException/;function WF(...t){const e=t.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const a=[],i=n.split(`
`);for(let s=r;s<i.length;s++){const o=i[s];if(o.length>1024)continue;const l=i7.test(o)?o.replace(i7,"$1"):o;if(!l.match(/\S*Error: /)){for(const u of e){const c=u(l);if(c){a.push(c);break}}if(a.length>=VF)break}}return cJ(a)}}function uJ(t){return Array.isArray(t)?WF(...t):t}function cJ(t){if(!t.length)return[];const e=Array.from(t);return/sentryWrapped/.test(e[e.length-1].function||"")&&e.pop(),e.reverse(),s7.test(e[e.length-1].function||"")&&(e.pop(),s7.test(e[e.length-1].function||"")&&e.pop()),e.slice(0,VF).map(n=>({...n,filename:n.filename||e[e.length-1].filename,function:n.function||"?"}))}const S3="<anonymous>";function gc(t){try{return!t||typeof t!="function"?S3:t.name||S3}catch{return S3}}const wk=u0();function GF(){if(!("fetch"in wk))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function xk(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function dJ(){if(!GF())return!1;if(xk(wk.fetch))return!0;let t=!1;const e=wk.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=xk(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return t}const g1=u0();function hJ(){const t=g1.chrome,e=t&&t.app&&t.app.runtime,n="history"in g1&&!!g1.history.pushState&&!!g1.history.replaceState;return!e&&n}const fr=u0(),zu="__sentry_xhr_v2__",Lm={},o7={};function fJ(t){if(!o7[t])switch(o7[t]=!0,t){case"console":pJ();break;case"dom":_J();break;case"xhr":yJ();break;case"fetch":mJ();break;case"history":bJ();break;case"error":kJ();break;case"unhandledrejection":SJ();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("unknown instrumentation type:",t);return}}function La(t,e){Lm[t]=Lm[t]||[],Lm[t].push(e),fJ(t)}function Lo(t,e){if(!(!t||!Lm[t]))for(const n of Lm[t]||[])try{n(e)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${gc(n)}
Error:`,r)}}function pJ(){"console"in fr&&Ny.forEach(function(t){t in fr.console&&ya(fr.console,t,function(e){return function(...n){Lo("console",{args:n,level:t}),e&&e.apply(fr.console,n)}})})}function mJ(){dJ()&&ya(fr,"fetch",function(t){return function(...e){const{method:n,url:r}=gJ(e),a={args:e,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Lo("fetch",{...a}),t.apply(fr,e).then(i=>(Lo("fetch",{...a,endTimestamp:Date.now(),response:i}),i),i=>{throw Lo("fetch",{...a,endTimestamp:Date.now(),error:i}),i})}})}function _k(t,e){return!!t&&typeof t=="object"&&!!t[e]}function l7(t){return typeof t=="string"?t:t?_k(t,"url")?t.url:t.toString?t.toString():"":""}function gJ(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[n,r]=t;return{url:l7(n),method:_k(r,"method")?String(r.method).toUpperCase():"GET"}}const e=t[0];return{url:l7(e),method:_k(e,"method")?String(e.method).toUpperCase():"GET"}}function yJ(){if(!("XMLHttpRequest"in fr))return;const t=XMLHttpRequest.prototype;ya(t,"open",function(e){return function(...n){const r=n[1],a=this[zu]={method:pc(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};pc(r)&&a.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const s=this[zu];if(s&&this.readyState===4){try{s.status_code=this.status}catch{}Lo("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ya(this,"onreadystatechange",function(s){return function(...o){return i(),s.apply(this,o)}}):this.addEventListener("readystatechange",i),ya(this,"setRequestHeader",function(s){return function(...o){const[l,u]=o,c=this[zu];return c&&(c.request_headers[l.toLowerCase()]=u),s.apply(this,o)}}),e.apply(this,n)}}),ya(t,"send",function(e){return function(...n){const r=this[zu];return r&&n[0]!==void 0&&(r.body=n[0]),Lo("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}let y1;function bJ(){if(!hJ())return;const t=fr.onpopstate;fr.onpopstate=function(...n){const r=fr.location.href,a=y1;if(y1=r,Lo("history",{from:a,to:r}),t)try{return t.apply(this,n)}catch{}};function e(n){return function(...r){const a=r.length>2?r[2]:void 0;if(a){const i=y1,s=String(a);y1=s,Lo("history",{from:i,to:s})}return n.apply(this,r)}}ya(fr.history,"pushState",e),ya(fr.history,"replaceState",e)}const vJ=1e3;let b1,v1;function wJ(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function xJ(t){if(t.type!=="keypress")return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function u7(t,e=!1){return n=>{if(!n||v1===n||xJ(n))return;const r=n.type==="keypress"?"input":n.type;b1===void 0?(t({event:n,name:r,global:e}),v1=n):wJ(v1,n)&&(t({event:n,name:r,global:e}),v1=n),clearTimeout(b1),b1=fr.setTimeout(()=>{b1=void 0},vJ)}}function _J(){if(!("document"in fr))return;const t=Lo.bind(null,"dom"),e=u7(t,!0);fr.document.addEventListener("click",e,!1),fr.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const r=fr[n]&&fr[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ya(r,"addEventListener",function(a){return function(i,s,o){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},c=u[i]=u[i]||{refCount:0};if(!c.handler){const d=u7(t);c.handler=d,a.call(this,i,d,o)}c.refCount++}catch{}return a.call(this,i,s,o)}}),ya(r,"removeEventListener",function(a){return function(i,s,o){if(i==="click"||i=="keypress")try{const l=this,u=l.__sentry_instrumentation_handlers__||{},c=u[i];c&&(c.refCount--,c.refCount<=0&&(a.call(this,i,c.handler,o),c.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return a.call(this,i,s,o)}}))})}let w1=null;function kJ(){w1=fr.onerror,fr.onerror=function(t,e,n,r,a){return Lo("error",{column:r,error:a,line:n,msg:t,url:e}),w1&&!w1.__SENTRY_LOADER__?w1.apply(this,arguments):!1},fr.onerror.__SENTRY_INSTRUMENTED__=!0}let x1=null;function SJ(){x1=fr.onunhandledrejection,fr.onunhandledrejection=function(t){return Lo("unhandledrejection",t),x1&&!x1.__SENTRY_LOADER__?x1.apply(this,arguments):!0},fr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function NJ(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function n(a){if(t)return e.has(a)?!0:(e.add(a),!1);for(let i=0;i<e.length;i++)if(e[i]===a)return!0;return e.push(a),!1}function r(a){if(t)e.delete(a);else for(let i=0;i<e.length;i++)if(e[i]===a){e.splice(i,1);break}}return[n,r]}function xi(){const t=Gi,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function HF(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Fu(t){const{message:e,event_id:n}=t;if(e)return e;const r=HF(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function kk(t,e,n){const r=t.exception=t.exception||{},a=r.values=r.values||[],i=a[0]=a[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function pg(t,e){const n=HF(t);if(!n)return;const r={type:"generic",handled:!0},a=n.mechanism;if(n.mechanism={...r,...a,...e},e&&"data"in e){const i={...a&&a.data,...e.data};n.mechanism.data=i}}function c7(t){if(t&&t.__sentry_captured__)return!0;try{cN(t,"__sentry_captured__",!0)}catch{}return!1}function qF(t){return Array.isArray(t)?t:[t]}function EJ(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function TJ(){return"npm"}function YF(){return!EJ()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function CJ(t,e){return t.require(e)}function ol(t,e=100,n=1/0){try{return Sk("",t,e,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function KF(t,e=3,n=100*1024){const r=ol(t,e);return RJ(r)>n?KF(t,e-1,n):r}function Sk(t,e,n=1/0,r=1/0,a=NJ()){const[i,s]=a;if(e==null||["number","boolean","string"].includes(typeof e)&&!MF(e))return e;const o=IJ(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;const l=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(l===0)return o.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return Sk("",p,l-1,r,a)}catch{}const c=Array.isArray(e)?[]:{};let d=0;const f=jF(e);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(d>=r){c[p]="[MaxProperties ~]";break}const m=f[p];c[p]=Sk(p,m,l-1,r,a),d++}return s(e),c}function IJ(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(qZ(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${gc(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=AJ(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function AJ(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function DJ(t){return~-encodeURI(t).split(/%..|./).length}function RJ(t){return DJ(JSON.stringify(t))}var Bl;(function(t){t[t.PENDING=0]="PENDING";const n=1;t[t.RESOLVED=n]="RESOLVED";const r=2;t[t.REJECTED=r]="REJECTED"})(Bl||(Bl={}));function jd(t){return new ps(e=>{e(t)})}function Ey(t){return new ps((e,n)=>{n(t)})}class ps{constructor(e){ps.prototype.__init.call(this),ps.prototype.__init2.call(this),ps.prototype.__init3.call(this),ps.prototype.__init4.call(this),this._state=Bl.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new ps((r,a)=>{this._handlers.push([!1,i=>{if(!e)r(i);else try{r(e(i))}catch(s){a(s)}},i=>{if(!n)a(i);else try{r(n(i))}catch(s){a(s)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new ps((n,r)=>{let a,i;return this.then(s=>{i=!1,a=s,e&&e()},s=>{i=!0,a=s,e&&e()}).then(()=>{if(i){r(a);return}n(a)})})}__init(){this._resolve=e=>{this._setResult(Bl.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Bl.REJECTED,e)}}__init3(){this._setResult=(e,n)=>{if(this._state===Bl.PENDING){if(lN(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Bl.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===Bl.RESOLVED&&n[1](this._value),this._state===Bl.REJECTED&&n[2](this._value),n[0]=!0)})}}}function $J(t){const e=[];function n(){return t===void 0||e.length<t}function r(s){return e.splice(e.indexOf(s),1)[0]}function a(s){if(!n())return Ey(new Eo("Not adding Promise because buffer limit was reached."));const o=s();return e.indexOf(o)===-1&&e.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(s){return new ps((o,l)=>{let u=e.length;if(!u)return o(!0);const c=setTimeout(()=>{s&&s>0&&o(!1)},s);e.forEach(d=>{jd(d).then(()=>{--u||(clearTimeout(c),o(!0))},l)})})}return{$:e,add:a,drain:i}}function N3(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const OJ=["fatal","error","warning","log","info","debug"];function LJ(t){return t==="warn"?"warning":OJ.includes(t)?t:"log"}const XF=u0(),Nk={nowSeconds:()=>Date.now()/1e3};function FJ(){const{performance:t}=XF;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function PJ(){try{return CJ(module,"perf_hooks").performance}catch{return}}const E3=YF()?PJ():FJ(),d7=E3===void 0?Nk:{nowSeconds:()=>(E3.timeOrigin+E3.now())/1e3},ov=Nk.nowSeconds.bind(Nk),Vd=d7.nowSeconds.bind(d7),zo=(()=>{const{performance:t}=XF;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),r=Date.now(),a=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=a<e,s=t.timing&&t.timing.navigationStart,l=typeof s=="number"?Math.abs(s+n-r):e,u=l<e;return i||u?a<=l?t.timeOrigin:s:r})(),Ek="baggage",QF="sentry-",MJ=/^sentry-/,BJ=8192;function zJ(t){if(!pc(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((r,a)=>{const i=h7(a);return{...r,...i}},{});else{if(!t)return;e=h7(t)}const n=Object.entries(e).reduce((r,[a,i])=>{if(a.match(MJ)){const s=a.slice(QF.length);r[s]=i}return r},{});if(Object.keys(n).length>0)return n}function Tk(t){if(!t)return;const e=Object.entries(t).reduce((n,[r,a])=>(a&&(n[`${QF}${r}`]=a),n),{});return UJ(e)}function h7(t){return t.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,r])=>(e[n]=r,e),{})}function UJ(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[n,r],a)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,s=a===0?i:`${e},${i}`;return s.length>BJ?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):s},"")}const jJ=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function VJ(t){if(!t)return;const e=t.match(jJ);if(!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function WJ(t,e){const n=VJ(t),r=zJ(e),{traceId:a,parentSpanId:i,parentSampled:s}=n||{},o={traceId:a||xi(),spanId:xi().substring(16),sampled:s===void 0?!1:s};return i&&(o.parentSpanId=i),r&&(o.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:o}}function hN(t=xi(),e=xi().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${t}-${e}${r}`}function wp(t,e=[]){return[t,e]}function GJ(t,e){const[n,r]=t;return[n,[...r,e]]}function f7(t,e){const n=t[1];for(const r of n){const a=r[0].type;if(e(r,a))return!0}return!1}function Ck(t,e){return(e||new TextEncoder).encode(t)}function HJ(t,e){const[n,r]=t;let a=JSON.stringify(n);function i(s){typeof a=="string"?a=typeof s=="string"?a+s:[Ck(a,e),s]:a.push(typeof s=="string"?Ck(s,e):s)}for(const s of r){const[o,l]=s;if(i(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)i(l);else{let u;try{u=JSON.stringify(l)}catch{u=JSON.stringify(ol(l))}i(u)}}return typeof a=="string"?a:qJ(a)}function qJ(t){const e=t.reduce((a,i)=>a+i.length,0),n=new Uint8Array(e);let r=0;for(const a of t)n.set(a,r),r+=a.length;return n}function YJ(t,e){const n=typeof t.data=="string"?Ck(t.data,e):t.data;return[yl({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const KJ={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function p7(t){return KJ[t]}function fN(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}function ZF(t,e,n,r){const a=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:sv(r)},...a&&{trace:yl({...a})}}}function XJ(t,e,n){const r=[{type:"client_report"},{timestamp:n||ov(),discarded_events:t}];return wp(e?{dsn:e}:{},[r])}const QJ=60*1e3;function ZJ(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${t}`);return isNaN(r)?QJ:r-e}function JJ(t,e){return t[e]||t.all||0}function eee(t,e,n=Date.now()){return JJ(t,e)>n}function tee(t,{statusCode:e,headers:n},r=Date.now()){const a={...t},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const o of i.trim().split(",")){const[l,u]=o.split(":",2),c=parseInt(l,10),d=(isNaN(c)?60:c)*1e3;if(!u)a.all=r+d;else for(const f of u.split(";"))a[f]=r+d}else s?a.all=r+ZJ(s,r):e===429&&(a.all=r+60*1e3);return a}const pN="production";function nee(t){const e=Vd(),n={sid:xi(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>aee(n)};return t&&Lf(n,t),n}function Lf(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||Vd(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:xi()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function ree(t,e){let n={};e?n={status:e}:t.status==="ok"&&(n={status:"exited"}),Lf(t,n)}function aee(t){return yl({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const iee=100;class Nd{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m7()}static clone(e){const n=new Nd;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata={...e._sdkProcessingMetadata},n._propagationContext={...e._propagationContext}),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Lf(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof Nd?n:this}return e instanceof Nd?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):Of(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m7(),this}addBreadcrumb(e,n){const r=typeof n=="number"?n:iee;if(r<=0)return this;const a={timestamp:ov(),...e};return this._breadcrumbs=[...this._breadcrumbs,a].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const r=this._span.transaction;if(r){e.sdkProcessingMetadata={dynamicSamplingContext:r.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const a=r.name;a&&(e.tags={transaction:a,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...JF(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,n,r,a=0){return new ps((i,s)=>{const o=e[a];if(n===null||typeof o!="function")i(n);else{const l=o({...n},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&o.id&&l===null&&Ue.log(`Event processor "${o.id}" dropped event`),lN(l)?l.then(u=>this._notifyEventProcessors(e,u,r,a+1).then(i)).then(null,s):this._notifyEventProcessors(e,l,r,a+1).then(i).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?qF(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function JF(){return uN("globalEventProcessors",()=>[])}function mN(t){JF().push(t)}function m7(){return{traceId:xi(),spanId:xi().substring(16),sampled:!1}}const eP=4,see=100;class tP{constructor(e,n=new Nd,r=eP){this._version=r,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=Nd.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const r=this._lastEventId=n&&n.event_id?n.event_id:xi(),a=new Error("Sentry syntheticException");return this._withClient((i,s)=>{i.captureException(e,{originalException:e,syntheticException:a,...n,event_id:r},s)}),r}captureMessage(e,n,r){const a=this._lastEventId=r&&r.event_id?r.event_id:xi(),i=new Error(e);return this._withClient((s,o)=>{s.captureMessage(e,n,{originalException:e,syntheticException:i,...r,event_id:a},o)}),a}captureEvent(e,n){const r=n&&n.event_id?n.event_id:xi();return e.type||(this._lastEventId=r),this._withClient((a,i)=>{a.captureEvent(e,{...n,event_id:r},i)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:r,client:a}=this.getStackTop();if(!a)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=see}=a.getOptions&&a.getOptions()||{};if(s<=0)return;const l={timestamp:ov(),...e},u=i?BF(()=>i(l,n)):l;u!==null&&(a.emit&&a.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:r}=this.getStackTop();r&&e(n)}run(e){const n=g7(this);try{e(this)}finally{g7(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const r=this._callExtensionMethod("startTransaction",e,n);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!r&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&ree(r),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:r}=this.getStackTop(),{release:a,environment:i=pN}=r&&r.getOptions()||{},{userAgent:s}=Gi.navigator||{},o=nee({release:a,environment:i,user:n.getUser(),...s&&{userAgent:s},...e}),l=n.getSession&&n.getSession();return l&&l.status==="ok"&&Lf(l,{status:"exited"}),this.endSession(),n.setSession(o),o}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),r=e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(e){const{scope:n,client:r}=this.getStackTop();r&&e(r,n)}_callExtensionMethod(e,...n){const a=c0().__SENTRY__;if(a&&a.extensions&&typeof a.extensions[e]=="function")return a.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function c0(){return Gi.__SENTRY__=Gi.__SENTRY__||{extensions:{},hub:void 0},Gi}function g7(t){const e=c0(),n=Ik(e);return nP(e,t),n}function hn(){const t=c0();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return oee(t)}function oee(t=c0()){return(!lee(t)||Ik(t).isOlderThan(eP))&&nP(t,new tP),Ik(t)}function lee(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Ik(t){return uN("hub",()=>new tP,t)}function nP(t,e){if(!t)return!1;const n=t.__SENTRY__=t.__SENTRY__||{};return n.hub=e,!0}function gN(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=hn().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function d0(t){return(t||hn()).getScope().getTransaction()}let y7=!1;function uee(){y7||(y7=!0,La("error",Ak),La("unhandledrejection",Ak))}function Ak(){const t=d0();if(t){const e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}Ak.tag="sentry_tracingErrorCallback";class rP{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class yN{constructor(e){if(this.traceId=xi(),this.spanId=xi().substring(16),this.startTimestamp=Vd(),this.tags={},this.data={},this.instrumenter="sentry",!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const n=new yN({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const r=e&&e.op||"< unknown op >",a=n.transaction.name||"< unknown name >",i=n.transaction.spanId,s=`[Tracing] Starting '${r}' span on transaction '${a}' (${i}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:s},Ue.log(s)}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const n=cee(e);return n!=="unknown_error"&&this.setStatus(n),this}setName(e){this.description=e}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&Ue.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:Vd()}toTraceparent(){return hN(this.traceId,this.spanId,this.sampled)}toContext(){return yl({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return yl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return yl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function cee(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function lv(t,e,n){const r=e.getOptions(),{publicKey:a}=e.getDsn()||{},{segment:i}=n&&n.getUser()||{},s=yl({environment:r.environment||pN,release:r.release,user_segment:i,public_key:a,trace_id:t});return e.emit&&e.emit("createDsc",s),s}class aP extends yN{constructor(e,n){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=n||hn(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}setName(e,n="custom"){this._name=e,this.metadata.source=n}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new rP(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,r=""){this._measurements[e]={value:n,unit:r}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(o=>o!==this&&o.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((o,l)=>o.endTimestamp&&l.endTimestamp?o.endTimestamp>l.endTimestamp?o:l:o).endTimestamp);const a=this.metadata,i={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...a,dynamicSamplingContext:this.getDynamicSamplingContext()},...a.source&&{transaction_info:{source:a.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(i)}toContext(){const e=super.toContext();return yl({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||hn(),n=e.getClient();if(!n)return{};const r=e.getScope(),a=lv(this.traceId,n,r),i=this.metadata.sampleRate;i!==void 0&&(a.sample_rate=`${i}`);const s=this.metadata.source;return s&&s!=="url"&&(a.transaction=this.name),this.sampled!==void 0&&(a.sampled=String(this.sampled)),a}setHub(e){this._hub=e}}const C2={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},dee="finishReason",Th=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class hee extends rP{constructor(e,n,r,a){super(a),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=r}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:Vd(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class fee extends aP{constructor(e,n,r=C2.idleTimeout,a=C2.finalTimeout,i=C2.heartbeatInterval,s=!1){super(e,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=a,this._heartbeatInterval=i,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=Th[4],s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(o=>o.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Th[3],this.finish())},this._finalTimeout)}finish(e=Vd()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(dee,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const r=n.startTimestamp<e,a=(this._finalTimeout+this._idleTimeout)/1e3,i=n.endTimestamp-this.startTimestamp<a;if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const s=JSON.stringify(n,void 0,2);r?i||Ue.log("[Tracing] discarding Span since it finished after Transaction final timeout",s):Ue.log("[Tracing] discarding Span since it happened after Transaction was finished",s)}return r&&i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=a=>{this._finished||this._pushActivity(a)},r=a=>{this._finished||this._popActivity(a)};this.spanRecorder=new hee(n,r,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Th[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Th[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=Vd();this._idleTimeoutCanceledPermanently?(this._finishReason=Th[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Th[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function pee(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function iP(t,e,n){if(!gN(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(n),t.setMetadata({sampleRate:Number(r)})):n.parentSampled!==void 0?r=n.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,t.setMetadata({sampleRate:Number(r)})):(r=1,t.setMetadata({sampleRate:r})),mee(r)?r?(t.sampled=Math.random()<r,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function mee(t){return MF(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function gee(t,e){const n=this.getClient(),r=n&&n.getOptions()||{},a=r.instrumenter||"sentry",i=t.instrumenter||"sentry";a!==i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${a}\` instrumenter.
The transaction will not be sampled. Please use the ${a} instrumentation to start transactions.`),t.sampled=!1);let s=new aP(t,this);return s=iP(s,r,{parentSampled:t.parentSampled,transactionContext:t,...e}),s.sampled&&s.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",s),s}function b7(t,e,n,r,a,i,s){const o=t.getClient(),l=o&&o.getOptions()||{};let u=new fee(e,t,n,r,s,a);return u=iP(u,l,{parentSampled:e.parentSampled,transactionContext:e,...i}),u.sampled&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),o&&o.emit&&o.emit("startTransaction",u),u}function yee(){const t=c0();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=gee),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=pee),uee())}function bN(t,e){return hn().captureException(t,{captureContext:e})}function bee(t,e){hn().setContext(t,e)}function vee(t){hn().withScope(t)}const wee="7";function xee(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function _ee(t){return`${xee(t)}${t.projectId}/envelope/`}function kee(t,e){return oJ({sentry_key:t.publicKey,sentry_version:wee,...e&&{sentry_client:`${e.name}/${e.version}`}})}function See(t,e={}){const n=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${_ee(t)}?${kee(t,r)}`}function Nee(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Eee(t,e,n,r){const a=fN(n),i={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&{dsn:sv(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()];return wp(i,[s])}function Tee(t,e,n,r){const a=fN(n),i=t.type&&t.type!=="replay_event"?t.type:"event";Nee(t,n&&n.sdk);const s=ZF(t,a,r,e);return delete t.sdkProcessingMetadata,wp(s,[[{type:i},t]])}const v7=[];function Cee(t){const e={};return t.forEach(n=>{const{name:r}=n,a=e[r];a&&!a.isDefaultInstance&&n.isDefaultInstance||(e[r]=n)}),Object.keys(e).map(n=>e[n])}function Iee(t){const e=t.defaultIntegrations||[],n=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...e,...n]:typeof n=="function"?r=qF(n(e)):r=e;const a=Cee(r),i=Dee(a,s=>s.name==="Debug");if(i!==-1){const[s]=a.splice(i,1);a.push(s)}return a}function Aee(t){const e={};return t.forEach(n=>{n&&sP(n,e)}),e}function sP(t,e){e[t.name]=t,v7.indexOf(t.name)===-1&&(t.setupOnce(mN,hn),v7.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`Integration installed: ${t.name}`))}function Dee(t,e){for(let n=0;n<t.length;n++)if(e(t[n])===!0)return n;return-1}function oP(t,e,n,r){const{normalizeDepth:a=3,normalizeMaxBreadth:i=1e3}=t,s={...e,event_id:e.event_id||n.event_id||xi(),timestamp:e.timestamp||ov()},o=n.integrations||t.integrations.map(c=>c.name);Ree(s,t),Lee(s,o),e.type===void 0&&$ee(s,t.stackParser);let l=r;n.captureContext&&(l=Nd.clone(l).update(n.captureContext));let u=jd(s);if(l){if(l.getAttachments){const c=[...n.attachments||[],...l.getAttachments()];c.length&&(n.attachments=c)}u=l.applyToEvent(s,n)}return u.then(c=>(c&&Oee(c),typeof a=="number"&&a>0?Fee(c,a,i):c))}function Ree(t,e){const{environment:n,release:r,dist:a,maxValueLength:i=250}=e;"environment"in t||(t.environment="environment"in e?n:pN),t.release===void 0&&r!==void 0&&(t.release=r),t.dist===void 0&&a!==void 0&&(t.dist=a),t.message&&(t.message=mf(t.message,i));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=mf(s.value,i));const o=t.request;o&&o.url&&(o.url=mf(o.url,i))}const w7=new WeakMap;function $ee(t,e){const n=Gi._sentryDebugIds;if(!n)return;let r;const a=w7.get(e);a?r=a:(r=new Map,w7.set(e,r));const i=Object.keys(n).reduce((s,o)=>{let l;const u=r.get(o);u?l=u:(l=e(o),r.set(o,l));for(let c=l.length-1;c>=0;c--){const d=l[c];if(d.filename){s[d.filename]=n[o];break}}return s},{});try{t.exception.values.forEach(s=>{s.stacktrace.frames.forEach(o=>{o.filename&&(o.debug_id=i[o.filename])})})}catch{}}function Oee(t){const e={};try{t.exception.values.forEach(r=>{r.stacktrace.frames.forEach(a=>{a.debug_id&&(a.abs_path?e[a.abs_path]=a.debug_id:a.filename&&(e[a.filename]=a.debug_id),delete a.debug_id)})})}catch{}if(Object.keys(e).length===0)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.keys(e).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:e[r]})})}function Lee(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function Fee(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(a=>({...a,...a.data&&{data:ol(a.data,e,n)}}))},...t.user&&{user:ol(t.user,e,n)},...t.contexts&&{contexts:ol(t.contexts,e,n)},...t.extra&&{extra:ol(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=ol(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map(a=>(a.data&&(a.data=ol(a.data,e,n)),a))),r}const x7="Not capturing exception because it's already been captured.";class Pee{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},e.dsn?this._dsn=sJ(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("No DSN provided, client will not do anything."),this._dsn){const n=See(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}}captureException(e,n,r){if(c7(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(x7);return}let a=n&&n.event_id;return this._process(this.eventFromException(e,n).then(i=>this._captureEvent(i,n,r)).then(i=>{a=i})),a}captureMessage(e,n,r,a){let i=r&&r.event_id;const s=PF(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(s.then(o=>this._captureEvent(o,r,a)).then(o=>{i=o})),i}captureEvent(e,n,r){if(n&&n.originalException&&c7(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(x7);return}let a=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(i=>{a=i})),a}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Lf(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(r=>n.flush(e).then(a=>r&&a)):jd(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Aee(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){sP(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let r=Tee(e,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=GJ(r,YJ(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));const a=this._sendEnvelope(r);a&&a.then(i=>this.emit("afterSendEvent",e,i),null)}}sendSession(e){if(this._dsn){const n=Eee(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,r){if(this._options.sendClientReports){const a=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(r=>r(...n))}_updateSessionFromEvent(e,n){let r=!1,a=!1;const i=n.exception&&n.exception.values;if(i){a=!0;for(const l of i){const u=l.mechanism;if(u&&u.handled===!1){r=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&r)&&(Lf(e,{...r&&{status:"crashed"},errors:e.errors||Number(a||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ps(n=>{let r=0;const a=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=a,e&&r>=e&&(clearInterval(i),n(!1)))},a)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,r){const a=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i.length>0&&(n.integrations=i),oP(a,e,n,r).then(s=>{if(s===null)return s;const{propagationContext:o}=s.sdkProcessingMetadata||{};if(!(s.contexts&&s.contexts.trace)&&o){const{traceId:u,spanId:c,parentSpanId:d,dsc:f}=o;s.contexts={trace:{trace_id:u,span_id:c,parent_span_id:d},...s.contexts};const p=f||lv(u,this,r);s.sdkProcessingMetadata={dynamicSamplingContext:p,...s.sdkProcessingMetadata}}return s})}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(a=>a.event_id,a=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const i=a;i.logLevel==="log"?Ue.log(i.message):Ue.warn(i)}})}_processEvent(e,n,r){const a=this.getOptions(),{sampleRate:i}=a;if(!this._isEnabled())return Ey(new Eo("SDK not enabled, will not capture event.","log"));const s=uP(e),o=lP(e),l=e.type||"error",u=`before send for type \`${l}\``;if(o&&typeof i=="number"&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),Ey(new Eo(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c=l==="replay_event"?"replay":l;return this._prepareEvent(e,n,r).then(d=>{if(d===null)throw this.recordDroppedEvent("event_processor",c,e),new Eo("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return d;const p=Bee(a,d,n);return Mee(p,u)}).then(d=>{if(d===null)throw this.recordDroppedEvent("before_send",c,e),new Eo(`${u} returned \`null\`, will not send event.`,"log");const f=r&&r.getSession();!s&&f&&this._updateSessionFromEvent(f,d);const p=d.transaction_info;if(s&&p&&d.transaction!==e.transaction){const m="custom";d.transaction_info={...p,source:m}}return this.sendEvent(d,n),d}).then(null,d=>{throw d instanceof Eo?d:(this.captureException(d,{data:{__sentry__:!0},originalException:d}),new Eo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${d}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[r,a]=n.split(":");return{reason:r,category:a,quantity:e[n]}})}}function Mee(t,e){const n=`${e} must return \`null\` or a valid event.`;if(lN(t))return t.then(r=>{if(!Of(r)&&r!==null)throw new Eo(n);return r},r=>{throw new Eo(`${e} rejected with ${r}`)});if(!Of(t)&&t!==null)throw new Eo(n);return t}function Bee(t,e,n){const{beforeSend:r,beforeSendTransaction:a}=t;return lP(e)&&r?r(e,n):uP(e)&&a?a(e,n):e}function lP(t){return t.type===void 0}function uP(t){return t.type==="transaction"}function zee(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Ue.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=hn();n.getScope().update(e.initialScope);const a=new t(e);n.bindClient(a)}const Uee=30;function cP(t,e,n=$J(t.bufferSize||Uee)){let r={};const a=s=>n.drain(s);function i(s){const o=[];if(f7(s,(d,f)=>{const p=p7(f);if(eee(r,p)){const m=_7(d,f);t.recordDroppedEvent("ratelimit_backoff",p,m)}else o.push(d)}),o.length===0)return jd();const l=wp(s[0],o),u=d=>{f7(l,(f,p)=>{const m=_7(f,p);t.recordDroppedEvent(d,p7(p),m)})},c=()=>e({body:HJ(l,t.textEncoder)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=tee(r,d),d),d=>{throw u("network_error"),d});return n.add(c).then(d=>d,d=>{if(d instanceof Eo)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("Skipped sending event because buffer is full."),u("queue_overflow"),jd();throw d})}return i.__sentry__baseTransport__=!0,{send:i,flush:a}}function _7(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const Ty="7.64.0";let k7;class uv{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=uv.id}setupOnce(){k7=Function.prototype.toString;try{Function.prototype.toString=function(...e){const n=dN(this)||this;return k7.apply(n,e)}}catch{}}}uv.__initStatic();const jee=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Vee=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];class mg{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=mg.id,this._options=e}setupOnce(e,n){const r=a=>{const i=n();if(i){const s=i.getIntegration(mg);if(s){const o=i.getClient(),l=o?o.getOptions():{},u=Wee(s._options,l);return Gee(a,u)?null:a}}return a};r.id=this.name,e(r)}}mg.__initStatic();function Wee(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:jee],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[],...t.disableTransactionDefaults?[]:Vee],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Gee(t,e){return e.ignoreInternal&&Qee(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Event dropped due to being internal Sentry Error.
Event: ${Fu(t)}`),!0):Hee(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Fu(t)}`),!0):qee(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Fu(t)}`),!0):Yee(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Fu(t)}.
Url: ${Cy(t)}`),!0):Kee(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Fu(t)}.
Url: ${Cy(t)}`),!0)}function Hee(t,e){return t.type||!e||!e.length?!1:Xee(t).some(n=>vp(n,e))}function qee(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const n=t.transaction;return n?vp(n,e):!1}function Yee(t,e){if(!e||!e.length)return!1;const n=Cy(t);return n?vp(n,e):!1}function Kee(t,e){if(!e||!e.length)return!0;const n=Cy(t);return n?vp(n,e):!0}function Xee(t){if(t.message)return[t.message];if(t.exception){const{values:e}=t.exception;try{const{type:n="",value:r=""}=e&&e[e.length-1]||{};return[`${r}`,`${n}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(`Cannot extract message for event ${Fu(t)}`),[]}}return[]}function Qee(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function Zee(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Cy(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?Zee(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(`Cannot extract url for event ${Fu(t)}`),null}}const Sn=Gi;let Dk=0;function dP(){return Dk>0}function Jee(){Dk++,setTimeout(()=>{Dk--})}function Ff(t,e={},n){if(typeof t!="function")return t;try{const a=t.__sentry_wrapped__;if(a)return a;if(dN(t))return t}catch{return t}const r=function(){const a=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const i=a.map(s=>Ff(s,e));return t.apply(this,i)}catch(i){throw Jee(),vee(s=>{s.addEventProcessor(o=>(e.mechanism&&(kk(o,void 0,void 0),pg(o,e.mechanism)),o.extra={...o.extra,arguments:a},o)),bN(i)}),i}};try{for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}catch{}UF(r,t),cN(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return t.name}})}catch{}return r}function hP(t,e){const n=vN(t,e),r={type:e&&e.name,value:rte(e)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function ete(t,e,n,r){const i=hn().getClient(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:iv(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:ste(e,{isUnhandledRejection:r})}]},extra:{__serialized__:KF(e,s)}};if(n){const l=vN(t,n);l.length&&(o.exception.values[0].stacktrace={frames:l})}return o}function T3(t,e){return{exception:{values:[hP(t,e)]}}}function vN(t,e){const n=e.stacktrace||e.stack||"",r=nte(e);try{return t(n,r)}catch{}return[]}const tte=/Minified React error #\d+;/i;function nte(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(tte.test(t.message))return 1}return 0}function rte(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function ate(t,e,n,r){const a=n&&n.syntheticException||void 0,i=wN(t,e,a,r);return pg(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),jd(i)}function ite(t,e,n="info",r,a){const i=r&&r.syntheticException||void 0,s=Rk(t,e,i,a);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),jd(s)}function wN(t,e,n,r,a){let i;if(oN(e)&&e.error)return T3(t,e.error);if(ZA(e)||WZ(e)){const s=e;if("stack"in e)i=T3(t,e);else{const o=s.name||(ZA(s)?"DOMError":"DOMException"),l=s.message?`${o}: ${s.message}`:o;i=Rk(t,l,n,r),kk(i,l)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return FF(e)?T3(t,e):Of(e)||iv(e)?(i=ete(t,e,n,a),pg(i,{synthetic:!0}),i):(i=Rk(t,e,n,r),kk(i,`${e}`,void 0),pg(i,{synthetic:!0}),i)}function Rk(t,e,n,r){const a={message:e};if(r&&n){const i=vN(t,n);i.length&&(a.exception={values:[{value:e,stacktrace:{frames:i}}]})}return a}function ste(t,{isUnhandledRejection:e}){const n=lJ(t),r=e?"promise rejection":"exception";return oN(t)?`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``:iv(t)?`Event \`${ote(t)}\` (type=${t.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ote(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}const _1=1024,fP="Breadcrumbs";class cv{static __initStatic(){this.id=fP}constructor(e){this.name=cv.id,this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&La("console",ute),this.options.dom&&La("dom",lte(this.options.dom)),this.options.xhr&&La("xhr",cte),this.options.fetch&&La("fetch",dte),this.options.history&&La("history",hte)}addSentryBreadcrumb(e){this.options.sentry&&hn().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Fu(e)},{event:e})}}cv.__initStatic();function lte(t){function e(n){let r,a=typeof t=="object"?t.serializeAttribute:void 0,i=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;i&&i>_1&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`\`dom.maxStringLength\` cannot exceed ${_1}, but a value of ${i} was configured. Sentry will use ${_1} instead.`),i=_1),typeof a=="string"&&(a=[a]);try{const s=n.event;r=fte(s)?mc(s.target,{keyAttrs:a,maxStringLength:i}):mc(s,{keyAttrs:a,maxStringLength:i})}catch{r="<unknown>"}r.length!==0&&hn().addBreadcrumb({category:`ui.${n.name}`,message:r},{event:n.event,name:n.name,global:n.global})}return e}function ute(t){for(let n=0;n<t.args.length;n++)if(t.args[n]==="ref=Ref<"){t.args[n+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:LJ(t.level),message:JA(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${JA(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;hn().addBreadcrumb(e,{input:t.args,level:t.level})}function cte(t){const{startTimestamp:e,endTimestamp:n}=t,r=t.xhr[zu];if(!e||!n||!r)return;const{method:a,url:i,status_code:s,body:o}=r,l={method:a,url:i,status_code:s},u={xhr:t.xhr,input:o,startTimestamp:e,endTimestamp:n};hn().addBreadcrumb({category:"xhr",data:l,type:"http"},u)}function dte(t){const{startTimestamp:e,endTimestamp:n}=t;if(n&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const r=t.fetchData,a={data:t.error,input:t.args,startTimestamp:e,endTimestamp:n};hn().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},a)}else{const r={...t.fetchData,status_code:t.response&&t.response.status},a={input:t.args,response:t.response,startTimestamp:e,endTimestamp:n};hn().addBreadcrumb({category:"fetch",data:r,type:"http"},a)}}function hte(t){let e=t.from,n=t.to;const r=N3(Sn.location.href);let a=N3(e);const i=N3(n);a.path||(a=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===a.protocol&&r.host===a.host&&(e=a.relative),hn().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function fte(t){return!!t&&!!t.target}function pte(t,{metadata:e,tunnel:n,dsn:r}){const a={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:sv(r)}},i=mte(t);return wp(a,[i])}function mte(t){return[{type:"user_report"},t]}class gte extends Pee{constructor(e){const n=Sn.SENTRY_SDK_SOURCE||TJ();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:Ty}],version:Ty},super(e),e.sendClientReports&&Sn.document&&Sn.document.addEventListener("visibilitychange",()=>{Sn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return ate(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",r){return ite(this._options.stackParser,e,n,r,this._options.attachStacktrace)}sendEvent(e,n){const r=this.getIntegrationById(fP);r&&r.addSentryBreadcrumb&&r.addSentryBreadcrumb(e),super.sendEvent(e,n)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("SDK not enabled, will not capture user feedback.");return}const n=pte(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,r)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("Sending outcomes:",e);const n=XJ(e,this._options.tunnel&&sv(this._dsn));this._sendEnvelope(n)}}let gm;function yte(){if(gm)return gm;if(xk(Sn.fetch))return gm=Sn.fetch.bind(Sn);const t=Sn.document;let e=Sn.fetch;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return gm=e.bind(Sn)}function bte(){gm=void 0}function vte(t,e=yte()){let n=0,r=0;function a(i){const s=i.body.length;n+=s,r++;const o={body:i.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};try{return e(t.url,o).then(l=>(n-=s,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return bte(),n-=s,r--,Ey(l)}}return cP(t,a)}const wte=4;function xte(t){function e(n){return new ps((r,a)=>{const i=new XMLHttpRequest;i.onerror=a,i.onreadystatechange=()=>{i.readyState===wte&&r({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",t.url);for(const s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&i.setRequestHeader(s,t.headers[s]);i.send(n.body)})}return cP(t,e)}const dv="?",_te=30,kte=40,Ste=50;function xN(t,e,n,r){const a={filename:t,function:e,in_app:!0};return n!==void 0&&(a.lineno=n),r!==void 0&&(a.colno=r),a}const Nte=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ete=/\((\S*)(?::(\d+))(?::(\d+))\)/,Tte=t=>{const e=Nte.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const i=Ete.exec(e[2]);i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3])}const[r,a]=pP(e[1]||dv,e[2]);return xN(a,r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},Cte=[_te,Tte],Ite=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ate=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dte=t=>{const e=Ite.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const i=Ate.exec(e[3]);i&&(e[1]=e[1]||"eval",e[3]=i[1],e[4]=i[2],e[5]="")}let r=e[3],a=e[1]||dv;return[a,r]=pP(a,r),xN(r,a,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Rte=[Ste,Dte],$te=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ote=t=>{const e=$te.exec(t);return e?xN(e[2],e[1]||dv,+e[3],e[4]?+e[4]:void 0):void 0},Lte=[kte,Ote],Fte=[Cte,Rte,Lte],Pte=WF(...Fte),pP=(t,e)=>{const n=t.indexOf("safari-extension")!==-1,r=t.indexOf("safari-web-extension")!==-1;return n||r?[t.indexOf("@")!==-1?t.split("@")[0]:dv,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class xp{static __initStatic(){this.id="GlobalHandlers"}constructor(e){this.name=xp.id,this._options={onerror:!0,onunhandledrejection:!0,...e},this._installFunc={onerror:Mte,onunhandledrejection:Bte}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(jte(n),r(),this._installFunc[n]=void 0)}}}xp.__initStatic();function Mte(){La("error",t=>{const[e,n,r]=yP();if(!e.getIntegration(xp))return;const{msg:a,url:i,line:s,column:o,error:l}=t;if(dP()||l&&l.__sentry_own_request__)return;const u=l===void 0&&pc(a)?Ute(a,i,s,o):mP(wN(n,l||a,void 0,r,!1),i,s,o);u.level="error",gP(e,l,u,"onerror")})}function Bte(){La("unhandledrejection",t=>{const[e,n,r]=yP();if(!e.getIntegration(xp))return;let a=t;try{"reason"in t?a=t.reason:"detail"in t&&"reason"in t.detail&&(a=t.detail.reason)}catch{}if(dP()||a&&a.__sentry_own_request__)return!0;const i=PF(a)?zte(a):wN(n,a,void 0,r,!0);i.level="error",gP(e,a,i,"onunhandledrejection")})}function zte(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function Ute(t,e,n,r){const a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=oN(t)?t.message:t,s="Error";const o=i.match(a);return o&&(s=o[1],i=o[2]),mP({exception:{values:[{type:s,value:i}]}},e,n,r)}function mP(t,e,n,r){const a=t.exception=t.exception||{},i=a.values=a.values||[],s=i[0]=i[0]||{},o=s.stacktrace=s.stacktrace||{},l=o.frames=o.frames||[],u=isNaN(parseInt(r,10))?void 0:r,c=isNaN(parseInt(n,10))?void 0:n,d=pc(e)&&e.length>0?e:JZ();return l.length===0&&l.push({colno:u,filename:d,function:"?",in_app:!0,lineno:c}),t}function jte(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`Global Handler attached: ${t}`)}function gP(t,e,n,r){pg(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function yP(){const t=hn(),e=t.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,n.stackParser,n.attachStacktrace]}const Vte=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class hv{static __initStatic(){this.id="TryCatch"}constructor(e){this.name=hv.id,this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&ya(Sn,"setTimeout",S7),this._options.setInterval&&ya(Sn,"setInterval",S7),this._options.requestAnimationFrame&&ya(Sn,"requestAnimationFrame",Wte),this._options.XMLHttpRequest&&"XMLHttpRequest"in Sn&&ya(XMLHttpRequest.prototype,"send",Gte);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:Vte).forEach(Hte)}}hv.__initStatic();function S7(t){return function(...e){const n=e[0];return e[0]=Ff(n,{mechanism:{data:{function:gc(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Wte(t){return function(e){return t.apply(this,[Ff(e,{mechanism:{data:{function:"requestAnimationFrame",handler:gc(t)},handled:!0,type:"instrument"}})])}}function Gte(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(a=>{a in n&&typeof n[a]=="function"&&ya(n,a,function(i){const s={mechanism:{data:{function:a,handler:gc(i)},handled:!0,type:"instrument"}},o=dN(i);return o&&(s.mechanism.data.handler=gc(o)),Ff(i,s)})}),t.apply(this,e)}}function Hte(t){const e=Sn,n=e[t]&&e[t].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ya(n,"addEventListener",function(r){return function(a,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Ff(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:gc(i),target:t},handled:!0,type:"instrument"}}))}catch{}return r.apply(this,[a,Ff(i,{mechanism:{data:{function:"addEventListener",handler:gc(i),target:t},handled:!0,type:"instrument"}}),s])}}),ya(n,"removeEventListener",function(r){return function(a,i,s){const o=i;try{const l=o&&o.__sentry_wrapped__;l&&r.call(this,a,l,s)}catch{}return r.call(this,a,o,s)}}))}const qte="cause",Yte=5;class gg{static __initStatic(){this.id="LinkedErrors"}constructor(e={}){this.name=gg.id,this._key=e.key||qte,this._limit=e.limit||Yte}setupOnce(e,n){e((r,a)=>{const i=n(),s=i.getClient(),o=i.getIntegration(gg);if(!s||!o)return r;const l=s.getOptions();return KZ(hP,l.stackParser,l.maxValueLength,o._key,o._limit,r,a),r})}}gg.__initStatic();class yg{static __initStatic(){this.id="HttpContext"}constructor(){this.name=yg.id}setupOnce(){mN(e=>{if(hn().getIntegration(yg)){if(!Sn.navigator&&!Sn.location&&!Sn.document)return e;const n=e.request&&e.request.url||Sn.location&&Sn.location.href,{referrer:r}=Sn.document||{},{userAgent:a}=Sn.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...a&&{"User-Agent":a}},s={...e.request,...n&&{url:n},headers:i};return{...e,request:s}}return e})}}yg.__initStatic();class bg{static __initStatic(){this.id="Dedupe"}constructor(){this.name=bg.id}setupOnce(e,n){const r=a=>{if(a.type)return a;const i=n().getIntegration(bg);if(i){try{if(Kte(a,i._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return i._previousEvent=a}return i._previousEvent=a}return a};r.id=this.name,e(r)}}bg.__initStatic();function Kte(t,e){return e?!!(Xte(t,e)||Qte(t,e)):!1}function Xte(t,e){const n=t.message,r=e.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!vP(t,e)||!bP(t,e))}function Qte(t,e){const n=N7(e),r=N7(t);return!(!n||!r||n.type!==r.type||n.value!==r.value||!vP(t,e)||!bP(t,e))}function bP(t,e){let n=E7(t),r=E7(e);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let a=0;a<r.length;a++){const i=r[a],s=n[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function vP(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function N7(t){return t.exception&&t.exception.values&&t.exception.values[0]}function E7(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const Zte=[new mg,new uv,new hv,new cv,new xp,new gg,new bg,new yg];function Jte(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=Zte),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),Sn.SENTRY_RELEASE&&Sn.SENTRY_RELEASE.id&&(t.release=Sn.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:uJ(t.stackParser||Pte),integrations:Iee(t),transport:t.transport||(GF()?vte:xte)};zee(gte,e),t.autoSessionTracking&&ene()}function T7(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function ene(){if(typeof Sn.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=hn();t.captureSession&&(T7(t),La("history",({from:e,to:n})=>{e===void 0||e===n||T7(hn())}))}const ln=Gi,_N="sentryReplaySession",tne="replay_event",kN="Unable to send Replay",nne=3e5,rne=9e5,ane=36e5,ine=5e3,sne=5500,one=6e4,lne=5e3,une=3,k1=15e4,S1=5e3,cne=3e3,dne=300,SN=2e7,hne=4999,fne=15e3;var fa;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(fa||(fa={}));function pne(t){return t.nodeType===t.ELEMENT_NODE}function Fm(t){const e=t==null?void 0:t.host;return!!(e&&e.shadowRoot&&e.shadowRoot===t)}function wP({maskInputOptions:t,tagName:e,type:n}){e.toLowerCase()==="option"&&(e="select");const r=typeof n=="string"?n.toLowerCase():void 0;return t[e.toLowerCase()]||r&&t[r]||r==="password"||e==="input"&&!n&&t.text}function mne({tagName:t,type:e,maskInputOptions:n,maskInputSelector:r}){return r||wP({maskInputOptions:n,tagName:t,type:e})}function vg({input:t,maskInputSelector:e,unmaskInputSelector:n,maskInputOptions:r,tagName:a,type:i,value:s,maskInputFn:o}){let l=s||"";return n&&t.matches(n)||(t.hasAttribute("data-rr-is-password")&&(i="password"),(wP({maskInputOptions:r,tagName:a,type:i})||e&&t.matches(e))&&(o?l=o(l):l="*".repeat(l.length))),l}const C7="__rrweb_original__";function gne(t){const e=t.getContext("2d");if(!e)return!0;const n=50;for(let r=0;r<t.width;r+=n)for(let a=0;a<t.height;a+=n){const i=e.getImageData,s=C7 in i?i[C7]:i;if(new Uint32Array(s.call(e,r,a,Math.min(n,t.width-r),Math.min(n,t.height-a)).data.buffer).some(l=>l!==0))return!1}return!0}function xP(t){const e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?e.toLowerCase():null}function $k(t,e,n){return typeof n=="string"&&n.toLowerCase(),e==="INPUT"&&(n==="radio"||n==="checkbox")?t.getAttribute("value")||"":t.value}let yne=1;const bne=new RegExp("[^a-z0-9-_:]"),wg=-2;function _P(t){return t?t.replace(/[\S]/g,"*"):""}function vne(){return yne++}function wne(t){if(t instanceof HTMLFormElement)return"form";const e=t.tagName.toLowerCase().trim();return bne.test(e)?"div":e}function Ok(t){try{const e=t.rules||t.cssRules;return e?Array.from(e).map(xne).join(""):null}catch{return null}}function xne(t){let e=t.cssText;if(_ne(t))try{e=Ok(t.styleSheet)||e}catch{}return kP(e)}function kP(t){if(t.indexOf(":")>-1){const e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}return t}function _ne(t){return"styleSheet"in t}function kne(t){return t.cssRules?Array.from(t.cssRules).map(e=>e.cssText?kP(e.cssText):"").join(""):""}function Sne(t){let e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}let Ch,I7;const Nne=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ene=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Tne=/^(data:)([^,]*),(.*)/i;function I2(t,e){return(t||"").replace(Nne,(n,r,a,i,s,o)=>{const l=a||s||o,u=r||i||"";if(!l)return n;if(!Ene.test(l))return`url(${u}${l}${u})`;if(Tne.test(l))return`url(${u}${l}${u})`;if(l[0]==="/")return`url(${u}${Sne(e)+l}${u})`;const c=e.split("/"),d=l.split("/");c.pop();for(const f of d)f!=="."&&(f===".."?c.pop():c.push(f));return`url(${u}${c.join("/")}${u})`})}const Cne=/^[^ \t\n\r\u000c]+/,Ine=/^[, \t\n\r\u000c]+/;function Ane(t,e){if(e.trim()==="")return e;let n=0;function r(i){let s,o=i.exec(e.substring(n));return o?(s=o[0],n+=s.length,s):""}let a=[];for(;r(Ine),!(n>=e.length);){let i=r(Cne);if(i.slice(-1)===",")i=nf(t,i.substring(0,i.length-1)),a.push(i);else{let s="";i=nf(t,i);let o=!1;for(;;){let l=e.charAt(n);if(l===""){a.push((i+s).trim());break}else if(o)l===")"&&(o=!1);else if(l===","){n+=1,a.push((i+s).trim());break}else l==="("&&(o=!0);s+=l,n+=1}}}return a.join(", ")}function nf(t,e){if(!e||e.trim()==="")return e;const n=t.createElement("a");return n.href=e,n.href}function Dne(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function Lk(){const t=document.createElement("a");return t.href="",t.href}function SP(t,e,n,r,a,i,s,o){if(!a)return a;const l=r.toLowerCase(),u=n.toLowerCase();return l==="src"||l==="href"||l==="xlink:href"&&a[0]!=="#"||l==="background"&&(u==="table"||u==="td"||u==="th")?nf(t,a):l==="srcset"?Ane(t,a):l==="style"?I2(a,Lk()):u==="object"&&l==="data"?nf(t,a):i&&Rne(e,l,u,s)?o?o(a):_P(a):a}function Rne(t,e,n,r){return r&&t.matches(r)?!1:["placeholder","title","aria-label"].indexOf(e)>-1||n==="input"&&e==="value"&&t.hasAttribute("type")&&["submit","button"].indexOf(t.getAttribute("type").toLowerCase())>-1}function $ne(t,e,n,r){if(r&&t.matches(r))return!1;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let a=0;a<t.classList.length;a++){const i=t.classList[a];if(e.test(i))return!0}return n?t.matches(n):!1}function Iy(t,e,n,r,a){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return Iy(t.parentNode,e,n,r,a);if(r&&(t.matches(r)||t.closest(r)))return!1;if(a)return!0;if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(let i=0;i<t.classList.length;i++){const s=t.classList[i];if(e.test(s))return!0}return n&&t.matches(n)?!0:Iy(t.parentNode,e,n,r,a)}function One(t,e,n){const r=t.contentWindow;if(!r)return;let a=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){const o=setTimeout(()=>{a||(e(),a=!0)},n);t.addEventListener("load",()=>{clearTimeout(o),a=!0,e()});return}const s="about:blank";if(r.location.href!==s||t.src===s||t.src===""){setTimeout(e,0);return}t.addEventListener("load",e)}function Lne(t,e){var n;const{doc:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,inlineStylesheet:c,maskInputSelector:d,unmaskInputSelector:f,maskAllText:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:v,dataURLOptions:y={},inlineImages:b,recordCanvas:w,keepIframeSrcFn:x}=e;let k;if(r.__sn){const S=r.__sn.id;k=S===1?void 0:S}switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:fa.Document,childNodes:[],compatMode:t.compatMode,rootId:k}:{type:fa.Document,childNodes:[],rootId:k};case t.DOCUMENT_TYPE_NODE:return{type:fa.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:k};case t.ELEMENT_NODE:const S=$ne(t,a,i,s),E=wne(t);let I={};for(const{name:U,value:q}of Array.from(t.attributes))Mne(E,U)||(I[U]=SP(r,t,E,U,q,p,u,g));if(E==="link"&&c){const U=Array.from(r.styleSheets).find(Q=>Q.href===t.href);let q=null;U&&(q=Ok(U)),q&&(delete I.rel,delete I.href,I._cssText=I2(q,U.href))}if(E==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const U=Ok(t.sheet);U&&(I._cssText=I2(U,Lk()))}if(E==="input"||E==="textarea"||E==="select"||E==="option"){const U=t,q=xP(U),Q=$k(U,E.toUpperCase(),q),re=t.checked;q!=="submit"&&q!=="button"&&Q&&(I.value=vg({input:U,type:q,tagName:E,value:Q,maskInputSelector:d,unmaskInputSelector:f,maskInputOptions:m,maskInputFn:v})),re&&(I.checked=re)}if(E==="option"&&(t.selected&&!m.select?I.selected=!0:delete I.selected),E==="canvas"&&w){if(t.__context==="2d")gne(t)||(I.rr_dataURL=t.toDataURL(y.type,y.quality));else if(!("__context"in t)){const U=t.toDataURL(y.type,y.quality),q=document.createElement("canvas");q.width=t.width,q.height=t.height;const Q=q.toDataURL(y.type,y.quality);U!==Q&&(I.rr_dataURL=U)}}if(E==="img"&&b){Ch||(Ch=r.createElement("canvas"),I7=Ch.getContext("2d"));const U=t,q=U.crossOrigin;U.crossOrigin="anonymous";const Q=()=>{try{Ch.width=U.naturalWidth,Ch.height=U.naturalHeight,I7.drawImage(U,0,0),I.rr_dataURL=Ch.toDataURL(y.type,y.quality)}catch(re){console.warn(`Cannot inline img src=${U.currentSrc}! Error: ${re}`)}q?I.crossOrigin=q:delete I.crossOrigin};U.complete&&U.naturalWidth!==0?Q():U.onload=Q}if((E==="audio"||E==="video")&&(I.rr_mediaState=t.paused?"paused":"played",I.rr_mediaCurrentTime=t.currentTime),t.scrollLeft&&(I.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(I.rr_scrollTop=t.scrollTop),S){const{width:U,height:q}=t.getBoundingClientRect();I={class:I.class,rr_width:`${U}px`,rr_height:`${q}px`}}return E==="iframe"&&!x(I.src)&&(t.contentDocument||(I.rr_src=I.src),delete I.src),{type:fa.Element,tagName:E,attributes:I,childNodes:[],isSVG:Dne(t)||void 0,needBlock:S,rootId:k};case t.TEXT_NODE:const C=t.parentNode&&t.parentNode.tagName;let R=t.textContent;const z=C==="STYLE"?!0:void 0,H=C==="SCRIPT"?!0:void 0;if(z&&R){try{t.nextSibling||t.previousSibling||!((n=t.parentNode.sheet)===null||n===void 0)&&n.cssRules&&(R=kne(t.parentNode.sheet))}catch(U){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${U}`,t)}R=I2(R,Lk())}if(H&&(R="SCRIPT_PLACEHOLDER"),C==="TEXTAREA"&&R)R="";else if(C==="OPTION"&&R){const U=t.parentNode;R=vg({input:U,type:null,tagName:C,value:R,maskInputSelector:d,unmaskInputSelector:f,maskInputOptions:m,maskInputFn:v})}else!z&&!H&&Iy(t,o,l,u,p)&&R&&(R=g?g(R):_P(R));return{type:fa.Text,textContent:R||"",isStyle:z,rootId:k};case t.CDATA_SECTION_NODE:return{type:fa.CDATA,textContent:"",rootId:k};case t.COMMENT_NODE:return{type:fa.Comment,textContent:t.textContent||"",rootId:k};default:return!1}}function Hn(t){return t==null?"":t.toLowerCase()}function Fne(t,e){if(e.comment&&t.type===fa.Comment)return!0;if(t.type===fa.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(Hn(t.attributes.name).match(/^msapplication-tile(image|color)$/)||Hn(t.attributes.name)==="application-name"||Hn(t.attributes.rel)==="icon"||Hn(t.attributes.rel)==="apple-touch-icon"||Hn(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&Hn(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(Hn(t.attributes.property).match(/^(og|twitter|fb):/)||Hn(t.attributes.name).match(/^(og|twitter):/)||Hn(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(Hn(t.attributes.name)==="robots"||Hn(t.attributes.name)==="googlebot"||Hn(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(Hn(t.attributes.name)==="author"||Hn(t.attributes.name)==="generator"||Hn(t.attributes.name)==="framework"||Hn(t.attributes.name)==="publisher"||Hn(t.attributes.name)==="progid"||Hn(t.attributes.property).match(/^article:/)||Hn(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(Hn(t.attributes.name)==="google-site-verification"||Hn(t.attributes.name)==="yandex-verification"||Hn(t.attributes.name)==="csrf-token"||Hn(t.attributes.name)==="p:domain_verify"||Hn(t.attributes.name)==="verify-v1"||Hn(t.attributes.name)==="verification"||Hn(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Pm(t,e){const{doc:n,map:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,skipChild:c=!1,inlineStylesheet:d=!0,maskInputSelector:f,unmaskInputSelector:p,maskAllText:m,maskInputOptions:g={},maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:w={},inlineImages:x=!1,recordCanvas:k=!1,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:I=5e3,keepIframeSrcFn:C=()=>!1}=e;let{preserveWhiteSpace:R=!0}=e;const z=Lne(t,{doc:n,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,inlineStylesheet:d,maskInputSelector:f,unmaskInputSelector:p,maskAllText:m,maskInputOptions:g,maskTextFn:v,maskInputFn:y,dataURLOptions:w,inlineImages:x,recordCanvas:k,keepIframeSrcFn:C});if(!z)return console.warn(t,"not serialized"),null;let H;"__sn"in t?H=t.__sn.id:Fne(z,b)||!R&&z.type===fa.Text&&!z.isStyle&&!z.textContent.replace(/^\s+|\s+$/gm,"").length?H=wg:H=vne();const U=Object.assign(z,{id:H});if(t.__sn=U,H===wg)return null;r[H]=t,S&&S(t);let q=!c;if(U.type===fa.Element&&(q=q&&!U.needBlock,delete U.needBlock,t.shadowRoot&&(U.isShadowHost=!0)),(U.type===fa.Document||U.type===fa.Element)&&q){b.headWhitespace&&z.type===fa.Element&&z.tagName==="head"&&(R=!1);const Q={doc:n,map:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,skipChild:c,inlineStylesheet:d,maskInputSelector:f,unmaskInputSelector:p,maskAllText:m,maskInputOptions:g,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:w,inlineImages:x,recordCanvas:k,preserveWhiteSpace:R,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:I,keepIframeSrcFn:C};for(const re of Array.from(t.childNodes)){const he=Pm(re,Q);he&&U.childNodes.push(he)}if(pne(t)&&t.shadowRoot)for(const re of Array.from(t.shadowRoot.childNodes)){const he=Pm(re,Q);he&&(he.isShadow=!0,U.childNodes.push(he))}}return t.parentNode&&Fm(t.parentNode)&&(U.isShadow=!0),U.type===fa.Element&&U.tagName==="iframe"&&One(t,()=>{const Q=t.contentDocument;if(Q&&E){const re=Pm(Q,{doc:Q,map:r,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:o,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputSelector:f,unmaskInputSelector:p,maskAllText:m,maskInputOptions:g,maskTextFn:v,maskInputFn:y,slimDOMOptions:b,dataURLOptions:w,inlineImages:x,recordCanvas:k,preserveWhiteSpace:R,onSerialize:S,onIframeLoad:E,iframeLoadTimeout:I,keepIframeSrcFn:C});re&&E(t,re)}},I),U}function Pne(t,e){const{blockClass:n="rr-block",blockSelector:r=null,unblockSelector:a=null,maskTextClass:i="rr-mask",maskTextSelector:s=null,unmaskTextSelector:o=null,inlineStylesheet:l=!0,inlineImages:u=!1,recordCanvas:c=!1,maskInputSelector:d=null,unmaskInputSelector:f=null,maskAllText:p=!1,maskAllInputs:m=!1,maskTextFn:g,maskInputFn:v,slimDOM:y=!1,dataURLOptions:b,preserveWhiteSpace:w,onSerialize:x,onIframeLoad:k,iframeLoadTimeout:S,keepIframeSrcFn:E=()=>!1}=e||{},I={};return[Pm(t,{doc:t,map:I,blockClass:n,blockSelector:r,unblockSelector:a,maskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,skipChild:!1,inlineStylesheet:l,maskInputSelector:d,unmaskInputSelector:f,maskAllText:p,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskTextFn:g,maskInputFn:v,slimDOMOptions:y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:y==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:y===!1?{}:y,dataURLOptions:b,inlineImages:u,recordCanvas:c,preserveWhiteSpace:w,onSerialize:x,onIframeLoad:k,iframeLoadTimeout:S,keepIframeSrcFn:E}),I]}function Mne(t,e,n){return(t==="video"||t==="audio")&&e==="autoplay"}var Tn;(function(t){t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin"})(Tn||(Tn={}));var Ra;(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration"})(Ra||(Ra={}));var Ay;(function(t){t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel"})(Ay||(Ay={}));var Pf;(function(t){t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2"})(Pf||(Pf={}));var A7;(function(t){t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange"})(A7||(A7={}));var D7;(function(t){t.Start="start",t.Pause="pause",t.Resume="resume",t.Resize="resize",t.Finish="finish",t.FullsnapshotRebuilded="fullsnapshot-rebuilded",t.LoadStylesheetStart="load-stylesheet-start",t.LoadStylesheetEnd="load-stylesheet-end",t.SkipStart="skip-start",t.SkipEnd="skip-end",t.MouseInteraction="mouse-interaction",t.EventCast="event-cast",t.CustomEvent="custom-event",t.Flush="flush",t.StateChange="state-change",t.PlayBack="play-back"})(D7||(D7={}));function gs(t,e,n=document){const r={capture:!0,passive:!0};return n.addEventListener(t,e,r),()=>n.removeEventListener(t,e,r)}function Bne(){return{map:{},getId(t){return!t||!t.__sn?-1:t.__sn.id},getNode(t){return this.map[t]||null},removeNodeFromMap(t){const e=t.__sn&&t.__sn.id;delete this.map[e],t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))},has(t){return this.map.hasOwnProperty(t)},reset(){this.map={}}}}const Mh=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let R7={map:{},getId(){return console.error(Mh),-1},getNode(){return console.error(Mh),null},removeNodeFromMap(){console.error(Mh)},has(){return console.error(Mh),!1},reset(){console.error(Mh)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(R7=new Proxy(R7,{get(t,e,n){return e==="map"&&console.error(Mh),Reflect.get(t,e,n)}}));function xg(t,e,n={}){let r=null,a=0;return function(i){let s=Date.now();!a&&n.leading===!1&&(a=s);let o=e-(s-a),l=this,u=arguments;o<=0||o>e?(r&&(clearTimeout(r),r=null),a=s,t.apply(l,u)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{a=n.leading===!1?0:Date.now(),r=null,t.apply(l,u)},o))}}function fv(t,e,n,r,a=window){const i=a.Object.getOwnPropertyDescriptor(t,e);return a.Object.defineProperty(t,e,r?n:{set(s){setTimeout(()=>{n.set.call(this,s)},0),i&&i.set&&i.set.call(this,s)}}),()=>fv(t,e,i||{},!0)}function Mf(t,e,n){try{if(!(e in t))return()=>{};const r=t[e],a=n(r);return typeof a=="function"&&(a.prototype=a.prototype||{},Object.defineProperties(a,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=a,()=>{t[e]=r}}catch{return()=>{}}}function NP(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function EP(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function gi(t,e,n,r){if(!t)return!1;if(t.nodeType===t.ELEMENT_NODE){let a=!1;const i=r&&t.matches(r);return typeof e=="string"?t.closest!==void 0?a=!i&&t.closest("."+e)!==null:a=!i&&t.classList.contains(e):!i&&t.classList.forEach(s=>{e.test(s)&&(a=!0)}),!a&&n&&(a=t.matches(n)),!i&&a||gi(t.parentNode,e,n,r)}return t.nodeType===t.TEXT_NODE,gi(t.parentNode,e,n,r)}function C3(t){return"__sn"in t?t.__sn.id===wg:!1}function TP(t,e){if(Fm(t))return!1;const n=e.getId(t);return e.has(n)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?TP(t.parentNode,e):!0:!0}function CP(t){return!!t.changedTouches}function zne(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(n){if(!(0 in arguments))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function IP(t){return"__sn"in t?t.__sn.type===fa.Element&&t.__sn.tagName==="iframe":!1}function AP(t){return!!(t!=null&&t.shadowRoot)}function $7(t){return"__ln"in t}class Une{constructor(){this.length=0,this.head=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<e;r++)n=(n==null?void 0:n.next)||null;return n}addNode(e){const n={value:e,previous:null,next:null};if(e.__ln=n,e.previousSibling&&$7(e.previousSibling)){const r=e.previousSibling.__ln.next;n.next=r,n.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(e.nextSibling&&$7(e.nextSibling)&&e.nextSibling.__ln.previous){const r=e.nextSibling.__ln.previous;n.previous=r,n.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;this.length++}removeNode(e){const n=e.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next&&(n.next.previous=n.previous)):(this.head=n.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)}}const O7=(t,e)=>`${t}@${e}`;function L7(t){return"__sn"in t}class jne{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],n=new Une,r=o=>{let l=o,u=wg;for(;u===wg;)l=l&&l.nextSibling,u=l&&this.mirror.getId(l);return u},a=o=>{var l,u,c,d,f;const p=o.getRootNode?(l=o.getRootNode())===null||l===void 0?void 0:l.host:null;let m=p;for(;!((c=(u=m==null?void 0:m.getRootNode)===null||u===void 0?void 0:u.call(m))===null||c===void 0)&&c.host;)m=((f=(d=m==null?void 0:m.getRootNode)===null||d===void 0?void 0:d.call(m))===null||f===void 0?void 0:f.host)||null;const g=!this.doc.contains(o)&&(!m||!this.doc.contains(m));if(!o.parentNode||g)return;const v=Fm(o.parentNode)?this.mirror.getId(p):this.mirror.getId(o.parentNode),y=r(o);if(v===-1||y===-1)return n.addNode(o);let b=Pm(o,{doc:this.doc,map:this.mirror.map,blockClass:this.blockClass,blockSelector:this.blockSelector,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,skipChild:!0,inlineStylesheet:this.inlineStylesheet,maskAllText:this.maskAllText,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:w=>{IP(w)&&this.iframeManager.addIframe(w),AP(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,document)},onIframeLoad:(w,x)=>{this.iframeManager.attachIframe(w,x),this.shadowDomManager.observeAttachShadow(w)}});b&&e.push({parentId:v,nextId:y,node:b})};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const o of this.movedSet)Pk(this.removes,o,this.mirror)&&!this.movedSet.has(o.parentNode)||a(o);for(const o of this.addedSet)!Mk(this.droppedSet,o)&&!Pk(this.removes,o,this.mirror)||Mk(this.movedSet,o)?a(o):this.droppedSet.add(o);let i=null;for(;n.length;){let o=null;if(i){const l=this.mirror.getId(i.value.parentNode),u=r(i.value);l!==-1&&u!==-1&&(o=i)}if(!o)for(let l=n.length-1;l>=0;l--){const u=n.get(l);if(u){const c=this.mirror.getId(u.value.parentNode),d=r(u.value);if(c!==-1&&d!==-1){o=u;break}}}if(!o){for(;n.head;)n.removeNode(n.head.value);break}i=o.previous,n.removeNode(o.value),a(o.value)}const s={texts:this.texts.map(o=>({id:this.mirror.getId(o.node),value:o.value})).filter(o=>this.mirror.has(o.id)),attributes:this.attributes.map(o=>({id:this.mirror.getId(o.node),attributes:o.attributes})).filter(o=>this.mirror.has(o.id)),removes:this.removes,adds:e};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=e=>{if(!C3(e.target))switch(e.type){case"characterData":{const n=e.target.textContent;!gi(e.target,this.blockClass,this.blockSelector,this.unblockSelector)&&n!==e.oldValue&&this.texts.push({value:Iy(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:e.target});break}case"attributes":{const n=e.target;let r=n.getAttribute(e.attributeName);if(e.attributeName==="value"&&(r=vg({input:n,maskInputSelector:this.maskInputSelector,unmaskInputSelector:this.unmaskInputSelector,maskInputOptions:this.maskInputOptions,tagName:n.tagName,type:n.getAttribute("type"),value:r,maskInputFn:this.maskInputFn})),gi(e.target,this.blockClass,this.blockSelector,this.unblockSelector)||r===e.oldValue)return;let a=this.attributes.find(i=>i.node===e.target);if(a||(a={node:e.target,attributes:{}},this.attributes.push(a)),e.attributeName==="type"&&n.tagName==="INPUT"&&(e.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),e.attributeName==="style"){const i=this.doc.createElement("span");e.oldValue&&i.setAttribute("style",e.oldValue),(a.attributes.style===void 0||a.attributes.style===null)&&(a.attributes.style={});try{const s=a.attributes.style;for(const o of Array.from(n.style)){const l=n.style.getPropertyValue(o),u=n.style.getPropertyPriority(o);(l!==i.style.getPropertyValue(o)||u!==i.style.getPropertyPriority(o))&&(u===""?s[o]=l:s[o]=[l,u])}for(const o of Array.from(i.style))n.style.getPropertyValue(o)===""&&(s[o]=!1)}catch(s){console.warn("[rrweb] Error when parsing update to style attribute:",s)}}else{const i=e.target;a.attributes[e.attributeName]=SP(this.doc,i,i.tagName,e.attributeName,r,this.maskAllText,this.unmaskTextSelector,this.maskTextFn)}break}case"childList":{e.addedNodes.forEach(n=>this.genAdds(n,e.target)),e.removedNodes.forEach(n=>{const r=this.mirror.getId(n),a=Fm(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);gi(e.target,this.blockClass,this.blockSelector,this.unblockSelector)||C3(n)||(this.addedSet.has(n)?(Fk(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(e.target)&&r===-1||TP(e.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[O7(r,a)]?Fk(this.movedSet,n):this.removes.push({parentId:a,id:r,isShadow:Fm(e.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(e,n)=>{if(!(n&&gi(n,this.blockClass,this.blockSelector,this.unblockSelector))){if(L7(e)){if(C3(e))return;this.movedSet.add(e);let r=null;n&&L7(n)&&(r=n.__sn.id),r&&(this.movedMap[O7(e.__sn.id,r)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);gi(e,this.blockClass,this.blockSelector,this.unblockSelector)||e.childNodes.forEach(r=>this.genAdds(r))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskTextClass","maskTextSelector","unmaskTextSelector","maskInputSelector","unmaskInputSelector","inlineStylesheet","maskAllText","maskInputOptions","maskTextFn","maskInputFn","recordCanvas","inlineImages","slimDOMOptions","doc","mirror","iframeManager","shadowDomManager","canvasManager"].forEach(n=>{this[n]=e[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Fk(t,e){t.delete(e),e.childNodes.forEach(n=>Fk(t,n))}function Pk(t,e,n){const{parentNode:r}=e;if(!r)return!1;const a=n.getId(r);return t.some(i=>i.id===a)?!0:Pk(t,r,n)}function Mk(t,e){const{parentNode:n}=e;return n?t.has(n)?!0:Mk(t,n):!1}const bn=t=>(...n)=>{try{return t(...n)}catch(r){try{r.__rrweb__=!0}catch{}throw r}},pd=[];function h0(t){try{if("composedPath"in t){const e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function DP(t,e){var n,r;const a=new jne;pd.push(a),a.init(t);let i=window.MutationObserver||window.__rrMutationObserver;const s=(r=(n=window==null?void 0:window.Zone)===null||n===void 0?void 0:n.__symbol__)===null||r===void 0?void 0:r.call(n,"MutationObserver");s&&window[s]&&(i=window[s]);const o=new i(bn(l=>{t.onMutation&&t.onMutation(l)===!1||a.processMutations(l)}));return o.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Vne({mousemoveCb:t,sampling:e,doc:n,mirror:r}){if(e.mousemove===!1)return()=>{};const a=typeof e.mousemove=="number"?e.mousemove:50,i=typeof e.mousemoveCallback=="number"?e.mousemoveCallback:500;let s=[],o;const l=xg(d=>{const f=Date.now()-o;bn(t)(s.map(p=>(p.timeOffset-=f,p)),d),s=[],o=null},i),u=xg(d=>{const f=h0(d),{clientX:p,clientY:m}=CP(d)?d.changedTouches[0]:d;o||(o=Date.now()),s.push({x:p,y:m,id:r.getId(f),timeOffset:Date.now()-o}),l(typeof DragEvent<"u"&&d instanceof DragEvent?Ra.Drag:d instanceof MouseEvent?Ra.MouseMove:Ra.TouchMove)},a,{trailing:!1}),c=[gs("mousemove",bn(u),n),gs("touchmove",bn(u),n),gs("drag",bn(u),n)];return bn(()=>{c.forEach(d=>d())})}function Wne({mouseInteractionCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){if(s.mouseInteraction===!1)return()=>{};const o=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,l=[],u=c=>d=>{const f=h0(d);if(gi(f,r,a,i))return;const p=CP(d)?d.changedTouches[0]:d;if(!p)return;const m=n.getId(f),{clientX:g,clientY:v}=p;bn(t)({type:Ay[c],id:m,x:g,y:v})};return Object.keys(Ay).filter(c=>Number.isNaN(Number(c))&&!c.endsWith("_Departed")&&o[c]!==!1).forEach(c=>{const d=c.toLowerCase(),f=bn(u(c));l.push(gs(d,f,e))}),bn(()=>{l.forEach(c=>c())})}function RP({scrollCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,sampling:s}){const o=xg(l=>{const u=h0(l);if(!u||gi(u,r,a,i))return;const c=n.getId(u);if(u===e){const d=e.scrollingElement||e.documentElement;bn(t)({id:c,x:d.scrollLeft,y:d.scrollTop})}else bn(t)({id:c,x:u.scrollLeft,y:u.scrollTop})},s.scroll||100);return gs("scroll",bn(o),e)}function Gne({viewportResizeCb:t}){let e=-1,n=-1;const r=xg(()=>{const a=NP(),i=EP();(e!==a||n!==i)&&(bn(t)({width:Number(i),height:Number(a)}),e=a,n=i)},200);return gs("resize",bn(r),window)}function F7(t,e){const n=Object.assign({},t);return e||delete n.userTriggered,n}const Hne=["INPUT","TEXTAREA","SELECT"],P7=new WeakMap;function qne({inputCb:t,doc:e,mirror:n,blockClass:r,blockSelector:a,unblockSelector:i,ignoreClass:s,ignoreSelector:o,maskInputSelector:l,unmaskInputSelector:u,maskInputOptions:c,maskInputFn:d,sampling:f,userTriggeredOnInput:p}){function m(x){let k=h0(x);const S=k&&k.tagName,E=x.isTrusted;if(S==="OPTION"&&(k=k.parentElement),!k||!S||Hne.indexOf(S)<0||gi(k,r,a,i))return;const I=k,C=xP(I);if(I.classList.contains(s)||o&&I.matches(o))return;let R=$k(I,S,C),z=!1;(C==="radio"||C==="checkbox")&&(z=k.checked),mne({maskInputOptions:c,maskInputSelector:l,tagName:S,type:C})&&(R=vg({input:I,maskInputOptions:c,maskInputSelector:l,unmaskInputSelector:u,tagName:S,type:C,value:R,maskInputFn:d})),g(k,bn(F7)({text:R,isChecked:z,userTriggered:E},p));const H=k.name;C==="radio"&&H&&z&&e.querySelectorAll(`input[type="radio"][name="${H}"]`).forEach(U=>{if(U!==k){const q=vg({input:U,maskInputOptions:c,maskInputSelector:l,unmaskInputSelector:u,tagName:S,type:C,value:$k(U,S,C),maskInputFn:d});g(U,bn(F7)({text:q,isChecked:!z,userTriggered:!1},p))}})}function g(x,k){const S=P7.get(x);if(!S||S.text!==k.text||S.isChecked!==k.isChecked){P7.set(x,k);const E=n.getId(x);t(Object.assign(Object.assign({},k),{id:E}))}}const y=(f.input==="last"?["change"]:["input","change"]).map(x=>gs(x,bn(m),e)),b=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),w=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"],[HTMLOptionElement.prototype,"selected"]];return b&&b.set&&y.push(...w.map(x=>fv(x[0],x[1],{set(){bn(m)({target:this})}}))),bn(()=>{y.forEach(x=>x())})}function Dy(t){const e=[];function n(r,a){if(N1("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||N1("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||N1("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||N1("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const s=Array.from(r.parentRule.cssRules).indexOf(r);a.unshift(s)}else{const s=Array.from(r.parentStyleSheet.cssRules).indexOf(r);a.unshift(s)}return a}return n(t,e)}function Yne({styleSheetRuleCb:t,mirror:e},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const r=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:bn((o,l,u)=>{const[c,d]=u,f=e.getId(l.ownerNode);return f!==-1&&t({id:f,adds:[{rule:c,index:d}]}),o.apply(l,u)})});const a=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:bn((o,l,u)=>{const[c]=u,d=e.getId(l.ownerNode);return d!==-1&&t({id:d,removes:[{index:c}]}),o.apply(l,u)})});const i={};E1("CSSGroupingRule")?i.CSSGroupingRule=n.CSSGroupingRule:(E1("CSSMediaRule")&&(i.CSSMediaRule=n.CSSMediaRule),E1("CSSConditionRule")&&(i.CSSConditionRule=n.CSSConditionRule),E1("CSSSupportsRule")&&(i.CSSSupportsRule=n.CSSSupportsRule));const s={};return Object.entries(i).forEach(([o,l])=>{s[o]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(s[o].insertRule,{apply:bn((u,c,d)=>{const[f,p]=d,m=e.getId(c.parentStyleSheet.ownerNode);return m!==-1&&t({id:m,adds:[{rule:f,index:[...Dy(c),p||0]}]}),u.apply(c,d)})}),l.prototype.deleteRule=new Proxy(s[o].deleteRule,{apply:bn((u,c,d)=>{const[f]=d,p=e.getId(c.parentStyleSheet.ownerNode);return p!==-1&&t({id:p,removes:[{index:[...Dy(c),f]}]}),u.apply(c,d)})})}),bn(()=>{n.CSSStyleSheet.prototype.insertRule=r,n.CSSStyleSheet.prototype.deleteRule=a,Object.entries(i).forEach(([o,l])=>{l.prototype.insertRule=s[o].insertRule,l.prototype.deleteRule=s[o].deleteRule})})}function Kne({styleDeclarationCb:t,mirror:e},{win:n}){const r=n.CSSStyleDeclaration.prototype.setProperty;n.CSSStyleDeclaration.prototype.setProperty=new Proxy(r,{apply:bn((i,s,o)=>{var l,u;const[c,d,f]=o,p=e.getId((u=(l=s.parentRule)===null||l===void 0?void 0:l.parentStyleSheet)===null||u===void 0?void 0:u.ownerNode);return p!==-1&&t({id:p,set:{property:c,value:d,priority:f},index:Dy(s.parentRule)}),i.apply(s,o)})});const a=n.CSSStyleDeclaration.prototype.removeProperty;return n.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:bn((i,s,o)=>{var l,u;const[c]=o,d=e.getId((u=(l=s.parentRule)===null||l===void 0?void 0:l.parentStyleSheet)===null||u===void 0?void 0:u.ownerNode);return d!==-1&&t({id:d,remove:{property:c},index:Dy(s.parentRule)}),i.apply(s,o)})}),bn(()=>{n.CSSStyleDeclaration.prototype.setProperty=r,n.CSSStyleDeclaration.prototype.removeProperty=a})}function Xne({mediaInteractionCb:t,blockClass:e,blockSelector:n,unblockSelector:r,mirror:a,sampling:i}){const s=l=>xg(bn(u=>{const c=h0(u);if(!c||gi(c,e,n,r))return;const{currentTime:d,volume:f,muted:p}=c;t({type:l,id:a.getId(c),currentTime:d,volume:f,muted:p})}),i.media||500),o=[gs("play",s(0)),gs("pause",s(1)),gs("seeked",s(2)),gs("volumechange",s(3))];return bn(()=>{o.forEach(l=>l())})}function Qne({fontCb:t,doc:e}){const n=e.defaultView;if(!n)return()=>{};const r=[],a=new WeakMap,i=n.FontFace;n.FontFace=function(l,u,c){const d=new i(l,u,c);return a.set(d,{family:l,buffer:typeof u!="string",descriptors:c,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};const s=Mf(e.fonts,"add",function(o){return function(l){return setTimeout(()=>{const u=a.get(l);u&&(t(u),a.delete(l))},0),o.apply(this,[l])}});return r.push(()=>{n.FontFace=i}),r.push(s),bn(()=>{r.forEach(o=>o())})}function Zne(t,e){const{mutationCb:n,mousemoveCb:r,mouseInteractionCb:a,scrollCb:i,viewportResizeCb:s,inputCb:o,mediaInteractionCb:l,styleSheetRuleCb:u,styleDeclarationCb:c,canvasMutationCb:d,fontCb:f}=t;t.mutationCb=(...p)=>{e.mutation&&e.mutation(...p),n(...p)},t.mousemoveCb=(...p)=>{e.mousemove&&e.mousemove(...p),r(...p)},t.mouseInteractionCb=(...p)=>{e.mouseInteraction&&e.mouseInteraction(...p),a(...p)},t.scrollCb=(...p)=>{e.scroll&&e.scroll(...p),i(...p)},t.viewportResizeCb=(...p)=>{e.viewportResize&&e.viewportResize(...p),s(...p)},t.inputCb=(...p)=>{e.input&&e.input(...p),o(...p)},t.mediaInteractionCb=(...p)=>{e.mediaInteaction&&e.mediaInteaction(...p),l(...p)},t.styleSheetRuleCb=(...p)=>{e.styleSheetRule&&e.styleSheetRule(...p),u(...p)},t.styleDeclarationCb=(...p)=>{e.styleDeclaration&&e.styleDeclaration(...p),c(...p)},t.canvasMutationCb=(...p)=>{e.canvasMutation&&e.canvasMutation(...p),d(...p)},t.fontCb=(...p)=>{e.font&&e.font(...p),f(...p)}}function Jne(t,e={}){const n=t.doc.defaultView;if(!n)return()=>{};Zne(t,e);const r=DP(t,t.doc),a=Vne(t),i=Wne(t),s=RP(t),o=Gne(t),l=qne(t),u=Xne(t),c=Yne(t,{win:n}),d=Kne(t,{win:n}),f=t.collectFonts?Qne(t):()=>{},p=[];for(const m of t.plugins)p.push(m.observer(m.callback,n,m.options));return bn(()=>{pd.forEach(m=>m.reset()),r.disconnect(),a(),i(),s(),o(),l(),u();try{c(),d()}catch{}f(),p.forEach(m=>m())})}function N1(t){return typeof window[t]<"u"}function E1(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class ere{constructor(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}addIframe(e){this.iframes.set(e,!0)}addLoadListener(e){this.loadListener=e}attachIframe(e,n){var r;this.mutationCb({adds:[{parentId:e.__sn.id,nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),(r=this.loadListener)===null||r===void 0||r.call(this,e)}}class tre{constructor(e){this.restorePatches=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror;const n=this;this.restorePatches.push(Mf(HTMLElement.prototype,"attachShadow",function(r){return function(){const a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,this.ownerDocument),a}}))}addShadowRoot(e,n){DP(Object.assign(Object.assign({},this.bypassOptions),{doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e),RP(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))}observeAttachShadow(e){if(e.contentWindow){const n=this;this.restorePatches.push(Mf(e.contentWindow.HTMLElement.prototype,"attachShadow",function(r){return function(){const a=r.apply(this,arguments);return this.shadowRoot&&n.addShadowRoot(this.shadowRoot,e.contentDocument),a}}))}}reset(){this.restorePatches.forEach(e=>e())}}function nre(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function rre(t,e,n,r,a,i){const s=[],o=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype);for(const l of o)try{if(typeof e.CanvasRenderingContext2D.prototype[l]!="function")continue;const u=Mf(e.CanvasRenderingContext2D.prototype,l,function(c){return function(...d){return gi(this.canvas,n,a,r)||setTimeout(()=>{const f=[...d];if(l==="drawImage"&&f[0]&&f[0]instanceof HTMLCanvasElement){const p=f[0],m=p.getContext("2d");let g=m==null?void 0:m.getImageData(0,0,p.width,p.height),v=g==null?void 0:g.data;f[0]=JSON.stringify(v)}t(this.canvas,{type:Pf["2D"],property:l,args:f})},0),c.apply(this,d)}});s.push(u)}catch{const c=fv(e.CanvasRenderingContext2D.prototype,l,{set(d){t(this.canvas,{type:Pf["2D"],property:l,args:[d],setter:!0})}});s.push(c)}return()=>{s.forEach(l=>l())}}function are(t,e,n,r){const a=[];try{const i=Mf(t.HTMLCanvasElement.prototype,"getContext",function(s){return function(o,...l){return gi(this,e,n,r)||"__context"in this||(this.__context=o),s.apply(this,[o,...l])}});a.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{a.forEach(i=>i())}}var rf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ire=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var T1=0;T1<rf.length;T1++)ire[rf.charCodeAt(T1)]=T1;var sre=function(t){var e=new Uint8Array(t),n,r=e.length,a="";for(n=0;n<r;n+=3)a+=rf[e[n]>>2],a+=rf[(e[n]&3)<<4|e[n+1]>>4],a+=rf[(e[n+1]&15)<<2|e[n+2]>>6],a+=rf[e[n+2]&63];return r%3===2?a=a.substring(0,a.length-1)+"=":r%3===1&&(a=a.substring(0,a.length-2)+"=="),a};const M7=new Map;function ore(t,e){let n=M7.get(t);return n||(n=new Map,M7.set(t,n)),n.has(e)||n.set(e,[]),n.get(e)}const $P=(t,e,n)=>{if(!t||!(OP(t,e)||typeof t=="object"))return;const r=t.constructor.name,a=ore(n,r);let i=a.indexOf(t);return i===-1&&(i=a.length,a.push(t)),i};function A2(t,e,n){if(t instanceof Array)return t.map(r=>A2(r,e,n));if(t===null)return t;if(t instanceof Float32Array||t instanceof Float64Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Int8Array||t instanceof Uint8ClampedArray)return{rr_type:t.constructor.name,args:[Object.values(t)]};if(t instanceof ArrayBuffer){const r=t.constructor.name,a=sre(t);return{rr_type:r,base64:a}}else{if(t instanceof DataView)return{rr_type:t.constructor.name,args:[A2(t.buffer,e,n),t.byteOffset,t.byteLength]};if(t instanceof HTMLImageElement){const r=t.constructor.name,{src:a}=t;return{rr_type:r,src:a}}else{if(t instanceof ImageData)return{rr_type:t.constructor.name,args:[A2(t.data,e,n),t.width,t.height]};if(OP(t,e)||typeof t=="object"){const r=t.constructor.name,a=$P(t,e,n);return{rr_type:r,index:a}}}}return t}const lre=(t,e,n)=>[...t].map(r=>A2(r,e,n)),OP=(t,e)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(a=>typeof e[a]=="function").find(a=>t instanceof e[a]);function B7(t,e,n,r,a,i,s,o){const l=[],u=Object.getOwnPropertyNames(t);for(const c of u)try{if(typeof t[c]!="function")continue;const d=Mf(t,c,function(f){return function(...p){const m=f.apply(this,p);if($P(m,o,t),!gi(this.canvas,r,i,a)){const g=s.getId(this.canvas),v=lre([...p],o,t),y={type:e,property:c,args:v};n(this.canvas,y)}return m}});l.push(d)}catch{const f=fv(t,c,{set(p){n(this.canvas,{type:e,property:c,args:[p],setter:!0})}});l.push(f)}return l}function ure(t,e,n,r,a,i){const s=[];return s.push(...B7(e.WebGLRenderingContext.prototype,Pf.WebGL,t,n,r,a,i,e)),typeof e.WebGL2RenderingContext<"u"&&s.push(...B7(e.WebGL2RenderingContext.prototype,Pf.WebGL2,t,n,r,a,i,e)),()=>{s.forEach(o=>o())}}class cre{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=function(n,r){(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(n)||this.pendingCanvasMutations.set(n,[]),this.pendingCanvasMutations.get(n).push(r)},this.mutationCb=e.mutationCb,this.mirror=e.mirror,e.recordCanvas===!0&&this.initCanvasMutationObserver(e.win,e.blockClass,e.blockSelector,e.unblockSelector)}initCanvasMutationObserver(e,n,r,a){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=are(e,n,a,r),s=rre(this.processMutation.bind(this),e,n,a,r,this.mirror),o=ure(this.processMutation.bind(this),e,n,a,r,this.mirror);this.resetObservers=()=>{i(),s(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const e=n=>{this.rafStamps.latestId=n,requestAnimationFrame(e)};requestAnimationFrame(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(e,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(e);if(!r||n===-1)return;const a=r.map(s=>nre(s,["type"])),{type:i}=r[0];this.mutationCb({id:n,type:i,commands:a}),this.pendingCanvasMutations.delete(e)}}function Aa(t){return Object.assign(Object.assign({},t),{timestamp:Date.now()})}let na,Mm;const ym=Bne();function Wd(t={}){const{emit:e,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:a="rr-block",blockSelector:i=null,unblockSelector:s=null,ignoreClass:o="rr-ignore",ignoreSelector:l=null,maskTextClass:u="rr-mask",maskTextSelector:c=null,maskInputSelector:d=null,unmaskTextSelector:f=null,unmaskInputSelector:p=null,inlineStylesheet:m=!0,maskAllText:g=!1,maskAllInputs:v,maskInputOptions:y,slimDOMOptions:b,maskInputFn:w,maskTextFn:x,hooks:k,packFn:S,sampling:E={},mousemoveWait:I,recordCanvas:C=!1,userTriggeredOnInput:R=!1,collectFonts:z=!1,inlineImages:H=!1,plugins:U,keepIframeSrcFn:q=()=>!1,onMutation:Q}=t;if(!e)throw new Error("emit function is required");I!==void 0&&E.mousemove===void 0&&(E.mousemove=I);const re=v===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},he=b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:b==="all",headMetaDescKeywords:b==="all"}:b||{};zne();let ae,se=0;const X=Ie=>{for(const Le of U||[])Le.eventProcessor&&(Ie=Le.eventProcessor(Ie));return S&&(Ie=S(Ie)),Ie};na=(Ie,Le)=>{var Ge;if(!((Ge=pd[0])===null||Ge===void 0)&&Ge.isFrozen()&&Ie.type!==Tn.FullSnapshot&&!(Ie.type===Tn.IncrementalSnapshot&&Ie.data.source===Ra.Mutation)&&pd.forEach(at=>at.unfreeze()),e(X(Ie),Le),Ie.type===Tn.FullSnapshot)ae=Ie,se=0;else if(Ie.type===Tn.IncrementalSnapshot){if(Ie.data.source===Ra.Mutation&&Ie.data.isAttachIframe)return;se++;const at=r&&se>=r,pe=n&&Ie.timestamp-ae.timestamp>n;(at||pe)&&Mm(!0)}};const ne=Ie=>{na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.Mutation},Ie)}))},ke=Ie=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.Scroll},Ie)})),Oe=Ie=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.CanvasMutation},Ie)})),We=new ere({mutationCb:ne}),ze=new cre({recordCanvas:C,mutationCb:Oe,win:window,blockClass:a,blockSelector:i,unblockSelector:s,mirror:ym}),be=new tre({mutationCb:ne,scrollCb:ke,bypassOptions:{onMutation:Q,blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:u,maskTextSelector:c,unmaskTextSelector:f,maskInputSelector:d,unmaskInputSelector:p,inlineStylesheet:m,maskAllText:g,maskInputOptions:re,maskTextFn:x,maskInputFn:w,recordCanvas:C,inlineImages:H,sampling:E,slimDOMOptions:he,iframeManager:We,canvasManager:ze},mirror:ym});Mm=(Ie=!1)=>{var Le,Ge,at,pe;na(Aa({type:Tn.Meta,data:{href:window.location.href,width:EP(),height:NP()}}),Ie),pd.forEach(nt=>nt.lock());const[de,De]=Pne(document,{blockClass:a,blockSelector:i,unblockSelector:s,maskTextClass:u,maskTextSelector:c,unmaskTextSelector:f,maskInputSelector:d,unmaskInputSelector:p,inlineStylesheet:m,maskAllText:g,maskAllInputs:re,maskTextFn:x,slimDOM:he,recordCanvas:C,inlineImages:H,onSerialize:nt=>{IP(nt)&&We.addIframe(nt),AP(nt)&&be.addShadowRoot(nt.shadowRoot,document)},onIframeLoad:(nt,Et)=>{We.attachIframe(nt,Et),be.observeAttachShadow(nt)},keepIframeSrcFn:q});if(!de)return console.warn("Failed to snapshot the document");ym.map=De,na(Aa({type:Tn.FullSnapshot,data:{node:de,initialOffset:{left:window.pageXOffset!==void 0?window.pageXOffset:(document==null?void 0:document.documentElement.scrollLeft)||((Ge=(Le=document==null?void 0:document.body)===null||Le===void 0?void 0:Le.parentElement)===null||Ge===void 0?void 0:Ge.scrollLeft)||(document==null?void 0:document.body.scrollLeft)||0,top:window.pageYOffset!==void 0?window.pageYOffset:(document==null?void 0:document.documentElement.scrollTop)||((pe=(at=document==null?void 0:document.body)===null||at===void 0?void 0:at.parentElement)===null||pe===void 0?void 0:pe.scrollTop)||(document==null?void 0:document.body.scrollTop)||0}}})),pd.forEach(nt=>nt.unlock())};try{const Ie=[];Ie.push(gs("DOMContentLoaded",()=>{na(Aa({type:Tn.DomContentLoaded,data:{}}))}));const Le=at=>{var pe;return bn(Jne)({onMutation:Q,mutationCb:ne,mousemoveCb:(de,De)=>na(Aa({type:Tn.IncrementalSnapshot,data:{source:De,positions:de}})),mouseInteractionCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.MouseInteraction},de)})),scrollCb:ke,viewportResizeCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.ViewportResize},de)})),inputCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.Input},de)})),mediaInteractionCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.MediaInteraction},de)})),styleSheetRuleCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.StyleSheetRule},de)})),styleDeclarationCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.StyleDeclaration},de)})),canvasMutationCb:Oe,fontCb:de=>na(Aa({type:Tn.IncrementalSnapshot,data:Object.assign({source:Ra.Font},de)})),blockClass:a,ignoreClass:o,ignoreSelector:l,maskTextClass:u,maskTextSelector:c,unmaskTextSelector:f,maskInputSelector:d,unmaskInputSelector:p,maskInputOptions:re,inlineStylesheet:m,sampling:E,recordCanvas:C,inlineImages:H,userTriggeredOnInput:R,collectFonts:z,doc:at,maskAllText:g,maskInputFn:w,maskTextFn:x,blockSelector:i,unblockSelector:s,slimDOMOptions:he,mirror:ym,iframeManager:We,shadowDomManager:be,canvasManager:ze,plugins:((pe=U==null?void 0:U.filter(de=>de.observer))===null||pe===void 0?void 0:pe.map(de=>({observer:de.observer,options:de.options,callback:De=>na(Aa({type:Tn.Plugin,data:{plugin:de.name,payload:De}}))})))||[]},k)};We.addLoadListener(at=>{try{Ie.push(Le(at.contentDocument))}catch(pe){console.warn(pe)}});const Ge=()=>{Mm(),Ie.push(Le(document))};return document.readyState==="interactive"||document.readyState==="complete"?Ge():Ie.push(gs("load",()=>{na(Aa({type:Tn.Load,data:{}})),Ge()},window)),()=>{Ie.forEach(at=>at())}}catch(Ie){console.warn(Ie)}}Wd.addCustomEvent=(t,e)=>{if(!na)throw new Error("please add custom event after start recording");na(Aa({type:Tn.Custom,data:{tag:t,payload:e}}))};Wd.freezePage=()=>{pd.forEach(t=>t.freeze())};Wd.takeFullSnapshot=t=>{if(!Mm)throw new Error("please take full snapshot after start recording");Mm(t)};Wd.mirror=ym;function NN(t){return t>9999999999?t:t*1e3}function dre(t){return t>9999999999?t/1e3:t}function pv(t,e){e.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(e.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:Tn.Custom,timestamp:(e.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ol(e,10,1e3)}}),e.category==="console")))}const hre="button,a";function EN(t){const e=LP(t);return!e||!(e instanceof Element)?e:e.closest(hre)||e}function LP(t){return fre(t)?t.target:t}function fre(t){return typeof t=="object"&&!!t&&"target"in t}let Du;function pre(t){return Du||(Du=[],mre()),Du.push(t),()=>{const e=Du?Du.indexOf(t):-1;e>-1&&Du.splice(e,1)}}function mre(){ya(ln,"open",function(t){return function(...e){if(Du)try{Du.forEach(n=>n())}catch{}return t.apply(ln,e)}})}function gre(t,e,n){t.handleClick(e,n)}class yre{constructor(e,n,r=pv){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const e=()=>{this._lastMutation=C1()},n=()=>{this._lastScroll=C1()},r=pre(()=>{this._lastMutation=C1()}),a=s=>{if(!s.target)return;const o=EN(s);o&&this._handleMultiClick(o)},i=new MutationObserver(e);i.observe(ln.document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),ln.addEventListener("scroll",n,{passive:!0}),ln.addEventListener("click",a,{passive:!0}),this._teardown=()=>{ln.removeEventListener("scroll",n),ln.removeEventListener("click",a),r(),i.disconnect(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,n){if(vre(n,this._ignoreSelector)||!wre(e))return;const r={timestamp:dre(e.timestamp),clickBreadcrumb:e,clickCount:0,node:n};this._clicks.some(a=>a.node===r.node&&Math.abs(a.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}_handleMultiClick(e){this._getClicks(e).forEach(n=>{n.clickCount++})}_getClicks(e){return this._clicks.filter(n=>n.node===e)}_checkClicks(){const e=[],n=C1();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&e.push(r)});for(const r of e){const a=this._clicks.indexOf(r);a>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const n=this._replay,r=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,a=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!r&&!a,{clickCount:s,clickBreadcrumb:o}=e;if(i){const l=Math.min(e.mutationAfter||this._timeout,this._timeout)*1e3,u=l<this._timeout*1e3?"mutation":"timeout",c={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:ln.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:u,clickCount:s||1}};this._addBreadcrumbEvent(n,c);return}if(s>1){const l={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:ln.location.href,route:n.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const bre=["A","BUTTON","INPUT"];function vre(t,e){return!!(!bre.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||e&&t.matches(e))}function wre(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function C1(){return Date.now()/1e3}function Kl(t){return{timestamp:Date.now()/1e3,type:"default",...t}}var Ry;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Ry||(Ry={}));const xre=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function _re(t){const e={};for(const n in t)if(xre.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),e[r]=t[n]}return e}const kre=t=>e=>{if(!t.isEnabled())return;const n=Sre(e);if(!n)return;const r=e.name==="click",a=r&&e.event;r&&t.clickDetector&&a&&!a.altKey&&!a.metaKey&&!a.ctrlKey&&!a.shiftKey&&gre(t.clickDetector,n,EN(e.event)),pv(t,n)};function FP(t,e){const n=t&&Ere(t)&&t.__sn.type===Ry.Element?t.__sn:null;return{message:e,data:n?{nodeId:n.id,node:{id:n.id,tagName:n.tagName,textContent:t?Array.from(t.childNodes).map(r=>"__sn"in r&&r.__sn.type===Ry.Text&&r.__sn.textContent).filter(Boolean).map(r=>r.trim()).join(""):"",attributes:_re(n.attributes)}}:{}}}function Sre(t){const{target:e,message:n}=Nre(t);return Kl({category:`ui.${t.name}`,...FP(e,n)})}function Nre(t){const e=t.name==="click";let n,r=null;try{r=e?EN(t.event):LP(t.event),n=mc(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Ere(t){return"__sn"in t}function Tre(t,e){if(!t.isEnabled())return;t.updateUserActivity();const n=Cre(e);n&&pv(t,n)}function Cre(t){const{metaKey:e,shiftKey:n,ctrlKey:r,altKey:a,key:i,target:s}=t;if(!s||Ire(s)||!i)return null;const o=e||r||a,l=i.length===1;if(!o&&l)return null;const u=mc(s,{maxStringLength:200})||"<unknown>",c=FP(s,u);return Kl({category:"ui.keyDown",message:u,data:{...c.data,metaKey:e,shiftKey:n,ctrlKey:r,altKey:a,key:i}})}function Ire(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const Are=["name","type","startTime","transferSize","duration"];function z7(t){return function(e){return Are.every(n=>t[n]===e[n])}}function Dre(t,e){const[n,r,a]=t.reduce((l,u)=>(u.entryType==="navigation"?l[0].push(u):u.entryType==="largest-contentful-paint"?l[1].push(u):l[2].push(u),l),[[],[],[]]),i=[],s=[];let o=r.length?r[r.length-1]:void 0;return e.forEach(l=>{if(l.entryType==="largest-contentful-paint"){(!o||o.startTime<l.startTime)&&(o=l);return}if(l.entryType==="navigation"){const u=l;l.duration>0&&!n.find(z7(u))&&!s.find(z7(u))&&s.push(u);return}i.push(l)}),[...o?[o]:[],...n,...a,...i,...s].sort((l,u)=>l.startTime-u.startTime)}function Rre(t){const e=r=>{const a=Dre(t.performanceEvents,r.getEntries());t.performanceEvents=a},n=new PerformanceObserver(e);return["element","event","first-input","largest-contentful-paint","layout-shift","longtask","navigation","paint","resource"].forEach(r=>{try{n.observe({type:r,buffered:!0})}catch{}}),n}const $re=`/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
function t(t){let e=t.length;for(;--e>=0;)t[e]=0}const e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),a=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),i=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),n=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=new Array(576);t(s);const r=new Array(60);t(r);const o=new Array(512);t(o);const l=new Array(256);t(l);const h=new Array(29);t(h);const d=new Array(30);function _(t,e,a,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}let f,c,u;function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}t(d);const m=t=>t<256?o[t]:o[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},g=(t,e,a)=>{t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},p=(t,e,a)=>{g(t,a[2*e],a[2*e+1])},k=(t,e)=>{let a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},v=(t,e,a)=>{const i=new Array(16);let n,s,r=0;for(n=1;n<=15;n++)r=r+a[n-1]<<1,i[n]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=k(i[e]++,e))}},y=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},x=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,a,i)=>{const n=2*e,s=2*a;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[a]},A=(t,e,a)=>{const i=t.heap[a];let n=a<<1;for(;n<=t.heap_len&&(n<t.heap_len&&z(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!z(e,i,t.heap[n],t.depth));)t.heap[a]=t.heap[n],a=n,n<<=1;t.heap[a]=i},E=(t,i,n)=>{let s,r,o,_,f=0;if(0!==t.sym_next)do{s=255&t.pending_buf[t.sym_buf+f++],s+=(255&t.pending_buf[t.sym_buf+f++])<<8,r=t.pending_buf[t.sym_buf+f++],0===s?p(t,r,i):(o=l[r],p(t,o+256+1,i),_=e[o],0!==_&&(r-=h[o],g(t,r,_)),s--,o=m(s),p(t,o,n),_=a[o],0!==_&&(s-=d[o],g(t,s,_)))}while(f<t.sym_next);p(t,256,i)},R=(t,e)=>{const a=e.dyn_tree,i=e.stat_desc.static_tree,n=e.stat_desc.has_stree,s=e.stat_desc.elems;let r,o,l,h=-1;for(t.heap_len=0,t.heap_max=573,r=0;r<s;r++)0!==a[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=h<2?++h:0,a[2*l]=1,t.depth[l]=0,t.opt_len--,n&&(t.static_len-=i[2*l+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)A(t,a,r);l=s;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),o=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=o,a[2*l]=a[2*r]+a[2*o],t.depth[l]=(t.depth[r]>=t.depth[o]?t.depth[r]:t.depth[o])+1,a[2*r+1]=a[2*o+1]=l,t.heap[1]=l++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const a=e.dyn_tree,i=e.max_code,n=e.stat_desc.static_tree,s=e.stat_desc.has_stree,r=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,l=e.stat_desc.max_length;let h,d,_,f,c,u,w=0;for(f=0;f<=15;f++)t.bl_count[f]=0;for(a[2*t.heap[t.heap_max]+1]=0,h=t.heap_max+1;h<573;h++)d=t.heap[h],f=a[2*a[2*d+1]+1]+1,f>l&&(f=l,w++),a[2*d+1]=f,d>i||(t.bl_count[f]++,c=0,d>=o&&(c=r[d-o]),u=a[2*d],t.opt_len+=u*(f+c),s&&(t.static_len+=u*(n[2*d+1]+c)));if(0!==w){do{for(f=l-1;0===t.bl_count[f];)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[l]--,w-=2}while(w>0);for(f=l;0!==f;f--)for(d=t.bl_count[f];0!==d;)_=t.heap[--h],_>i||(a[2*_+1]!==f&&(t.opt_len+=(f-a[2*_+1])*a[2*_],a[2*_+1]=f),d--)}})(t,e),v(a,h,t.bl_count)},Z=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),e[2*(a+1)+1]=65535,i=0;i<=a;i++)n=r,r=e[2*(i+1)+1],++o<l&&n===r||(o<h?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4))},U=(t,e,a)=>{let i,n,s=-1,r=e[1],o=0,l=7,h=4;for(0===r&&(l=138,h=3),i=0;i<=a;i++)if(n=r,r=e[2*(i+1)+1],!(++o<l&&n===r)){if(o<h)do{p(t,n,t.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(p(t,n,t.bl_tree),o--),p(t,16,t.bl_tree),g(t,o-3,2)):o<=10?(p(t,17,t.bl_tree),g(t,o-3,3)):(p(t,18,t.bl_tree),g(t,o-11,7));o=0,s=n,0===r?(l=138,h=3):n===r?(l=6,h=3):(l=7,h=4)}};let S=!1;const D=(t,e,a,i)=>{g(t,0+(i?1:0),3),x(t),b(t,a),b(t,~a),a&&t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a};var T=(t,e,a,i)=>{let o,l,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,a=4093624447;for(e=0;e<=31;e++,a>>>=1)if(1&a&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),R(t,t.l_desc),R(t,t.d_desc),h=(t=>{let e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),R(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*n[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),o=t.opt_len+3+7>>>3,l=t.static_len+3+7>>>3,l<=o&&(o=l)):o=l=a+5,a+4<=o&&-1!==e?D(t,e,a,i):4===t.strategy||l===o?(g(t,2+(i?1:0),3),E(t,s,r)):(g(t,4+(i?1:0),3),((t,e,a,i)=>{let s;for(g(t,e-257,5),g(t,a-1,5),g(t,i-4,4),s=0;s<i;s++)g(t,t.bl_tree[2*n[s]+1],3);U(t,t.dyn_ltree,e-1),U(t,t.dyn_dtree,a-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&x(t)},O={_tr_init:t=>{S||((()=>{let t,n,w,m,b;const g=new Array(16);for(w=0,m=0;m<28;m++)for(h[m]=w,t=0;t<1<<e[m];t++)l[w++]=m;for(l[w-1]=m,b=0,m=0;m<16;m++)for(d[m]=b,t=0;t<1<<a[m];t++)o[b++]=m;for(b>>=7;m<30;m++)for(d[m]=b<<7,t=0;t<1<<a[m]-7;t++)o[256+b++]=m;for(n=0;n<=15;n++)g[n]=0;for(t=0;t<=143;)s[2*t+1]=8,t++,g[8]++;for(;t<=255;)s[2*t+1]=9,t++,g[9]++;for(;t<=279;)s[2*t+1]=7,t++,g[7]++;for(;t<=287;)s[2*t+1]=8,t++,g[8]++;for(v(s,287,g),t=0;t<30;t++)r[2*t+1]=5,r[2*t]=k(t,5);f=new _(s,e,257,286,15),c=new _(r,a,0,30,15),u=new _(new Array(0),i,0,19,7)})(),S=!0),t.l_desc=new w(t.dyn_ltree,f),t.d_desc=new w(t.dyn_dtree,c),t.bl_desc=new w(t.bl_tree,u),t.bi_buf=0,t.bi_valid=0,y(t)},_tr_stored_block:D,_tr_flush_block:T,_tr_tally:(t,e,a)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=a,0===e?t.dyn_ltree[2*a]++:(t.matches++,e--,t.dyn_ltree[2*(l[a]+256+1)]++,t.dyn_dtree[2*m(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{g(t,2,3),p(t,256,s),(t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var F=(t,e,a,i)=>{let n=65535&t|0,s=t>>>16&65535|0,r=0;for(;0!==a;){r=a>2e3?2e3:a,a-=r;do{n=n+e[i++]|0,s=s+n|0}while(--r);n%=65521,s%=65521}return n|s<<16|0};const L=new Uint32Array((()=>{let t,e=[];for(var a=0;a<256;a++){t=a;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e})());var N=(t,e,a,i)=>{const n=L,s=i+a;t^=-1;for(let a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t},I={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},B={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:C,_tr_stored_block:H,_tr_flush_block:M,_tr_tally:j,_tr_align:K}=O,{Z_NO_FLUSH:P,Z_PARTIAL_FLUSH:Y,Z_FULL_FLUSH:G,Z_FINISH:X,Z_BLOCK:W,Z_OK:q,Z_STREAM_END:J,Z_STREAM_ERROR:Q,Z_DATA_ERROR:V,Z_BUF_ERROR:$,Z_DEFAULT_COMPRESSION:tt,Z_FILTERED:et,Z_HUFFMAN_ONLY:at,Z_RLE:it,Z_FIXED:nt,Z_DEFAULT_STRATEGY:st,Z_UNKNOWN:rt,Z_DEFLATED:ot}=B,lt=(t,e)=>(t.msg=I[e],e),ht=t=>2*t-(t>4?9:0),dt=t=>{let e=t.length;for(;--e>=0;)t[e]=0},_t=t=>{let e,a,i,n=t.w_size;e=t.hash_size,i=e;do{a=t.head[--i],t.head[i]=a>=n?a-n:0}while(--e);e=n,i=e;do{a=t.prev[--i],t.prev[i]=a>=n?a-n:0}while(--e)};let ft=(t,e,a)=>(e<<t.hash_shift^a)&t.hash_mask;const ct=t=>{const e=t.state;let a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},ut=(t,e)=>{M(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,ct(t.strm)},wt=(t,e)=>{t.pending_buf[t.pending++]=e},mt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},bt=(t,e,a,i)=>{let n=t.avail_in;return n>i&&(n=i),0===n?0:(t.avail_in-=n,e.set(t.input.subarray(t.next_in,t.next_in+n),a),1===t.state.wrap?t.adler=F(t.adler,e,n,a):2===t.state.wrap&&(t.adler=N(t.adler,e,n,a)),t.next_in+=n,t.total_in+=n,n)},gt=(t,e)=>{let a,i,n=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match;const l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,h=t.window,d=t.w_mask,_=t.prev,f=t.strstart+258;let c=h[s+r-1],u=h[s+r];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(a=e,h[a+r]===u&&h[a+r-1]===c&&h[a]===h[s]&&h[++a]===h[s+1]){s+=2,a++;do{}while(h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&h[++s]===h[++a]&&s<f);if(i=258-(f-s),s=f-258,i>r){if(t.match_start=e,r=i,i>=o)break;c=h[s+r-1],u=h[s+r]}}}while((e=_[e&d])>l&&0!=--n);return r<=t.lookahead?r:t.lookahead},pt=t=>{const e=t.w_size;let a,i,n;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-262)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),_t(t),i+=e),0===t.strm.avail_in)break;if(a=bt(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=a,t.lookahead+t.insert>=3)for(n=t.strstart-t.insert,t.ins_h=t.window[n],t.ins_h=ft(t,t.ins_h,t.window[n+1]);t.insert&&(t.ins_h=ft(t,t.ins_h,t.window[n+3-1]),t.prev[n&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=n,n++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},kt=(t,e)=>{let a,i,n,s=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r=0,o=t.strm.avail_in;do{if(a=65535,n=t.bi_valid+42>>3,t.strm.avail_out<n)break;if(n=t.strm.avail_out-n,i=t.strstart-t.block_start,a>i+t.strm.avail_in&&(a=i+t.strm.avail_in),a>n&&(a=n),a<s&&(0===a&&e!==X||e===P||a!==i+t.strm.avail_in))break;r=e===X&&a===i+t.strm.avail_in?1:0,H(t,0,0,r),t.pending_buf[t.pending-4]=a,t.pending_buf[t.pending-3]=a>>8,t.pending_buf[t.pending-2]=~a,t.pending_buf[t.pending-1]=~a>>8,ct(t.strm),i&&(i>a&&(i=a),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,a-=i),a&&(bt(t.strm,t.strm.output,t.strm.next_out,a),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a)}while(0===r);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r?4:e!==P&&e!==X&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(n=t.window_size-t.strstart,t.strm.avail_in>n&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,n+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),n>t.strm.avail_in&&(n=t.strm.avail_in),n&&(bt(t.strm,t.window,t.strstart,n),t.strstart+=n,t.insert+=n>t.w_size-t.insert?t.w_size-t.insert:n),t.high_water<t.strstart&&(t.high_water=t.strstart),n=t.bi_valid+42>>3,n=t.pending_buf_size-n>65535?65535:t.pending_buf_size-n,s=n>t.w_size?t.w_size:n,i=t.strstart-t.block_start,(i>=s||(i||e===X)&&e!==P&&0===t.strm.avail_in&&i<=n)&&(a=i>n?n:i,r=e===X&&0===t.strm.avail_in&&a===i?1:0,H(t,t.block_start,a,r),t.block_start+=a,ct(t.strm)),r?3:1)},vt=(t,e)=>{let a,i;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a)),t.match_length>=3)if(i=j(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ft(t,t.ins_h,t.window[t.strstart+1]);else i=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2},yt=(t,e)=>{let a,i,n;for(;;){if(t.lookahead<262){if(pt(t),t.lookahead<262&&e===P)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-262&&(t.match_length=gt(t,a),t.match_length<=5&&(t.strategy===et||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-3,i=j(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=n&&(t.ins_h=ft(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ut(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=j(t,0,t.window[t.strstart-1]),i&&ut(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=j(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2};function xt(t,e,a,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=i,this.func=n}const zt=[new xt(0,0,0,0,kt),new xt(4,4,8,4,vt),new xt(4,5,16,8,vt),new xt(4,6,32,32,vt),new xt(4,4,16,16,yt),new xt(8,16,32,32,yt),new xt(8,16,128,128,yt),new xt(8,32,128,256,yt),new xt(32,128,258,1024,yt),new xt(32,258,258,4096,yt)];function At(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ot,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),dt(this.dyn_ltree),dt(this.dyn_dtree),dt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),dt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),dt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Et=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||42!==e.status&&57!==e.status&&69!==e.status&&73!==e.status&&91!==e.status&&103!==e.status&&113!==e.status&&666!==e.status?1:0},Rt=t=>{if(Et(t))return lt(t,Q);t.total_in=t.total_out=0,t.data_type=rt;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,C(e),q},Zt=t=>{const e=Rt(t);var a;return e===q&&((a=t.state).window_size=2*a.w_size,dt(a.head),a.max_lazy_match=zt[a.level].max_lazy,a.good_match=zt[a.level].good_length,a.nice_match=zt[a.level].nice_length,a.max_chain_length=zt[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),e},Ut=(t,e,a,i,n,s)=>{if(!t)return Q;let r=1;if(e===tt&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),n<1||n>9||a!==ot||i<8||i>15||e<0||e>9||s<0||s>nt||8===i&&1!==r)return lt(t,Q);8===i&&(i=9);const o=new At;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=e,o.strategy=s,o.method=a,Zt(t)};var St={deflateInit:(t,e)=>Ut(t,e,ot,15,8,st),deflateInit2:Ut,deflateReset:Zt,deflateResetKeep:Rt,deflateSetHeader:(t,e)=>Et(t)||2!==t.state.wrap?Q:(t.state.gzhead=e,q),deflate:(t,e)=>{if(Et(t)||e>W||e<0)return t?lt(t,Q):Q;const a=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===a.status&&e!==X)return lt(t,0===t.avail_out?$:Q);const i=a.last_flush;if(a.last_flush=e,0!==a.pending){if(ct(t),0===t.avail_out)return a.last_flush=-1,q}else if(0===t.avail_in&&ht(e)<=ht(i)&&e!==X)return lt(t,$);if(666===a.status&&0!==t.avail_in)return lt(t,$);if(42===a.status&&0===a.wrap&&(a.status=113),42===a.status){let e=ot+(a.w_bits-8<<4)<<8,i=-1;if(i=a.strategy>=at||a.level<2?0:a.level<6?1:6===a.level?2:3,e|=i<<6,0!==a.strstart&&(e|=32),e+=31-e%31,mt(a,e),0!==a.strstart&&(mt(a,t.adler>>>16),mt(a,65535&t.adler)),t.adler=1,a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(57===a.status)if(t.adler=0,wt(a,31),wt(a,139),wt(a,8),a.gzhead)wt(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),wt(a,255&a.gzhead.time),wt(a,a.gzhead.time>>8&255),wt(a,a.gzhead.time>>16&255),wt(a,a.gzhead.time>>24&255),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(wt(a,255&a.gzhead.extra.length),wt(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=N(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69;else if(wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,0),wt(a,9===a.level?2:a.strategy>=at||a.level<2?4:0),wt(a,3),a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q;if(69===a.status){if(a.gzhead.extra){let e=a.pending,i=(65535&a.gzhead.extra.length)-a.gzindex;for(;a.pending+i>a.pending_buf_size;){let n=a.pending_buf_size-a.pending;if(a.pending_buf.set(a.gzhead.extra.subarray(a.gzindex,a.gzindex+n),a.pending),a.pending=a.pending_buf_size,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex+=n,ct(t),0!==a.pending)return a.last_flush=-1,q;e=0,i-=n}let n=new Uint8Array(a.gzhead.extra);a.pending_buf.set(n.subarray(a.gzindex,a.gzindex+i),a.pending),a.pending+=i,a.gzhead.hcrc&&a.pending>e&&(t.adler=N(t.adler,a.pending_buf,a.pending-e,e)),a.gzindex=0}a.status=73}if(73===a.status){if(a.gzhead.name){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),a.gzindex=0}a.status=91}if(91===a.status){if(a.gzhead.comment){let e,i=a.pending;do{if(a.pending===a.pending_buf_size){if(a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i)),ct(t),0!==a.pending)return a.last_flush=-1,q;i=0}e=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,wt(a,e)}while(0!==e);a.gzhead.hcrc&&a.pending>i&&(t.adler=N(t.adler,a.pending_buf,a.pending-i,i))}a.status=103}if(103===a.status){if(a.gzhead.hcrc){if(a.pending+2>a.pending_buf_size&&(ct(t),0!==a.pending))return a.last_flush=-1,q;wt(a,255&t.adler),wt(a,t.adler>>8&255),t.adler=0}if(a.status=113,ct(t),0!==a.pending)return a.last_flush=-1,q}if(0!==t.avail_in||0!==a.lookahead||e!==P&&666!==a.status){let i=0===a.level?kt(a,e):a.strategy===at?((t,e)=>{let a;for(;;){if(0===t.lookahead&&(pt(t),0===t.lookahead)){if(e===P)return 1;break}if(t.match_length=0,a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):a.strategy===it?((t,e)=>{let a,i,n,s;const r=t.window;for(;;){if(t.lookahead<=258){if(pt(t),t.lookahead<=258&&e===P)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=t.strstart-1,i=r[n],i===r[++n]&&i===r[++n]&&i===r[++n])){s=t.strstart+258;do{}while(i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&i===r[++n]&&n<s);t.match_length=258-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=j(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=j(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(ut(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===X?(ut(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(ut(t,!1),0===t.strm.avail_out)?1:2})(a,e):zt[a.level].func(a,e);if(3!==i&&4!==i||(a.status=666),1===i||3===i)return 0===t.avail_out&&(a.last_flush=-1),q;if(2===i&&(e===Y?K(a):e!==W&&(H(a,0,0,!1),e===G&&(dt(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ct(t),0===t.avail_out))return a.last_flush=-1,q}return e!==X?q:a.wrap<=0?J:(2===a.wrap?(wt(a,255&t.adler),wt(a,t.adler>>8&255),wt(a,t.adler>>16&255),wt(a,t.adler>>24&255),wt(a,255&t.total_in),wt(a,t.total_in>>8&255),wt(a,t.total_in>>16&255),wt(a,t.total_in>>24&255)):(mt(a,t.adler>>>16),mt(a,65535&t.adler)),ct(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?q:J)},deflateEnd:t=>{if(Et(t))return Q;const e=t.state.status;return t.state=null,113===e?lt(t,V):q},deflateSetDictionary:(t,e)=>{let a=e.length;if(Et(t))return Q;const i=t.state,n=i.wrap;if(2===n||1===n&&42!==i.status||i.lookahead)return Q;if(1===n&&(t.adler=F(t.adler,e,a,0)),i.wrap=0,a>=i.w_size){0===n&&(dt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(a-i.w_size,a),0),e=t,a=i.w_size}const s=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,pt(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do{i.ins_h=ft(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++}while(--e);i.strstart=t,i.lookahead=2,pt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=s,i.wrap=n,q},deflateInfo:"pako deflate (from Nodeca project)"};const Dt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const a=e.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(const e in a)Dt(a,e)&&(t[e]=a[e])}}return t},Ot=t=>{let e=0;for(let a=0,i=t.length;a<i;a++)e+=t[a].length;const a=new Uint8Array(e);for(let e=0,i=0,n=t.length;e<n;e++){let n=t[e];a.set(n,i),i+=n.length}return a};let Ft=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){Ft=!1}const Lt=new Uint8Array(256);for(let t=0;t<256;t++)Lt[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Lt[254]=Lt[254]=1;var Nt=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,i,n,s,r=t.length,o=0;for(n=0;n<r;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),o+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(o),s=0,n=0;s<o;n++)a=t.charCodeAt(n),55296==(64512&a)&&n+1<r&&(i=t.charCodeAt(n+1),56320==(64512&i)&&(a=65536+(a-55296<<10)+(i-56320),n++)),a<128?e[s++]=a:a<2048?(e[s++]=192|a>>>6,e[s++]=128|63&a):a<65536?(e[s++]=224|a>>>12,e[s++]=128|a>>>6&63,e[s++]=128|63&a):(e[s++]=240|a>>>18,e[s++]=128|a>>>12&63,e[s++]=128|a>>>6&63,e[s++]=128|63&a);return e},It=(t,e)=>{const a=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,n;const s=new Array(2*a);for(n=0,i=0;i<a;){let e=t[i++];if(e<128){s[n++]=e;continue}let r=Lt[e];if(r>4)s[n++]=65533,i+=r-1;else{for(e&=2===r?31:3===r?15:7;r>1&&i<a;)e=e<<6|63&t[i++],r--;r>1?s[n++]=65533:e<65536?s[n++]=e:(e-=65536,s[n++]=55296|e>>10&1023,s[n++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&Ft)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let a="";for(let i=0;i<e;i++)a+=String.fromCharCode(t[i]);return a})(s,n)},Bt=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let a=e-1;for(;a>=0&&128==(192&t[a]);)a--;return a<0||0===a?e:a+Lt[t[a]]>e?a:e};var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ht=Object.prototype.toString,{Z_NO_FLUSH:Mt,Z_SYNC_FLUSH:jt,Z_FULL_FLUSH:Kt,Z_FINISH:Pt,Z_OK:Yt,Z_STREAM_END:Gt,Z_DEFAULT_COMPRESSION:Xt,Z_DEFAULT_STRATEGY:Wt,Z_DEFLATED:qt}=B;function Jt(t){this.options=Tt({level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=St.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(a!==Yt)throw new Error(I[a]);if(e.header&&St.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?Nt(e.dictionary):"[object ArrayBuffer]"===Ht.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,a=St.deflateSetDictionary(this.strm,t),a!==Yt)throw new Error(I[a]);this._dict_set=!0}}function Qt(t,e){const a=new Jt(e);if(a.push(t,!0),a.err)throw a.msg||I[a.err];return a.result}Jt.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=e===~~e?e:!0===e?Pt:Mt,"string"==typeof t?a.input=Nt(t):"[object ArrayBuffer]"===Ht.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),(s===jt||s===Kt)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if(n=St.deflate(a,s),n===Gt)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=St.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Yt;if(0!==a.avail_out){if(s>0&&a.next_out>0)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===Yt&&(this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vt={Deflate:Jt,deflate:Qt,deflateRaw:function(t,e){return(e=e||{}).raw=!0,Qt(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,Qt(t,e)},constants:B};var $t=function(t,e){let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z,A;const E=t.state;a=t.next_in,z=t.input,i=a+(t.avail_in-5),n=t.next_out,A=t.output,s=n-(e-t.avail_out),r=n+(t.avail_out-257),o=E.dmax,l=E.wsize,h=E.whave,d=E.wnext,_=E.window,f=E.hold,c=E.bits,u=E.lencode,w=E.distcode,m=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;t:do{c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=u[f&m];e:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,0===p)A[n++]=65535&g;else{if(!(16&p)){if(0==(64&p)){g=u[(65535&g)+(f&(1<<p)-1)];continue e}if(32&p){E.mode=16191;break t}t.msg="invalid literal/length code",E.mode=16209;break t}k=65535&g,p&=15,p&&(c<p&&(f+=z[a++]<<c,c+=8),k+=f&(1<<p)-1,f>>>=p,c-=p),c<15&&(f+=z[a++]<<c,c+=8,f+=z[a++]<<c,c+=8),g=w[f&b];a:for(;;){if(p=g>>>24,f>>>=p,c-=p,p=g>>>16&255,!(16&p)){if(0==(64&p)){g=w[(65535&g)+(f&(1<<p)-1)];continue a}t.msg="invalid distance code",E.mode=16209;break t}if(v=65535&g,p&=15,c<p&&(f+=z[a++]<<c,c+=8,c<p&&(f+=z[a++]<<c,c+=8)),v+=f&(1<<p)-1,v>o){t.msg="invalid distance too far back",E.mode=16209;break t}if(f>>>=p,c-=p,p=n-s,v>p){if(p=v-p,p>h&&E.sane){t.msg="invalid distance too far back",E.mode=16209;break t}if(y=0,x=_,0===d){if(y+=l-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}else if(d<p){if(y+=l+d-p,p-=d,p<k){k-=p;do{A[n++]=_[y++]}while(--p);if(y=0,d<k){p=d,k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}}}else if(y+=d-p,p<k){k-=p;do{A[n++]=_[y++]}while(--p);y=n-v,x=A}for(;k>2;)A[n++]=x[y++],A[n++]=x[y++],A[n++]=x[y++],k-=3;k&&(A[n++]=x[y++],k>1&&(A[n++]=x[y++]))}else{y=n-v;do{A[n++]=A[y++],A[n++]=A[y++],A[n++]=A[y++],k-=3}while(k>2);k&&(A[n++]=A[y++],k>1&&(A[n++]=A[y++]))}break}}break}}while(a<i&&n<r);k=c>>3,a-=k,c-=k<<3,f&=(1<<c)-1,t.next_in=a,t.next_out=n,t.avail_in=a<i?i-a+5:5-(a-i),t.avail_out=n<r?r-n+257:257-(n-r),E.hold=f,E.bits=c};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ee=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ae=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ie=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ne=(t,e,a,i,n,s,r,o)=>{const l=o.bits;let h,d,_,f,c,u,w=0,m=0,b=0,g=0,p=0,k=0,v=0,y=0,x=0,z=0,A=null;const E=new Uint16Array(16),R=new Uint16Array(16);let Z,U,S,D=null;for(w=0;w<=15;w++)E[w]=0;for(m=0;m<i;m++)E[e[a+m]]++;for(p=l,g=15;g>=1&&0===E[g];g--);if(p>g&&(p=g),0===g)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(b=1;b<g&&0===E[b];b++);for(p<b&&(p=b),y=1,w=1;w<=15;w++)if(y<<=1,y-=E[w],y<0)return-1;if(y>0&&(0===t||1!==g))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+E[w];for(m=0;m<i;m++)0!==e[a+m]&&(r[R[e[a+m]]++]=m);if(0===t?(A=D=r,u=20):1===t?(A=te,D=ee,u=257):(A=ae,D=ie,u=0),z=0,m=0,w=b,c=s,k=p,v=0,_=-1,x=1<<p,f=x-1,1===t&&x>852||2===t&&x>592)return 1;for(;;){Z=w-v,r[m]+1<u?(U=0,S=r[m]):r[m]>=u?(U=D[r[m]-u],S=A[r[m]-u]):(U=96,S=0),h=1<<w-v,d=1<<k,b=d;do{d-=h,n[c+(z>>v)+d]=Z<<24|U<<16|S|0}while(0!==d);for(h=1<<w-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,m++,0==--E[w]){if(w===g)break;w=e[a+r[m]]}if(w>p&&(z&f)!==_){for(0===v&&(v=p),c+=b,k=w-v,y=1<<k;k+v<g&&(y-=E[k+v],!(y<=0));)k++,y<<=1;if(x+=1<<k,1===t&&x>852||2===t&&x>592)return 1;_=z&f,n[_]=p<<24|k<<16|c-s|0}}return 0!==z&&(n[c+z]=w-v<<24|64<<16|0),o.bits=p,0};const{Z_FINISH:se,Z_BLOCK:re,Z_TREES:oe,Z_OK:le,Z_STREAM_END:he,Z_NEED_DICT:de,Z_STREAM_ERROR:_e,Z_DATA_ERROR:fe,Z_MEM_ERROR:ce,Z_BUF_ERROR:ue,Z_DEFLATED:we}=B,me=16209,be=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function ge(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const pe=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ke=t=>{if(pe(t))return _e;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,le},ve=t=>{if(pe(t))return _e;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ke(t)},ye=(t,e)=>{let a;if(pe(t))return _e;const i=t.state;return e<0?(a=0,e=-e):(a=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?_e:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=a,i.wbits=e,ve(t))},xe=(t,e)=>{if(!t)return _e;const a=new ge;t.state=a,a.strm=t,a.window=null,a.mode=16180;const i=ye(t,e);return i!==le&&(t.state=null),i};let ze,Ae,Ee=!0;const Re=t=>{if(Ee){ze=new Int32Array(512),Ae=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ne(1,t.lens,0,288,ze,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ne(2,t.lens,0,32,Ae,0,t.work,{bits:5}),Ee=!1}t.lencode=ze,t.lenbits=9,t.distcode=Ae,t.distbits=5},Ze=(t,e,a,i)=>{let n;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(a-s.wsize,a),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>i&&(n=i),s.window.set(e.subarray(a-i,a-i+n),s.wnext),(i-=n)?(s.window.set(e.subarray(a-i,a),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var Ue={inflateReset:ve,inflateReset2:ye,inflateResetKeep:ke,inflateInit:t=>xe(t,15),inflateInit2:xe,inflate:(t,e)=>{let a,i,n,s,r,o,l,h,d,_,f,c,u,w,m,b,g,p,k,v,y,x,z=0;const A=new Uint8Array(4);let E,R;const Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(pe(t)||!t.output||!t.input&&0!==t.avail_in)return _e;a=t.state,16191===a.mode&&(a.mode=16192),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,_=o,f=l,x=le;t:for(;;)switch(a.mode){case 16180:if(0===a.wrap){a.mode=16192;break}for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(2&a.wrap&&35615===h){0===a.wbits&&(a.wbits=15),a.check=0,A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0),h=0,d=0,a.mode=16181;break}if(a.head&&(a.head.done=!1),!(1&a.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",a.mode=me;break}if((15&h)!==we){t.msg="unknown compression method",a.mode=me;break}if(h>>>=4,d-=4,y=8+(15&h),0===a.wbits&&(a.wbits=y),y>15||y>a.wbits){t.msg="invalid window size",a.mode=me;break}a.dmax=1<<a.wbits,a.flags=0,t.adler=a.check=1,a.mode=512&h?16189:16191,h=0,d=0;break;case 16181:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.flags=h,(255&a.flags)!==we){t.msg="unknown compression method",a.mode=me;break}if(57344&a.flags){t.msg="unknown header flags set",a.mode=me;break}a.head&&(a.head.text=h>>8&1),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16182;case 16182:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.time=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,A[2]=h>>>16&255,A[3]=h>>>24&255,a.check=N(a.check,A,4,0)),h=0,d=0,a.mode=16183;case 16183:for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.head&&(a.head.xflags=255&h,a.head.os=h>>8),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0,a.mode=16184;case 16184:if(1024&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length=h,a.head&&(a.head.extra_len=h),512&a.flags&&4&a.wrap&&(A[0]=255&h,A[1]=h>>>8&255,a.check=N(a.check,A,2,0)),h=0,d=0}else a.head&&(a.head.extra=null);a.mode=16185;case 16185:if(1024&a.flags&&(c=a.length,c>o&&(c=o),c&&(a.head&&(y=a.head.extra_len-a.length,a.head.extra||(a.head.extra=new Uint8Array(a.head.extra_len)),a.head.extra.set(i.subarray(s,s+c),y)),512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,a.length-=c),a.length))break t;a.length=0,a.mode=16186;case 16186:if(2048&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.name+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.name=null);a.length=0,a.mode=16187;case 16187:if(4096&a.flags){if(0===o)break t;c=0;do{y=i[s+c++],a.head&&y&&a.length<65536&&(a.head.comment+=String.fromCharCode(y))}while(y&&c<o);if(512&a.flags&&4&a.wrap&&(a.check=N(a.check,i,c,s)),o-=c,s+=c,y)break t}else a.head&&(a.head.comment=null);a.mode=16188;case 16188:if(512&a.flags){for(;d<16;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(65535&a.check)){t.msg="header crc mismatch",a.mode=me;break}h=0,d=0}a.head&&(a.head.hcrc=a.flags>>9&1,a.head.done=!0),t.adler=a.check=0,a.mode=16191;break;case 16189:for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}t.adler=a.check=be(h),h=0,d=0,a.mode=16190;case 16190:if(0===a.havedict)return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,de;t.adler=a.check=1,a.mode=16191;case 16191:if(e===re||e===oe)break t;case 16192:if(a.last){h>>>=7&d,d-=7&d,a.mode=16206;break}for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}switch(a.last=1&h,h>>>=1,d-=1,3&h){case 0:a.mode=16193;break;case 1:if(Re(a),a.mode=16199,e===oe){h>>>=2,d-=2;break t}break;case 2:a.mode=16196;break;case 3:t.msg="invalid block type",a.mode=me}h>>>=2,d-=2;break;case 16193:for(h>>>=7&d,d-=7&d;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",a.mode=me;break}if(a.length=65535&h,h=0,d=0,a.mode=16194,e===oe)break t;case 16194:a.mode=16195;case 16195:if(c=a.length,c){if(c>o&&(c=o),c>l&&(c=l),0===c)break t;n.set(i.subarray(s,s+c),r),o-=c,s+=c,l-=c,r+=c,a.length-=c;break}a.mode=16191;break;case 16196:for(;d<14;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(a.nlen=257+(31&h),h>>>=5,d-=5,a.ndist=1+(31&h),h>>>=5,d-=5,a.ncode=4+(15&h),h>>>=4,d-=4,a.nlen>286||a.ndist>30){t.msg="too many length or distance symbols",a.mode=me;break}a.have=0,a.mode=16197;case 16197:for(;a.have<a.ncode;){for(;d<3;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.lens[Z[a.have++]]=7&h,h>>>=3,d-=3}for(;a.have<19;)a.lens[Z[a.have++]]=0;if(a.lencode=a.lendyn,a.lenbits=7,E={bits:a.lenbits},x=ne(0,a.lens,0,19,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid code lengths set",a.mode=me;break}a.have=0,a.mode=16198;case 16198:for(;a.have<a.nlen+a.ndist;){for(;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(g<16)h>>>=m,d-=m,a.lens[a.have++]=g;else{if(16===g){for(R=m+2;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(h>>>=m,d-=m,0===a.have){t.msg="invalid bit length repeat",a.mode=me;break}y=a.lens[a.have-1],c=3+(3&h),h>>>=2,d-=2}else if(17===g){for(R=m+3;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=3+(7&h),h>>>=3,d-=3}else{for(R=m+7;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=m,d-=m,y=0,c=11+(127&h),h>>>=7,d-=7}if(a.have+c>a.nlen+a.ndist){t.msg="invalid bit length repeat",a.mode=me;break}for(;c--;)a.lens[a.have++]=y}}if(a.mode===me)break;if(0===a.lens[256]){t.msg="invalid code -- missing end-of-block",a.mode=me;break}if(a.lenbits=9,E={bits:a.lenbits},x=ne(1,a.lens,0,a.nlen,a.lencode,0,a.work,E),a.lenbits=E.bits,x){t.msg="invalid literal/lengths set",a.mode=me;break}if(a.distbits=6,a.distcode=a.distdyn,E={bits:a.distbits},x=ne(2,a.lens,a.nlen,a.ndist,a.distcode,0,a.work,E),a.distbits=E.bits,x){t.msg="invalid distances set",a.mode=me;break}if(a.mode=16199,e===oe)break t;case 16199:a.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,$t(t,f),r=t.next_out,n=t.output,l=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,h=a.hold,d=a.bits,16191===a.mode&&(a.back=-1);break}for(a.back=0;z=a.lencode[h&(1<<a.lenbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(b&&0==(240&b)){for(p=m,k=b,v=g;z=a.lencode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,a.length=g,0===b){a.mode=16205;break}if(32&b){a.back=-1,a.mode=16191;break}if(64&b){t.msg="invalid literal/length code",a.mode=me;break}a.extra=15&b,a.mode=16201;case 16201:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.length+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}a.was=a.length,a.mode=16202;case 16202:for(;z=a.distcode[h&(1<<a.distbits)-1],m=z>>>24,b=z>>>16&255,g=65535&z,!(m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(0==(240&b)){for(p=m,k=b,v=g;z=a.distcode[v+((h&(1<<p+k)-1)>>p)],m=z>>>24,b=z>>>16&255,g=65535&z,!(p+m<=d);){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}h>>>=p,d-=p,a.back+=p}if(h>>>=m,d-=m,a.back+=m,64&b){t.msg="invalid distance code",a.mode=me;break}a.offset=g,a.extra=15&b,a.mode=16203;case 16203:if(a.extra){for(R=a.extra;d<R;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}a.offset+=h&(1<<a.extra)-1,h>>>=a.extra,d-=a.extra,a.back+=a.extra}if(a.offset>a.dmax){t.msg="invalid distance too far back",a.mode=me;break}a.mode=16204;case 16204:if(0===l)break t;if(c=f-l,a.offset>c){if(c=a.offset-c,c>a.whave&&a.sane){t.msg="invalid distance too far back",a.mode=me;break}c>a.wnext?(c-=a.wnext,u=a.wsize-c):u=a.wnext-c,c>a.length&&(c=a.length),w=a.window}else w=n,u=r-a.offset,c=a.length;c>l&&(c=l),l-=c,a.length-=c;do{n[r++]=w[u++]}while(--c);0===a.length&&(a.mode=16200);break;case 16205:if(0===l)break t;n[r++]=a.length,l--,a.mode=16200;break;case 16206:if(a.wrap){for(;d<32;){if(0===o)break t;o--,h|=i[s++]<<d,d+=8}if(f-=l,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,r-f):F(a.check,n,f,r-f)),f=l,4&a.wrap&&(a.flags?h:be(h))!==a.check){t.msg="incorrect data check",a.mode=me;break}h=0,d=0}a.mode=16207;case 16207:if(a.wrap&&a.flags){for(;d<32;){if(0===o)break t;o--,h+=i[s++]<<d,d+=8}if(4&a.wrap&&h!==(4294967295&a.total)){t.msg="incorrect length check",a.mode=me;break}h=0,d=0}a.mode=16208;case 16208:x=he;break t;case me:x=fe;break t;case 16210:return ce;default:return _e}return t.next_out=r,t.avail_out=l,t.next_in=s,t.avail_in=o,a.hold=h,a.bits=d,(a.wsize||f!==t.avail_out&&a.mode<me&&(a.mode<16206||e!==se))&&Ze(t,t.output,t.next_out,f-t.avail_out),_-=t.avail_in,f-=t.avail_out,t.total_in+=_,t.total_out+=f,a.total+=f,4&a.wrap&&f&&(t.adler=a.check=a.flags?N(a.check,n,f,t.next_out-f):F(a.check,n,f,t.next_out-f)),t.data_type=a.bits+(a.last?64:0)+(16191===a.mode?128:0)+(16199===a.mode||16194===a.mode?256:0),(0===_&&0===f||e===se)&&x===le&&(x=ue),x},inflateEnd:t=>{if(pe(t))return _e;let e=t.state;return e.window&&(e.window=null),t.state=null,le},inflateGetHeader:(t,e)=>{if(pe(t))return _e;const a=t.state;return 0==(2&a.wrap)?_e:(a.head=e,e.done=!1,le)},inflateSetDictionary:(t,e)=>{const a=e.length;let i,n,s;return pe(t)?_e:(i=t.state,0!==i.wrap&&16190!==i.mode?_e:16190===i.mode&&(n=1,n=F(n,e,a,0),n!==i.check)?fe:(s=Ze(t,e,a,a),s?(i.mode=16210,ce):(i.havedict=1,le)))},inflateInfo:"pako inflate (from Nodeca project)"};var Se=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const De=Object.prototype.toString,{Z_NO_FLUSH:Te,Z_FINISH:Oe,Z_OK:Fe,Z_STREAM_END:Le,Z_NEED_DICT:Ne,Z_STREAM_ERROR:Ie,Z_DATA_ERROR:Be,Z_MEM_ERROR:Ce}=B;function He(t){this.options=Tt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;let a=Ue.inflateInit2(this.strm,e.windowBits);if(a!==Fe)throw new Error(I[a]);if(this.header=new Se,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Nt(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(a=Ue.inflateSetDictionary(this.strm,e.dictionary),a!==Fe)))throw new Error(I[a])}He.prototype.push=function(t,e){const a=this.strm,i=this.options.chunkSize,n=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=e===~~e?e:!0===e?Oe:Te,"[object ArrayBuffer]"===De.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(i),a.next_out=0,a.avail_out=i),s=Ue.inflate(a,r),s===Ne&&n&&(s=Ue.inflateSetDictionary(a,n),s===Fe?s=Ue.inflate(a,r):s===Be&&(s=Ne));a.avail_in>0&&s===Le&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),s=Ue.inflate(a,r);switch(s){case Ie:case Be:case Ne:case Ce:return this.onEnd(s),this.ended=!0,!1}if(o=a.avail_out,a.next_out&&(0===a.avail_out||s===Le))if("string"===this.options.to){let t=Bt(a.output,a.next_out),e=a.next_out-t,n=It(a.output,t);a.next_out=e,a.avail_out=i-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(s!==Fe||0!==o){if(s===Le)return s=Ue.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},He.prototype.onData=function(t){this.chunks.push(t)},He.prototype.onEnd=function(t){t===Fe&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ot(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:Me,deflate:je,deflateRaw:Ke,gzip:Pe}=Vt;var Ye=Me,Ge=je,Xe=B;const We=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const e=this._hasEvents?",":"";this.deflate.push(e+t,Xe.Z_SYNC_FLUSH),this._hasEvents=!0}finish(){if(this.deflate.push("]",Xe.Z_FINISH),this.deflate.err)throw this.deflate.err;const t=this.deflate.result;return this._init(),t}_init(){this._hasEvents=!1,this.deflate=new Ye,this.deflate.push("[",Xe.Z_NO_FLUSH)}},qe={clear:()=>{We.clear()},addEvent:t=>We.addEvent(t),finish:()=>We.finish(),compress:t=>function(t){return Ge(t)}(t)};addEventListener("message",(function(t){const e=t.data.method,a=t.data.id,i=t.data.arg;if(e in qe&&"function"==typeof qe[e])try{const t=qe[e](i);postMessage({id:a,method:e,success:!0,response:t})}catch(t){postMessage({id:a,method:e,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});`;function Ore(){const t=new Blob([$re]);return URL.createObjectURL(t)}function Ga(t,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(Ue.info(t),e&&PP(t))}function Ed(t,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(Ue.info(t),e&&setTimeout(()=>{PP(t)},0))}function PP(t){hn().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class TN extends Error{constructor(){super(`Event buffer exceeded maximum size of ${SN}.`)}}class MP{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const n=JSON.stringify(e).length;if(this._totalSize+=n,this._totalSize>SN)throw new TN;this.events.push(e)}finish(){return new Promise(e=>{const n=this.events;this.clear(),e(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map(n=>n.timestamp).sort()[0];return e?NN(e):null}}class Lre{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((e,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?e():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Ga("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,n){const r=this._getAndIncrementId();return new Promise((a,i)=>{const s=({data:o})=>{const l=o;if(l.method===e&&l.id===r){if(this._worker.removeEventListener("message",s),!l.success){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay]",l.response),i(new Error("Error in compression worker"));return}a(l.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:r,method:e,arg:n})})}_getAndIncrementId(){return this._id++}}class Fre{constructor(e){this._worker=new Lre(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const n=NN(e.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(e);return this._totalSize+=r.length,this._totalSize>SN?Promise.reject(new TN):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class Pre{constructor(e){this._fallback=new MP,this._compression=new Fre(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{Ga("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:n}=this._fallback,r=[];for(const a of e)r.push(this._compression.addEvent(a));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("[Replay] Failed to add events when switching buffers.",a)}}}function Mre({useCompression:t}){if(t&&window.Worker)try{const e=Ore();Ga("[Replay] Using compression worker");const n=new Worker(e);return new Pre(n)}catch{Ga("[Replay] Failed to create compression worker")}return Ga("[Replay] Using simple buffer"),new MP}function CN(){try{return"sessionStorage"in ln&&!!ln.sessionStorage}catch{return!1}}function Bre(t){zre(),t.session=void 0}function zre(){if(CN())try{ln.sessionStorage.removeItem(_N)}catch{}}function Bk(t,e,n=+new Date){return t===null||e===void 0||e<0?!0:e===0?!1:t+e<=n}function BP(t,e,n=+new Date){return Bk(t.started,e.maxSessionLife,n)||Bk(t.lastActivity,e.sessionIdleExpire,n)}function zP(t){return t===void 0?!1:Math.random()<t}function IN(t){if(CN())try{ln.sessionStorage.setItem(_N,JSON.stringify(t))}catch{}}function AN(t){const e=Date.now(),n=t.id||xi(),r=t.started||e,a=t.lastActivity||e,i=t.segmentId||0,s=t.sampled,o=typeof t.shouldRefresh=="boolean"?t.shouldRefresh:!0;return{id:n,started:r,lastActivity:a,segmentId:i,sampled:s,shouldRefresh:o}}function Ure(t,e){return zP(t)?"session":e?"buffer":!1}function jre({sessionSampleRate:t,allowBuffering:e,stickySession:n=!1}){const r=Ure(t,e),a=AN({sampled:r});return n&&IN(a),a}function Vre(t){if(!CN())return null;try{const e=ln.sessionStorage.getItem(_N);if(!e)return null;const n=JSON.parse(e);return Ed("[Replay] Loading existing session",t),AN(n)}catch{return null}}function I3({timeouts:t,currentSession:e,stickySession:n,sessionSampleRate:r,allowBuffering:a,traceInternals:i}){const s=e||n&&Vre(i);if(s){if(!BP(s,t)||a&&s.shouldRefresh)return{type:"saved",session:s};if(s.shouldRefresh)Ed("[Replay] Session has expired",i);else{const u=AN({sampled:!1});return Ed("[Replay] Session should not be refreshed",i),{type:"new",session:u}}}const o=jre({stickySession:n,sessionSampleRate:r,allowBuffering:a});return Ed("[Replay] Created new session",i),{type:"new",session:o}}function Wre(t){return t.type===Tn.Custom}async function $y(t,e,n){if(!t.eventBuffer||t.isPaused())return null;const r=NN(e.timestamp);if(r+t.timeouts.sessionIdlePause<Date.now())return null;if(r>t.getContext().initialTimestamp+t.timeouts.maxSessionLife)return Ga(`[Replay] Skipping event with timestamp ${r} because it is after maxSessionLife`,t.getOptions()._experiments.traceInternals),null;try{n&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),n&&(t.eventBuffer.hasCheckout=!0);const a=t.getOptions(),i=Gre(e,a.beforeAddRecordingEvent);return i?await t.eventBuffer.addEvent(i):void 0}catch(a){const i=a&&a instanceof TN?"addEventSizeExceeded":"addEvent";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(a),await t.stop({reason:i});const s=hn().getClient();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function Gre(t,e){try{if(typeof e=="function"&&Wre(t))return e(t)}catch(n){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return t}function UP(t){return!t.type}function zk(t){return t.type==="transaction"}function Hre(t){return t.type==="replay_event"}function jP(t){const e=Kre();return(n,r)=>{if(!t.isEnabled()||!UP(n)&&!zk(n))return;const a=r&&r.statusCode;if(!(e&&(!a||a<200||a>=300))){if(zk(n)){qre(t,n);return}Yre(t,n)}}}function qre(t,e){const n=t.getContext();e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(e.contexts.trace.trace_id)}function Yre(t,e){const n=t.getContext();e.event_id&&n.errorIds.size<100&&n.errorIds.add(e.event_id),t.recordingMode==="buffer"&&e.tags&&e.tags.replayId&&setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function Kre(){const t=hn().getClient();if(!t)return!1;const e=t.getTransport();return e&&e.send.__sentry__baseTransport__||!1}function Xre(t,e){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:e.originalException&&e.originalException.__rrweb__?!0:t.exception.values.some(n=>!n.stacktrace||!n.stacktrace.frames||!n.stacktrace.frames.length?!1:n.stacktrace.frames.some(r=>r.filename&&r.filename.includes("/rrweb/src/")))}function Qre(t,e){return t.recordingMode!=="buffer"||e.message===kN||!e.exception||e.type?!1:zP(t.getOptions().errorSampleRate)}function Zre(t,e=!1){const n=e?jP(t):void 0;return(r,a)=>t.isEnabled()?Hre(r)?(delete r.breadcrumbs,r):!UP(r)&&!zk(r)?r:Xre(r,a)&&!t.getOptions()._experiments.captureExceptions?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Replay] Ignoring error from rrweb internals",r),null):((Qre(t,r)||t.recordingMode==="session")&&(r.tags={...r.tags,replayId:t.getSessionId()}),n&&n(r,{statusCode:200}),r):r}function mv(t,e){return e.map(({type:n,start:r,end:a,name:i,data:s})=>{const o=t.throttledAddEvent({type:Tn.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:a,data:s}}});return typeof o=="string"?Promise.resolve(null):o})}function Jre(t){const{from:e,to:n}=t,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:e}}}function eae(t){return e=>{if(!t.isEnabled())return;const n=Jre(e);n!==null&&(t.getContext().urls.push(n.name),t.triggerUserActivity(),t.addUpdate(()=>(mv(t,[n]),!1)))}}function tae(t,e){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.getOptions()._experiments.traceInternals?!1:nae(e)}function nae(t){const e=hn().getClient(),n=e&&e.getDsn();return n?t.includes(n.host):!1}function gv(t,e){t.isEnabled()&&e!==null&&(tae(t,e.name)||t.addUpdate(()=>(mv(t,[e]),!0)))}function rae(t){const{startTimestamp:e,endTimestamp:n,fetchData:r,response:a}=t;if(!n)return null;const{method:i,url:s}=r;return{type:"resource.fetch",start:e/1e3,end:n/1e3,name:s,data:{method:i,statusCode:a?a.status:void 0}}}function aae(t){return e=>{if(!t.isEnabled())return;const n=rae(e);gv(t,n)}}function iae(t){const{startTimestamp:e,endTimestamp:n,xhr:r}=t,a=r[zu];if(!e||!n||!a)return null;const{method:i,url:s,status_code:o}=a;return s===void 0?null:{type:"resource.xhr",name:s,start:e/1e3,end:n/1e3,data:{method:i,statusCode:o}}}function sae(t){return e=>{if(!t.isEnabled())return;const n=iae(e);gv(t,n)}}const Uu=10,DN=11,Uk=12,lu=13,jk=14,Bf=15,Gl=20,Hs=21,Vk=22,zf=23,VP=["true","false","null"];function oae(t,e){if(!e.length)return t;let n=t;const r=e.length-1,a=e[r];n=lae(n,a);for(let i=r;i>=0;i--)switch(e[i]){case Uu:n=`${n}}`;break;case Gl:n=`${n}]`;break}return n}function lae(t,e){switch(e){case Uu:return`${t}"~~":"~~"`;case DN:return`${t}:"~~"`;case Uk:return`${t}~~":"~~"`;case lu:return dae(t);case jk:return`${t}~~"`;case Bf:return`${t},"~~":"~~"`;case Gl:return`${t}"~~"`;case Hs:return uae(t);case Vk:return`${t}~~"`;case zf:return`${t},"~~"`}return t}function uae(t){const e=cae(t);if(e>-1){const n=t.slice(e+1);return VP.includes(n.trim())?`${t},"~~"`:`${t.slice(0,e+1)}"~~"`}return t}function cae(t){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n===","||n==="[")return e}return-1}function dae(t){const e=t.lastIndexOf(":"),n=t.slice(e+1);return VP.includes(n.trim())?`${t},"~~":"~~"`:`${t.slice(0,e+1)}"~~"`}function hae(t){const e=[];for(let n=0;n<t.length;n++)fae(e,t,n);return e}function fae(t,e,n){const r=t[t.length-1],a=e[n];if(!/\s/.test(a)){if(a==='"'&&!WP(e,n)){pae(t,r);return}switch(a){case"{":mae(t,r);break;case"[":gae(t,r);break;case":":yae(t,r);break;case",":bae(t,r);break;case"}":vae(t,r);break;case"]":wae(t,r);break}}}function pae(t,e){if(e===jk){t.pop(),t.push(Bf);return}if(e===Vk){t.pop(),t.push(zf);return}if(e===lu){t.push(jk);return}if(e===Hs){t.push(Vk);return}if(e===Uu){t.push(Uk);return}if(e===Uk){t.pop(),t.push(DN);return}}function mae(t,e){if(!e){t.push(Uu);return}if(e===lu){t.push(Uu);return}if(e===Hs&&t.push(Uu),e===Gl){t.push(Uu);return}}function gae(t,e){if(!e){t.push(Gl),t.push(Hs);return}if(e===lu){t.push(Gl),t.push(Hs);return}if(e===Hs&&(t.push(Gl),t.push(Hs)),e===Gl){t.push(Gl),t.push(Hs);return}}function yae(t,e){e===DN&&(t.pop(),t.push(lu))}function bae(t,e){if(e===lu){t.pop();return}if(e===Bf){t.pop(),t.pop();return}if(e!==Hs&&e===zf){t.pop();return}}function vae(t,e){e===Uu&&t.pop(),e===lu&&(t.pop(),t.pop()),e===Bf&&(t.pop(),t.pop(),t.pop()),t[t.length-1]===lu&&t.push(Bf),t[t.length-1]===Hs&&t.push(zf)}function wae(t,e){e===Gl&&t.pop(),e===Hs&&(t.pop(),t.pop()),e===zf&&(t.pop(),t.pop(),t.pop()),t[t.length-1]===lu&&t.push(Bf),t[t.length-1]===Hs&&t.push(zf)}function WP(t,e){return t[e-1]==="\\"&&!WP(t,e-1)}function GP(t){const e=hae(t);return oae(t,e)}function Oy(t,e){if(t)try{if(typeof t=="string")return e.encode(t).length;if(t instanceof URLSearchParams)return e.encode(t.toString()).length;if(t instanceof FormData){const n=KP(t);return e.encode(n).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch{}}function HP(t){if(!t)return;const e=parseInt(t,10);return isNaN(e)?void 0:e}function qP(t){if(typeof t=="string")return t;if(t instanceof URLSearchParams)return t.toString();if(t instanceof FormData)return KP(t)}function YP(t,e){if(!e)return null;const{startTimestamp:n,endTimestamp:r,url:a,method:i,statusCode:s,request:o,response:l}=e;return{type:t,start:n/1e3,end:r/1e3,name:a,data:yl({method:i,statusCode:s,request:o,response:l})}}function _g(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function ju(t,e,n){if(!e&&Object.keys(t).length===0)return;if(!e)return{headers:t};if(!n)return{headers:t,size:e};const r={headers:t,size:e},{body:a,warnings:i}=xae(n);return r.body=a,i.length>0&&(r._meta={warnings:i}),r}function Wk(t,e){return Object.keys(t).reduce((n,r)=>{const a=r.toLowerCase();return e.includes(a)&&t[r]&&(n[a]=t[r]),n},{})}function KP(t){return new URLSearchParams(t).toString()}function xae(t){if(!t||typeof t!="string")return{body:t,warnings:[]};const e=t.length>k1;if(_ae(t))try{const n=e?GP(t.slice(0,k1)):t;return{body:JSON.parse(n),warnings:e?["JSON_TRUNCATED"]:[]}}catch{return{body:e?`${t.slice(0,k1)}`:t,warnings:e?["INVALID_JSON","TEXT_TRUNCATED"]:["INVALID_JSON"]}}return{body:e?`${t.slice(0,k1)}`:t,warnings:e?["TEXT_TRUNCATED"]:[]}}function _ae(t){const e=t[0],n=t[t.length-1];return e==="["&&n==="]"||e==="{"&&n==="}"}function Ly(t,e){const n=kae(t);return vp(n,e)}function kae(t,e=ln.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(ln.location.origin))return t;const n=new URL(t,e);if(n.origin!==new URL(e).origin)return t;const r=n.href;return!t.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Sae(t,e,n){try{const r=await Eae(t,e,n),a=YP("resource.fetch",r);gv(n.replay,a)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] Failed to capture fetch breadcrumb",r)}}function Nae(t,e,n){const{input:r,response:a}=e,i=XP(r),s=Oy(i,n.textEncoder),o=a?HP(a.headers.get("content-length")):void 0;s!==void 0&&(t.data.request_body_size=s),o!==void 0&&(t.data.response_body_size=o)}async function Eae(t,e,n){const{startTimestamp:r,endTimestamp:a}=e,{url:i,method:s,status_code:o=0,request_body_size:l,response_body_size:u}=t.data,c=Ly(i,n.networkDetailAllowUrls)&&!Ly(i,n.networkDetailDenyUrls),d=c?Tae(n,e.input,l):_g(l),f=await Cae(c,n,e.response,u);return{startTimestamp:r,endTimestamp:a,url:i,method:s,statusCode:o,request:d,response:f}}function Tae({networkCaptureBodies:t,networkRequestHeaders:e},n,r){const a=Aae(n,e);if(!t)return ju(a,r,void 0);const i=XP(n),s=qP(i);return ju(a,r,s)}async function Cae(t,{networkCaptureBodies:e,textEncoder:n,networkResponseHeaders:r},a,i){if(!t&&i!==void 0)return _g(i);const s=QP(a.headers,r);if(!e&&i!==void 0)return ju(s,i,void 0);try{const o=a.clone(),l=await Iae(o),u=l&&l.length&&i===void 0?Oy(l,n):i;return t?e?ju(s,u,l):ju(s,u,void 0):_g(u)}catch{return ju(s,i,void 0)}}async function Iae(t){try{return await t.text()}catch{return}}function XP(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function QP(t,e){const n={};return e.forEach(r=>{t.get(r)&&(n[r]=t.get(r))}),n}function Aae(t,e){return t.length===1&&typeof t[0]!="string"?U7(t[0],e):t.length===2?U7(t[1],e):{}}function U7(t,e){if(!t)return{};const n=t.headers;return n?n instanceof Headers?QP(n,e):Array.isArray(n)?{}:Wk(n,e):{}}async function Dae(t,e,n){try{const r=$ae(t,e,n),a=YP("resource.xhr",r);gv(n.replay,a)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] Failed to capture fetch breadcrumb",r)}}function Rae(t,e,n){const{xhr:r,input:a}=e,i=Oy(a,n.textEncoder),s=r.getResponseHeader("content-length")?HP(r.getResponseHeader("content-length")):Oy(r.response,n.textEncoder);i!==void 0&&(t.data.request_body_size=i),s!==void 0&&(t.data.response_body_size=s)}function $ae(t,e,n){const{startTimestamp:r,endTimestamp:a,input:i,xhr:s}=e,{url:o,method:l,status_code:u=0,request_body_size:c,response_body_size:d}=t.data;if(!o)return null;if(!Ly(o,n.networkDetailAllowUrls)||Ly(o,n.networkDetailDenyUrls)){const y=_g(c),b=_g(d);return{startTimestamp:r,endTimestamp:a,url:o,method:l,statusCode:u,request:y,response:b}}const f=s[zu],p=f?Wk(f.request_headers,n.networkRequestHeaders):{},m=Wk(Oae(s),n.networkResponseHeaders),g=ju(p,c,n.networkCaptureBodies?qP(i):void 0),v=ju(m,d,n.networkCaptureBodies?e.xhr.responseText:void 0);return{startTimestamp:r,endTimestamp:a,url:o,method:l,statusCode:u,request:g,response:v}}function Oae(t){const e=t.getAllResponseHeaders();return e?e.split(`\r
`).reduce((n,r)=>{const[a,i]=r.split(": ");return n[a.toLowerCase()]=i,n},{}):{}}function Lae(t){const e=hn().getClient();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:a,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=t.getOptions(),l={replay:t,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:a,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};e&&e.on?e.on("beforeAddBreadcrumb",(u,c)=>Fae(l,u,c)):(La("fetch",aae(t)),La("xhr",sae(t)))}catch{}}function Fae(t,e,n){if(e.data)try{Pae(e)&&Bae(n)&&(Rae(e,n,t),Dae(e,n,t)),Mae(e)&&zae(n)&&(Nae(e,n,t),Sae(e,n,t))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Error when enriching network breadcrumb")}}function Pae(t){return t.category==="xhr"}function Mae(t){return t.category==="fetch"}function Bae(t){return t&&t.xhr}function zae(t){return t&&t.response}let j7=null;function Uae(t){return!!t.category}const jae=t=>e=>{if(!t.isEnabled())return;const n=Vae(e);n&&pv(t,n)};function Vae(t){const e=t.getLastBreadcrumb&&t.getLastBreadcrumb();return j7===e||!e||(j7=e,!Uae(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))?null:e.category==="console"?Wae(e):Kl(e)}function Wae(t){const e=t.data&&t.data.arguments;if(!Array.isArray(e)||e.length===0)return Kl(t);let n=!1;const r=e.map(a=>{if(!a)return a;if(typeof a=="string")return a.length>S1?(n=!0,`${a.slice(0,S1)}`):a;if(typeof a=="object")try{const i=ol(a,7),s=JSON.stringify(i);if(s.length>S1){const o=GP(s.slice(0,S1)),l=JSON.parse(o);return n=!0,l}return i}catch{}return a});return Kl({...t,data:{...t.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Gae(t){const e=hn().getScope(),n=hn().getClient();e&&e.addScopeListener(jae(t)),La("dom",kre(t)),La("history",eae(t)),Lae(t),mN(Zre(t,!V7(n))),V7(n)&&(n.on("afterSendEvent",jP(t)),n.on("createDsc",r=>{const a=t.getSessionId();a&&t.isEnabled()&&t.recordingMode==="session"&&(r.replay_id=a)}),n.on("startTransaction",r=>{t.lastTransaction=r}),n.on("finishTransaction",r=>{t.lastTransaction=r}))}function V7(t){return!!(t&&t.on)}async function Hae(t){try{return Promise.all(mv(t,[qae(ln.performance.memory)]))}catch{return[]}}function qae(t){const{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}=t,a=Date.now()/1e3;return{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:e,totalJSHeapSize:n,usedJSHeapSize:r}}}}const W7={resource:Zae,paint:Xae,navigation:Qae,["largest-contentful-paint"]:Jae};function Yae(t){return t.map(Kae).filter(Boolean)}function Kae(t){return W7[t.entryType]===void 0?null:W7[t.entryType](t)}function Uf(t){return((zo||ln.performance.timeOrigin)+t)/1e3}function Xae(t){const{duration:e,entryType:n,name:r,startTime:a}=t,i=Uf(a);return{type:n,name:r,start:i,end:i+e,data:void 0}}function Qae(t){const{entryType:e,name:n,decodedBodySize:r,duration:a,domComplete:i,encodedBodySize:s,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:m,type:g}=t;return a===0?null:{type:`${e}.${g}`,start:Uf(p),end:Uf(i),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:s,duration:a,domInteractive:u,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:d,domComplete:i,redirectCount:f}}}function Zae(t){const{entryType:e,initiatorType:n,name:r,responseEnd:a,startTime:i,decodedBodySize:s,encodedBodySize:o,responseStatus:l,transferSize:u}=t;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${e}.${n}`,start:Uf(i),end:Uf(a),name:r,data:{size:u,statusCode:l,decodedBodySize:s,encodedBodySize:o}}}function Jae(t){const{entryType:e,startTime:n,size:r}=t;let a=0;if(ln.performance){const o=ln.performance.getEntriesByType("navigation")[0];a=o&&o.activationStart||0}const i=Math.max(n-a,0),s=Uf(a)+i/1e3;return{type:e,name:e,start:s,end:s,data:{value:i,size:r,nodeId:Wd.mirror.getId(t.element)}}}function eie(t,e,n){let r,a,i;const s=n&&n.maxWait?Math.max(n.maxWait,e):0;function o(){return l(),r=t(),r}function l(){a!==void 0&&clearTimeout(a),i!==void 0&&clearTimeout(i),a=i=void 0}function u(){return a!==void 0||i!==void 0?o():r}function c(){return a&&clearTimeout(a),a=setTimeout(o,e),s&&i===void 0&&(i=setTimeout(o,s)),r}return c.cancel=l,c.flush=u,c}function tie(t){let e=!1;return(n,r)=>{if(!t.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("[Replay] Received replay event after session expired.");return}const a=r||!e;e=!0,t.addUpdate(()=>{if(t.recordingMode==="buffer"&&a&&t.setInitialState(),$y(t,n,a),!a)return!1;if(rie(t,a),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const i=t.eventBuffer.getEarliestTimestamp();i&&(Ga(`[Replay] Updating session start time to earliest event in buffer to ${new Date(i)}`,t.getOptions()._experiments.traceInternals),t.session.started=i,t.getOptions().stickySession&&IN(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function nie(t){const e=t.getOptions();return{type:Tn.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:e.sessionSampleRate,errorSampleRate:e.errorSampleRate,useCompressionOption:e.useCompression,blockAllMedia:e.blockAllMedia,maskAllText:e.maskAllText,maskAllInputs:e.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:e.networkDetailAllowUrls.length>0,networkCaptureBodies:e.networkCaptureBodies,networkRequestHasHeaders:e.networkRequestHeaders.length>0,networkResponseHasHeaders:e.networkResponseHeaders.length>0}}}}function rie(t,e){return!e||!t.session||t.session.segmentId!==0?Promise.resolve(null):$y(t,nie(t),!1)}function aie(t,e,n,r){return wp(ZF(t,fN(t),r,n),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof e=="string"?new TextEncoder().encode(e).length:e.length},e]])}function iie({recordingData:t,headers:e}){let n;const r=`${JSON.stringify(e)}
`;if(typeof t=="string")n=`${r}${t}`;else{const i=new TextEncoder().encode(r);n=new Uint8Array(i.length+t.length),n.set(i),n.set(t,i.length)}return n}async function sie({client:t,scope:e,replayId:n,event:r}){const a=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,i=await oP(t.getOptions(),r,{event_id:n,integrations:a},e);if(!i)return null;i.platform=i.platform||"javascript";const s=t.getSdkMetadata&&t.getSdkMetadata(),{name:o,version:l}=s&&s.sdk||{};return i.sdk={...i.sdk,name:o||"sentry.javascript.unknown",version:l||"0.0.0"},i}async function oie({recordingData:t,replayId:e,segmentId:n,eventContext:r,timestamp:a,session:i}){const s=iie({recordingData:t,headers:{segment_id:n}}),{urls:o,errorIds:l,traceIds:u,initialTimestamp:c}=r,d=hn(),f=d.getClient(),p=d.getScope(),m=f&&f.getTransport(),g=f&&f.getDsn();if(!f||!m||!g||!i.sampled)return;const v={type:tne,replay_start_timestamp:c/1e3,timestamp:a/1e3,error_ids:l,trace_ids:u,urls:o,replay_id:e,segment_id:n,replay_type:i.sampled},y=await sie({scope:p,client:f,replayId:e,event:v});if(!y){f.recordDroppedEvent("event_processor","replay",v),Ga("An event processor returned `null`, will not send event.");return}delete y.sdkProcessingMetadata;const b=aie(y,s,g,f.getOptions().tunnel);let w;try{w=await m.send(b)}catch(x){const k=new Error(kN);try{k.cause=x}catch{}throw k}if(!w)return w;if(typeof w.statusCode=="number"&&(w.statusCode<200||w.statusCode>=300))throw new ZP(w.statusCode);return w}class ZP extends Error{constructor(e){super(`Transport returned status code ${e}`)}}async function JP(t,e={count:0,interval:lne}){const{recordingData:n,options:r}=t;if(n.length)try{return await oie(t),!0}catch(a){if(a instanceof ZP)throw a;if(bee("Replays",{_retryCount:e.count}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r._experiments&&r._experiments.captureExceptions&&bN(a),e.count>=une){const i=new Error(`${kN} - max retries exceeded`);try{i.cause=a}catch{}throw i}return e.interval*=++e.count,new Promise((i,s)=>{setTimeout(async()=>{try{await JP(t,e),i(!0)}catch(o){s(o)}},e.interval)})}}const eM="__THROTTLED",lie="__SKIPPED";function uie(t,e,n){const r=new Map,a=o=>{const l=o-n;r.forEach((u,c)=>{c<l&&r.delete(c)})},i=()=>[...r.values()].reduce((o,l)=>o+l,0);let s=!1;return(...o)=>{const l=Math.floor(Date.now()/1e3);if(a(l),i()>=e){const c=s;return s=!0,c?lie:eM}s=!1;const u=r.get(l)||0;return r.set(l,u+1),t(...o)}}class Ru{constructor({options:e,recordingOptions:n}){Ru.prototype.__init.call(this),Ru.prototype.__init2.call(this),Ru.prototype.__init3.call(this),Ru.prototype.__init4.call(this),Ru.prototype.__init5.call(this),Ru.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEvents=[],this.recordingMode="session",this.timeouts={sessionIdlePause:nne,sessionIdleExpire:rne,maxSessionLife:ane},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=e,this._debouncedFlush=eie(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=uie((s,o)=>$y(this,s,o),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:a}=this.getOptions(),i=r?{threshold:Math.min(cne,r),timeout:r,scrollTimeout:dne,ignoreSelector:a?a.join(","):""}:void 0;i&&(this.clickDetector=new yre(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(){const{errorSampleRate:e,sessionSampleRate:n}=this._options;if(!(e<=0&&n<=0||!this._loadAndCheckSession())){if(!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled&&this.session.sampled!=="session"&&(this.recordingMode="buffer"),Ed(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Ed("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const e=this.session&&this.session.id,{session:n}=I3({timeouts:this.timeouts,stickySession:!!this._options.stickySession,currentSession:this.session,sessionSampleRate:1,allowBuffering:!1,traceInternals:this._options._experiments.traceInternals});n.previousSessionId=e,this.session=n,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Ed("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=this.session&&this.session.id,{session:n}=I3({timeouts:this.timeouts,stickySession:!!this._options.stickySession,currentSession:this.session,sessionSampleRate:0,allowBuffering:!0,traceInternals:this._options._experiments.traceInternals});n.previousSessionId=e,this.session=n,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{this._stopRecording=Wd({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:one},emit:tie(this),onMutation:this._onMutationHandler})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:n}={}){if(this._isEnabled)try{Ga(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._isEnabled=!1,this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,Bre(this)}catch(r){this._handleException(r)}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Ga("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._loadAndCheckSession()||(this._isPaused=!1,this.startRecording(),Ga("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Ga("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!e||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.shouldRefresh=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const n=e();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._loadAndCheckSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){const e=this.getSessionId();if(this._lastActivity&&Bk(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return this._loadAndCheckSession()?e!==this.getSessionId()?(this._triggerFullSnapshot(),!1):!0:void 0}setInitialState(){const e=`${ln.location.pathname}${ln.location.hash}${ln.location.search}`,n=`${ln.location.origin}${e}`;this.performanceEvents=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(e,n){const r=this._throttledAddEvent(e,n);if(r===eM){const a=Kl({category:"replay.throttled"});this.addUpdate(()=>{$y(this,{type:Tn.Custom,timestamp:a.timestamp||0,data:{tag:"breadcrumb",payload:a,metric:!0}})})}return r}getCurrentRoute(){const e=this.lastTransaction||hn().getScope().getTransaction();if(!(!e||!["route","custom"].includes(e.metadata.source)))return e.name}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=Mre({useCompression:this._options.useCompression}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this.startRecording()}_handleException(e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay]",e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._options._experiments&&this._options._experiments.captureExceptions&&bN(e)}_loadAndCheckSession(){const{type:e,session:n}=I3({timeouts:this.timeouts,stickySession:!!this._options.stickySession,currentSession:this.session,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:this._options.errorSampleRate>0||this.recordingMode==="buffer",traceInternals:this._options._experiments.traceInternals});e==="new"&&this.setInitialState();const r=this.getSessionId();return n.id!==r&&(n.previousSessionId=r),this.session=n,this.session.sampled?!0:(this.stop({reason:"session not refreshed"}),!1)}_addListeners(){try{ln.document.addEventListener("visibilitychange",this._handleVisibilityChange),ln.addEventListener("blur",this._handleWindowBlur),ln.addEventListener("focus",this._handleWindowFocus),ln.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Gae(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}"PerformanceObserver"in ln&&(this._performanceObserver=Rre(this))}_removeListeners(){try{ln.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ln.removeEventListener("blur",this._handleWindowBlur),ln.removeEventListener("focus",this._handleWindowFocus),ln.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceObserver&&(this._performanceObserver.disconnect(),this._performanceObserver=void 0)}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{ln.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Kl({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Kl({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Tre(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;const n=BP(this.session,this.timeouts);e&&!n&&this._createCustomBreadcrumb(e),this.conditionalFlush()}_doChangeToForegroundTasks(e){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Ga("[Replay] Document has become active, but session has expired");return}e&&this._createCustomBreadcrumb(e)}_triggerFullSnapshot(e=!0){try{Ga("[Replay] Taking full rrweb snapshot"),Wd.takeFullSnapshot(e)}catch(n){this._handleException(n)}}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:Tn.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){const e=[...this.performanceEvents];return this.performanceEvents=[],Promise.all(mv(this,Yae(e)))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:n}=this;if(!e||!n||e.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){if(!this.session||!this.eventBuffer){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Hae(this),!!this.eventBuffer))try{this._updateInitialTimestampFromEventBuffer();const e=await this.eventBuffer.finish(),n=Date.now();if(n-this._context.initialTimestamp>this.timeouts.maxSessionLife+3e4)throw new Error("Session is too long, not sending replay");const r=this.session.id,a=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession(),await JP({replayId:r,recordingData:e,segmentId:i,eventContext:a,session:this.session,options:this.getOptions(),timestamp:n})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const n=hn().getClient();n&&n.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error("[Replay] No session found to flush.");return}const n=this.session.started,a=Date.now()-n;this._debouncedFlush.cancel();const i=a<this._options.minReplayDuration,s=a>this.timeouts.maxSessionLife+5e3;if(i||s){Ga(`[Replay] Session duration (${Math.floor(a/1e3)}s) is too ${i?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),i&&this._debouncedFlush();return}const o=this.eventBuffer;if(o&&this.session.segmentId===0&&!o.hasCheckout&&Ga("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(l){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.error(l)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&IN(this.session)}__init6(){this._onMutationHandler=e=>{const n=e.length,r=this._options.mutationLimit,a=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>a||i){const s=Kl({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(s)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function Zp(t,e,n,r){const a=typeof r=="string"?r.split(","):[],i=[...t,...a,...e];return typeof n<"u"&&(typeof n=="string"&&i.push(`.${n}`),console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")),i.join(",")}function cie({mask:t,unmask:e,block:n,unblock:r,ignore:a,blockClass:i,blockSelector:s,maskTextClass:o,maskTextSelector:l,ignoreClass:u}){const c=['base[href="/"]'],d=Zp(t,[".sentry-mask","[data-sentry-mask]"],o,l),f=Zp(e,[".sentry-unmask","[data-sentry-unmask]"]),p={maskTextSelector:d,unmaskTextSelector:f,maskInputSelector:d,unmaskInputSelector:f,blockSelector:Zp(n,[".sentry-block","[data-sentry-block]",...c],i,s),unblockSelector:Zp(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Zp(a,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return i instanceof RegExp&&(p.blockClass=i),o instanceof RegExp&&(p.maskTextClass=o),p}function G7(){return typeof window<"u"&&(!YF()||die())}function die(){return typeof process<"u"&&process.type==="renderer"}const H7='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',hie=["content-length","content-type","accept"];let q7=!1;class yv{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=ine,flushMaxDelay:n=sne,minReplayDuration:r=hne,stickySession:a=!0,useCompression:i=!0,_experiments:s={},sessionSampleRate:o,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:c=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:b=!0,networkRequestHeaders:w=[],networkResponseHeaders:x=[],mask:k=[],unmask:S=[],block:E=[],unblock:I=[],ignore:C=[],maskFn:R,beforeAddRecordingEvent:z,blockClass:H,blockSelector:U,maskInputOptions:q,maskTextClass:Q,maskTextSelector:re,ignoreClass:he}={}){if(this.name=yv.id,this._recordingOptions={maskAllInputs:c,maskAllText:u,maskInputOptions:{...q||{},password:!0},maskTextFn:R,maskInputFn:R,...cie({mask:k,unmask:S,block:E,unblock:I,ignore:C,blockClass:H,blockSelector:U,maskTextClass:Q,maskTextSelector:re,ignoreClass:he}),slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0},this._initialOptions={flushMinDelay:e,flushMaxDelay:n,minReplayDuration:Math.min(r,fne),stickySession:a,sessionSampleRate:o,errorSampleRate:l,useCompression:i,blockAllMedia:d,maskAllInputs:c,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:b,networkRequestHeaders:Y7(w),networkResponseHeaders:Y7(x),beforeAddRecordingEvent:z,_experiments:s},typeof o=="number"&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysSessionSampleRate: ${o} })`),this._initialOptions.sessionSampleRate=o),typeof l=="number"&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.
This option is deprecated and will be removed soon.
Instead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:
Sentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${H7}`:H7),this._isInitialized&&G7())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return q7}set _isInitialized(e){q7=e}setupOnce(){G7()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(e){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(e)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const e=fie(this._initialOptions);this._replay=new Ru({options:e,recordingOptions:this._recordingOptions})}}yv.__initStatic();function fie(t){const e=hn().getClient(),n=e&&e.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...yl(t)};return n?(t.sessionSampleRate==null&&t.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set."),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(console.warn("SDK client is not available."),r)}function Y7(t){return[...hie,...t.map(e=>e.toLowerCase())]}const Bn=Gi;function pie(){Bn&&Bn.document?Bn.document.addEventListener("visibilitychange",()=>{const t=d0();if(Bn.document.hidden&&t){const e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const RN=(t,e,n)=>{let r,a;return i=>{e.value>=0&&(i||n)&&(a=e.value-(r||0),(a||r===void 0)&&(r=e.value,e.delta=a,t(e)))}},mie=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,gie=()=>{const t=Bn.performance.timing,e=Bn.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const r in t)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(t[r]-t.navigationStart,0));return n},tM=()=>Bn.__WEB_VITALS_POLYFILL__?Bn.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||gie()):Bn.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],nM=()=>{const t=tM();return t&&t.activationStart||0},$N=(t,e)=>{const n=tM();let r="navigate";return n&&(Bn.document.prerendering||nM()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:mie(),navigationType:r}},f0=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(a=>{e(a.getEntries())});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},bv=(t,e)=>{const n=r=>{(r.type==="pagehide"||Bn.document.visibilityState==="hidden")&&(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},yie=t=>{const e=$N("CLS",0);let n,r=0,a=[];const i=o=>{o.forEach(l=>{if(!l.hadRecentInput){const u=a[0],c=a[a.length-1];r&&a.length!==0&&l.startTime-c.startTime<1e3&&l.startTime-u.startTime<5e3?(r+=l.value,a.push(l)):(r=l.value,a=[l]),r>e.value&&(e.value=r,e.entries=a,n&&n())}})},s=f0("layout-shift",i);if(s){n=RN(t,e);const o=()=>{i(s.takeRecords()),n(!0)};return bv(o),o}};let D2=-1;const bie=()=>Bn.document.visibilityState==="hidden"&&!Bn.document.prerendering?0:1/0,vie=()=>{bv(({timeStamp:t})=>{D2=t},!0)},ON=()=>(D2<0&&(D2=bie(),vie()),{get firstHiddenTime(){return D2}}),wie=t=>{const e=ON(),n=$N("FID");let r;const a=o=>{o.startTime<e.firstHiddenTime&&(n.value=o.processingStart-o.startTime,n.entries.push(o),r(!0))},i=o=>{o.forEach(a)},s=f0("first-input",i);r=RN(t,n),s&&bv(()=>{i(s.takeRecords()),s.disconnect()},!0)},K7={},xie=t=>{const e=ON(),n=$N("LCP");let r;const a=s=>{const o=s[s.length-1];if(o){const l=Math.max(o.startTime-nM(),0);l<e.firstHiddenTime&&(n.value=l,n.entries=[o],r())}},i=f0("largest-contentful-paint",a);if(i){r=RN(t,n);const s=()=>{K7[n.id]||(a(i.takeRecords()),i.disconnect(),K7[n.id]=!0,r(!0))};return["keydown","click"].forEach(o=>{addEventListener(o,s,{once:!0,capture:!0})}),bv(s,!0),s}};function A3(t){return typeof t=="number"&&isFinite(t)}function jf(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function ia(t){return t/1e3}function rM(){return Bn&&Bn.addEventListener&&Bn.performance}let X7=0,Nr={},sl,Bm;function _ie(){const t=rM();if(t&&zo){t.mark&&Bn.performance.mark("sentry-tracing-init"),Tie();const e=Nie(),n=Eie();return()=>{e&&e(),n&&n()}}return()=>{}}function kie(){f0("longtask",e=>{for(const n of e){const r=d0();if(!r)return;const a=ia(zo+n.startTime),i=ia(n.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:a,endTimestamp:a+i})}})}function Sie(){f0("event",e=>{for(const n of e){const r=d0();if(!r)return;if(n.name==="click"){const a=ia(zo+n.startTime),i=ia(n.duration);r.startChild({description:mc(n.target),op:`ui.interaction.${n.name}`,startTimestamp:a,endTimestamp:a+i})}}},{durationThreshold:0})}function Nie(){return yie(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding CLS"),Nr.cls={value:t.value,unit:""},Bm=e)})}function Eie(){return xie(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding LCP"),Nr.lcp={value:t.value,unit:"millisecond"},sl=e)})}function Tie(){wie(t=>{const e=t.entries.pop();if(!e)return;const n=ia(zo),r=ia(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding FID"),Nr.fid={value:t.value,unit:"millisecond"},Nr["mark.fid"]={value:n+r,unit:"second"}})}function Cie(t){const e=rM();if(!e||!Bn.performance.getEntries||!zo)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Tracing] Adding & adjusting spans using Performance API");const n=ia(zo),r=e.getEntries();let a,i;if(r.slice(X7).forEach(s=>{const o=ia(s.startTime),l=ia(s.duration);if(!(t.op==="navigation"&&n+o<t.startTimestamp))switch(s.entryType){case"navigation":{Aie(t,s,n),a=n+ia(s.responseStart),i=n+ia(s.requestStart);break}case"mark":case"paint":case"measure":{Iie(t,s,o,l,n);const u=ON(),c=s.startTime<u.firstHiddenTime;s.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding FP"),Nr.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding FCP"),Nr.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{const u=s.name.replace(Bn.location.origin,"");Rie(t,s,u,o,l,n);break}}}),X7=Math.max(r.length-1,0),$ie(t),t.op==="pageload"){typeof a=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding TTFB"),Nr.ttfb={value:(a-t.startTimestamp)*1e3,unit:"millisecond"},typeof i=="number"&&i<=a&&(Nr["ttfb.requestTime"]={value:(a-i)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(o=>{if(!Nr[o]||n>=t.startTimestamp)return;const l=Nr[o].value,u=n+ia(l),c=Math.abs((u-t.startTimestamp)*1e3),d=c-l;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Measurements] Normalized ${o} from ${l} to ${c} (${d})`),Nr[o].value=c});const s=Nr["mark.fid"];s&&Nr.fid&&(jf(t,{description:"first input delay",endTimestamp:s.value+ia(Nr.fid.value),op:"ui.action",startTimestamp:s.value}),delete Nr["mark.fid"]),"fcp"in Nr||delete Nr.cls,Object.keys(Nr).forEach(o=>{t.setMeasurement(o,Nr[o].value,Nr[o].unit)}),Oie(t)}sl=void 0,Bm=void 0,Nr={}}function Iie(t,e,n,r,a){const i=a+n,s=i+r;return jf(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:i}),i}function Aie(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{I1(t,e,r,n)}),I1(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),I1(t,e,"fetch",n,"cache","domainLookupStart"),I1(t,e,"domainLookup",n,"DNS"),Die(t,e,n)}function I1(t,e,n,r,a,i){const s=i?e[i]:e[`${n}End`],o=e[`${n}Start`];!o||!s||jf(t,{op:"browser",description:a||n,startTimestamp:r+ia(o),endTimestamp:r+ia(s)})}function Die(t,e,n){jf(t,{op:"browser",description:"request",startTimestamp:n+ia(e.requestStart),endTimestamp:n+ia(e.responseEnd)}),jf(t,{op:"browser",description:"response",startTimestamp:n+ia(e.responseStart),endTimestamp:n+ia(e.responseEnd)})}function Rie(t,e,n,r,a,i){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const s={};"transferSize"in e&&(s["http.response_transfer_size"]=e.transferSize),"encodedBodySize"in e&&(s["http.response_content_length"]=e.encodedBodySize),"decodedBodySize"in e&&(s["http.decoded_response_content_length"]=e.decodedBodySize),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);const o=i+r,l=o+a;jf(t,{description:n,endTimestamp:l,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:o,data:s})}function $ie(t){const e=Bn.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),A3(n.rtt)&&(Nr["connection.rtt"]={value:n.rtt,unit:"millisecond"})),A3(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),A3(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Oie(t){sl&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding LCP Data"),sl.element&&t.setTag("lcp.element",mc(sl.element)),sl.id&&t.setTag("lcp.id",sl.id),sl.url&&t.setTag("lcp.url",sl.url.trim().slice(0,200)),t.setTag("lcp.size",sl.size)),Bm&&Bm.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log("[Measurements] Adding CLS Data"),Bm.sources.forEach((e,n)=>t.setTag(`cls.source.${n+1}`,mc(e.node))))}const Gk=["localhost",/^\/(?!\/)/],Hk={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Gk,tracePropagationTargets:Gk};function Lie(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:a,shouldCreateSpanForRequest:i,enableHTTPTimings:s}={traceFetch:Hk.traceFetch,traceXHR:Hk.traceXHR,...t},o=typeof i=="function"?i:c=>!0,l=c=>Mie(c,r||a),u={};e&&La("fetch",c=>{const d=Bie(c,o,l,u);s&&d&&Q7(d)}),n&&La("xhr",c=>{const d=Uie(c,o,l,u);s&&d&&Q7(d)})}function Q7(t){const e=t.data.url,n=new PerformanceObserver(r=>{r.getEntries().forEach(i=>{(i.initiatorType==="fetch"||i.initiatorType==="xmlhttprequest")&&i.name.endsWith(e)&&(Pie(i).forEach(o=>t.setData(...o)),n.disconnect())})});n.observe({entryTypes:["resource"]})}function Fie(t){let e="unknown",n="unknown",r="";for(const a of t){if(a==="/"){[e,n]=t.split("/");break}if(!isNaN(Number(a))){e=r==="h"?"http":r,n=t.split(r)[1];break}r+=a}return r===t&&(e=r),{name:e,version:n}}function al(t){return((zo||performance.timeOrigin)+t)/1e3}function Pie(t){const{name:e,version:n}=Fie(t.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",e]),zo?[...r,["http.request.redirect_start",al(t.redirectStart)],["http.request.fetch_start",al(t.fetchStart)],["http.request.domain_lookup_start",al(t.domainLookupStart)],["http.request.domain_lookup_end",al(t.domainLookupEnd)],["http.request.connect_start",al(t.connectStart)],["http.request.secure_connection_start",al(t.secureConnectionStart)],["http.request.connection_end",al(t.connectEnd)],["http.request.request_start",al(t.requestStart)],["http.request.response_start",al(t.responseStart)],["http.request.response_end",al(t.responseEnd)]]:r}function Mie(t,e){return vp(t,e||Gk)}function Bie(t,e,n,r){if(!gN()||!t.fetchData)return;const a=e(t.fetchData.url);if(t.endTimestamp&&a){const f=t.fetchData.__span;if(!f)return;const p=r[f];if(p){if(t.response){p.setHttpStatus(t.response.status);const m=t.response&&t.response.headers&&t.response.headers.get("content-length"),g=parseInt(m);g>0&&p.setData("http.response_content_length",g)}else t.error&&p.setStatus("internal_error");p.finish(),delete r[f]}return}const i=hn(),s=i.getScope(),o=i.getClient(),l=s.getSpan(),{method:u,url:c}=t.fetchData,d=a&&l?l.startChild({data:{url:c,type:"fetch","http.method":u},description:`${u} ${c}`,op:"http.client"}):void 0;if(d&&(t.fetchData.__span=d.spanId,r[d.spanId]=d),n(t.fetchData.url)&&o){const f=t.args[0];t.args[1]=t.args[1]||{};const p=t.args[1];p.headers=zie(f,o,s,p,d)}return d}function zie(t,e,n,r,a){const i=a||n.getSpan(),s=i&&i.transaction,{traceId:o,sampled:l,dsc:u}=n.getPropagationContext(),c=i?i.toTraceparent():hN(o,void 0,l),d=s?s.getDynamicSamplingContext():u||lv(o,e,n),f=Tk(d),p=typeof Request<"u"&&ou(t,Request)?t.headers:r.headers;if(p)if(typeof Headers<"u"&&ou(p,Headers)){const m=new Headers(p);return m.append("sentry-trace",c),f&&m.append(Ek,f),m}else if(Array.isArray(p)){const m=[...p,["sentry-trace",c]];return f&&m.push([Ek,f]),m}else{const m="baggage"in p?p.baggage:void 0,g=[];return Array.isArray(m)?g.push(...m):m&&g.push(m),f&&g.push(f),{...p,"sentry-trace":c,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":c,baggage:f}}function Uie(t,e,n,r){const a=t.xhr,i=a&&a[zu];if(!gN()||a&&a.__sentry_own_request__||!a||!i)return;const s=e(i.url);if(t.endTimestamp&&s){const d=a.__sentry_xhr_span_id__;if(!d)return;const f=r[d];f&&(f.setHttpStatus(i.status_code),f.finish(),delete r[d]);return}const o=hn(),l=o.getScope(),u=l.getSpan(),c=s&&u?u.startChild({data:{...i.data,type:"xhr","http.method":i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client"}):void 0;if(c&&(a.__sentry_xhr_span_id__=c.spanId,r[a.__sentry_xhr_span_id__]=c),a.setRequestHeader&&n(i.url))if(c){const d=c&&c.transaction,f=d&&d.getDynamicSamplingContext(),p=Tk(f);Z7(a,c.toTraceparent(),p)}else{const d=o.getClient(),{traceId:f,sampled:p,dsc:m}=l.getPropagationContext(),g=hN(f,void 0,p),v=m||(d?lv(f,d,l):void 0),y=Tk(v);Z7(a,g,y)}return c}function Z7(t,e,n){try{t.setRequestHeader("sentry-trace",e),n&&t.setRequestHeader(Ek,n)}catch{}}function jie(t,e=!0,n=!0){if(!Bn||!Bn.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn("Could not initialize routing instrumentation due to invalid location");return}let r=Bn.location.href,a;e&&(a=t({name:Bn.location.pathname,startTimestamp:zo?zo/1e3:void 0,op:"pageload",metadata:{source:"url"}})),n&&La("history",({to:i,from:s})=>{if(s===void 0&&r&&r.indexOf(i)!==-1){r=void 0;return}s!==i&&(r=void 0,a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Finishing current transaction with op: ${a.op}`),a.finish()),a=t({name:Bn.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const Vie="BrowserTracing",Wie={...C2,markBackgroundTransactions:!0,routingInstrumentation:jie,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Hk};class Gie{constructor(e){this.name=Vie,this._hasSetTracePropagationTargets=!1,yee(),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!!(e&&(e.tracePropagationTargets||e.tracingOrigins))),this.options={...Wie,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=_ie(),this.options.enableLongTask&&kie(),this.options._experiments.enableInteractions&&Sie()}setupOnce(e,n){this._getCurrentHub=n;const a=n().getClient(),i=a&&a.getOptions(),{routingInstrumentation:s,startTransactionOnLocationChange:o,startTransactionOnPageLoad:l,markBackgroundTransactions:u,traceFetch:c,traceXHR:d,shouldCreateSpanForRequest:f,enableHTTPTimings:p,_experiments:m}=this.options,g=i&&i.tracePropagationTargets,v=g||this.options.tracePropagationTargets;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&g&&Ue.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),s(y=>{const b=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(b,y,n),b},l,o),u&&pie(),m.enableInteractions&&this._registerInteractionListener(),Lie({traceFetch:c,traceXHR:d,tracePropagationTargets:v,shouldCreateSpanForRequest:f,enableHTTPTimings:p})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:a,finalTimeout:i,heartbeatInterval:s}=this.options,o=e.op==="pageload",l=o?J7("sentry-trace"):"",u=o?J7("baggage"):"",{traceparentData:c,dynamicSamplingContext:d,propagationContext:f}=WJ(l,u),p={...e,...c,metadata:{...e.metadata,dynamicSamplingContext:c&&!d?{}:d},trimEnd:!0},m=typeof r=="function"?r(p):p,g=m===void 0?{...p,sampled:!1}:m;g.metadata=g.name!==p.name?{...g.metadata,source:"custom"}:g.metadata,this._latestRouteName=g.name,this._latestRouteSource=g.metadata&&g.metadata.source,g.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.log(`[Tracing] Starting ${g.op} transaction on scope`);const{location:v}=Bn,y=b7(n,g,a,i,!0,{location:v},s),b=n.getScope();return o&&c?b.setPropagationContext(f):b.setPropagationContext({traceId:y.traceId,spanId:y.spanId,parentSpanId:y.parentSpanId,sampled:!!y.sampled}),y.registerBeforeFinishCallback(w=>{this._collectWebVitals(),Cie(w)}),y}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:r,finalTimeout:a,heartbeatInterval:i}=this.options,s="ui.action.click",o=d0();if(o&&o.op&&["navigation","pageload"].includes(o.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ue.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}const l=this._getCurrentHub(),{location:u}=Bn,c={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=b7(l,c,r,a,!0,{location:u},i)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}}function J7(t){const e=eJ(`meta[name=${t}]`);return e?e.getAttribute("content"):void 0}function Hie(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Ty}],version:Ty},Jte(t)}var aM={exports:{}},An={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ka=typeof Symbol=="function"&&Symbol.for,LN=ka?Symbol.for("react.element"):60103,FN=ka?Symbol.for("react.portal"):60106,vv=ka?Symbol.for("react.fragment"):60107,wv=ka?Symbol.for("react.strict_mode"):60108,xv=ka?Symbol.for("react.profiler"):60114,_v=ka?Symbol.for("react.provider"):60109,kv=ka?Symbol.for("react.context"):60110,PN=ka?Symbol.for("react.async_mode"):60111,Sv=ka?Symbol.for("react.concurrent_mode"):60111,Nv=ka?Symbol.for("react.forward_ref"):60112,Ev=ka?Symbol.for("react.suspense"):60113,qie=ka?Symbol.for("react.suspense_list"):60120,Tv=ka?Symbol.for("react.memo"):60115,Cv=ka?Symbol.for("react.lazy"):60116,Yie=ka?Symbol.for("react.block"):60121,Kie=ka?Symbol.for("react.fundamental"):60117,Xie=ka?Symbol.for("react.responder"):60118,Qie=ka?Symbol.for("react.scope"):60119;function Ns(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case LN:switch(t=t.type,t){case PN:case Sv:case vv:case xv:case wv:case Ev:return t;default:switch(t=t&&t.$$typeof,t){case kv:case Nv:case Cv:case Tv:case _v:return t;default:return e}}case FN:return e}}}function iM(t){return Ns(t)===Sv}An.AsyncMode=PN;An.ConcurrentMode=Sv;An.ContextConsumer=kv;An.ContextProvider=_v;An.Element=LN;An.ForwardRef=Nv;An.Fragment=vv;An.Lazy=Cv;An.Memo=Tv;An.Portal=FN;An.Profiler=xv;An.StrictMode=wv;An.Suspense=Ev;An.isAsyncMode=function(t){return iM(t)||Ns(t)===PN};An.isConcurrentMode=iM;An.isContextConsumer=function(t){return Ns(t)===kv};An.isContextProvider=function(t){return Ns(t)===_v};An.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===LN};An.isForwardRef=function(t){return Ns(t)===Nv};An.isFragment=function(t){return Ns(t)===vv};An.isLazy=function(t){return Ns(t)===Cv};An.isMemo=function(t){return Ns(t)===Tv};An.isPortal=function(t){return Ns(t)===FN};An.isProfiler=function(t){return Ns(t)===xv};An.isStrictMode=function(t){return Ns(t)===wv};An.isSuspense=function(t){return Ns(t)===Ev};An.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===vv||t===Sv||t===xv||t===wv||t===Ev||t===qie||typeof t=="object"&&t!==null&&(t.$$typeof===Cv||t.$$typeof===Tv||t.$$typeof===_v||t.$$typeof===kv||t.$$typeof===Nv||t.$$typeof===Kie||t.$$typeof===Xie||t.$$typeof===Qie||t.$$typeof===Yie)};An.typeOf=Ns;aM.exports=An;var Zie=aM.exports,sM=Zie,Jie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ese={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},oM={};oM[sM.ForwardRef]=Jie;oM[sM.Memo]=ese;const tse={"routing.instrumentation":"react-router-v6"};function nse(t,e,n,r,a){return(i,s=!0,o=!0)=>{const l=Sn&&Sn.location&&Sn.location.pathname;s&&l&&i({name:l,op:"pageload",tags:tse,metadata:{source:"url"}})}}const K=function({children:t,when:e}){return e?h(St,{children:t}):null};function p0(t){return t.split("-")[1]}function MN(t){return t==="y"?"height":"width"}function Td(t){return t.split("-")[0]}function m0(t){return["top","bottom"].includes(Td(t))?"x":"y"}function eD(t,e,n){let{reference:r,floating:a}=t;const i=r.x+r.width/2-a.width/2,s=r.y+r.height/2-a.height/2,o=m0(e),l=MN(o),u=r[l]/2-a[l]/2,c=o==="x";let d;switch(Td(e)){case"top":d={x:i,y:r.y-a.height};break;case"bottom":d={x:i,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-a.width,y:s};break;default:d={x:r.x,y:r.y}}switch(p0(e)){case"start":d[o]-=u*(n&&c?-1:1);break;case"end":d[o]+=u*(n&&c?-1:1)}return d}const rse=async(t,e,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:i=[],platform:s}=n,o=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:a}),{x:c,y:d}=eD(u,r,l),f=r,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x:b,y:w,data:x,reset:k}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});c=b??c,d=w??d,p={...p,[v]:{...p[v],...x}},k&&m<=50&&(m++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:a}):k.rects),{x:c,y:d}=eD(u,f,l)),g=-1)}return{x:c,y:d,placement:f,strategy:a,middlewareData:p}};function lM(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function Fy(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function uM(t,e){var n;e===void 0&&(e={});const{x:r,y:a,platform:i,rects:s,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=e,m=lM(p),g=o[f?d==="floating"?"reference":"floating":d],v=Fy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:a}:s.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),w=await(i.isElement==null?void 0:i.isElement(b))&&await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1},x=Fy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:b,strategy:l}):y);return{top:(v.top-x.top+m.top)/w.y,bottom:(x.bottom-v.bottom+m.bottom)/w.y,left:(v.left-x.left+m.left)/w.x,right:(x.right-v.right+m.right)/w.x}}const ase=Math.min,ise=Math.max;function qk(t,e,n){return ise(t,ase(e,n))}const cM=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t||{},{x:a,y:i,placement:s,rects:o,platform:l,elements:u}=e;if(n==null)return{};const c=lM(r),d={x:a,y:i},f=m0(s),p=MN(f),m=await l.getDimensions(n),g=f==="y",v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[f]-d[f]-o.floating[p],x=d[f]-o.reference[f],k=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let S=k?k[b]:0;S&&await(l.isElement==null?void 0:l.isElement(k))||(S=u.floating[b]||o.floating[p]);const E=w/2-x/2,I=c[v],C=S-m[p]-c[y],R=S/2-m[p]/2+E,z=qk(I,R,C),H=p0(s)!=null&&R!=z&&o.reference[p]/2-(R<I?c[v]:c[y])-m[p]/2<0;return{[f]:d[f]-(H?R<I?I-R:C-R:0),data:{[f]:z,centerOffset:R-z}}}}),sse=["top","right","bottom","left"];sse.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const ose={left:"right",right:"left",bottom:"top",top:"bottom"};function Py(t){return t.replace(/left|right|bottom|top/g,e=>ose[e])}function lse(t,e,n){n===void 0&&(n=!1);const r=p0(t),a=m0(t),i=MN(a);let s=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(s=Py(s)),{main:s,cross:Py(s)}}const use={start:"end",end:"start"};function D3(t){return t.replace(/start|end/g,e=>use[e])}const BN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:a,rects:i,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=t,v=Td(r),y=Td(s)===s,b=await(o.isRTL==null?void 0:o.isRTL(l.floating)),w=d||(y||!m?[Py(s)]:function(z){const H=Py(z);return[D3(z),H,D3(H)]}(s));d||p==="none"||w.push(...function(z,H,U,q){const Q=p0(z);let re=function(he,ae,se){const X=["left","right"],ne=["right","left"],ke=["top","bottom"],Oe=["bottom","top"];switch(he){case"top":case"bottom":return se?ae?ne:X:ae?X:ne;case"left":case"right":return ae?ke:Oe;default:return[]}}(Td(z),U==="start",q);return Q&&(re=re.map(he=>he+"-"+Q),H&&(re=re.concat(re.map(D3)))),re}(s,m,p,b));const x=[s,...w],k=await uM(e,g),S=[];let E=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&S.push(k[v]),c){const{main:z,cross:H}=lse(r,i,b);S.push(k[z],k[H])}if(E=[...E,{placement:r,overflows:S}],!S.every(z=>z<=0)){var I,C;const z=(((I=a.flip)==null?void 0:I.index)||0)+1,H=x[z];if(H)return{data:{index:z,overflows:E},reset:{placement:H}};let U=(C=E.filter(q=>q.overflows[0]<=0).sort((q,Q)=>q.overflows[1]-Q.overflows[1])[0])==null?void 0:C.placement;if(!U)switch(f){case"bestFit":{var R;const q=(R=E.map(Q=>[Q.placement,Q.overflows.filter(re=>re>0).reduce((re,he)=>re+he,0)]).sort((Q,re)=>Q[1]-re[1])[0])==null?void 0:R[0];q&&(U=q);break}case"initialPlacement":U=s}if(r!==U)return{reset:{placement:U}}}return{}}}},Iv=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,a=await async function(i,s){const{placement:o,platform:l,elements:u}=i,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=Td(o),f=p0(o),p=m0(o)==="x",m=["left","top"].includes(d)?-1:1,g=c&&p?-1:1,v=typeof s=="function"?s(i):s;let{mainAxis:y,crossAxis:b,alignmentAxis:w}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...v};return f&&typeof w=="number"&&(b=f==="end"?-1*w:w),p?{x:b*g,y:y*m}:{x:y*m,y:b*g}}(e,t);return{x:n+a.x,y:r+a.y,data:a}}}};function cse(t){return t==="x"?"y":"x"}const Av=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:a}=e,{mainAxis:i=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:y,y:b}=v;return{x:y,y:b}}},...l}=t,u={x:n,y:r},c=await uM(e,l),d=m0(Td(a)),f=cse(d);let p=u[d],m=u[f];if(i){const v=d==="y"?"bottom":"right";p=qk(p+c[d==="y"?"top":"left"],p,p-c[v])}if(s){const v=f==="y"?"bottom":"right";m=qk(m+c[f==="y"?"top":"left"],m,m-c[v])}const g=o.fn({...e,[d]:p,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function ys(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function bl(t){return ys(t).getComputedStyle(t)}function dM(t){return t instanceof ys(t).Node}function yc(t){return dM(t)?(t.nodeName||"").toLowerCase():""}let A1;function hM(){if(A1)return A1;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(A1=t.brands.map(e=>e.brand+"/"+e.version).join(" "),A1):navigator.userAgent}function Uo(t){return t instanceof ys(t).HTMLElement}function rc(t){return t instanceof ys(t).Element}function tD(t){return typeof ShadowRoot>"u"?!1:t instanceof ys(t).ShadowRoot||t instanceof ShadowRoot}function Dv(t){const{overflow:e,overflowX:n,overflowY:r,display:a}=bl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(a)}function dse(t){return["table","td","th"].includes(yc(t))}function Yk(t){const e=/firefox/i.test(hM()),n=bl(t),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(a=>n.willChange.includes(a))||["paint","layout","strict","content"].some(a=>{const i=n.contain;return i!=null&&i.includes(a)})}function Kk(){return/^((?!chrome|android).)*safari/i.test(hM())}function zN(t){return["html","body","#document"].includes(yc(t))}const nD=Math.min,zm=Math.max,My=Math.round;function fM(t){const e=bl(t);let n=parseFloat(e.width),r=parseFloat(e.height);const a=Uo(t),i=a?t.offsetWidth:n,s=a?t.offsetHeight:r,o=My(n)!==i||My(r)!==s;return o&&(n=i,r=s),{width:n,height:r,fallback:o}}function pM(t){return rc(t)?t:t.contextElement}const mM={x:1,y:1};function gf(t){const e=pM(t);if(!Uo(e))return mM;const n=e.getBoundingClientRect(),{width:r,height:a,fallback:i}=fM(e);let s=(i?My(n.width):n.width)/r,o=(i?My(n.height):n.height)/a;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function kg(t,e,n,r){var a,i;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=pM(t);let l=mM;e&&(r?rc(r)&&(l=gf(r)):l=gf(t));const u=o?ys(o):window,c=Kk()&&n;let d=(s.left+(c&&((a=u.visualViewport)==null?void 0:a.offsetLeft)||0))/l.x,f=(s.top+(c&&((i=u.visualViewport)==null?void 0:i.offsetTop)||0))/l.y,p=s.width/l.x,m=s.height/l.y;if(o){const g=ys(o),v=r&&rc(r)?ys(r):r;let y=g.frameElement;for(;y&&r&&v!==g;){const b=gf(y),w=y.getBoundingClientRect(),x=getComputedStyle(y);w.x+=(y.clientLeft+parseFloat(x.paddingLeft))*b.x,w.y+=(y.clientTop+parseFloat(x.paddingTop))*b.y,d*=b.x,f*=b.y,p*=b.x,m*=b.y,d+=w.x,f+=w.y,y=ys(y).frameElement}}return Fy({width:p,height:m,x:d,y:f})}function ac(t){return((dM(t)?t.ownerDocument:t.document)||window.document).documentElement}function Rv(t){return rc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function gM(t){return kg(ac(t)).left+Rv(t).scrollLeft}function Sg(t){if(yc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tD(t)&&t.host||ac(t);return tD(e)?e.host:e}function yM(t){const e=Sg(t);return zN(e)?e.ownerDocument.body:Uo(e)&&Dv(e)?e:yM(e)}function bM(t,e){var n;e===void 0&&(e=[]);const r=yM(t),a=r===((n=t.ownerDocument)==null?void 0:n.body),i=ys(r);return a?e.concat(i,i.visualViewport||[],Dv(r)?r:[]):e.concat(r,bM(r))}function rD(t,e,n){let r;if(e==="viewport")r=function(s,o){const l=ys(s),u=ac(s),c=l.visualViewport;let d=u.clientWidth,f=u.clientHeight,p=0,m=0;if(c){d=c.width,f=c.height;const g=Kk();(!g||g&&o==="fixed")&&(p=c.offsetLeft,m=c.offsetTop)}return{width:d,height:f,x:p,y:m}}(t,n);else if(e==="document")r=function(s){const o=ac(s),l=Rv(s),u=s.ownerDocument.body,c=zm(o.scrollWidth,o.clientWidth,u.scrollWidth,u.clientWidth),d=zm(o.scrollHeight,o.clientHeight,u.scrollHeight,u.clientHeight);let f=-l.scrollLeft+gM(s);const p=-l.scrollTop;return bl(u).direction==="rtl"&&(f+=zm(o.clientWidth,u.clientWidth)-c),{width:c,height:d,x:f,y:p}}(ac(t));else if(rc(e))r=function(s,o){const l=kg(s,!0,o==="fixed"),u=l.top+s.clientTop,c=l.left+s.clientLeft,d=Uo(s)?gf(s):{x:1,y:1};return{width:s.clientWidth*d.x,height:s.clientHeight*d.y,x:c*d.x,y:u*d.y}}(e,n);else{const s={...e};if(Kk()){var a,i;const o=ys(t);s.x-=((a=o.visualViewport)==null?void 0:a.offsetLeft)||0,s.y-=((i=o.visualViewport)==null?void 0:i.offsetTop)||0}r=s}return Fy(r)}function aD(t,e){return Uo(t)&&bl(t).position!=="fixed"?e?e(t):t.offsetParent:null}function iD(t,e){const n=ys(t);if(!Uo(t))return n;let r=aD(t,e);for(;r&&dse(r)&&bl(r).position==="static";)r=aD(r,e);return r&&(yc(r)==="html"||yc(r)==="body"&&bl(r).position==="static"&&!Yk(r))?n:r||function(a){let i=Sg(a);for(;Uo(i)&&!zN(i);){if(Yk(i))return i;i=Sg(i)}return null}(t)||n}function hse(t,e,n){const r=Uo(e),a=ac(e),i=kg(t,!0,n==="fixed",e);let s={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(r||!r&&n!=="fixed")if((yc(e)!=="body"||Dv(a))&&(s=Rv(e)),Uo(e)){const l=kg(e,!0);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else a&&(o.x=gM(a));return{x:i.left+s.scrollLeft-o.x,y:i.top+s.scrollTop-o.y,width:i.width,height:i.height}}const fse={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:a}=t;const i=n==="clippingAncestors"?function(u,c){const d=c.get(u);if(d)return d;let f=bM(u).filter(v=>rc(v)&&yc(v)!=="body"),p=null;const m=bl(u).position==="fixed";let g=m?Sg(u):u;for(;rc(g)&&!zN(g);){const v=bl(g),y=Yk(g);v.position==="fixed"?p=null:(m?y||p:y||v.position!=="static"||!p||!["absolute","fixed"].includes(p.position))?p=v:f=f.filter(b=>b!==g),g=Sg(g)}return c.set(u,f),f}(e,this._c):[].concat(n),s=[...i,r],o=s[0],l=s.reduce((u,c)=>{const d=rD(e,c,a);return u.top=zm(d.top,u.top),u.right=nD(d.right,u.right),u.bottom=nD(d.bottom,u.bottom),u.left=zm(d.left,u.left),u},rD(e,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const a=Uo(n),i=ac(n);if(n===i)return e;let s={scrollLeft:0,scrollTop:0},o={x:1,y:1};const l={x:0,y:0};if((a||!a&&r!=="fixed")&&((yc(n)!=="body"||Dv(i))&&(s=Rv(n)),Uo(n))){const u=kg(n);o=gf(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}},isElement:rc,getDimensions:function(t){return fM(t)},getOffsetParent:iD,getDocumentElement:ac,getScale:gf,async getElementRects(t){let{reference:e,floating:n,strategy:r}=t;const a=this.getOffsetParent||iD,i=this.getDimensions;return{reference:hse(e,await a(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>bl(t).direction==="rtl"},$v=(t,e,n)=>{const r=new Map,a={platform:fse,...n},i={...a.platform,_c:r};return rse(t,e,{...a,platform:i})};function vM(t){let e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=vM(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t&&t[e]&&(r&&(r+=" "),r+=e);return r}function Ce(...t){let e=0,n,r,a="";for(;e<t.length;)(n=t[e++])&&(r=vM(n))&&(a&&(a+=" "),a+=r);return a}const UN=function({children:t,setter:e,className:n,id:r}){const a=D.useRef(null);return D.useEffect(()=>{const i=function(s){const o=a==null?void 0:a.current;o&&s.target instanceof Node&&!o.contains(s.target)&&setTimeout(()=>{e(!1)},150)};return document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[a,e]),h("div",{ref:a,className:n,id:r,children:t})},pse={gen_en:"English",gen_id:"Indonesia",gen_loading:"Memuat...",gen_next:"Selanjutnya",gen_login:"Log in",gen_fname:"Nama Depan",gen_lname:"Nama Akhir",gen_workEmail:"Email Kantor",gen_orgName:"Nama Organisasi",gen_tnc:"Syarat dan Ketentuan",gen_pp:"Kebijakan Privasi",gen_add:"tambah",gen_and:"dan",gen_weeksAgo:"{{weeks}} minggu lalu",gen_daysAgo:"{{days}} hari lalu",gen_hoursAgo:"{{hours}} jam lalu",gen_minutesAgo:"{{minutes}} menit lalu",gen_aMomentAgo:"beberapa saat yang lalu",gen_yes:"Ya",gen_no:"Tidak",gen_areYouSure:"Apa Anda yakin?",gen_activated:"Diaktifkan",gen_notActivated:"Belum Diaktifkan",gen_deactivate:"Nonaktifkan",gen_here:"disini",gen_submit:"submit",gen_code:"kode",gen_save:"simpan",gen_cancel:"batalkan",gen_saving:"menyimpan",gen_processing:"memproses",gen_submitting:"mengirim",gen_change:"ubah",gen_join:"Gabung",gen_renew:"Perbarui",gen_loadMore:"Muat Lagi",gen_update:"Perbarui",gen_pay:"Bayar",gen_free:"Gratis",gen_candidates:"Kandidat",gen_unlimited:"Tidak Terbatas",gen_license:"Lisensi",gen_previous:"Sebelumnya",gen_description:"Deskripsi",gen_instruction:"Instruksi",gen_loadOpt:"Memuat Opsi ...",gen_itemNotFound:"Pilihan Tidak Ada",gen_content:"Konten",gen_correct:"Jawaban",gen_score:"Skor",gen_actions:"Aksi",gen_to:"ke",gen_testCase:"Test Case",gen_gradeCase:"Grading Case",gen_solution:"Solusi",gen_readMore:"Baca Lebih Lanjut",gen_search:"Cari",gen_company:"Perusahaan",gen_tableNoData:"Tidak ada data",gen_tableNoDataDesc:"Tabel ini kosong atau hasil tidak ditemukan",gen_tableEmpty:"Tabel ini kosong",gen_monthM:"B",gen_duration:"durasi",gen_in:"dalam",gen_minutes:"menit",gen_edit:"Ubah",gen_delete:"Hapus",gen_block:"Blokir",gen_unblock:"Buka blokir",gen_country:"Negara",gen_question:"Pertanyaan",gen_questions:"Soal",gen_nextQuestion:"Pertanyaan Berikutnya",gen_finishQuestion:"Selesai Pertanyaan",gen_goodLuck:"Semoga berhasil",gen_downloadPdf:"Unduh PDF",gen_configuration:"Konfigurasi",gen_modules:"Modul",gen_value:"Nilai",gen_create:"Buat",gen_active:"Aktif",gen_inactive:"Tidak Aktif",gen_link:"Tautan",gen_invite:"Undang",gen_assessment:"Asesmen",gen_assessments:"Asesmen",gen_participants:"Partisipan",gen_fullReport:"Laporan Lengkap",gen_rating:"Penialian",gen_showItems:"Tampilkan Item",gen_name:"Nama",gen_noDeadline:"Tanpa Deadline",gen_duplicate:"Duplikat",gen_disabled:"Nonaktif",gen_times:"Kali",gen_timeSpent:"Waktu Digunakan",gen_none:"Tidak ada",gen_capturedAt:"Diambil pada",gen_submission:"Jawaban",gen_close:"Tutup",gen_correctAnswer:"Jawaban Benar",gen_participantAnswer:"Jawaban Peserta",gen_category:"Kategori",gen_conclusion:"Kesimpulan",gen_notifications:"Notifikasi",gen_home:"Beranda",gen_upgrade:"Tingkatkan",gen_languages:"Bahasa",gen_gotologin:"Kembali ke halaman login",gen_courses:"Kursus",gen_start:"Mulai",gen_continue:"Continue",gen_finished:"Selesai",gen_maksimum:"Maksimum",gen_picture:"Gambar",gen_public:"Publik",gen_private:"Privat",gen_sec:"dtk",gen_type:"jenis",gen_runtime:"Waktu",gen_memory:"Memori",gen_answer:"Jawaban",gen_noAnswer:"Tidak Dijawab",gen_failed:"Permintaan Gagal",gen_result:"Hasil",gen_comingSoon:"Segera hadir",gen_livePreview:"Pratinjau Langsung",gen_files:"File",gen_unitTest:"Unit Test",gen_initialFile:"File Awal",gen_component:"Komponen",gen_components:"Komponen",gen_testCases:"Test Case",gen_restrictedAccess:"Akses Ditolak",gen_copy:"Salin",gen_group:"Grup",gen_level:"Tingkatan",gen_job:"Pekerjaan",gen_parent:"Induk",gen_noInternet:"Tidak Ada Koneksi Internet",gen_slowInternet:"Koneksi Internet Lambat",gen_finish:"Selesai",gen_qs:"No.",gen_choices:"Pilihan",gen_paragraph:"Paragraf",gen_whiteboard:"Papan tulis",gen_sheet:"Spreadsheet",gen_suitable:"Cocok untuk",gen_reset:"Ulangi",gen_wait:"Mohon tunggu",gen_show:"tampilkan",country_ID:"Indonesia",nav_areYouParticipant:" Apakah Anda peserta tes?",nav_areYouRecruiter:" Apakah Anda rekruter?",nav_loginHere:"Login Disini",nav_switchTheme:"Ubah Tema",nav_oldWebsite:"Mencari versi lama?",nav_goBack:"Kembali ke V1",forgot_passwordReset:"Reset Kata Sandi",forgot_haveAccount:"Sudah memiliki akun?",forgot_instructions:"Kami akan mengirimkan instruksi melalui email untuk mengatur ulang kata sandi Anda.",forgot_confPassword:"Konfirmasi kata sandi",forgot_verifyToken:"Token Verifikasi",forgot_changePass:"Masukkan kata sandi baru dan token verifikasi dari email.",forgot_recover:"Ganti Kata Sandi",lost_missingEmail:"Email Anda tidak terdaftar di platform kami. Klik di sini untuk mendaftar.",lost_userBlocked:"Email Anda diblokir oleh organisasi. Silakan hubungi supervisor Anda untuk informasi lebih lanjut.",lost_expiredToken:"Token Anda telah kedaluwarsa. Kirim ulang token baru dan coba lagi!",lost_wrongToken:"Token verifikasi tidak valid. Silakan coba lagi!",log_noAcc:"Belum punya akun?",log_regHere:"Daftar disini.",log_keep:"Tetap masuk?",log_forgot:"Lupa kata sandi?",log_otherMethod:"atau gunakan",log_signGoogle:"Masuk dengan Google",log_signFacebook:"Masuk dengan Facebook",log_notRegistered:"Email Anda tidak terdaftar di platform kami. Klik di sini untuk mendaftar.",log_unverifiedAccount:"Email Anda belum diverifikasi. Klik di sini untuk memverifikasi email Anda.",log_invalidPassEmail:"Email atau Kata Sandi tidak valid!",log_blockedAccount:"Akun Anda diblokir. Silakan hubungi supervisor Anda untuk mendapatkan bantuan.",log_logout:"Log Out",log_logoutWarning:"Keluar dari algobash.",log_inputToken:"Masukan token dari aplikasi Authenticator Anda disini :",log_useBackup:"Gunakan kode cadangan?",log_wrongCred:"Kredensial yang salah",log_user_teacher:"Anda terdaftar sebagai perekrut, pindah ke halaman Algobash Recruiter?",log_user_student:"Anda terdaftar sebagai peserta, pindah ke halaman Algobash Talent?",log_user_admin:"Anda terdaftar sebagai admin, pindah ke halaman Algobash Recruiter?",log_multipleLogin:"Anda sudah masuk di perangkat lain",log_multiple:"Akun Sedang Digunakan",log_multipleLog:"Akun ini sudah masuk di perangkat lain.<br/>Anda masih bisa memilih untuk tetap masuk di sini, tetapi akun Anda akan dinonaktifkan dari perangkat lama.",log_appRedirect:'Akun Anda terdaftar sebagai "Peserta", pindah ke Halaman Login Peserta?',reg_signup:"Daftar",reg_createOr:"Buat akun baru atau",reg_agreement:"Dengan membuat akun ini, Anda menyetujui",reg_google:"Daftar dengan Google",ver_email:"Periksa email Anda",ver_forSafety:"Kami mengirimkan token verifikasi ke",ver_forSafety2:"Silakan periksa kotak masuk/spam email Anda",ver_account:"Verifikasi Akun",ver_notoken:"Tidak menerima kode?",ver_resend:"Kirim ulang",ver_resendReq:"Kode Anda telah terkirim, harap tunggu",ver_resendReq2:"detik untuk mengirim ulang",prof_profile:"Profil",prof_manage:"Atur profil",prof_2fa:"Verifikasi Dua Tahap",prof_changePass:"Ubah kata sandi",prof_changeTeam:"Ubah Tim",prof_changePassSuccess:"Berhasil mengganti kata sandi",prof_editSuccess:"Berhasil mengubah profil",prof_changeTeamSuccess:"Berhasil mengganti tim",prof_mobileNum:"Nomor Ponsel",prof_role:"Posisi",prof_function:"Fungsi",prof_tempPassword:"Isikan kata sandi Sementara",prof_credentials:"Kredensial",prof_socialmed:"Media Sosial",prof_connectGoogle:"Hubungkan ke Google",prof_connectFacebook:"Hubungkan ke Facebook",prof_disconnectGoogle:"Hapus koneksi Google",prof_disconnectFacebook:"Hapus koneksi Facebook",cht_youreAllowed:"Anda diizinkan untuk berganti ke dalam tim berikut ini",cht_noTeamFound:"Maaf, kami tidak menemukan tim Anda ...",cht_here:"Anda di sini",cht_noAccess:"Anda tidak memiliki akses atau organisasi Anda diblokir. Silakan hubungi admin organisasi Anda atau layanan pelanggan kami untuk memeriksanya.",cht_buyPackage:"Beli Paket",cht_subExp:"Masa berlangganan Anda telah habis, perbarui paket untuk tetap melanjutkan.",cht_noPackage:"Anda tidak memiliki paket aktif untuk mengakses organisasi ini.",chp_oldPassword:"Kata sandi Lama",chp_newPassword:"Kata sandi Baru",chp_changingPass:"Mengubah kata sandi",tfa_generateQrError:"Gagal menghasilkan Kode QR",tfa_2faSuccess:"Verifikasi Dua Langkah sekarang diaktifkan",tfa_inactiveMsg1:"Akun belum terlindungi, aktifkan 2FA untuk melindungi akun Anda.",tfa_inactiveMsg2:"Sebelum melanjutkan, Anda harus menginstal aplikasi Google Authenticator di perangkat Anda. Jika Google Authenticator sudah terinstal Anda dapat melanjutkan dengan menekan tombol di bawah ini, kemudian ikuti instruksi yang diberikan untuk mengaktifkan Autentikasi 2 Faktor untuk akun Anda.",tfa_availableIn1:"Google Authenticator tersedia di",tfa_availableIn2:"Play Store (Android)",tfa_availableIn3:"App Store (IOS)",tfa_activate:"Aktifkan 2FA",tfa_activation1:"Buka aplikasi Google Authenticator dan pindai kode QR di bawah ini!",tfa_activation2:"Masukkan kode yang dihasilkan dari akun Anda",tfa_activated1:"Akun Anda sekarang diamankan dengan Autentikasi 2 Faktor.",tfa_activated2:"Anda akan diminta untuk memasukkan token otentikasi setiap kali akun ini masuk. Pastikan untuk selalu menyiapkan Aplikasi Google Authenticator Anda.",tfa_backup:"Kode di bawah ini akan bertindak sebagai alternatif dari token, harap dicatat karena tidak akan ditayangkan lagi (hanya untuk penggunaan DARURAT, selalu gunakan token dari aplikasi Authenticator Anda & jangan bagikan kode cadangan Anda).",tfa_disable:"Masukkan token pengautentikasi untuk menonaktifkan Autentikasi 2 Faktor.",tfa_disableConfirm:"Menonaktifkan 2FA akan membahayakan keamanan akun Anda. Apakah Anda ingin melanjutkan?",tfa_reset:"Atur Ulang Kode Cadangan",tfa_reset1:"Masukkan token authenticator untuk menghasilkan Kode Cadangan baru.",tfa_reset2:"Setelah membuat Kode Cadangan baru, kode cadangan lama Anda tidak dapat digunakan lagi.",role_admin:"Super Admin",role_orgAdmin:"Admin Organisasi",role_orgOwner:"Pemilik Organisasi",role_teacher:"Perekrut",role_reviewer:"Peninjau",conf_wsSettings:"Pengaturan Ruang Kerja",conf_branding:"Branding Organisasi",conf_brandingSub:"Anda dapat mengubah logo dan nama perusahaan Anda yang akan ditampilkan kepada partisipan lewat halaman ujian Algobash dan invitasi email.",conf_users:"Pengguna",conf_user:"Pengguna",conf_usersSub:"Anda dapat menambahkan perekrut, peninjau dan admin sebagai pengguna perusahaan.",conf_newUser:"Tambah Pengguna",conf_userNotFound:"Pengguna tidak ditemukan",conf_roleNote:"Keterangan Posisi",conf_roleNoteAdmin:"Memiliki semua akses",conf_roleNoteRecruiter:"Kecuali akses ke menu konfigurasi",conf_roleNoteReviewer:"Terbatas pada ujian yang sudah diberikan akses saja",conf_verified:"Terverifikasi",conf_billing:"Tagihan",conf_plan:"Kelola Paket",conf_planSub:"Lihat dan ubah paket langganan Anda di sini.",conf_billingDet:"Rincian Tagihan",conf_billingSub:"Lihat dan ubah alamat dan nomor pajak yang akan digunakan untuk penagihan.",conf_billingSub2:"Lihat dan ubah metode pembayaran yang akan digunakan untuk penagihan.",conf_billingTax:"Kami akan tetap menerbitkan faktur pajak berdasarkan ketentuan Kementrian Keuangan Republik Indonesia dengan atau tanpa nomor pajak Anda.",conf_paymentNotes:"Kami menggunakan Xendit sebagai payment gateway. Seluruh data pembayaran Anda akan disimpan sesuai dengan ketentuan keamanan dari Xendit. Sesuai dengan regulasi Republik Indonesia, seluruh pembayaran akan dilakukan menggunakan Rupiah.",conf_invoice:"Riwayat Tagihan",conf_temps:"Templat",conf_emailTemp:"Undangan Email",conf_emailTempSub:"Email-email ini digunakan untuk template invitasi email kepada partisipan. ",conf_instructions:"Instruksi Tes",conf_instructionSub:"Instruksi test akan ditampulkan kepada partisipan sebelum memulai ujian.",conf_integrations:"Pengintegrasian",conf_orgSaved:"Data organisasi diperbarui",conf_adminOnly:"Hanya untuk admin",conf_restrict:"Anda tidak dapat mengakses halaman ini. Hanya team Admin perusahaan Anda yang dapat mengakses menu ini",conf_restrictBranding:"Anda tidak dapat mengubah menu ini. Hanya team Admin perusahaan Anda yang dapat mengedit menu ini",conf_templateNotes:"Pilih template. Jika Anda ingin mengubah template, Anda dapat memilih dari daftar di bawah ini atau membuat baru.",bil_address:"Alamat",bil_addressPlaceholder:"Masukkan alamat lengkap perusahaan Anda di sini",bil_taxNum:"Nomor Pajak",bil_addrPlaceholder:"Jl. Ketapang No 12. Jakarta.",bil_method:"Metode Pembayaran",bil_cc:"Kartu Kredit",bil_cardNum:"Nomor Kartu",bil_expDate:"Tanggal Kedaluwarsa",bil_saved:"Rincian tagihan berhasil disimpan",bil_cardholderName:"Nama Pemegang Kartu",bil_street1:"Alamat 1",bil_street2:"Alamat 2",bil_province:"Provinsi",bil_city:"Kota / Kabupaten",bil_postalCode:"Kode Pos",bil_saveErr:"Gagal menyimpan metode pembayaran!",bil_expErr:"Penautan kartu telah kedaluwarsa!",bil_inactiveErr:"Sementara tidak dapat melakukan pembayaran!",bil_cardNumberInvalid:"Nomor kartu tidak valid",bil_expirationInvalid:"Tanggal tidak valid",ivc_invoiceDate:"Tanggal Tagihan",ivc_datePaid:"Tanggal Pembayaran",ivc_amount:"Jumlah",ivc_status_paid:"Dibayar",ivc_status_unpaid:"Belum Dibayar",ivc_status_pending:"Tertunda",mp_left:"Tersisa",mp_annually:"Tahunan",mp_quarterly:"Per 4 Bulan","mp_4-monthly":"Per 6 Bulan","mp_6-monthly":"Per 4 Bulan",mp_monthly:"Perbulan",mp_free:"Gratis",mp_until:"hingga",mp_nextCharge:"Tagihan berikutnya akan dikenakan pada",mp_changePlan:"Ubah Paket",mp_participantQuota:"Kuota Peserta",mp_noPlan:"Tidak ada paket aktif",mp_ttQuota:"Kuota maksimum peserta yang dapat Anda gunakan",mp_ttActive:"Peserta maksimum yang dapat mengikuti tes pada waktu yang sama",tpl_newTemplate:"Templat baru",tpl_updateSuccess:"Berhasil memperbarui templat",tpl_default:"Default",tpl_setAsDefault:"Jadikan default",tpl_deletePromptTitle:"Hapus templat",tpl_deletePromptMessage:"Apakah Anda yakin ingin menghapus <b>{{name}}</b>?",tpl_templateName:"Nama Templat",etpl_ccTo:"CC Kepada",etpl_language:"Bahasa",etpl_emailSubject:"Subjek Email",etpl_emailContent:"Isi Email",etpl_bccEmail:"Email BCC",etpl_bccEmailDesc:"Masukan email perekrut secara BCC untuk menerima salinan undangan email dan notifikasi ujian telah selesai. Maksimal 2 email.",etpl_preview:"Pratinjau",etpl_create:"Buat Templat Email",etpl_inputEmailDesc:"Masukkan email di sini",etpl_dynamicTagDesc:"Gunakan tagging dinamis untuk email Anda",itpl_instruction:"Instruksi",bl_feature:"Fitur premium",bl_subscribe:"Subscribe atau upgrade paket Anda untuk akses fitur ini.",bl_buyNow:"Beli Sekarang",bl_expire:"Langganan Anda telah kedaluwarsa",bl_noAccess1:"Anda Tidak Memiliki Akses",bl_noAccess2:"Maaf, Anda tidak dapat mengakses organisasi ini.",bl_noAccess3:"Silakan tanyakan kepada pemilik organisasi Anda atau Layanan Pelanggan Live Chat kami",bl_orgBlocked1:"Organisasi Anda diblokir oleh Algobash.",bl_orgBlocked2:"Silakan hubungi Layanan Pelanggan Live Chat kami untuk informasi lebih lanjut",fs_about:"Pertama, beri tahu kami tentang perusahaan Anda",fs_upload:"Unggah logo dan detail perusahaan Anda",fs_tax:"PPN/GST/NPWP Perusahaan",fs_indoCompany:"Untuk Perusahaan Indonesia, kami akan membuat faktur pajak PPN 11% setelah Anda memperbarui nomor pajak Anda.",fs_skip:"Atau lewati penyiapan ini, Anda dapat mengonfigurasinya kapan saja nanti","py_6-monthly":"Per 6-Bulan","py_4-monthly":"Per 4-Bulan",py_annually:"Pertahun",sub_pickPlan:"Pilih Paket untuk",sub_useAlgo:"Untuk memulai atau melanjutkan penggunaan Algobash, silakan pilih paket di bawah ini",sub_details:"Detail",sub_freeTrial:"Uji Coba Gratis",sub_freeTrialFor:"Uji coba gratis selama 7 Hari",sub_pricing:"Harga",sub_freeTrialOver:"Anda sudah melakukan uji coba",sub_freeTrialSuccess:"Selamat! Uji coba gratis selama 7 hari sudah aktif.",sub_startTrial:"Mulai Uji Coba",sub_custom:"Harga Khusus",sub_concUser:"Pengguna Bersamaan",sub_adjustable:"Dapat disesuaikan",sub_adminRec:"Lisensi Perekrut Admin",sub_testFeature:"Fitur dan Isi Tes",sub_personality:"Tes Kepribadian",sub_aptitude:"Tes Bakat",sub_essayCase:"Tes Esai dan Studi Kasus",sub_multichoice:"Pertanyaan Pilihan Ganda",sub_codingLogic:"Tes Logika Pengkodean",sub_selfInterview:"Wawancara Mandiri dan Papan Tulis",sub_excel:"Tes Excel",sub_takehome:"Tes Proyek (Pemrograman)",sub_branding:"Branding dan Pengalaman",sub_customEmail:"Undangan Email yang Dapat Disesuaikan",sub_whitelabel:"Whitelabel",sub_supportReq:"Didukung berdasarkan permintaan",sub_talkToUs:"Bicaralah Dengan Kami",sub_later:"Saya pikirkan dulu, saya beli nanti",err_subs_packageNotFound:"Paket tidak valid!",err_subs_noPaymentMethod:"Atur metode pembayaran terlebih dulu!",err_subs_cardInactive:"Pembayaran saat ini tidak tersedia!",err_subs_cardFailed:"Pembayaran gagal!",err_subs_cardPending:"Pembayaran tertunda!",err_subs_alreadySubscribed:"Anda sudah berlangganan!",err_clipboardCopy:"Gagal menyalin ke papan klip",tc_correct:"Benar",tc_wrong:"Salah",tc_error:"Error",tc_failed:"Failed",tc_runtime_error:"Eror Runtime",tc_compile_error:"Eror Kompilasi",tc_execution_memory_exceeded:"Memori Terlampaui",tc_execution_timeout:"Batas Timeout Terlampaui",tc_hidden:"Test Case Tersembunyi",tc_input:"Parameter",tc_actualOutput:"Output",tc_expectedOutput:"Output Diharapkan",tc_stdin:"Stdin",tc_stdout:"Stdout",tc_expectedStdout:"Stdout Diharapkan",tc_maxMemory:"Max Penggunaan Memory",tc_maxRuntime:"Max Waktu Eksekusi",tc_allCorrect:"Solusi ini lulus dalam semua test case!",tc_testSol:"Uji Solusi",tc_add:"Tambah Test Case",tc_isSample:"Apakah Sampel??",tc_noTc:"Belum ada test case",tc_delete:"Hapus test case ini?",tc_inGuide:"Panduan Input",tc_ouGuide:"Panduan Output",tc_noMatch:"Panjang input tidak sesuai!",tc_resultShown:"Hasil tes akan ditampilkan di sini ...",tc_runTest:"Jalankan Tes",tc_runGrade:"Jalankan Grading",tc_cell:"Cell",tc_sheet:"Sheet",tc_expectedValue:"Nilai Diharapkan",tc_operator:"Operator",tc_testOutput:"Hasil Test",tc_deleteConf:"Hapus Test Case ini?",tc_edit:"Edit Test Case",tc_execDuration:"Durasi Eksekusi",tc_memAllocation:"Alokasi Memori",tc_result:"Hasil Test Cases",tc_noTestCase:"Tidak ada test case yang tersedia",tc_evaluatedValue:"Nilai Dihasilkan",tc_rawValue:"Nilai Baku",tc_passed:"Lulus",tc_not_passed:"Tidak Lulus",tc_loading:"Memuat",tc_test_timeout:"Waktu habis",tc_request:"Request",tc_expected:"Output Diharapkan",tc_stderr:"Error",tc_path:"Path",tc_actual:"Output",tc_method:"Method",tc_headers:"Header",pl_cpp17:"C++ 17",pl_cpp:"C++ 14",pl_cpp11:"C++ 11",pl_dart:"Dart",pl_csharp:"DotNet Core 5",pl_cs:"DotNet Core 5",pl_go:"Golang 1.14",pl_java:"Java 11",pl_java8:"Java 8",pl_javascript:"JavaScript (Node)",pl_kotlin:"Kotlin",pl_php:"PHP 7",pl_python:"Python 3",pl_ruby:"Ruby",pl_swift:"Swift",pl_typescript:"TypeScript",pl_sql:"SQL",pl_react:"React JS",pl_golang:"Golang 1.14",pl_express:"Express (Node JS)",pl_laravel:"Laravel (PHP)",pl_rest:"REST API",pl_graphql:"GraphQL",io_void:"Void",io_string:"String",io_float:"Float",io_boolean:"Boolean",io_integer:"Integer",io_json:"JSON",io_array_string:"Array of String",io_array_float:"Array of Float",io_array_boolean:"Array of Boolean",io_array_integer:"Array of Integer",io_2d_array_string:"2D Array of String",io_2d_array_float:"2D Array of Float",io_2d_array_boolean:"2D Array of Boolean",io_2d_array_integer:"2D Array of Integer",pcp_hideList:"Sembunyikan Daftar Peserta",pcp_showList:"Tampilkan Daftar Peserta",pcp_someoneAssessment:"Ujian {{name}}",pcp_noParticipant:"Belum ada peserta tersedia",pcp_noParticipantDesc:"Partisipan belum ditemukan, mari kita undang mereka?",pcp_goToAssessment:"Buka Halaman Ujian",pcp_selected:"Partisipan dipilih",pcp_copyEmail:"Email Disalin",pcp_copyPhone:"No Telepon Disalin",pcp_ttipEmail:"Kirim/kirim ulang email invitasi",pcp_ttipDelete:"Hapus submisi, tidak bisa dikembalikan",pcp_ttipDownload:"Unduh laporan PDF",pcp_individualLink:"Salin link unik ujian partisipan",ast_not_started:"Belum Dimulai",ast_ongoing:"Berlangsung",ast_submitted:"Dikumpulkan",ast_not_submitted:"Tidak Selesai",ast_active:"Aktif",ast_finished:"Selesai",ast_expired:"Waktu Habis",ast_sub_not_started:"Ini adalah tes aktif. Silahkan memulai ujian apabila Anda sudah siap.",ast_sub_finished:"Waduh, Anda melewatkan waktu untuk mengambil tes. Mohon kontak ke rekruter perusahaan terkait untuk informasi lebih lanjut.",ast_sub_ongoing:"Ini adalah tes yang sedang berlangsung, diharapkan untuk lenjutkan sebelum waktu habis.",ast_sub_submitted:"Tes ini sudah dikumpulkan oleh Anda atau secara otomoatis lewat sistem karena waktu ujian sudah habis.",asm_title:"Judul Ujian",asm_desc:"Daftar semua asesmen / tes",asm_statusAll:"Semua Status",asm_new:"Asesmen Baru",asm_summary:"Ringkasan Tes",asm_invitation:"Anda telah diundang untuk bergabung {{name}} dengan kode {{code}} untuk berpartisipasi dalam tes, lihat tautan ini {{link}}.",asm_resendEmail:"Kirim ulang email undangan ke peserta ini?",asm_resendSuccess:"Email undangan sudah dikirim",asm_noParticipant:"Belum ada peserta, bagikan tautan/kode atau tambahkan peserta melalui email.",asm_delete:"Apakah Anda ingin menghapus peserta ini?",asm_deleteAll:"Apakah Anda ingin menghapus peserta yang dipilih?",asm_overPerf:"Kinerja lebih dari {{perf}}%",asm_deleteAsm:"Apakah Anda ingin menghapus <b>{{name}}</b>?",asm_duplicate:"Duplikasi <b>{{name}}</b>?",asm_reportSuccess:"Laporan Anda sedang dibuat, klik di sini untuk memeriksa laporan Anda",asm_excelReport:"Unduh Laporan Spreadsheet",asm_bulkReport:"Lihat Riwayat Laporan Massal",asm_bulkDownload:"Riwayat Unduhan Massal",asm_noAssessment:"Anda masih belum memiliki asesmen",asm_automate:"Otomatiskan wawancara dan lakukan tes di rumah untuk proses seleksi yang objektif.",asm_howTo:"Cara membuat asesmen?",asm_createGuide:"Panduan Membuat Asesmen",asm_goback:"Kembali ke Halaman Asesmen",asm_notFound:"Asesmen tidak ditemukan",asm_notFoundDesc:"Kami tidak dapat menemukan asesmen Anda, coba gunakan kata kunci/filter lain",asm_errorNotFound:"Asesmen tidak ditemukan",asm_errorNotFoundDesc:"Asesmen ini tidak ada atau sudah dihapus oleh admin.",asm_errorInternal:"Tidak dapat diproses",asm_errorInternalDesc:"Saat ini kami tidak dapat mengambil data asesmen peserta. Silakan refresh dan coba lagi!",asm_undefined:"Tidak dapat diproses",asm_undefinedDesc:"Saat ini kami tidak dapat mengambil data asesmen peserta. Silakan refresh dan coba lagi!",asm_saveConfigSuccess:"Konfigurasi disimpan",asm_noDeadline:"Tanpa batas waktu",asm_listModules:"Daftar Pertanyaan",asm_startExam:"Memulai Test",asm_startExamDesc:"Waktu pengerjaan akan segera dimulai setelah konfirmasi, apakah Anda siap?",asm_finishExam:"Finish Test",asm_finishExamDesc:"All modules are submitted, end this test now?",asm_introduction:"Catatan dari ",asm_join:"Ikuti Asesmen",asm_eventPin:"Silakan masukkan kode PIN asesmen",asm_noPin:"Belum memiliki PIN?",asm_webcamEnabler:"Pengaktifan Webcam",asm_webcamGrantAcc:"Mohon berikan akses ke browser Anda agar kami dapat melakukan pengawasan ujian dalam bentuk foto webcam/kamera depan.",asm_webcamNotGranted:"Jika akses tidak diberikan, Anda tidak dapat melanjutkan ujian ini.",asm_enableCam:"Aktifkan Kamera",asm_takePhoto:"Ambil Foto",asm_retakePhoto:"Ambil Foto Kembali",asm_takePhotoD1:"Anda seharusnya dapat melihat diri Anda sendiri dalam pratinjau kamera kami.",asm_takePhotoD2:"Kami akan mengambil gambar dari waktu ke waktu tanpa sepengetahuan Anda selama ujian berlangsung. Dengan menekan tombol berikutnya, Anda menyetujui ketentuan ini.",asm_screenCaptEnabler:"Pengaktif Tangkapan Layar",asm_pleaseGrant:"Mohon berikan akses ke browser Anda agar kami dapat melakukan pengawasan ujian dalam bentuk pengambilan gambar layar jendela Anda.",asm_chooseScreen:'Pilih "Seluruh layar Anda" pada kotak dialog.',asm_dontStopSharing:"JANGAN berhenti berbagi layar saat ujian berlangsung, atau peringatan ini akan muncul lagi!",asm_enableScreenCap:"Aktifkan Tangkapan Layar",asm_screenShareD1:"Setelah berbagi layar diaktifkan, Anda akan dapat melanjutkan ujian Anda.",asm_screenShareD2:"Harap diperhatikan bahwa kami akan mengambil gambar dari waktu ke waktu tanpa sepengetahuan Anda selama ujian berlangsung. Dengan menekan tombol, Anda menyetujui ketentuan ini.",asm_notesTitle:"Harap diingat",asm_notesItem1:"Tidak ada opsi untuk menghentikan sementara.",asm_notesItem2:"Setiap peserta memiliki satu kesempatan untuk mengikuti tes.",asm_notesItem3:"Jika terjadi kesalahan, Anda selalu dapat me-refresh browser Anda. Pastikan untuk menyimpan perubahan apa pun pada environment coding Anda (jika diperlukan).",asm_notesItem4:"Jangan panik jika Anda tidak sengaja menutup browser Anda, gunakan tautan ujian untuk kembali ke tes Anda",asm_finished:"Ujian telah dikumpulkan",asm_mainPage:"Selamat telah menyelesaikan asesmen! Hasil penilaian Anda telah berhasil direkam. Terima kasih telah menginvestasikan waktu dan usaha Anda untuk menunjukkan kemampuan dan potensi Anda.",asm_mainPage2:"Sekarang Anda dapat meninggalkan situs ini dan menunggu komunikasi lebih lanjut dari perekrut. Kami akan mengevaluasi kinerja Anda dengan cermat, dan jika Anda memenuhi kriteria kami, kami akan menghubungi Anda untuk mendiskusikan langkah selanjutnya dalam proses seleksi.",asm_goToHome:"Pergi ke Beranda",asm_asmTime:"Waktu Asesmen",asm_moduleTime:"Waktu Modul Aktif",asm_ttipDeadline:"Batas waktu ujian ini berakhir",asm_ttipDuration:"Durasi maksimal ujian ini",asm_ttipWebcam:"Snapshot webcam diaktifkan",asm_ttipDekstop:"Snapshot layar diaktifkan",asm_ttipUniqueLink:"Link unik diaktifkan",asm_ttipSequence:"Soal wajib dikerjakan sesuai urutan",asm_ttipUnsequence:"Soal dapat dikerjakan dari modul mana saja",asm_ttipLangauge:"Bahasa yang dapat diaktifkan pada ujian ini.",asm_ttipDescription:"Gagasan utama modul ini, untuk mempermudah anggota lain memahami soal ini.",asm_ttipIntro:"Instruksi mengerjakan modul, ditampilkan ke partisipan ujian.",asm_ttipDifficulty:"Tingkat kesulitan modul ini",asm_ttipCategory:"Kategori modul ini",asm_ttipJob:"Kelompok pekerjaan yang sesuai menggunakan modul ini",asm_ttipVideoDur:"Pilih durasi maksimal partisipan dapat menjawab pertanyaan ini. Apabila melebihi durasi tersebut, maka jawaban partisipan akan terkirim secara otomatis.",asm_ttipProgLang:"Aktifkan dan nonaktifkan bahasa pemrograman yang diaktifkan di sini",ws_workspace:"Ruang Kerja",ws_workspaceSub:"Ruang kerja dibuat untuk menambahkan peninjau pada test ini saja tanpa memberi akses kepada test lain, soal, dan menu lainnya.",ws_ismember:"Akses?",ws_noRecruiter:"Tidak ada perekrut",ws_isPublic:'Izinkan semua perekrut untuk mengakses <span class="dark:text-blue-700 text-blue-400">(Publik)</span> atau hanya anggota tertentu saja <span class="dark:text-sky-700 text-sky-500">(Privat)</span>',ws_ttipRemove:"Hapus akses",ws_ttipGive:"Beri akses",ws_ttipIsMember:"Rekruter memiliki akses ke test ini",ws_ttipIsNotMember:"Rekruter TIDAK memiliki akses ke test ini",asr_publicReport:"Tautan ke laporan hasil publik peserta",asr_publicReportFor:"Laporan Publik untuk",asr_notForPublic:"Data ini tidak tersedia dalam laporan publik",asr_viewParticipant:"Lihat Partisipan",asr_avgRate:"RATA2 NILAI",asr_ovrScore:"Skor Keseluruhan",asr_timeStamp:"Stempel waktu",asr_inv:"Diundang Pada",asr_start:"Mulai dari",asr_fin:"Selesai pada",asr_tts:"Total Waktu Berjalan",asr_antiCheat:"Monitor anti-kecurangan",asr_device:"Perangkat yang digunakan",asr_browser:"Detail Peramban",asr_location:"Lokasi",asr_ipAddr:"Menggunakan satu Alamat IP",asr_webcam:"Pemantauan webcam",asr_screen:"Pemantauan layar",asr_fullscr:"Selalu layar penuh",asr_copyAct:"Tindakan penyalinan",asr_mouseOut:"Mouse keluar",asr_detailed:"Hasil Detail",asr_publicNotes:"Hasil ini dapat diakses oleh publik dan data tertentu tidak disertakan dalam laporan ini. Untuk mendapatkan laporan yang komprehensif, Anda dapat meminta akses dari organisasi atau melihat versi PDF yang disediakan.",asr_publicAttn:"Diharapkan untuk membagikan hasil ini secara bertanggung jawab hanya kepada pihak-pihak yang berkepntingan. Penggunaan data dan kebocoran data dari laporan ini adalah di luar tanggung jawab kami.",asr_rating:"Rating dan Catatan",asr_wdyt:"Apa pendapat Anda tentang kandidat ini?",asr_downloadPdf:"Unduh PDF",asr_fullReport:"Request Laporan",asr_downloadReport:"Unduh Laporan",asr_downloadFailed:"Laporan Gagal",asr_downloadPending:"Laporan Diproses",asr_updateReport:"Perbarui Laporan",asr_checkReport:"Memeriksa Laporan",asr_reportSuccess:"Berhasil membuat laporan peserta, mohon tunggu sebentar. Kami akan menginformasikan kepada Anda ketika laporan Anda sudah siap.",asr_lastEdited:"Terakhir Diubah",asr_thoughts:"Tulis pendapat Anda di sini...",asr_editComment:"Mengedit komentar, simpan perubahan Anda untuk diterapkan!",asr_errorNotFound:"Data peserta tidak ditemukan",asr_errorNotFoundDesc:"Data hasil tes/asesmen peserta tidak ada. Mohon periksa kembali masukan Anda.",asr_errorInternal:"Tidak dapat diproses",asr_errorInternalDesc:"Saat ini kami tidak dapat mengambil data penilaian peserta. Silakan refresh dan coba lagi!",asr_undefined:"Tidak dapat diproses",asr_undefinedDesc:"Saat ini kami tidak dapat mengambil data penilaian peserta. Silakan refresh dan coba lagi!",asr_questionDetail:"Detail Hasil Jawaban",asr_viewDesc:"Tampilkan Deskripsi",asr_noVideo:"Tidak ada unggahan video oleh peserta",asr_UNAUTHENTICATED:"Tidak Diizinkan",asr_UNAUTHENTICATEDDesc:"Anda tidak diizinkan untuk melihat pratinjau hasil peserta ini!",asr_showSolution:"Tampilkan Solusi",asr_noTestCase:"Hasil Test Case kosong, solusi peserta tidak terkirim.",asr_submitted:"Submitted Result",asr_downloadAns:"Unduh Jawaban",asr_downloadPro:"Unduh Soal",asr_noSubmission:"Jawaban belum dikirim",asr_errorForbidden:"Tidak Diizinkan",asr_errorForbiddenDesc:"Anda tidak diizinkan untuk melihat pratinjau hasil peserta ini!",asr_noResult:"Hasil tidak ditemukan!",asr_focus:"Fokus",asr_candidateFocus:"Tingkat Fokus Kandidat",asr_candidateFocusDesc:"Kandidat memiliki tingkat fokus yang {{level}}. Penilaian dilakukan menggunakan deteksi AI terhadap mata kandidat.",asr_pose:"Sikap",asr_candidatePose:"Sikap Kandidat",asr_candidatePoseDesc:"Kandidat memiliki sikap yang {{level}}. Penilaian dilakukan menggunakan deteksi AI terhadap gerak gerik kandidat.",asr_emotion:"Ekspresi",asr_candidateEmotion:"Ekspresi Kandidat (rata-rata)",asr_candidateEmotionDesc:"Kandidat memiliki ekspresi yang {{level}} sepanjang interview. Penilaian dilakukan menggunakan deteksi AI terhadap keseluruhan wajah kandidat.",asr_min:"Min",asr_max:"Maks",asr_average:"Rata2",asr_conclusionByAI:"Kesimpulan menggunakan AI  (BETA)",asr_aiData:"Data AI",level_low:"rendah",level_normal:"normal",level_high:"tinggi",level_good:"baik",level_neutral:"netral",level_positive:"positif",level_negative:"negatif",rep_processing:"Diproses",rep_finished:"Selesai",rep_failed:"Gagal",rep_filename:"Nama File",rep_reqdate:"Tanggal Dibuat",rep_empty:"Tidak Ada Laporan Massal",rep_download:"Unduh Laporan",rep_update:"Perbarui Laporan",rep_retry:"Proses Ulang",rep_delete:"Hapus Laporan",rating_empty:"Tidak Ada",rating_0:"Tidak Ada",rating_all:"Semua Rating",rating_1:"Buruk",rating_2:"Perlu Ditingkatkan",rating_3:"Bisa Diterima",rating_4:"Bagus",rating_5:"Sangat Bagus",dev_desktop:"Desktop",dev_mobile:"Ponsel",mod_choice:"Pilihan Ganda",mod_weighted:"Pilihan Ganda",mod_essay:"Esai dan Papan Tulis",mod_interview:"Wawancara",mod_formula:"Berbasis Formula",mod_programming:"Logika Pemrograman",mod_project:"Tes Proyek (BETA)",mod_backend:"Framework Backend",mod_frontend:"Framework Frontend",mod_spreadsheet:"Spreadsheet",mod_sql:"SQL",mod_diff:"Tidak Ada",mod_diffeasy:"Mudah",mod_diffmedium:"Medium",mod_diffhard:"Kompleks",mod_deleteModule:"Hapus Modul",mod_chooseCategory:"Pilih Kategori",mod_allJob:"Semua Pekerjaan",mod_pickJob:"Pilih Tag Pekerjaan",mod_noLanguageIntro:"Pilih bahasa untuk menambahkan Instruksi",mod_questionDescrtipion:"Deskripsi Pertanyaan",mod_saveSuccess:"Modul Anda sudah tersimpan, klik di sini untuk melihat pratinjau",mod_saveQuestion:"Simpan Pertanyaan",mod_resetQuestion:"Atur Ulang Pertanyaan",mod_moveQuestion:"Pindah Pertanyaan",mod_deleteQuestion:"Hapus Pertanyaan",mod_deleteQuestionConf:"Menghapus pertanyaan ini, apakah Anda yakin?",mod_unsavedQuestion:"Belum Disimpan",mod_questionNotSaved:"Pertanyaan Anda belum disimpan. Apakah Anda ingin menyimpan pertanyaan ini terlebih dahulu?",mod_addQuestion:"Tambah Pertanyaan",mod_modules:"Modul",mod_newModules:"Module Baru",mod_allLevels:"Semua Level",mod_allGroups:"Semua Grup",mod_allCategory:"Semua Kategori",mod_companys:"Dimiliki",mod_ttipModules:"Daftar semua modul, yang dibuat oleh Algobash dan perusahaan.",mod_ttipAssign:"Gunakan modul",mod_previewModule:"Pratinjau modul",mod_detail:"Detil dan kategori",mod_difficulty:"Tingkat kesulitan",mod_APItype:"Tipe API",mod_premiumNotes:"Ini adalah fitur premium, tingkatkan paket langganan Anda untuk menikmati fitur ini.",mod_jobNotfound:"Tag pekerjaan tidak ada!",ml_notFound:"Maaf, kami tidak dapat menemukan modul Anda!",ml_notFoundDesc:"Coba kata kunci/filter lain atau tambahkan modul baru",ml_reset:"Hapus Filter",ml_refresh:"Refresh",ml_locked:"Modul Dikunci",ml_feature:"Modul ini tidak tersedia untuk tim ini, silakan hubungi pemilik Anda untuk mengaktifkannya!",ca_webcam:"Snapshot webcam",ca_snapshot:"Snapshot layar",ca_fullscreen:"Layar penuh",ca_feedback:"Umpan balik peserta",ca_unique:"Tautan unik untuk setiap peserta",ca_noTemp:"Tidak Ada Templat Tersimpan",ca_pickTemp:"Pilih Templat Email",ca_randomChoice:"Acak urutan pilihan",ca_randomChoiceTp:"Mengacak urutan pilihan ganda",ca_randomQuestion:"Acak urutan pertanyaan",ca_moduleSequence:"Kerjakan modul secara berurutan",ca_errNoName:"Nama harus diisi!",ca_errNameCharacter:"Karakter tidak didukung, hanya dapat menggunakan - + ( ) [ ]",ca_uniqLink:"Link Unik",ca_sequential:"Berurutan",ca_unsequential:"Tidak berurutan",ca_moduleNotes:"Pastikan semua konfigurasi modul Anda sudah benar, Anda tidak akan dapat mengedit urutan modul, bahasa pemrograman yang tersedia, atau konfigurasi terkait lainnya.",ca_moduleSlot:"Slot modul",ca_errEmptyModules:"Modul diperlukan untuk membuat tes",test_failedDescription:"Deskripsi pemuatan gagal, silakan refresh!",test_loadDescription:"Memuat deskripsi, harap tunggu ...",test_noQuestion:"Tidak ada Pertanyaan!",test_noQuestion2:"Tambahkan pertanyaan untuk meninjau module ini",test_endPreview:"Akhiri Pratinjau",test_endModule:"Akhiri Modul",test_nextModule:"Module Selanjutnya",test_endtest:"Akhiri Tes",test_submitModule:"Kirim Jawaban",test_submitModuleDesc:"Kirimkan jawaban Anda untuk modul ini?",test_timeUp:"Waktu Habis",test_timeUpDesc:"Mengarahkan Anda ke modul berikutnya",test_finishDesc:"Mengarahkan Anda ke halaman asesmen",test_leaving:"Sedang pergi?",test_leavingDesc:"Test ini masih belum seleai, jangan lupa kembali!",test_submitCode:"Submit Kode",test_submitTest:"Submit Tes",test_solutionSubmitted:"Jawaban Disimpan",test_solutionSubmittedDesc:"Jawaban Anda untuk pertanyaan ini sudah disimpan, silahkan pindah ke pertanyaan selanjutnya!",test_remaining:"Sisa Waktu",test_remainingExam:"Sisa Waktu Ujian",test_remainingModule:"Sisa Waktu Modul",test_moduleSubmitted:"Jawaban Anda telah dikirimkan!",test_moduleNext:"Module Selanjutnya",test_backToAssessment:"Kembali ke Halaman Asesmen",test_tcPass:"Solusi Anda telah melewati semua test case. ",test_tcNextQuestion:"Anda dapat melanjutkan ke tugas berikutnya.",test_tcNextModule:"Anda dapat selesaikan / lanjut ke modul berikutnya.",test_resultShown:"Hasil test case akan ditampilkan disini.",test_prSubmitted:"Jawaban Anda sudah terkirim, Anda masih diizinkan untuk menjalankan tes / mengirim lagi.",test_exSubmitted:"Jawaban Anda sudah tersimpan, Anda masih dapat menjawab/mengunggah jawaban lagi.",test_3minleft:"Asesmen hampir selesai, jangan lupa untuk submit jawaban Anda!",test_mobile:"Tes berbasis coding tidak dioptimalkan untuk tampilan seluler, mohon gunakan Desktop PC!",test_submitted:"Module Selesai",test_gotoNextModule:"Jawaban anda sudah disimpan, mohon kerjakan module selanjutnya!",pr_generateRequired:"Masukan/Keluaran berubah. Generate kode untuk menghindari masalah dengan test case.",pr_noInputParams:"Tambah input untuk mengenerate kode",pr_generateCode:"Generate Kode",pr_paramNotes:"Gunakan format input-output apabila tipe soal sudah ditetapkan jenis struktur data-nya (seperti integer, array of integer, boolean, dll).",pr_paramInput:"Input",pr_paramOutput:"Output",pr_stdinotes:"Gunakan format stdin-stdout untuk menerima input berupa text file.",pr_stdinInput:"Stdin",pr_stdinOutput:"Expected Stdout",pr_generateWarning:"Melakukan hal ini akan mengatur ulang semua testcase dan solusinya. Apakah Anda yakin?",pr_showInit:"Tampilkan File Init",pr_showInitSub:"File ini akan menjadi file inisialisasi kode peserta. Silahkan mengedit file di bawah ini jika diperlukan.",pr_unsaved:"Simpan pertanyaan sebelum menambahkan test case!",ex_eq:"Sama dengan",ex_gt:"Lebih besar dari",ex_gte:"Lebih besar / Sama dengan",ex_lt:"Kurang Dari",ex_lte:"Kurang Dari / Sama dengan",ex_neq:"Tidak Sama Dengan",ex_range:"Bernilai Diantara",ex_testDelete:"Hapus File Tes",ex_testWarning:"Menghapus file tes akan mengatur ulang semua pengaturan yang tersimpan (Grading, Dataset, Test Case).",ex_gradeDelete:"Hapus File Grading",ex_gradeReset:"Reset File Grading",ex_testReset:"Reset File Tes",ex_gradeWarning:"Menghapus file grading awal akan mengatur ulang semua Dataset dan Test Case yang tersimpan.",ex_spreadsheetView:"Tampilan Spreadsheet",ex_downloadSample:"File Tugas",ex_formulaGuide:"Panduan Formula",ex_upload:"Upload Spreadsheet",ex_dnd:"Drag dan taruh file di sini, atau klik untuk memilih file",ex_testFile:"File Testing",ex_gradeFile:"File Grading",ex_addGrading:"Tambahkan File Grading",ex_addDataset:"Tambahkan Dataset",ex_reserDataset:"Setel Ulang Dataset",ex_isGrading:"Gunakan Grading",ex_useGrading:"Gunakan test case ini dengan File Grading",ex_downloadSampleSm:"File",ex_formulaGuideSm:"Panduan",ex_spreadsheetViewSm:"Jawaban",ex_testFileNotes:"File testing adalah lembar kerja yang akan digunakan oleh partispan mengisi jawabannya.",ex_gradeFileNotes:"File grading adalah file yang akan digunakan oleh sistem kami untuk memastikan fungsi partispan adalah benar. File grading harus memiliki data set yang berbeda dengan jumlah yang sama. Anda tetap harus memasukan test case untuk file grading.",exErrUnsupportedOperator:"Operator test case belum tidak di support",exErrInvalidRangeValue:"Nilai antara tidak valid",exErrFailedToReadFile:"Tidak dapat membaca konten file",exErrMissingSheetSubmission:"Sheet",exErrMissingSheetSubmission2:"tidak di temukan",exErrMissingSheetGrading:"Sheet",exErrMissingSheetGrading2:"tidak di temukan",exErrCompareResult:"Tidak dapat membandingkan hasil",exErrNaN:"Nilai harus berupa angka",exErrInternal:"Grading spreadsheet gagal, mohon ulang kembali!",exErrTimeout:"Batas waktu grading tercapai",mcq_byCorrect:"1 Jawaban Benar",mcq_byScore:"Penilaian Skor",mcq_lockedToCorrect:"Modul ini terkunci pada '1 Jawaban Benar' (Klik untuk mengetahui alasannya)",mcq_random:"Pilihan acak",mcq_copyChoice:"Salin opsi saat menambahkan pertanyaan",mcq_sameChoice:"Samakan opsi English dan Bahasa Indonesia",mcq_addChoice:"Tambahkan Opsi",mcq_indexInvalid:"Indeks pertanyaan tidak valid",mcq_indexOver:"Indeks pertanyaan harus di bawah pertanyaan maksimal",mcq_choiceEmpty:"Silakan tambahkan opsi pilihan untuk melanjutkan",mcq_scoreEmpty:"Skor pilihan kosong / tidak valid",mcq_noCorrect:"Pilihlah satu jawaban yang benar",mcq_labelEmpty:"Konten pilihan tidak boleh kosong (English)",mcq_labelEmptyID:"Konten pilihan tidak boleh kosong (Bahasa Indonesia)",mcq_descEmpty:"Deskripsi harus diisi (English)",mcq_descEmptyID:"Deskripsi harus diisi (Bahasa Indonesia)",sql_allowCRUD:"Izinkan pengguna untuk menggunakan Perintah INSERT, UPDATE & DELETE",sql_separate:"Tambahkan Migrasi & Hasil terpisah yang akan diuji selama pengiriman",sql_allowMutation:"Izinkan Mutasi",sql_useGrading:"Gunakan Grading Case",sql_migration:"Tampilkan Skema Migrasi {{type}}",sql_json:"Tampilkan Hasil JSON {{type}}",sql_solution:"Tampilkan Solusi",esi_maxScore:"Skor Maksimum",esi_scoreOpt:"Opsi penilaian akan menjadi",esi_answerFmt:"Format Jawaban",esi_paragraph:"Jawab dalam format paragraf",esi_upload:"Menjawab dengan mengunggah file/gambar",esi_paragraphDesc:"Peserta dapat langsung mengetik jawaban mereka",esi_uploadDesc:"Peserta diwajibkan untuk mengunggah file yang berisi jawaban mereka",esi_invalidFmt:"Pilihlah salah satu format berikut ini!",esi_whieboard:"Menjawab dengan papan tulis",esi_whieboardDesc:"Peserta dapat menggambar di papan tulis untuk menjawab",esi_essayAnswer:"Jawaban Essay",esi_uploadAnswer:"Unggah File",esi_uploadPl:"+ Upload Foto atau File",esi_uploadNotes:"File yang dapat diupload adalah format ZIP, RAR, JPG, JPEG, PNG dan PDF. Maksimal 5 files, masing-masing 10 MB.",int_finish:"Akhiri Wawancara",int_confirmMsg:"Anda masih punya waktu, apakah Anda ingin menyelesaikan wawancara sekarang?",int_cameraPermission:"Izin Ditolak",int_cameraPermissionDesc:"Aktifkan izin kamera dari pengaturan browser Anda! Jika masalah terus berlanjut, silakan lakukan refresh.",int_duration:"Durasi Wawancara",int_finished:"Wawancara Selesai",int_saved:"Saat ini kami sedang menyimpan wawancara yang telah direkam sebelumnya.",int_saved2:"Anda dapat melanjutkan ke pertanyaan berikutnya / selesikan modul.",int_before:"Webcam Anda akan ditampilkan di sini.",int_startIns:"Perekaman akan dimulai saat pertanyaan dimulai dan berakhir saat pertanyaan berikutnya ditekan atau jika durasi selesai.",int_AI:"Kami menggunakan AI untuk mendeteksi perilaku Anda dalam wawancara ini, jadi pastikan Anda tetap fokus.",int_resource:"Proses ini membutuhkan banyak sumber daya, pastikan anda tidak memiliki program atau tab lain yang berjalan di latar belakang.",int_weUse:"Periksa koneksi Anda sebelum memulai, tidak akan ada perekaman ulang.",int_enableWebcam:"Kesempatan terakhir untuk memeriksa webcam dan koneksi Anda!",int_start:"Mulai Wawancara",int_description:"Pertanyaan akan ditampilkan ketika wawancara telah dimulai",int_failed:"Gagal memulai interview. Jika masalah terus berlanjut, silakan lakukan refresh.",int_reconnect:"Menghubungkan kembali",int_noConnection:"Koneksi wawancara terputus, silakan periksa koneksi Anda.",int_setup:"Atur Webcam",int_check:"Periksa Webcam dan Audio",int_beforeIntv:"Sebelum kita mulai, mari kita pastikan webcam dan suara Anda sudah aktif.",int_beforeIntv2:"Jika wajah Anda muncul dan isyarat suara bergerak setiap kali Anda berbicara, maka Anda siap untuk melanjutkan ke pertanyaan wawancara.",int_chooseDev:"Pilih perangkat video/audio yang sesuai di sini.",int_cannotChange:"Anda tidak dapat mengubahnya selama wawancara!",int_activate:"Aktifkan Webcam",int_saveSetting:"Simpan Pengaturan Webcam",int_preparing:"Mempersiapkan wawancara",int_errDownloadModel:"Gagal mengunduh model! Silakan lakukan refresh.",for_Personal:"Personal - Jalankan skrip formula per peserta",for_Population:"Populasi - Menjalankan skrip formula per ujian",for_Single:"Jawaban Tunggal",for_Multiple:"Jawaban Ganda",for_Priority:"Jawaban Prioritas",prj_instruction:"Instruksi",prj_proxy:"Menghubungkan ke proxy",prj_terminal:"Buka Terminal",prj_goToDir:"Masuk ke direktori proyek anda",prj_runCmd:"Jalankan perintah ini",prj_check:"Periksa apakah proyek anda berjalan dengan benar",prj_gitAcc:"Akun Git",prj_access1:"Untuk mengakses proyek anda, silakan login ke",prj_access2:"dengan akun ini",prj_acc:"Anda dapat mengakses proyek anda di sini",prj_wtp:"Kapan harus push",prj_timer:"Ketika anda telah menyelesaikan tugas atau membuat beberapa perubahan,",prj_recommend:"kami merekomendasikan untuk push proyek demi mencegah kehilangan data.",prj_howToPush:"Untuk push proyek anda, cukup jalankan",prj_thisStep:"Langkah ini diperlukan untuk menyimpan jawaban anda.",prj_notPushed:"Anda belum mendorong proyek anda, harap segera lakukan!",prj_project:"Test Project",prj_projectDown:"Untuk mengunduh proyek anda, akses tautan git di atas, dan kloning proyek ke desktop Anda",prj_projectPull:"Anda juga dapat mengkloning proyek anda melalui termninal menggunakan perintah ini : ",prj_status:"Status proxy anda akan ditampilkan dibawah.",prj_algo:"Atau login via Algobash",ntf_noNotif:"Anda tidak memiliki notifikasi",ntf_notifDisplay:"Pemberitahuan terbaru akan ditampilkan di sini",ntf_markall:"Tandai Sudah Dibaca",ntf_viewall:"Lihat Semua",ntf_participantBulkReportReady:"Laporan Massal Siap",ntf_participantReportReady:"Laporan Peserta Siap",ntf_participantReportReadySubtitle:"Laporan massal berhasil dibuat dan siap untuk diunduh",ntf_participantBulkReportReadySubtitle:"Laporan berhasil dibuat dan siap untuk diunduh",home_helperTitle:"Dokumentasi untuk mulai menggunakan Algobash",helper_one:"Apa yang bisa diujian di Algobash?",helper_two:"Membuat tes pertama Anda",helper_three:"Undang partisipan pertama ke tes Anda",helper_four:"Membuat pertanyaan kustom pertama",helper_five:"Lihat daftar dan hasil partisipan",helper_ending:"Akses FAQ kami secara lengkap",home_yourQuota:"Kuota Anda",home_participantFunnel:"Funnel Peserta",home_subsPeriod:"Periode langganan",home_activeParticipants:"Peserta aktif",home_totalInvited:"Jumlah Peserta",home_totalRecruiter:"Jumlah User",home_totalAssessment:"Jumlah Ujian",home_totalModule:"Jumlah Modul",home_funnelInvited:"Diundang",home_funnelSubmitted:"Diselesaikan",home_funnelNonZero:"Tidak Nol",home_funnel70Perf:"Performa  70%",home_funnelInvitedDesc:"Jumlah peserta yang diundang ke Asesmen",home_funnelSubmittedDesc:"Peserta yang mengirimkan jawaban tes",home_funnelNonZeroDesc:"Peserta dengan nilai di atas nol",home_funnel70PerfDesc:"Berdasarkan kinerja keseluruhan pada pengujian, dinormalisasi ke 100%",home_trydemo:" Baca FAQ dan Coba Tes Demo",home_welcome:"Selamat datang di Algobash",home_completeProfile:"Lengkapi profil Anda: Alasan dan Manfaatnya",home_readFAQ:"Baca FAQ",home_startdemo:"Mulai Demo",home_codingtest:"Tes Coding",home_sqltest:"Tes SQL",home_sheettest:"Tes Spreadsheet",home_intvtest:"Tes Wawancara",home_fetest:"Tes Frontend",home_betest:"Tes Backend",home_formulatest:"Tes Formula",home_essaytest:"Tes Essai",home_projecttest:"Tes Proyek",home_ttconf:"Ubah branding organisasi",home_ttrole:"Anda dan posisi Anda",sli_linkCopy:"Tautan Disalin!",sli_invCopy:"Undangan Disalin!",sli_invSent:"Undangan Dikirim!",sli_copyLink:"Salin Tautan",sli_copyInvitation:"Salin Undangan",sli_shareEmail:"Bagikan ke Email",sli_to:"ke {{name}}",sli_inv1:"Undang Peserta Melalui Email",sli_inv2:"Undah peserta untuk mengikuti asesmen {{name}}","sli_one-by-one":"Satu-per-satu",sli_bulk:"Unggah File",sli_downloadCsv:"Unduh format CSV untuk pengunggahan massal",sli_listParticipants:"Daftar Peserta yang ditambahkan",sli_sendInv:"Kirim Undangan",sli_name:"Nama Peserta",sli_email:"Email Peserta",sli_bulkUpload:"+ Unggah Data Peserta Secara Massal",fr_preview:"Pratinjau Langsung",fr_deploying:"Membuka ...",fr_addFile:"Tambahkan file baru di :",fr_addDir:"Tambahkan direktori baru di :",fr_filename:"Nama File",fr_directory:"Nama Direktori",fr_createFile:"Membuat File",fr_createDir:"Buat Direktori",fr_err_noname:"Nama tidak boleh kosong!",fr_err_spec:"Nama tidak boleh mengandung karakter khusus atau spasi",fr_deleteFile:"Hapus File",fr_deleteDir:"hapus Direktori",fr_deleteFileConf:"Anda yakin ingin menghapus file ini?",fr_deleteDirConf:"Anda yakin ingin menghapus direktori ini?",fr_editFile:"Edit File",fr_editFileConf:"Mengedit nama file dari",fr_editDir:"Edit Direktori",fr_editDirConf:"Mengedit nama direktori dari ",fr_lockFile:"Mengunci File",fr_lockFileConf:"Dengan mengunci file, peserta tidak akan dapat mengedit, menghapus atau mengubah konten. Apakah Anda yakin?",fr_lockDir:"Mengunci Direktori",fr_lockDirConf:"Dengan mengunci direktori, peserta tidak akan dapat mengedit, menghapus atau membuat file/dir di dalamnya. Apakah Anda yakin?",fr_unlockFile:"Membuka kunci File",fr_unlockFileConf:"Dengan membuka file, peserta diperbolehkan mengedit, menghapus atau mengubah konten. Apakah Anda yakin?",fr_unlockDir:"Membuka kunci Direktori",fr_unlockDirConf:"Dengan membuka direktori, peserta diperbolehkan mengedit, menghapus atau membuat file/dir di dalamnya. Apakah Anda yakin?",fr_resetDirs:"Atur Ulang File/Direktori?",fr_resetDirsDesc:"Ini akan mengatur ulang semua file dan direktori ke konfigurasi awal, semua pekerjaan Anda yang tersimpan akan dihapus. Apakah Anda yakin?",fr_allowCreateFile:"Izinkan pengguna untuk membuat file?",fr_allowCreateDir:"Izinkan pengguna untuk membuat direktori?",fr_maxRunTest:"Uji Coba Maksimum",fr_unitTestGen:"Generator Unit Test",fr_genResult:"Hasil Generator",fr_compTp:"Daftar komponen yang akan diimpor & diuji.",fr_tesCaseTp:"Daftar Test Case yang digunakan dalam Unit Test ini",fr_testCodeTp:"Kode Unit Testing akan ditampilkan di sini.",fr_testGenTp:"Anda dapat membuat dan/atau mengedit Kode Unit Test Anda sendiri.",fr_noComponents:"Belum ada komponen",fr_plsAddComp:"Tambahkan komponen terlebih dahulu, untuk menambahkan Test Case",fr_separateGrade:"Pisahkan Testing dan Grading",fr_dbMigration:"Migrasi SQL",fr_dbMigrationTp:"Skrip migrasi database sebelum menjalankan proses Testing/Grading",fr_dbMigrationTestingTp:"Skrip migrasi database sebelum menjalankan proses Testing",fr_dbMigrationGradingTp:"Skrip migrasi database sebelum menjalankan proses Grading",fr_restMethodDesc:"Pilih REST API Method",fr_urlDesc:"URL path",fr_headers:"Header",fr_addHeader:"Tambah Header",fr_gqlSchema:"Skema GraphQL",fr_gqlVariables:"Variabel",fr_dirLocked:"Direktori Dikunci",fr_fileLocked:"File Dikunci",fr_lockedDesc:"Ubah nama, hapus, dan edit dinonaktifkan",err_errorInternal:"Tidak dapat memproses, silakan coba lagi!",err_undefined:"Tidak dapat memproses, silakan coba lagi!",err_errorNotFound:"Tidak ditemukan, silakan periksa dan coba lagi!",err_errorValidation:"Input tidak valid, silakan periksa dan coba lagi!",err_networkProblem:"Masalah jaringan, silakan periksa koneksi Anda!",err_fnameRequired:"Nama depan harus diisi!",err_lnameEmpty:"Nama belakang tidak valid!",err_emailRequired:"Email wajib diisi!",err_emailInvalid:"Format email tidak valid!",err_emailTaken:"Email ini sudah terdaftar!",err_organizationRegistered:"Organisasi Anda sudah terdaftar di Algobash!",err_pwdLength:"Karakter kata sandi harus lebih dari 8!",err_pwdUpper:"Kata sandi harus berisi huruf besar!",err_pwdLower:"Kata sandi harus berisi huruf kecil!",err_pwdNumeric:"Kata sandi harus berisi karakter numerik!",err_pwdSpecial:"Kata sandi harus berisi karakter khusus! cth:!@#()*&,./",err_pwdRequired:"Mohon isikan password!",err_emailWorkRequired:"Domain Anda tidak terdaftar sebagai perusahaan. Gunakan email perusahaan yang valid untuk mendaftar.",err_tokenInvalid:"Token tidak valid, harap periksa input Anda!",err_passNotMatch:"Kata sandi tidak cocok!",err_verif_emailOrphan:"Anda bukan anggota organisasi ini. Silakan hubungi pemilik organisasi.",err_sqlMissingPK:"Tidak ada primary key dalam tabel referensi.",err_sqlMissingRefTB:"Tabel referensi tidak ditemukan.",err_sqlDataType:"Jenis data kolom tidak valid.",err_sqlNoColumn:"Tidak ada kolom dalam tabel definisi.",err_UNAUTHENTICATED:"Pengguna belum diautentikasi, silakan Login!",err_FORBIDDEN:"Anda tidak diizinkan untuk mengakses fitur ini!",err_trial_notAvailable:"Paket uji coba gratis tidak tersedia untuk organisasi Anda!",err_trial_notEligible:"Anda tidak diizinkan untuk memulai paket Uji Coba Gratis!",err_bccInvalid:"Email BCC tidak valid!",err_tplNameInvalid:"Nama templat tidak valid!",err_tplLangInvalid:"Bahasa tidak valid!",err_tplSubjectInvalid:"Subjek email tidak valid!",err_tplContentInvalid:"Konten email tidak valid!",err_introEn:"Instruksi (English) belum terisi!",err_introId:"Instruksi (Indonesia) belum terisi!",err_noEmailTemp:"Mohon pilih templat email",err_noIntroTemp:"Silakan pilih templat instruksi pengujian",err_noSelectedModule:"Mohon pilih salah modul",err_copyCode:"Tidak dapat menyalin kode/link undangan",err_invitation_code:"PIN tidak valid, harap masukkan kode PIN asesmen yang benar",err_cameraPermissionDenied:"Izin kamera ditolak, harap aktifkan untuk melanjutkan!",err_capturePermissionDenied:'Anda harus membagikan "Seluruh layar Anda" untuk melanjutkan',err_moduleNameEmpty:"Nama modul tidak boleh kosong!",err_moduleNameCharacter:"Karakter tidak didukung, hanya dapat menggunakan - + ( ) [ ]",err_frNameInvalid:"Nama tidak valid!",err_frMethodInvalid:"Method tidak valid!",err_frUrlInvalid:"URL tidak valid! contoh: <code>/users</code> atau <code>/home?page=1</code>",err_frUrlWhitespace:"URL tidak boleh berisi spasi!",err_frHeaderNameInvalid:"Nama header tidak valid!",err_frHeaderValueInvalid:"Nilai header tidak valid!",err_frJsonInvalid:"JSON tidak valid!",err_frGqlSchemaInvalid:"Skema GraphQL tidak valid!",err_emptySqlMgr:"Skema Migrasi harus diisi",err_emptyJsonOut:"Output JSON harus diisi",err_jsonInvalid:"Nilai bukan merupakan JSON yang valid",err_emptySolution:"Kode solusi harus diisi",err_noTestFile:"Test file harus diisi!",err_uploadLimit:"Batas ukuran file adalah {{max}} !",err_moduleNoQuestion:"Modul ini tidak memiliki pertanyaan !",err_modulesNoQuestion:"Tidak dapat menggunakan modul tanpa pertanyaan !",err_notSubmitted:"Jawaban peserta tidak dikirim!",err_browserNotSupported:"Browser tidak didukung",err_browserNotSupportedDesc:"Kami hanya mendukung browser berbasis Google Chrome, Firefox, dan Chromium.","err_webcam_Permission dismissed":"Mohon berikan akses/izin untuk melanjutkan!",err_noTestCase:"Tidak dapat menggunakan modul {{id}} : {{name}}, test case belum terisi! Klik disini untuk menambahkan.",err_testCaseEmpty:"Test case tidak boleh kosong!","phone_number is not valid.":"Nomor ponsel tidak valid","Error during input validation":"Input tidak valid, silakan periksa dan coba lagi!","Wrong old password was entered.":"Kata sandi lama tidak cocok!","participant not found":"Data peserta tidak ditemukan!","err_webcam_Permission denied":"Izin webcam ditolak, Mohon izinkan algobash/browser untuk mengakses webcam."},mse={gen_en:"English",gen_id:"Bahasa Indonesia",gen_loading:"Loading...",gen_next:"Next",gen_login:"Log in",gen_fname:"First Name",gen_lname:"Last Name",gen_workEmail:"Work Email",gen_orgName:"Organization Name",gen_tnc:"Terms and Condition",gen_pp:"Privacy Policy",gen_add:"add",gen_and:"and",gen_weeksAgo:"{{weeks}} weeks ago",gen_daysAgo:"{{days}} days ago",gen_hoursAgo:"{{hours}} hours ago",gen_minutesAgo:"{{minutes}} minutes ago",gen_aMomentAgo:"a moment ago",gen_yes:"Yes",gen_no:"No",gen_areYouSure:"Are you sure?",gen_activated:"Activated",gen_notActivated:"Not Activated",gen_deactivate:"Deactivate",gen_here:"here",gen_code:"code",gen_save:"save",gen_submit:"submit",gen_cancel:"cancel",gen_saving:"saving",gen_processing:"processing",gen_submitting:"submit",gen_change:"change",gen_join:"Join",gen_renew:"Renew",gen_loadMore:"Load More",gen_update:"Update",gen_pay:"Pay",gen_free:"Free",gen_candidates:"Candidates",gen_unlimited:"Unlimited",gen_license:"License",gen_previous:"Previous",gen_description:"Description",gen_instruction:"Instruction",gen_loadOpt:"Loading Options ...",gen_itemNotFound:"No Options",gen_content:"Content",gen_correct:"Correct",gen_score:"Score",gen_actions:"Actions",gen_to:"to",gen_testCase:"Test Case",gen_gradeCase:"Grade Case",gen_solution:"Solution",gen_readMore:"Read More",gen_search:"Search",gen_company:"Company",gen_tableNoData:"No data available",gen_tableNoDataDesc:"This table is empty or no results were found",gen_tableEmpty:"This table is empty",gen_monthM:"M",gen_duration:"duration",gen_in:"in",gen_minutes:"minutes",gen_edit:"Edit",gen_delete:"Delete",gen_block:"Block",gen_unblock:"Unblock",gen_country:"Country",gen_question:"Question",gen_questions:"Questions",gen_nextQuestion:"Next Question",gen_finishQuestion:"Finish Question",gen_goodLuck:"Good Luck",gen_downloadPdf:"Download PDF",gen_configuration:"Configuration",gen_modules:"Modules",gen_value:"Value",gen_create:"Create",gen_active:"Active",gen_inactive:"Inactive",gen_link:"Link",gen_invite:"Invite",gen_assessment:"Assessment",gen_assessments:"Assessments",gen_participants:"Participants",gen_fullReport:"Full Report",gen_rating:"Rating",gen_showItems:"Show Items",gen_name:"Name",gen_noDeadline:"No Deadline",gen_duplicate:"Duplicate",gen_disabled:"Disabled",gen_times:"Times",gen_timeSpent:"Time Spent",gen_none:"None",gen_capturedAt:"Captured at",gen_submission:"Submission",gen_close:"Close",gen_correctAnswer:"Correct Answer",gen_participantAnswer:"Participant Answer",gen_category:"Category",gen_conclusion:"Conclusion",gen_notifications:"Notifications",gen_home:"Home",gen_upgrade:"Upgrade",gen_languages:"Languages",gen_gotologin:"Go back to login page",gen_courses:"Courses",gen_start:"Start",gen_continue:"Continue",gen_finished:"Finished",gen_maksimum:"Maximum",gen_picture:"Picture",gen_public:"Public",gen_private:"Private",gen_sec:"sec",gen_type:"type",gen_runtime:"Runtime",gen_memory:"Memory",gen_answer:"Answer",gen_noAnswer:"Not Answered",gen_failed:"Request Failed",gen_result:"Result",gen_comingSoon:"Coming soon",gen_livePreview:"Live Preview",gen_files:"Files",gen_unitTest:"Unit Test",gen_initialFile:"Initial Files",gen_component:"Component",gen_components:"Components",gen_testCases:"Test Cases",gen_restrictedAccess:"Restricted Access",gen_copy:"Copy",gen_group:"Group",gen_level:"Level",gen_job:"Job",gen_parent:"Parent",gen_noInternet:"No Internet Connection",gen_slowInternet:"Slow Internet Connection",gen_finish:"Finish",gen_qs:"Qs.",gen_choices:"Choices",gen_paragraph:"Paragraph",gen_whiteboard:"Whiteboard",gen_sheet:"Spreadsheet",gen_suitable:"Suitable for",gen_reset:"Reset",gen_wait:"Please wait",gen_show:"show",country_ID:"Indonesia",nav_areYouParticipant:" Are you a test participant?",nav_areYouRecruiter:" Are you a recruiter?",nav_loginHere:"Login Here",nav_switchTheme:"Switch Theme",nav_oldWebsite:"Looking for older version?",nav_goBack:"Go Back to V1",forgot_passwordReset:"Password Reset",forgot_haveAccount:"Already have an account?",forgot_instructions:"We'll email you instructions to reset your password.",forgot_confPassword:"Confirm Password",forgot_verifyToken:"Verification Token",forgot_changePass:"Input your new password and verification token from email.",forgot_recover:"Recover Password",lost_missingEmail:"Your email is not registered in our platform. Click here to register.",lost_userBlocked:"Your email is blocked by organization. Please contact your supervisor for more information.",lost_expiredToken:"Your token is expired. Resend new token and try again!",lost_wrongToken:"Verification token is not valid. Please try again!",log_noAcc:"Don't have an account?",log_regHere:"Register here.",log_keep:"Keep login?",log_forgot:"Forgot password?",log_otherMethod:"or use",log_signGoogle:"Log in with Google",log_signFacebook:"Log in with Facebook",log_notRegistered:"Your email is not registered in our platform. Click here to register.",log_unverifiedAccount:"Your email is unverified. Click here to verify your email",log_invalidPassEmail:"Email or Password is invalid!",log_blockedAccount:"Your account is blocked. Please contact your supervisor for help.",log_logout:"Log Out",log_logoutWarning:"Logging out from algobash.",log_inputToken:"Please input token from your Authenticator apps here :",log_useBackup:"Use backup code?",log_wrongCred:"Wrong Credential",log_user_teacher:"You're registered as recruiter, switch to Algobash Recruiter?",log_user_student:"You're registered as participant, switch to Algobash Talent?",log_user_admin:"You're registered as admin, switch to Algobash Recruiter?",log_multipleLogin:"You're already logged in on another device",log_multiple:"Already Logged In",log_multipleLog:"This account is already logged in on another device.<br/>You can still choose to keep login here but your account will be deactivated from your old device.",log_appRedirect:'Your account is registered as "Participant", do you want to open Participant Login Page?',reg_signup:"Sign Up",reg_createOr:"Create an account or",reg_agreement:"By creating an account, you agree to our",reg_google:"Sign Up with Google",ver_email:"Check your email",ver_forSafety:"We've sent a verification token to",ver_forSafety2:"Please check your email inbox/spam",ver_account:"Verify Account",ver_notoken:"Didn't recieve code?",ver_resend:"Resend",ver_resendReq:"Your code is sent, please wait",ver_resendReq2:"second to resend",prof_profile:"Profile",prof_manage:"Manage Profile",prof_2fa:"Two Step Verification",prof_changePass:"Change Password",prof_changeTeam:"Change Team",prof_changePassSuccess:"Sucessfully changed password",prof_editSuccess:"Sucessfully editing profile",prof_changeTeamSuccess:"Successfully changed team",prof_mobileNum:"Mobile Number",prof_role:"Role",prof_function:"Function",prof_tempPassword:"Set Temporary Password",prof_credentials:"Credentials",prof_socialmed:"Social Media",prof_connectGoogle:"Connect to Google",prof_connectFacebook:"Connect to Facebook",prof_disconnectGoogle:"Disconnect Google",prof_disconnectFacebook:"Disconnect Facebook",cht_youreAllowed:"You are allowed to change into the following team",cht_noTeamFound:"Sorry, we didn't find your team ...",cht_here:"You're here",cht_noAccess:"You have no access or your organization is blocked. Please contact your organization admin or our customer service to check.",cht_buyPackage:"Buy Package",cht_subExp:"Your subscription has expired, renew subscription to continue.",cht_noPackage:"You dont have any active package to access this organization.",chp_oldPassword:"Old Password",chp_newPassword:"New Password",chp_changingPass:"Changing Password",tfa_generateQrError:"Failed generating QR Code",tfa_2faSuccess:"Two Step Verification is now activated",tfa_inactiveMsg1:"Your account is not secured, enable 2FA to protect your account.",tfa_inactiveMsg2:"Before proceeding, you must have Google Authenticator app installed in your device. If Google Authenticator is already installed you may continue by pressing button below, then follow instruction given to enable your 2 Factor Authentication for your account.",tfa_availableIn1:"Google Authenticator is available in",tfa_availableIn2:"Play Store (Android)",tfa_availableIn3:"App Store (IOS)",tfa_activate:"Activate 2FA",tfa_activation1:"Open your Google Authenticator app and scan QR code below!",tfa_activation2:"Please input code generated from your account",tfa_activated1:"Your account is now secured with 2 Factor Authentication.",tfa_activated2:"You will be required to input authentication token whenever this account is logged in. Make sure to always prepare your Google Authenticator App ready.",tfa_backup:"Codes below will act as replacement for your tokens, please take note because it will not be showed again (for EMERGENCY use only, always use tokens from your Authenticator app & don't share your backup codes).",tfa_disable:"Please input authenticator token to disable 2 Factor Authentication.",tfa_disableConfirm:"Deactivating 2FA will risk your account security. Do you want to continue?",tfa_reset:"Reset Backup Codes",tfa_reset1:"Please input authenticator token to generate new Backup Code.",tfa_reset2:"After generating new Backup Code, your old backup codes cannot be used anymore.",role_admin:"Super Admin",role_orgAdmin:"Organization Admin",role_orgOwner:"Organization Owner",role_teacher:"Recruiter",role_reviewer:"Reviewer",conf_wsSettings:"Workspace Settings",conf_branding:"Organization Branding",conf_brandingSub:"You can change your company logo and name. It would be displayed to participants via the Algobash exam page and email invitations",conf_users:"Users",conf_user:"User",conf_usersSub:"You can add recruiters, reviewers and admins as company users.",conf_newUser:"New User",conf_userNotFound:"User not found",conf_roleNote:"Role notes",conf_roleNoteAdmin:"Has all access",conf_roleNoteRecruiter:"Except access to the configuration menu",conf_roleNoteReviewer:"Limited to exams that have been granted access only",conf_verified:"Verified",conf_billing:"Billing",conf_plan:"Manage Plan",conf_planSub:"View and change your subscription plan here.",conf_billingDet:"Billing Details",conf_billingSub:"View and change the address and tax number to be used for billing",conf_billingSub2:"View and change the payment method to be used for billing.",conf_billingTax:"We will still issue tax invoices based on the regulations of the Ministry of Finance of the Republic of Indonesia with or without your tax number.",conf_paymentNotes:"We use Xendit as our payment gateway. All your payment data will be stored in accordance with Xendit's security requirements. In accordance with the regulations of the Republic of Indonesia, all payments will be made using Rupiah.",conf_invoice:"Invoice History",conf_temps:"Templates",conf_emailTemp:"Email Invitation",conf_emailTempSub:"These emails were used as templates for email invitations to participants. ",conf_instructions:"Test Instruction",conf_instructionSub:"Test instructions will be shown to participants before the start of the test.",conf_integrations:"Integration",conf_orgSaved:"Organization data updated",conf_adminOnly:"Only for Admins",conf_restrict:"You cannot access this page. Only your company's Admin team can access this menu.",conf_restrictBranding:"You cannot edit this menu. Only your company's Admin team can edit this menu.",conf_templateNotes:"Select a template. If you wish to change your template, you can choose from the list below or create a new one.",bil_address:"Address",bil_addressPlaceholder:"Put your full company address here",bil_taxNum:"Tax Number",bil_addrPlaceholder:"12th Street Avenue",bil_method:"Payment Method",bil_cc:"Credit Card",bil_cardNum:"Card Number",bil_expDate:"Expiration Date",bil_saved:"Billing detail saved",bil_cardholderName:"Cardholder Name",bil_street1:"Street Line 1",bil_street2:"Street Line 2",bil_province:"Province",bil_city:"City",bil_postalCode:"Postal Code",bil_saveErr:"Failed to save payment method!",bil_expErr:"Card linking has expired!",bil_inactiveErr:"Temporarily unable to make payments!",bil_cardNumberInvalid:"Invalid card number",bil_expirationInvalid:"Invalid date",ivc_invoiceDate:"Invoice Date",ivc_datePaid:"Date Paid",ivc_amount:"Amount",ivc_status_paid:"Paid",ivc_status_unpaid:"Unpaid",ivc_status_pending:"Pending",mp_left:"Left",mp_annually:"Annually",mp_quarterly:"Quarterly","mp_4-monthly":"4-Monthly","mp_6-monthly":"6-Monthly",mp_monthly:"Monthly",mp_free:"Free",mp_until:"until",mp_nextCharge:"Your next charge will be on",mp_changePlan:"Change Plan",mp_participantQuota:"Participants Quota",mp_noPlan:"No active plan",mp_ttQuota:"Maximum quota participants you can use",mp_ttActive:",Maximum expected participants taking a test at the same time",tpl_newTemplate:"New template",tpl_updateSuccess:"Successfully updated the template",tpl_default:"Default",tpl_setAsDefault:"Set as default",tpl_deletePromptTitle:"Delete template",tpl_deletePromptMessage:"Are you sure want to delete <b>{{name}}</b>?",tpl_templateName:"Template Name",etpl_ccTo:"CC To",etpl_language:"Language",etpl_emailSubject:"Email Subject",etpl_emailContent:"Email Content",etpl_bccEmail:"BCC Email",etpl_bccEmailDesc:"Enter the recruiter's email by BCC to receive a copy of the email invitation and notification that the exam has been completed. Maximum of 2 emails.",etpl_preview:"Preview",etpl_create:"Create Email Template",etpl_inputEmailDesc:"Input email here",etpl_dynamicTagDesc:"Use dynamic tagging for your email",itpl_instruction:"Instruction",bl_feature:"This is a premium feature",bl_subscribe:"Subscribe or upgrade to enjoy this feature.",bl_buyNow:"Buy Now",bl_expire:"Your subcription is expired",bl_noAccess1:"You Have No Access",bl_noAccess2:"Sorry, you cannot access this organization.",bl_noAccess3:"Please check with your organization owner or our Live Chat Customer Service",bl_orgBlocked1:"Your organization is blocked by Algobash.",bl_orgBlocked2:"Please contact our Live Chat Customer Service for more information",fs_about:"First, tell us about your company",fs_upload:"Upload your company's logo and details",fs_tax:"Registered VAT/GST/Tax ID",fs_indoCompany:"For Indonesian Company, we'll generate a VAT 11% tax invoice once you update your tax number.",fs_skip:"Or skip this setup, you can configure it anytime later","py_6-monthly":"6-Monthly","py_4-monthly":"4-Monthly",py_annually:"Annually",sub_pickPlan:"Pick a Plan for",sub_useAlgo:"To start or continue using Algobash, please a pick a plan below",sub_details:"Details",sub_freeTrial:"Free Trial",sub_freeTrialFor:"Free trial for 7 Days",sub_pricing:"Pricing",sub_freeTrialOver:"You already requested for free trial",sub_freeTrialSuccess:"Congratulations! Your free trial is active for 7 Days.",sub_startTrial:"Start Trial",sub_custom:"Customized Pricing",sub_concUser:"Concurrent Users",sub_adjustable:"Adjustable",sub_adminRec:"Admin Recruiter License",sub_testFeature:"Test Features And Contents",sub_personality:"Personality Test",sub_aptitude:"Aptitude Test",sub_essayCase:"Essay and Case Study Test",sub_multichoice:"Multiple Choices Questions",sub_codingLogic:"Coding Logic Test",sub_selfInterview:"Self-Interview and Whiteboard",sub_excel:"Excel Test",sub_takehome:"Take Home Test (Programming)",sub_branding:"Branding and Experience",sub_customEmail:"Customizable Email Invitation",sub_whitelabel:"Whitelabel",sub_supportReq:"Supported by request",sub_talkToUs:"Talk To Us",sub_later:"I'll think about it, let me buy later.",err_subs_packageNotFound:"Invalid plan!",err_subs_noPaymentMethod:"Setup your payment method first!",err_subs_cardInactive:"Payment currently not available!",err_subs_cardFailed:"Payment failed!",err_subs_cardPending:"Payment pending!",err_subs_alreadySubscribed:"You are already subscribed!",tc_correct:"Correct",tc_wrong:"Wrong",tc_error:"Error",tc_failed:"Failed",tc_runtime_error:"Runtime Error",tc_compile_error:"Compile Error",tc_execution_memory_exceeded:"Memory Exceeded",tc_execution_timeout:"Execution Timeout",tc_hidden:"Hidden Test Case",tc_input:"Parameters",tc_actualOutput:"Output",tc_expectedOutput:"Expected Output",tc_stdin:"Stdin",tc_stdout:"Stdout",tc_expectedStdout:"Expected Stdout",tc_maxMemory:"Max Memory",tc_maxRuntime:"Max Runtime",tc_allCorrect:"This solution passed all test cases!",tc_testSol:"Test Solution",tc_add:"Add Test Case",tc_isSample:"Is Sample?",tc_noTc:"No test cases yet",tc_delete:"Delete this test case?",tc_inGuide:"Input Guide",tc_ouGuide:"Output Guide",tc_noMatch:"Input length is not matched!",tc_resultShown:"Test result will be shown here ...",tc_runTest:"Run Test",tc_runGrade:"Run Grading",tc_cell:"Cell",tc_sheet:"Sheet",tc_expectedValue:"Expected Value",tc_operator:"Operator",tc_testOutput:"Test Output",tc_deleteConf:"Delete this Test Case?",tc_edit:"Edit Test Case",tc_execDuration:"Execution Duration",tc_memAllocation:"Memory Allocation",tc_result:"Test Cases Result",tc_noTestCase:"No test case available",tc_evaluatedValue:"Evaluated Value",tc_rawValue:"Raw Value",tc_passed:"Passed",tc_not_passed:"Not Passed",tc_loading:"Loading",tc_test_timeout:"Timeout",tc_request:"Request",tc_expected:"Expected Output",tc_stderr:"Error",tc_path:"Path",tc_actual:"Output",tc_method:"Method",tc_headers:"Headers",pl_cpp17:"C++ 17",pl_cpp:"C++ 14",pl_cpp11:"C++ 11",pl_dart:"Dart",pl_csharp:"DotNet Core 5",pl_cs:"DotNet Core 5",pl_go:"Golang 1.14",pl_java:"Java 11",pl_java8:"Java 8",pl_javascript:"JavaScript (Node)",pl_kotlin:"Kotlin",pl_php:"PHP 7",pl_python:"Python 3",pl_ruby:"Ruby",pl_swift:"Swift",pl_typescript:"TypeScript",pl_sql:"SQL",pl_react:"React JS",pl_golang:"Golang 1.14",pl_express:"Express (Node JS)",pl_laravel:"Laravel (PHP)",pl_rest:"REST API",pl_graphql:"GraphQL",io_void:"Void",io_string:"String",io_float:"Float",io_boolean:"Boolean",io_integer:"Integer",io_json:"JSON",io_array_string:"Array of String",io_array_float:"Array of Float",io_array_boolean:"Array of Boolean",io_array_integer:"Array of Integer",io_2d_array_string:"2D Array of String",io_2d_array_float:"2D Array of Float",io_2d_array_boolean:"2D Array of Boolean",io_2d_array_integer:"2D Array of Integer",pcp_hideList:"Hide Participant List",pcp_showList:"Show Participant List",pcp_someoneAssessment:"{{name}}'s Assessments",pcp_noParticipant:"No participants found",pcp_noParticipantDesc:"You haven't invite them to a test, shall we ivite them?",pcp_goToAssessment:"Go To Assessment Page",pcp_selected:"Participant(s) selected",pcp_copyEmail:"Email Copied",pcp_copyPhone:"Phone Number Copied",pcp_ttipEmail:"Send/resend email invitation",pcp_ttipDelete:"Delete submission, cannot be undone",pcp_ttipDownload:"Download PDF report",pcp_individualLink:"Copy the unique participant exam link",ast_not_started:"Not Started",ast_ongoing:"Ongoing",ast_submitted:"Submitted",ast_not_submitted:"Not Submitted",ast_active:"Active",ast_finished:"Submitted",ast_expired:"Expired",ast_sub_not_started:"This is an active test. Please start your test when you`re ready.",ast_sub_finished:"Oh no, you missed the time to take this exam. Please contact the recruiter for more information.",ast_sub_ongoing:"This is an ongoing test, please continue before the time runs out",ast_sub_submitted:"This test is already submitted by you or automatically by the system because the time runs out.",asm_title:"Assessment Title",asm_desc:"List of all assesments / tests",asm_statusAll:"All Status",asm_new:"New Assessment",asm_summary:"Test Summary",asm_invitation:"You have been invited to join {{name}} with code {{code}}. To participate in this assessment, check this link {{link}}.",asm_resendEmail:"Resend invitation email to this participant?",asm_resendSuccess:"Invitaion email is sent",asm_noParticipant:"No Participants, share link / code or add participant by email.",asm_delete:"Do you want to delete this participant?",asm_deleteAll:"Do you want to delete the selected participant?",asm_overPerf:"Over {{perf}}% performance",asm_deleteAsm:"Do you want to delete <b>{{name}}</b>?",asm_duplicate:"Duplicate <b>{{name}}</b>?",asm_reportSuccess:"Your reports are being generated, click here to check your reports",asm_excelReport:"Download Spreadsheet Report",asm_bulkReport:"See Bulk Report History",asm_bulkDownload:"Bulk Download History",asm_noAssessment:"You haven't created any assessment yet",asm_automate:"Automate your interviews and take home tests for objective shortlisting process.",asm_howTo:"How to create assessment?",asm_createGuide:"Create Assessment Guide",asm_goback:"Go Back to Assessment Page",asm_notFound:"Assesment not found",asm_notFoundDesc:"We can't find your assesment, try using another keyword / filter",asm_errorNotFound:"Assesment not found",asm_errorNotFoundDesc:"This assessment does not exist or already deleted by admin.",asm_errorInternal:"Unable to process",asm_errorInternalDesc:"We're currently unable to retrieve assesment data. Please refresh and try again!",asm_undefined:"Unable to process",asm_undefinedDesc:"We're currently unable to retrieve participant's assesment data. Please refresh and try again!",asm_saveConfigSuccess:"Configuration is saved",asm_noDeadline:"No Deadline",asm_listModules:"List of Questions",asm_startExam:"Starting Test",asm_startExamDesc:"Countdown timer will start immediately after confirmation, are you ready?",asm_finishExam:"Finish Test",asm_finishExamDesc:"All modules are submitted, end this test now?",asm_introduction:"Notes from ",asm_join:"Join Assessment",asm_eventPin:"Please enter your assessment PIN",asm_noPin:"Don't have a PIN?",asm_webcamEnabler:"Webcam Enabler",asm_webcamGrantAcc:"Please grant access to your browser so that we can conduct surveillance of the exam in the form of webcam / front camera snapshots.",asm_webcamNotGranted:"If access is not granted, you cannot continue this exam.",asm_enableCam:"Enable Camera",asm_takePhoto:"Take Photo",asm_retakePhoto:"Retake Photo",asm_takePhotoD1:"You should be able to see yourself in our camera preview.",asm_takePhotoD2:"We will take pictures from time to time without your knowledge throughout the exam. By pressing the next button you agree to this condition.",asm_screenCaptEnabler:"Screen Capture Enabler",asm_pleaseGrant:"Please grant access to your browser so that we can conduct surveillance of the exam in the form of capturing your window screen.",asm_chooseScreen:'Choose "Your entire screen" on dialog box.',asm_dontStopSharing:"Do NOT stop sharing your screen while exam is taking place, or this warning will be showed again!",asm_enableScreenCap:"Enable Screen Capture",asm_screenShareD1:"After screen sharing is enabled you will able to continue your exam.",asm_screenShareD2:"Please note that we will take pictures from time to time without your knowledge throughout the exam. By pressing the button you agree to this condition.",asm_notesTitle:"Attention Please",asm_notesItem1:"There`s no option to pause.",asm_notesItem2:"Each participant has one chance to take the test.",asm_notesItem3:"If an error occurs, you can always refresh your browser. Make sure to save any changes on your coding environment (if any).",asm_notesItem4:"Don`t panic if you accidentally close your browser, use the invitation link to get back to your test.",asm_finished:"Assessment submitted",asm_mainPage:"Congratulations on completing the assessment! Your submission has been successfully recorded. Thank you for investing your time and effort in showcasing your abilities and potential.",asm_mainPage2:"You may now exit this site and await further communication from the recruiters. We will carefully evaluate your performance, and if you meet our criteria, we will be in touch to discuss the next steps in the selection process.",asm_goToHome:"Go To Homepage",asm_asmTime:"Assessment Time",asm_moduleTime:"Active Module Time",asm_ttipDeadline:"The deadline for this exam to end",asm_ttipDuration:"The maximum duration of this exam",asm_ttipWebcam:"Webcam snapshot enabled",asm_ttipDekstop:"Dekstop screen snapshot enabled",asm_ttipUniqueLink:"Unique link enabled",asm_ttipSequence:"Exam must be done in the order in which they are set",asm_ttipUnsequence:"Exam can be started from any module",asm_ttipLangauge:"Languages that can be activated on this exam.",asm_ttipDescription:"The main context of this module, to make it easier for other members to understand this problem.",asm_ttipIntro:"Instructions for working on the module, displayed to the participants",asm_ttipDifficulty:"Difficulty level of this module",asm_ttipCategory:"Category of this module",asm_ttipJob:"Relevant occupational group using this module",asm_ttipVideoDur:"Select the maximum time the participant can answer this question. If the duration is exceeded, the answer will be sent automatically",asm_ttipProgLang:"Select and unselect activated programming languages here",ws_workspace:"Workspace",ws_workspaceSub:"Workspace created to add reviewers to this test only without giving access to other tests, libraries, and other menus.",ws_ismember:"Has access?",ws_noRecruiter:"No recruiter available",ws_isPublic:'Allow all recruiter to access <span class="dark:text-blue-700 text-blue-400">(Public)</span> or just selected member only <span class="dark:text-sky-700 text-sky-500">(Private)</span>',ws_ttipRemove:"Remove access",ws_ttipGive:"Give access",ws_ttipIsMember:"This recruiter has access to this test",ws_ttipIsNotMember:"This recruiter has NO access to this test",asr_publicReport:"Link to the participant's public results report",asr_publicReportFor:"Public Report for",asr_notForPublic:"This data is not available in the public report",asr_viewParticipant:"View Participant",asr_avgRate:"AVG. RATE",asr_ovrScore:"Overall Score",asr_timeStamp:"Time stamp",asr_inv:"Invited On",asr_start:"Start At",asr_fin:"Finished At",asr_tts:"Total Time Spent",asr_antiCheat:"Anti-cheating Monitor",asr_device:"Device used",asr_browser:"Browser Details",asr_location:"Location",asr_ipAddr:"Only one IP Address used",asr_webcam:"Webcam monitoring",asr_screen:"Screen monitoring",asr_fullscr:"Always full screen",asr_copyAct:"Copy actions",asr_mouseOut:"Mouse Out",asr_detailed:"Detailed Result",asr_publicNotes:"The provided outcome is publicly accessible, although certain data might not be included within this context. To obtain the comprehensive report, kindly request access from the organization or refer to the provided PDF version.",asr_publicAttn:"We urge you to responsibly share these results only with relevant parties, as any dissemination of leaked data or unauthorized use lies beyond our responsibility.",asr_rating:"Rating And Notes",asr_wdyt:"What do you think about this candidate?",asr_downloadPdf:"Download PDF",asr_fullReport:"Request Report",asr_downloadReport:"Download Report",asr_downloadFailed:"Report Failed",asr_downloadPending:"Report Processed",asr_updateReport:"Update Report",asr_checkReport:"Checking Report",asr_reportSuccess:"Successfully generating participant reports, please wait a moment. We will inform you when your report is ready.",asr_lastEdited:"Last Edited",asr_thoughts:"Write your thoughts here...",asr_editComment:"Editing comment, save your changes to apply!",asr_errorNotFound:"Participant data not found",asr_errorNotFoundDesc:"The participant's submission/assessment data does not exist. Please check again your inputs.",asr_errorInternal:"Unable to process",asr_errorInternalDesc:"We're currently unable to retrieve participant's assesment data. Please refresh and try again!",asr_undefined:"Unable to process",asr_undefinedDesc:"We're currently unable to retrieve participant's assesment data. Please refresh and try again!",asr_questionDetail:"View Question Detail",asr_viewDesc:"View Description",asr_noVideo:"No video upload by participant",asr_UNAUTHENTICATED:"Not Allowed",asr_UNAUTHENTICATEDDesc:"You are not allowed to preview this participant result!",asr_showSolution:"Show Solution",asr_noTestCase:"Test Case Result is empty, participant solution is not submitted.",asr_submitted:"Submitted Result",asr_downloadAns:"Download Answer",asr_downloadPro:"Download Problem",asr_noSubmission:"Answer is not submitted",asr_errorForbidden:"Not Allowed",asr_errorForbiddenDesc:"You are not allowed to preview this participant result!",asr_noResult:"No result found!",asr_focus:"Focus",asr_candidateFocus:"Candidate's Focus Level",asr_candidateFocusDesc:"Candidate has a {{level}} level of focus. Evaluation is done using AI detection of the candidate's eyes.",asr_pose:"Pose",asr_candidatePose:"Candidate's Pose",asr_candidatePoseDesc:"Candidate has a {{level}} attitude. Evaluation is done using AI detection of the candidate's gestures.",asr_emotion:"Emotion",asr_candidateEmotion:"Candidate's Emotion (average)",asr_candidateEmotionDesc:"Candidate had a {{level}} expression throughout the interview. Evaluation is done using AI detection of the candidate's face.",asr_min:"Min",asr_max:"Max",asr_average:"Average",asr_conclusionByAI:"Conclusion using AI  (BETA)",asr_aiData:"AI Data",level_low:"low",level_normal:"normal",level_high:"high",level_good:"good",level_neutral:"neutral",level_positive:"positive",level_negative:"negative",rep_processing:"On Going",rep_finished:"Ready",rep_failed:"Error",rep_filename:"File Name",rep_reqdate:"Requested Date",rep_empty:"No Bulk Reports",rep_download:"Download Report",rep_update:"Update Report",rep_retry:"Retry Process",rep_delete:"Delete Report",rating_empty:"No Rating",rating_0:"No Rating",rating_all:"All Rating",rating_1:"Poor",rating_2:"Need To Improve",rating_3:"Acceptable",rating_4:"Good",rating_5:"Excellent",dev_desktop:"Desktop",dev_mobile:"Mobile",mod_choice:"Multiple Choice",mod_weighted:"Multiple Choice",mod_essay:"Essay and Whiteboard",mod_interview:"Interview",mod_formula:"Formula Based",mod_programming:"Programming Logic",mod_project:"Take Home Test (BETA)",mod_backend:"Backend Framework",mod_frontend:"Frontend Framework",mod_spreadsheet:"Spreadsheet",mod_sql:"SQL",mod_diff:"No Difficulty",mod_diffeasy:"Easy",mod_diffmedium:"Medium",mod_diffhard:"Hard",mod_deleteModule:"Delete Module",mod_chooseCategory:"Choose Category",mod_allJob:"All Job",mod_pickJob:"Pick Job Tags",mod_noLanguageIntro:"Pick a language to add Instruction",mod_questionDescrtipion:"Question Description",mod_saveSuccess:"Your module is saved, click here to preview",mod_saveQuestion:"Save Question",mod_resetQuestion:"Reset Question",mod_moveQuestion:"Move Question",mod_deleteQuestion:"Delete Question",mod_deleteQuestionConf:"Deleting this question, are you sure?",mod_unsavedQuestion:"Unsaved Question",mod_questionNotSaved:"Your question is not saved yet. Do you want to save this question first?",mod_addQuestion:"Add Question",mod_modules:"Modules",mod_newModules:"New Module",mod_allLevels:"All Levels",mod_allGroups:"All Groups",mod_allCategory:"All Category",mod_companys:"Company's",mod_ttipModules:"List of all modules, created by Algobash and companies.",mod_ttipAssign:"Assign module",mod_previewModule:"Preview module",mod_detail:"Details and category",mod_difficulty:"Difficulty",mod_APItype:"API Type",mod_premiumNotes:"This is a premium feature, upgrade your subscription plan to enjoy this feature.",mod_jobNotfound:"Jobs not found!",ml_notFound:"Sorry, we cannot find your modules",ml_notFoundDesc:"Try another keyword/filters or add a new module",ml_reset:"Reset Filters",ml_refresh:"Refresh",ml_locked:"Module Locked",ml_feature:"This module is unavailable for this team, please contact your owner to activate!",ca_webcam:"Webcam snapshot",ca_snapshot:"Screen snapshot",ca_fullscreen:"Fullscreen",ca_feedback:"Participant's feedback",ca_unique:"Unique link for each participants",ca_noTemp:"No Saved Template",ca_pickTemp:"Pick Email Template",ca_randomChoice:"Random choice order",ca_randomChoiceTp:"Randomize the multiple choice order",ca_randomQuestion:"Random question order",ca_moduleSequence:"Assign module sequentially",ca_errNoName:"Name must be filled!",ca_errNameCharacter:"Unsupported characters, please use only - + ( ) [ ]",ca_uniqLink:"Unique Link",ca_sequential:"Sequential",ca_unsequential:"Unsequential",ca_moduleNotes:"Ensure all of your module configuration is correct, you won't be able to edit the order of the modules, available programming languages, or any related configurations.",ca_moduleSlot:"Module slot",ca_errEmptyModules:"Modules is required to create a test",test_failedDescription:"Failed loading description, please refresh!",test_loadDescription:"Loading description, please wait ...",test_noQuestion:"No Question!",test_noQuestion2:"Add a question to start previewing this module",test_endPreview:"End Preview",test_endModule:"End Module",test_nextModule:"Finish Module",test_endtest:"End Test",test_submitModule:"Submit Module",test_submitModuleDesc:"Submit your answers for this module?",test_timeUp:"Time's Up",test_timeUpDesc:"Redirecting you to next module",test_finishDesc:"Redirecting you to assessment page",test_leaving:"Are you leaving?",test_leavingDesc:"Your test is not finished yet, make sure to come back!",test_submitCode:"Submit Code",test_submitTest:"Submit Test",test_solutionSubmitted:"Solution Submitted",test_solutionSubmittedDesc:"Your answer for this question is submitted, please proceed to next question!",test_remaining:"Remaining Time",test_remainingExam:"Remaining Exam Time",test_remainingModule:"Remaining Module Time",test_moduleSubmitted:"Module has been submitted!",test_moduleNext:"Next Module",test_backToAssessment:"Back to Assesment Page",test_tcPass:"Your solution has passed all the test cases. ",test_tcNextQuestion:"You may continue to the next task.",test_tcNextModule:"You may finish or go to the next module.",test_resultShown:"Test Case Result will be shown here.",test_prSubmitted:"Your answer is alredy submitted, but you're still allowed to run test / submit again.",test_exSubmitted:"Your answer is alredy saved, but you're still allowed to answer/upload again.",test_3minleft:"Assessment is almost over, dont forget to submit your answer!",test_mobile:"Coding based test is not optimized for mobile view, please use desktop PC!",test_submitted:"Module Submitted",test_gotoNextModule:"Your answer is saved, please go to next module!",pr_generateRequired:"Input/Output changed. Generate code to avoid issues with test cases.",pr_noInputParams:"Add inputs to Generate Code",pr_generateCode:"Generate Code",pr_paramNotes:"Use the input-output format if the question type has a specified data structure type (such as integer, array of integers, boolean, etc).",pr_paramInput:"Input",pr_paramOutput:"Output",pr_stdinotes:"Use the stdin-stdout format to accept text file input.",pr_stdinInput:"Stdin",pr_stdinOutput:"Expected Stdout",pr_generateWarning:"Doing these will reset all the testcases and the solution. Are you sure?",pr_showInit:"Show Init File",pr_showInitSub:"This will be the participant code initialization file. Please feel free to edit the file below if needed.",pr_unsaved:"Please save question before adding test case!",ex_eq:"Equal",ex_gt:"Greater Than",ex_gte:"Greater Than / Equal",ex_lt:"Less Than",ex_lte:"Less Than / Equal",ex_neq:"Not Equal",ex_range:"Range",ex_testDelete:"Delete Test File",ex_testWarning:"Deleting initial test file will reset all saved settings (Grading, Dataset, Test Case).",ex_gradeDelete:"Delete Grading File",ex_gradeReset:"Reset Grading File",ex_testReset:"Reset Test File",ex_gradeWarning:"Deleting initial grading file will reset all saved Dataset and Test Case.",ex_spreadsheetView:"Spreadsheet View",ex_downloadSample:"Initial File",ex_formulaGuide:"Formula Guide",ex_upload:"Upload Spreadsheet",ex_dnd:"Drag n drop file here, or click to select file",ex_testFile:"Test File",ex_gradeFile:"Grade File",ex_addGrading:"Add Grading File",ex_addDataset:"Add Dataset",ex_reserDataset:"Reset Dataset",ex_isGrading:"Use Grading",ex_useGrading:"Use this test case with Grading File",ex_downloadSampleSm:"File",ex_formulaGuideSm:"Guide",ex_spreadsheetViewSm:"Answer",ex_testFileNotes:"The test file is the working sheet that the participant will use to fill in the answers.",ex_gradeFileNotes:"The grading file is the file that will be used by our system to make sure the partisans function correctly. The grading file should have the same number of different data sets. You still need to include test cases for the grading file.",exErrUnsupportedOperator:"Test case operator is not supported",exErrInvalidRangeValue:"Invalid range value",exErrFailedToReadFile:"Unable to read file content",exErrMissingSheetSubmission:"Sheet",exErrMissingSheetSubmission2:"is not found",exErrMissingSheetGrading:"Sheet",exErrMissingSheetGrading2:"is not found",exErrCompareResult:"Unable to compare results",exErrNaN:"Value is not a number",exErrInternal:"Spreadsheet grading failed, please try again!",exErrTimeout:"Grading timeout is reached",mcq_byCorrect:"By 1 Correct Answer",mcq_byScore:"By Score",mcq_lockedToCorrect:"This module locked to '1 Corect Answer' (Click to learn why)",mcq_random:"Randomize choices",mcq_copyChoice:"Copy choices when adding question",mcq_sameChoice:"Make English and Bahasa Indonesia choices the same",mcq_addChoice:"Add A Choice",mcq_indexInvalid:"Invalid question index",mcq_indexOver:"Question index must be below max question",mcq_choiceEmpty:"Please fill choices options to continue",mcq_scoreEmpty:"Choice score is empty / invalid!",mcq_noCorrect:"Please choose one correct answer",mcq_labelEmpty:"Choice content cannot be empty (English)",mcq_labelEmptyID:"Choice content cannot be empty (Bahasa Indonesia)",mcq_descEmpty:"Description must be filled (English)",mcq_descEmptyID:"Description must be filled (Bahasa Indonesia)",sql_allowCRUD:"Allow user to use INSERT, UPDATE & DELETE Commands",sql_separate:"Add separate Migration & Result which will be tested during submission",sql_allowMutation:"Allow Mutation",sql_useGrading:"Use Grading Case",sql_migration:"Show {{type}} Migration Schema",sql_json:"Show {{type}} JSON Output",sql_solution:"Show Solution",esi_maxScore:"Maximum Score",esi_scoreOpt:"Scoring options will be",esi_answerFmt:"Answer Format",esi_paragraph:"Answer in paragraph format",esi_upload:"Answer by uploading file / picture",esi_paragraphDesc:"Participants can directly type their answer",esi_uploadDesc:"Participants required to upload a file containing their answer",esi_invalidFmt:"Please pick one of the following format!",esi_whieboard:"Answer with whiteboard",esi_whieboardDesc:"Participant can draw on whiteboard to answer",esi_essayAnswer:"Essay Answer",esi_uploadAnswer:"Upload File",esi_uploadPl:"+ Upload a Photo or File",esi_uploadNotes:"Supported uploaded files are in ZIP, RAR, JPG, JPEG, PNG and PDF formats. Maximum of 5 files, each 10 MB.",int_finish:"Finish Interview",int_confirmMsg:"You still have time, do you want to finish interview now?",int_cameraPermission:"Permission Denied",int_cameraPermissionDesc:"Please enable camera permission from your browser settings! If the issue persist, please refresh.",int_duration:"Interview Duration",int_finished:"Interview Finished",int_saved:"We are currently saving the pre-recorded interview.",int_saved2:"You may go to the next question / end the module.",int_before:"Your webcam will be shown here.",int_startIns:"Recording will begin once the question starts and end when the next question is pressed or if the duration is over.",int_AI:"We use AI to detect your behavior in this interview, so make sure you stay focused.",int_resource:"This is a resource intensive task, make sure that you don't have any other program or tabs running on backgrounds.",int_weUse:"Check your connection before starting, there will be no re-take.",int_enableWebcam:"Last chance to check your webcam and connection!",int_start:"Start Interview",int_description:"Question will be shown when interview has started",int_failed:"Failed starting interview. If the issue persist, please refresh.",int_reconnect:"Reconnecting",int_noConnection:"Interview connection is interupted, please check your connection.",int_setup:"Setup Webcam",int_check:"Webcam and Audio check",int_beforeIntv:"Before we start let's make sure your webcam and sound are on.",int_beforeIntv2:"If your face appears and the voice cues move every time you speak, then you are ready to move on to interview questions.",int_chooseDev:"Please choose the suitable video/audio device here.",int_cannotChange:"You cannot change it during interview!",int_activate:"Activate Webcam",int_saveSetting:"Save Webcam Settings",int_preparing:"Preparing interview",int_errDownloadModel:"Failed to download models! Please refresh.",for_Personal:"Personal - Execute formula script per participant",for_Population:"Population - Execute formula script per exam",for_Single:"Single Answer",for_Multiple:"Multiple Answer",for_Priority:"Priority Answer",prj_instruction:"Instructions",prj_proxy:"Connecting to proxy",prj_terminal:"Open Terminal",prj_goToDir:"Go to your project directory",prj_runCmd:"Run this command",prj_check:"Check if your project is running correctly",prj_gitAcc:"Git Account",prj_access1:"To access your project, please login to",prj_access2:"with this account",prj_acc:"You may access your project here",prj_wtp:"When to push",prj_timer:"When you've completed a task or made a major changes,",prj_recommend:"we recommend to push the project to prevent data loss.",prj_howToPush:"To push your project, simply run",prj_thisStep:"This step is necessary to save your progress.",prj_notPushed:"You have'nt pushed your project yet, please do so immediately!",prj_project:"Test Project",prj_projectDown:"To download your project access git link above, and clone project to your desktop",prj_projectPull:"You can also clone your project via termninal using this command : ",prj_status:"Proxy connection status will be shown below.",prj_algo:"Or login via Algobash",ntf_noNotif:"You have no notifications",ntf_notifDisplay:"Recent notification will be displayed here",ntf_markall:"Mark All As Read",ntf_viewall:"View All",ntf_participantBulkReportReady:"Bulk Report Ready",ntf_participantReportReady:"Participant Report Ready",ntf_participantReportReadySubtitle:"Bulk report successfully generated and ready to be downloaded",ntf_participantBulkReportReadySubtitle:"Reports successfully generated and ready to be downloaded",home_helperTitle:"Documentation to start using Algobash",helper_one:"What can you test in Algobash?",helper_two:"Create your first test",helper_three:"Invite your first participant to a test",helper_four:"Customize your own questions",helper_five:"View the participants` list and result",helper_ending:"Access our complete FAQ",home_yourQuota:"Your Quota",home_participantFunnel:"Participant Funnel",home_subsPeriod:"Subscription period",home_activeParticipants:"Active participants",home_totalInvited:"Participants Invited",home_totalRecruiter:"Organization Users",home_totalAssessment:"Assessments Created",home_totalModule:"Modules Created",home_funnelInvited:"Invited",home_funnelSubmitted:"Submitted",home_funnelNonZero:"Non-Zero",home_funnel70Perf:" 70% Performance",home_funnelInvitedDesc:"Total participants invited to Assessments",home_funnelSubmittedDesc:"Participants who submitted their tests",home_funnelNonZeroDesc:"Participants that scores above zero",home_funnel70PerfDesc:"Based on overall performance on the test, normalized to 100%",home_ttconf:"Change organization branding",home_ttrole:"This is you and your role",home_trydemo:" Read FAQ and Try Our Demo Test",home_welcome:"Welcome to Algobash",home_completeProfile:"Complete your profile: Why and Benefits",home_readFAQ:"Read FAQ",home_startdemo:"Start Demo",home_codingtest:"Coding Test",home_sqltest:"SQL Test",home_sheettest:"Spreadsheet Test",home_intvtest:"Interview Test",home_fetest:"Frontend Test",home_betest:"Backend Test",home_formulatest:"Formula Test",home_essaytest:"Essay Test",home_projecttest:"Project Test",sli_linkCopy:"Link Copied!",sli_invCopy:"Invitation Copied!",sli_invSent:"Invitation Sent!",sli_copyLink:"Copy Link",sli_copyInvitation:"Copy Invitation",sli_shareEmail:"Share by Email",sli_to:"to {{name}}",sli_inv1:"Invite Participants By Email",sli_inv2:"Invite participants to assessment {{name}}","sli_one-by-one":"One-by-one",sli_bulk:"Bulk Upload",sli_downloadCsv:"Download CSV format for bulk upload",sli_listParticipants:"List Of Added Participants",sli_sendInv:"Send Invitation",sli_name:"Participant Name",sli_email:"Participant Email",sli_bulkUpload:"+ Bulk Upload Participant Data",fr_preview:"Live Preview",fr_deploying:"Deploying ...",fr_addFile:"Add new file in :",fr_addDir:"Add new directory in :",fr_filename:"File Name",fr_directory:"Directory name",fr_createFile:"Create File",fr_createDir:"Create Directory",fr_err_noname:"Name cannot be empty!",fr_err_spec:"Name cannot contains special characters or spaces",fr_deleteFile:"Delete File",fr_deleteDir:"Delete Directory",fr_deleteFileConf:"Are you sure you want to delete this file?",fr_deleteDirConf:"Are you sure you want to delete this directory?",fr_editFile:"Edit File",fr_editFileConf:"Editing file",fr_editDir:"Edit Directory",fr_editDirConf:"Editing directory",fr_lockFile:"Lock File",fr_lockFileConf:"By locking the file participant won't be able to edit, delete or change its content. Are you sure?",fr_lockDir:"Lock Directory",fr_lockDirConf:"By locking the directory participant won't be able to edit, delete or create file/dir in it. Are you sure?",fr_unlockFile:"Unlock File",fr_unlockFileConf:"By unlocking the file participant will able to edit, delete or change its content. Are you sure?",fr_unlockDir:"Unlock Directory",fr_unlockDirConf:"By unlocking the directory participant will be able to edit, delete or create file/dir in it. Are you sure?",fr_resetDirs:"Reset Files/Directories?",fr_resetDirsDesc:"This will reset all files and directories to it's initial configuration, all of your saved work will be removed. Are you sure?",fr_allowCreateFile:"Allow user to create file?",fr_allowCreateDir:"Allow user to create directory?",fr_maxRunTest:"Maximum Test Run",fr_unitTestGen:"Unit Test Generator",fr_genResult:"Generator Result",fr_compTp:"List of components to be imported & tested.",fr_tesCaseTp:"List of TestCases used in this Unit Testing",fr_testCodeTp:"Unit Testing code will be showed here.",fr_testGenTp:"You can generate and/or edit your own Unit Testing Code.",fr_noComponents:"No available components",fr_plsAddComp:"Add a component first, to add a Test Case",fr_separateGrade:"Separate Testing and Grading cases",fr_dbMigration:"SQL Migration",fr_dbMigrationTp:"Database migration script before running the testing/grading process",fr_dbMigrationTestingTp:"Database migration script before running the testing process",fr_dbMigrationGradingTp:"Database migration script before running the grading process",fr_restMethodDesc:"Choose REST API Method",fr_urlDesc:"URL path",fr_headers:"Headers",fr_addHeader:"Add Header",fr_gqlSchema:"GraphQL Schema",fr_gqlVariables:"Variables",fr_dirLocked:"Directory Locked",fr_fileLocked:"File Locked",fr_lockedDesc:"Rename, delete and editing is disabled",err_errorInternal:"Unable to process request, please try again!",err_undefined:"Unable to process request, please try again!",err_errorNotFound:"Not found, please check and try again!",err_errorValidation:"Invalid input, please check and try again!",err_networkProblem:"Network problem, please check your connection!",err_fnameRequired:"First name is required!",err_lnameEmpty:"Invalid last name!",err_emailRequired:"Email is required!",err_emailInvalid:"Email format is invalid!",err_emailTaken:"This email is already registered!",err_organizationRegistered:"Your organization is already registered in Algobash!",err_pwdLength:"Password characters must be more than 8!",err_pwdUpper:"Password must contains uppercase letter!",err_pwdLower:"Password must contains lowercase letter!",err_pwdNumeric:"Password must contains numeric character!",err_pwdSpecial:"Password must contains special character! ex:!@#()*&,./",err_pwdRequired:"Please input a password!",err_emailWorkRequired:"Your domain is not registered as a company. Please use a valid company email to register.",err_tokenInvalid:"Invalid token, please check your input!",err_passNotMatch:"Password not matched!",err_verif_emailOrphan:"You're not a member of this organization. Please contact the organization owner.",err_sqlMissingPK:"No primary key in reference table.",err_sqlMissingRefTB:"Reference table is not found.",err_sqlDataType:"Invalid column datatype.",err_sqlNoColumn:"No column in table definition",err_UNAUTHENTICATED:"User is not authenticated, please Log In!",err_FORBIDDEN:"You are not allowed to access this feature!",err_trial_notAvailable:"Free trial package is not avialable for your organization!",err_trial_notEligible:"You are not allowed to start Free Trial package!",err_bccInvalid:"BCC email is invalid!",err_tplNameInvalid:"Template name is invalid!",err_tplLangInvalid:"Language is invalid!",err_tplSubjectInvalid:"Email subject is invalid!",err_tplContentInvalid:"Email content is invalid!",err_introEn:"Instruction (English) is still empty!",err_introId:"Instruction (Indonesia) is still empty!",err_noEmailTemp:"Please select email template",err_noIntroTemp:"Please select test instruction template",err_noSelectedModule:"Please select a module",err_copyCode:"Could not copy assesment code/invitation link",err_invitation_code:"Invalid PIN, please input the right assessment PIN",err_clipboardCopy:"Failed to copy to the clipboard",err_cameraPermissionDenied:"Camera permission denied, please enable to continue!",err_capturePermissionDenied:'You have to share "Your entire screen" to proceed',err_moduleNameEmpty:"Module name cannot be empty!",err_moduleNameCharacter:"Unsupported characters, please use only - + ( ) [ ]",err_frNameInvalid:"Name is invalid!",err_frMethodInvalid:"Method is invalid!",err_frUrlInvalid:"URL is invalid! ex: <code>/users</code> or <code>/home?page=1</code>",err_frUrlWhitespace:"URL must not contain whitespaces!",err_frHeaderNameInvalid:"Header name is invalid!",err_frHeaderValueInvalid:"Header value is invalid!",err_frJsonInvalid:"invalid JSON!",err_frGqlSchemaInvalid:"GraphQL schema is invalid!",err_emptySqlMgr:"Migration Schema must be filled",err_emptyJsonOut:"JSON output must be filled",err_jsonInvalid:"Value is not a valid JSON",err_emptySolution:"Solution code must be filled",err_noTestFile:"Test file is required!",err_uploadLimit:"Upload file limit is {{max}} !",err_moduleNoQuestion:"This module does'nt have a question !",err_modulesNoQuestion:"Unable to assign module with no question !",err_notSubmitted:"Participant's answer is not submitted!",err_browserNotSupported:"Unsupported browser",err_browserNotSupportedDesc:"We only support Google Chrome, Firefox and Chromium based browsers.","err_webcam_Permission dismissed":"Please allow acess/permission to continue!",err_noTestCase:'Cannot assign module {{id}} : "{{name}}", test case is not available! Click here to add.',err_testCaseEmpty:"Test case must not be empty!","phone_number is not valid.":"Phone number is not valid","Error during input validation":"Invalid input, please check and try again!","Wrong old password was entered.":"Old password did not matched!","participant not found":"Participant data not found!","err_webcam_Permission denied":"Permission denied, Please allow algobash/browser to access webcam."},yf="lang";var un=(t=>(t.EN="en",t.ID="id",t))(un||{});function Ng(t){return["en","id"].includes(t)}const wM="en",xM=D.createContext({lang:wM,setLang:()=>{},t:()=>""});function ct(){return D.useContext(xM)}const By={en:{},id:{}};function gse(){By.id=pse,By.en=mse}const yse=function({children:t}){const[e,n]=D.useState(()=>{const a=localStorage.getItem(yf);return a&&Ng(a)?a:wM}),r=D.useCallback((a,i)=>{const s=By[e];let o=a;const l=s[a];return l&&(o=l,i&&Object.keys(i).forEach(u=>{o=o.replaceAll(`{{${u}}}`,i[u])})),o},[e]);return D.useEffect(()=>{const a=localStorage.getItem(yf)||"";Ng(a)&&n(a)},[n]),D.useEffect(()=>{localStorage.setItem(yf,e)},[e]),h(xM.Provider,{value:{lang:e,setLang:n,t:r},children:t})};function jN(t,e){let n="en";const r=localStorage.getItem(yf);r&&Ng(r)&&(n=r);const a=By[n];let i=t;const s=a[t];return s&&(i=s,e&&Object.keys(e).forEach(o=>{i=i.replaceAll(`{{${o}}}`,e[o])})),i}function vr(t,e,n){const r={...t};Object.keys(r).forEach(i=>{n.includes(i)||delete r[i]});const a=Object.values(r).filter(i=>i)[0];return r[e]||a}function zi(t){const{items:e,onClick:n,className:r,offset:a=10,placement:i,children:s,dropClassName:o,itemsClassName:l,outerClassname:u,disabled:c,error:d,errorArgs:f,state:p}=t,{t:m}=ct(),[g,v]=p||D.useState(!1),y=D.useRef(null),b=D.useRef(null);return D.useEffect(()=>{!y.current||!b.current||$v(y.current,b.current,{placement:i,middleware:[Av(),BN(),Iv(a)]}).then(({x:w,y:x})=>{b.current&&Object.assign(b.current.style,{left:`${w}px`,top:`${x}px`})})},[g,a,i]),_(UN,{setter:v,className:Ce("relative",u),children:[h("button",{type:"button",className:Ce(r,"disabled:bg-gray-200 dark:disabled:bg-gray-700 group","aria-disabled:border-red-400 dark:aria-disabled:border-red-500"),onClick:()=>v(!g),ref:y,disabled:c||!e.length,"aria-expanded":g,"aria-disabled":!!d,children:s}),h("div",{className:Ce("absolute z-20 rounded bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 shadow-xl max-h-[50vh] overflow-auto whitespace-nowrap",o),hidden:!g,ref:b,children:e.map((w,x)=>{function k(S){S.preventDefault(),w.onClick?w.onClick():n&&n(w.value),v(!g)}return w.href?h(Nt,{to:w.href,onClick:()=>v(!1),className:Ce(l,w.className,"w-full block px-6 py-3 cursor-pointer text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-900 dark:hover:text-white text-left"),children:w.label},x):h("button",{type:"button",onClick:k,className:Ce(l,w.className,"w-full block px-6 py-3 cursor-pointer text-gray-800 dark:text-gray-100 enabled:hover:bg-gray-100 dark:enabled:hover:bg-gray-900 dark:enabled:hover:text-white text-left text-sm"),disabled:w.disabled,children:w.label},x)})}),h("p",{className:"text-sm text-red-500 mt-2",hidden:!d,children:m(d||"",f)})]})}const zy="SHOW_FLASH",_M=D.createContext([VN(),()=>{}]),bse=function({children:t}){const e=Xr(),{lang:n}=ct(),[r,a]=D.useState(VN());return D.useEffect(()=>{function i(s){const{url:o="",...l}=s.detail;a({url:o,...l})}return window.addEventListener(zy,i),()=>window.removeEventListener(zy,i)},[]),D.useEffect(()=>{a({...r,keep:!1,message:""})},[e.pathname,n]),h(_M.Provider,{value:[r,a],children:t})};function VN(){return{url:"",message:"",type:"success"}}function g0(){return D.useContext(_M)}function y0(){return D.useState(VN())}function Xe(t){window.dispatchEvent(new CustomEvent(zy,{detail:t}))}function vse(){window.dispatchEvent(new CustomEvent(zy,{detail:{message:"",type:"info"}}))}const wse=4e3,kl=function({state:t,className:e}){const[n,r]=t||g0();if(D.useEffect(()=>{if(!n.message||n.keep)return;function o(){r({...n,keep:!1,message:""})}const l=setTimeout(o,wse);return()=>clearTimeout(l)},[n.message]),n.message==="")return null;let a=h("p",{className:"mx-3",children:n.message});n.url&&(a=h(Nt,{to:n.url,className:"mx-3 hover:underline cursor-pointer",children:n.message})),n.onClick&&(a=h("button",{onClick:n.onClick,className:"mx-3 hover:underline cursor-pointer",children:n.message}));const i="flex items-center justify-between md:px-8 px-2 py-4 mx-auto",s=h("button",{className:"p-1 transition-colors duration-300 transform rounded-md hover:bg-opacity-25 hover:bg-gray-600 focus:outline-none",type:"button",onClick:()=>r({...n,message:"",url:"",keep:!1}),children:h("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h("path",{d:"M6 18L18 6M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})});return n.type==="info"?h("div",{className:Ce("w-full text-white bg-blue-500",e),children:_("div",{className:i,children:[_("div",{className:"flex",children:[h("svg",{viewBox:"0 0 40 40",className:"w-6 h-6 fill-current shrink-0",children:h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})}),a]}),s]})}):n.type==="warning"?h("div",{className:Ce("w-full text-gray-900 bg-yellow-400",e),children:_("div",{className:i,children:[_("div",{className:"flex",children:[h("svg",{viewBox:"0 0 40 40",className:"w-6 h-6 fill-current shrink-0",children:h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})}),a]}),s]})}):n.type==="error"?h("div",{className:Ce("w-full text-white bg-red-500",e),children:_("div",{className:i,children:[_("div",{className:"flex",children:[h("svg",{viewBox:"0 0 40 40",className:"w-6 h-6 fill-current shrink-0",children:h("path",{d:"M20 3.36667C10.8167 3.36667 3.3667 10.8167 3.3667 20C3.3667 29.1833 10.8167 36.6333 20 36.6333C29.1834 36.6333 36.6334 29.1833 36.6334 20C36.6334 10.8167 29.1834 3.36667 20 3.36667ZM19.1334 33.3333V22.9H13.3334L21.6667 6.66667V17.1H27.25L19.1334 33.3333Z"})}),a]}),s]})}):h("div",{className:Ce("w-full text-white bg-emerald-500",e),children:_("div",{className:i,children:[_("div",{className:"flex",children:[h("svg",{viewBox:"0 0 40 40",className:"w-6 h-6 fill-current shrink-0",children:h("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})}),a]}),s]})})},kM=D.createContext([!1,()=>{}]),xse=function({children:t}){const[e,n]=D.useState(window.localStorage.getItem("theme")==="dark"),r=D.useCallback(a=>{a?window.localStorage.setItem("theme","dark"):window.localStorage.setItem("theme","light"),n(a)},[]);return D.useEffect(()=>{e?document.documentElement.className="dark":document.documentElement.className="light"},[e]),h(kM.Provider,{value:[e,r],children:t})};function ph(){return D.useContext(kM)}const SM=D.createContext([0,()=>{}]),_se=({children:t})=>{const e=D.useRef(!1),[n,r]=D.useState(()=>{try{return parseInt(window.localStorage.getItem("font-scale")||"",10)||0}catch{return 0}});return D.useEffect(()=>{if(!e.current){e.current=!0;return}window.localStorage.setItem("font-scale",n.toString())},[n]),h(SM.Provider,{value:[n,r],children:t})};function Ov(){return D.useContext(SM)}const WN="https://api.algobash.com",kt=`${WN}/api/v1`,GN=`${WN}/api/v2`,NM=`${WN}/graphql`,kse=EM(NM);function EM(t){const e=t.includes("https")?"wss://":"ws://";return t.replace(/^https?:\/\//,e)}const HN="https://app2.algobash.com",Lv="https://team2.algobash.com",Sse="https://git.algobash.com";function Gd(t){return(t==null?void 0:t.message)||""}function bf(t){const e=[],n={};try{t.forEach(r=>{if(r.message==="errorValidation"){const a=r.extensions;Object.keys(a).forEach(i=>{n[i]=a[i]})}else e.push(r.message)})}catch(r){console.error(Gd(r))}return{messages:e,validation:n}}function qN(t){const e={};return t.forEach(n=>{e[n.location]=n.message}),e}async function Tt(t,e,n,r,a){try{let i={"Content-Type":"application/json"};r&&(i={...i,...r});const o=await(await fetch(e,{method:t,body:n&&Object.keys(n).length?JSON.stringify(n):void 0,headers:i,credentials:"include",signal:a||Nse.signal})).json();if(o&&typeof o=="object"&&o.hasOwnProperty("error")){const{error:l}=o;l.code===401&&hE()}return{result:o,error:""}}catch(i){return{result:null,error:Gd(i)}}}const Nse=new AbortController,Ese={apiKey:"AIzaSyCD3VTawR7PiGq30cyJdRWCY4u5dHJqKa4",authDomain:"iqdemia-1596094200672.firebaseapp.com",databaseURL:"https://iqdemia-1596094200672.firebaseio.com",projectId:"iqdemia-1596094200672",storageBucket:"iqdemia-1596094200672.appspot.com",messagingSenderId:"247109068820",appId:"1:247109068820:web:87ae8884662b9ed25f9f01"},TM="algo_fcm";async function Tse(t,e,n){return await Tt("POST",`${GN}/login`,{email:t,password:e,keepLogin:n})}async function YN(){const t=localStorage.getItem(TM);return await Tt("POST",`${kt}/auth/signout`,{fcm_token:t})}async function Vf(){return await Tt("GET",`${kt}/auth/info`)}async function Cse(t,e,n){return await Tt("POST",`${kt}/auth/changepassword`,{oldpassword:t,password:e,repassword:n})}async function Ise(t){return await Tt("POST",`${kt}/auth/profile`,{...t,gender:""})}async function Ase(){return await Tt("GET",`${kt}/auth/two-factor/setup`)}async function Dse(t,e){return await Tt("POST",`${kt}/auth/two-factor/setup`,{secret:t,token:e})}async function Rse(t,e){const n={};return e?n.backup_code=t:n.token=t,await Tt("POST",`${kt}/auth/two-factor/unset`,n)}async function $se(t){return await Tt("POST",`${kt}/auth/two-factor/generate`,{token:t})}async function Ose(t,e){const n={};return e?n.backup_code=t:n.token=t,await Tt("POST",`${kt}/auth/two-factor`,n)}async function sD(t){return await Tt("POST",`${kt}/t/auth/setActiveTeam`,{organization_id:t})}async function Lse(t){return await Tt("PATCH",`${kt}/auth/messaging`,{token:t})}async function Fse(){return await Tt("POST",`${kt}/auth/force-login`)}async function Pse(){return await Tt("POST",`${kt}/s/disconnectGoogle`)}async function Mse(){return await Tt("POST",`${kt}/s/disconnectFacebook`)}async function Bse(t){return await Tt("POST",`${kt}/auth/register`,t)}async function zse(t){return await Tt("POST",`${kt}/auth/reverifiy`,{email:t})}const Use=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function jse(t){return Use.test(t)}function fl(t){return window.btoa(window.btoa(`${t}`))}function Um(t="",e=""){if(t&&jse(t))try{return window.atob(window.atob(t))}catch{return e}return e}function Fv(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function Vse(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Fv(n);return(a,i)=>r.then(s=>i(s.transaction(e,a).objectStore(e)))}let R3;function KN(){return R3||(R3=Vse("keyval-store","keyval")),R3}function Sl(t,e=KN()){return e("readonly",n=>Fv(n.get(t)))}function Wr(t,e,n=KN()){return n("readwrite",r=>(r.put(e,t),Fv(r.transaction)))}function Wf(t,e=KN()){return e("readwrite",n=>(n.delete(t),Fv(n.transaction)))}const bc="ALGO_SESSION_EXP",qi="ALGO_SESSION_DATA",Eg=5*60*1e3,XN=["/login","/register","/forgot-password","/guide","/logout","/result","/kanban"],Wse=["/profile","/configurations","/setup","/subscription"],Gse=["/view/code","/view/essay","/view/multiple-choice","/tests/code"],gu=({open:t,toggle:e,children:n,noscroll:r,overflowClass:a="modal-open"})=>{function i(s){s.preventDefault(),e()}return D.useEffect(()=>{if(!r)return t?window.document.body.classList.add(a):window.document.body.classList.remove(a),()=>{window.document.body.classList.remove(a)}},[t,r,a]),t?nv.createPortal(_("div",{className:"fixed top-0 left-0 w-screen h-screen flex items-center justify-center z-[100]",children:[h("div",{className:"absolute bg-neutral-900/70 dark:bg-gray-900/90 w-full h-full select-none",onClick:i}),n]}),document.body):null},Xk="USER_LOGOUT",Hse=()=>{const{t}=ct(),[e,n]=D.useState(!1),[r,a]=D.useState(!1),[,i]=Ji(),s=ai();async function o(){a(!0);const{result:l}=await YN();if(n(!1),a(!1),l!=null&&l.error){Xe({url:"",type:"error",message:t(`err_${l.error.message}`)});return}Wf(bc),Wf(qi),i(null),s("/login")}return D.useEffect(()=>{function l(){n(!0)}return window.addEventListener(Xk,l),()=>window.removeEventListener(Xk,l)},[]),h(gu,{open:e,toggle:()=>n(!e),children:_("div",{className:"relative p-5 xl:w-1/3 md:w-1/2 md:mx-0 mx-5 w-full dark:text-white bg-white rounded-lg shadow-xl dark:bg-gray-800 space-y-0.5",children:[h("h1",{className:"text-2xl font-semibold mb-2",children:t("log_logout")}),_("p",{children:[t("log_logoutWarning")," ",t("gen_areYouSure")]}),h("br",{}),_("div",{className:"flex justify-end gap-2",children:[h("button",{className:"py-2 px-5 rounded text-white text-md bg-blue-600 disabled:bg-gray-400 dark:disabled:bg-gray-700",type:"button",onClick:o,disabled:r,children:t("gen_yes")}),h("button",{className:"py-2 px-5 rounded text-md border-2 border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 font-medium disabled:bg-gray-400 disabled:border-gray-500 dark:disabled:bg-gray-700 dark:disabled:border-gray-800",type:"button",disabled:r,onClick:()=>n(!e),children:t("gen_no")})]})]})})};function Gf(){window.dispatchEvent(new Event(Xk))}const QN=function({getter:t,setter:e}){const{t:n}=ct();return _("div",{className:"relative",children:[h("input",{className:"h-10 text-sm block w-full py-1.5 px-2 text-gray-700 bg-white border border-gray-300 rounded dark:placeholder:text-gray-400 pr-10 dark:bg-transparent dark:text-white dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 focus:ring-blue-300 focus:outline-none focus:ring focus:ring-opacity-40",type:"text",placeholder:n("gen_search"),value:t,onChange:r=>e(r.target.value)}),_("button",{className:"absolute top-0.5 right-0 text-gray-400 dark:text-gray-300 dark:enabled:hover:text-gray-300 enabled:hover:text-gray-600",onClick:()=>e(""),disabled:!t,children:[h(K,{when:!t,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 m-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})}),h(K,{when:t!=="",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 m-2 text-red-500",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-9.284c-.298 0-.585-.119-.796-.33z"})})})]})]})};async function qse(t,e){const n=new URLSearchParams;return t&&n.append("filters",`name=@${t},description=@${t}`),e&&n.append("pageIndex",`${e}`),Tt("GET",`${kt}/t/getUserOrganization?${n.toString()}`)}function Yse(t){const e=parseFloat(t);return isNaN(e)?0:e}function D1(t,e){return Math.floor(t/e)}const Kse=1e3,Qk=60*Kse,R2=60*Qk,jm=24*R2,$3=7*jm,oD=30*jm;function Uy(t){const e=new Date(t);return e instanceof Date&&!isNaN(e.getTime())}function Xse(t){return Uy(t)?new Date(t):new Date}function Qse(t,e){if(e||(e=jN),!Uy(t))return"";const n=new Date,r=new Date(t),a=n.getTime()-r.getTime();if(a>oD)return r.toLocaleDateString();if(a<=oD&&a>$3){const i=D1(a,$3).toString();return e("gen_weeksAgo",{weeks:i})}if(a<=$3&&a>jm){const i=D1(a,jm).toString();return e("gen_daysAgo",{days:i})}if(a<=jm&&a>R2){const i=D1(a,R2).toString();return e("gen_hoursAgo",{hours:i})}if(a<=R2&&a>5*Qk){const i=D1(a,Qk).toString();return e("gen_minutesAgo",{minutes:i})}return e("gen_aMomentAgo")}function Zse(t){try{let e=new Date(t);const n=e.getTimezoneOffset();return e=new Date(e.getTime()-n*60*1e3),e.toISOString().split("T")[0]}catch{return""}}function Jse(t){try{let e=new Date(t);const n=e.getTimezoneOffset();return e=new Date(e.getTime()-n*60*1e3),e.toISOString().split("T")[1].split(".")[0]}catch{return""}}function eoe(t,e,n){const r=new Date(t);switch(n){case"seconds":r.setSeconds(r.getSeconds()+e);break;case"minutes":r.setMinutes(r.getMinutes()+e);break;case"hours":r.setHours(r.getHours()+e);break;case"days":r.setDate(r.getDate()+e);break;case"months":r.setMonth(r.getMonth()+e);break;case"years":r.setFullYear(r.getFullYear()+e);break}return r}function CM(t,e,n){if(!n){const i=localStorage.getItem(yf)||"en";Ng(i)&&(n=i)}let r="en-GB";switch(n){case un.EN:r="en-GB";break;case un.ID:r="id-ID";break}let a;switch(e){case"d, DD MMMM YYYY":a="full";break;case"DD MMMM YYYY":a="long";break;case"DD MMM YYYY":a="medium";break;case"DD/MM/YYYY":a="short";break;case"DD MMM `YY, HH:mm":{const i=new Date().getFullYear().toString().slice(2);return new Intl.DateTimeFormat(r,{day:"2-digit",month:"short",year:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t).replace(`${i},`,`'${i},`)}case"DD MMM `YY, HH:mm:ss":{const i=new Date().getFullYear().toString().slice(2);return new Intl.DateTimeFormat(r,{day:"2-digit",month:"short",year:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t).replace(`${i},`,`'${i},`)}case"YYYY-MM-DD HH:mm:ss":return`${Zse(t)} ${Jse(t)}`}return new Intl.DateTimeFormat(r,{dateStyle:a}).format(t)}function Zk(t,e,n,r){if(!Uy(t)||!Uy(e))return"";let a=new Date(e).getTime()-new Date(t).getTime();return a<0&&(a=0),_p(a,"miliseconds",n,r)}function _p(t,e,n,r){if(!n){const c=localStorage.getItem(yf)||"en";Ng(c)&&(n=c)}let a=0;switch(e){case"seconds":a=t*1e3;break;case"minutes":a=t*6e4;break;case"hours":a=t*36e5;break;default:a=t;break}let i="";const s=new Date(a).toISOString().substring(11,19);if(r)return s;const[o,l,u]=s.split(":").map(c=>parseInt(c,10));return o&&(i+=`${o}`,n===un.ID?i+=" J":i+=" H"),l&&(i+=` ${l} M`),u&&(i+=` ${u}`,n===un.ID?i+=" D":i+=" S"),i||(n===un.ID?i="0 D":i="0 S"),i.trim()}function Hd(t,e,n){switch(e){case"=":return t.getTime()===n.getTime();case"!=":return t.getTime()!==n.getTime();case"<":return t.getTime()<n.getTime();case"<=":return t.getTime()<=n.getTime();case">":return t.getTime()>n.getTime();case">=":return t.getTime()>=n.getTime();default:return!1}}const Jk="CHANGE_TEAM",toe=()=>{var H;const{t}=ct(),[e,n]=Ji(),[r,a]=y0(),i=ai(),[s,o]=D.useState(!1),[l,u]=D.useState(!1);function c(){l||o(!s)}const[d,f]=D.useState(""),[p,m]=D.useState(1),[g,v]=D.useState(1),[y,b]=D.useState([]);D.useEffect(()=>{function U(){o(!0),f("")}return window.addEventListener(Jk,U),()=>window.removeEventListener(Jk,U)},[]);const[w,x]=D.useState(!1),[k,S]=D.useState(!1),E=D.useCallback(async(U=1)=>{var re;if(!s)return;U>1&&S(!0);const{error:q,result:Q}=await qse(d,U);if(x(!1),S(!1),!(Q!=null&&Q.data)){a({message:t(q||((re=Q==null?void 0:Q.error)==null?void 0:re.message)||"err_networkProblem"),type:"error",url:""});return}v(Q.data.pageIndex),m(Q.data.totalPages),b(he=>U>1?[...he,...Q.data.items]:Q.data.items)},[s,d]);D.useEffect(()=>{x(!0);const U=setTimeout(E,400);return()=>clearTimeout(U)},[E]);const[I,C]=D.useState(!1);async function R(U){var he;C(!0);const{result:q,error:Q}=await sD(U);if(C(!1),!(q!=null&&q.data)){a({message:t(Q||((he=q==null?void 0:q.error)==null?void 0:he.message)||"err_networkProblem"),type:"error",url:""});return}const{result:re}=await Vf();if(!(re!=null&&re.data)){a({type:"error",message:(re==null?void 0:re.error.message)||t("err_networkProblem"),url:""}),x(!1);return}o(!1),u(!1),n(re.data),await Wr(qi,re.data),await Wr(bc,Date.now()+Eg),a({message:t("prof_changeTeamSuccess"),type:"success",url:""})}function z(U){return async q=>{var re,he;if(q.preventDefault(),U!==((re=e==null?void 0:e.organization)==null?void 0:re.id)){C(!0);const{result:ae,error:se}=await sD(U);if(C(!1),!(ae!=null&&ae.data)){a({message:t(se||((he=ae==null?void 0:ae.error)==null?void 0:he.message)||"err_networkProblem"),type:"error",url:""});return}}const{result:Q}=await Vf();if(!(Q!=null&&Q.data)){a({type:"error",message:(Q==null?void 0:Q.error.message)||t("err_networkProblem"),url:""});return}o(!1),u(!1),n(Q.data),await Wr(qi,Q.data),await Wr(bc,Date.now()+Eg),i("/subscription")}}return h(gu,{open:s,toggle:c,children:_("div",{className:"relative p-4 md:p-8 m-4 text-left bg-white rounded-lg shadow-xl dark:bg-gray-800 w-full md:w-6/8 lg:w-2/4",children:[h(kl,{state:[r,a],className:"absolute z-10 top-0 left-0 w-full rounded-t-lg"}),h(K,{when:!l,children:h("div",{className:"absolute top-2 right-2 justify-end md:mb-0 mb-2",children:h("button",{className:"dark:text-white h-10 w-10 flex justify-center items-center",onClick:c,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})})}),_("h1",{className:"text-2xl font-medium dark:text-white ",children:[t("prof_changeTeam")," ",((H=e==null?void 0:e.organization)==null?void 0:H.name)||""]}),h("p",{className:"mb-4 dark:text-white",children:t("cht_youreAllowed")}),h(QN,{getter:d,setter:f}),_("div",{className:"mt-2 space-y-2",children:[_(K,{when:w,children:[h(O3,{}),h(O3,{}),h(O3,{})]}),_(K,{when:!w,children:[h(K,{when:!y.length,children:h("div",{className:"rounded flex items-center justify-center border border-gray-200 dark:border-gray-600 h-[70px]",children:h("p",{className:"leading-tight text-sm dark:text-gray-400",children:t("cht_noTeamFound")})})}),y.map((U,q)=>{var re;let Q=!1;if(U.blocked_at)if(!U.subscription_end)Q=!0;else{const he=new Date(new Date(U.blocked_at).toDateString()),ae=new Date(new Date(U.subscription_end).toDateString());Q=Hd(he,"!=",ae)}if(!U.member||Q||U.member.blocked_at)return _("div",{className:"flex flex-col items-start md:flex-row md:items-center md:justify-between gap-2 p-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-slate-700 rounded-md",children:[_("div",{className:"flex items-center gap-x-2 ",children:[h("img",{className:"object-cover w-10 h-10 rounded-md",src:U.logo_url||"/images/default-img.png"}),_("div",{children:[h("h3",{className:"dark:text-white font-medium text-left leading-tight",children:U.name}),h("p",{className:"leading-tight text-sm dark:text-gray-400",children:t("cht_noAccess")})]})]}),h("button",{type:"button",className:"h-10 px-8 font-medium bg-blue-500 text-white rounded flex items-center justify-center md:w-fit w-full disabled:opacity-75 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!0,children:t("gen_join")})]},q);if((!U.package_id||Hd(Xse(U.subscription_end),"<",new Date))&&!U.is_internal_team){let he=t("cht_subExp"),ae=_(St,{children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})," ",t("gen_renew")]});return U.package_id||(he=t("cht_noPackage"),ae=_(St,{children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})," ",t("cht_buyPackage")]})),_("div",{className:" flex flex-col items-start md:flex-row md:items-center md:justify-between gap-2 p-4 border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-slate-700 rounded-md",children:[_("div",{className:"flex items-center gap-x-2 ",children:[h("img",{className:"object-cover w-10 h-10 rounded-md",src:U.logo_url||"/images/default-img.png"}),_("div",{children:[h("h3",{className:"dark:text-white font-medium text-left leading-tight",children:U.name}),h("p",{className:"leading-tight text-sm dark:text-gray-400",children:he})]})]}),h("button",{type:"button",className:"h-10 px-4 font-medium whitespace-nowrap bg-lime-600 text-white rounded flex items-center justify-center md:w-fit w-full disabled:opacity-75 disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:z(U.id),disabled:I,children:ae})]},q)}return U.id===((re=e==null?void 0:e.organization)==null?void 0:re.id)?_("div",{className:"flex flex-col items-start md:flex-row md:items-center md:justify-between p-4 bg-blue-50 dark:bg-blue-600 rounded-md gap-2",children:[_("div",{className:"flex items-center gap-x-2 ",children:[h("img",{className:"object-cover w-10 h-10 rounded-md",src:U.logo_url||"/images/default-img.png"}),h("h3",{className:"dark:text-white font-medium text-left leading-tight",children:U.name})]}),_("div",{className:"h-10 px-2 font-medium text-blue-500 inline-flex items-center justify-center md:w-fit w-full rounded bg-white",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 mr-1",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t("cht_here")]})]},q):_("div",{className:"flex flex-col items-start md:flex-row md:items-center md:justify-between gap-2 p-4 border border-gray-200 dark:border-gray-600 rounded-md",children:[_("div",{className:"flex items-center gap-x-2 ",children:[h("img",{className:"object-cover w-10 h-10 rounded-md",src:U.logo_url||"/images/default-img.png"}),h("h3",{className:"dark:text-white font-medium text-left leading-tight",children:U.name})]}),h("button",{type:"button",className:"h-10 px-8 font-medium bg-blue-500 text-white rounded flex items-center justify-center md:w-fit w-full disabled:opacity-75 disabled:bg-gray-400 disabled:cursor-not-allowed",onClick:()=>R(U.id),disabled:I,children:t("gen_join")})]},q)})]}),p>g&&h("button",{className:"w-full rounded py-3 text-white font-medium bg-blue-900",onClick:()=>E(g+1),disabled:k,children:t("gen_loadMore")})]})]})})},O3=()=>_("div",{className:"gap-2 p-4 rounded flex items-center animate-pulse border border-gray-200 dark:border-gray-600",children:[h("div",{className:"bg-gray-300 dark:bg-gray-700 h-10 w-10 rounded-full"}),h("div",{className:"bg-gray-300 dark:bg-gray-700 h-5 w-24 rounded"}),h("div",{className:"bg-gray-300 dark:bg-gray-700 h-10 w-24 rounded ml-auto"})]});function lD(){window.dispatchEvent(new CustomEvent(Jk))}const md="/images/default-img.png";async function noe(t,e,n,r){const a=new URLSearchParams;return t&&a.append("pageIndex",`${t}`),e&&a.append("itemsPerPage",`${e}`),n&&a.append("sorts",`${n}`),r&&a.append("filters",`${r}`),Tt("GET",`${kt}/t/notifications?${a.toString()}`)}async function roe(){return Tt("PATCH",`${kt}/t/notifications/readAll`)}async function aoe(t){return Tt("PATCH",`${kt}/t/notifications/${t}`,{is_seen:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},ioe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],o=t[n++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},AM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,l=a+2<t.length,u=l?t[a+2]:0,c=i>>2,d=(i&3)<<4|o>>4;let f=(o&15)<<2|u>>6,p=u&63;l||(p=64,s||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ioe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],o=a<t.length?n[t.charAt(a)]:0;++a;const u=a<t.length?n[t.charAt(a)]:64;++a;const d=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||o==null||u==null||d==null)throw new soe;const f=i<<2|o>>4;if(r.push(f),u!==64){const p=o<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class soe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ooe=function(t){const e=IM(t);return AM.encodeByteArray(e,!0)},DM=function(t){return ooe(t).replace(/\./g,"")},loe=function(t){try{return AM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uoe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const coe=()=>uoe().__FIREBASE_DEFAULTS__,doe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hoe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&loe(t[1]);return e&&JSON.parse(e)},foe=()=>{try{return coe()||doe()||hoe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RM=()=>{var t;return(t=foe())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function $M(){try{return typeof indexedDB=="object"}catch{return!1}}function OM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function moe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const goe="FirebaseError";class kp extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=goe,Object.setPrototypeOf(this,kp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pv.prototype.create)}}class Pv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?yoe(i,r):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new kp(a,o,r)}}function yoe(t,e){return t.replace(boe,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const boe=/\{\$([^}]+)}/g;function e4(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(uD(i)&&uD(s)){if(!e4(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function uD(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t){return t&&t._delegate?t._delegate:t}let vc=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class voe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new poe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xoe(e))try{this.getOrInitializeService({instanceIdentifier:ad})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=ad){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ad){return this.instances.has(e)}getOptions(e=ad){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&s.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&e(s,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:woe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ad){return this.component?this.component.multipleInstances?e:ad:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function woe(t){return t===ad?void 0:t}function xoe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new voe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(er||(er={}));const koe={debug:er.DEBUG,verbose:er.VERBOSE,info:er.INFO,warn:er.WARN,error:er.ERROR,silent:er.SILENT},Soe=er.INFO,Noe={[er.DEBUG]:"log",[er.VERBOSE]:"log",[er.INFO]:"info",[er.WARN]:"warn",[er.ERROR]:"error"},Eoe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=Noe[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Toe=class{constructor(e){this.name=e,this._logLevel=Soe,this._logHandler=Eoe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in er))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?koe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,er.DEBUG,...e),this._logHandler(this,er.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,er.VERBOSE,...e),this._logHandler(this,er.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,er.INFO,...e),this._logHandler(this,er.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,er.WARN,...e),this._logHandler(this,er.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,er.ERROR,...e),this._logHandler(this,er.ERROR,...e)}};const Coe=(t,e)=>e.some(n=>t instanceof n);let cD,dD;function Ioe(){return cD||(cD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Aoe(){return dD||(dD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LM=new WeakMap,t4=new WeakMap,FM=new WeakMap,L3=new WeakMap,JN=new WeakMap;function Doe(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(ic(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LM.set(n,t)}).catch(()=>{}),JN.set(e,t),e}function Roe(t){if(t4.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});t4.set(t,e)}let n4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return t4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ic(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $oe(t){n4=t(n4)}function Ooe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(F3(this),e,...n);return FM.set(r,e.sort?e.sort():[e]),ic(r)}:Aoe().includes(t)?function(...e){return t.apply(F3(this),e),ic(LM.get(this))}:function(...e){return ic(t.apply(F3(this),e))}}function Loe(t){return typeof t=="function"?Ooe(t):(t instanceof IDBTransaction&&Roe(t),Coe(t,Ioe())?new Proxy(t,n4):t)}function ic(t){if(t instanceof IDBRequest)return Doe(t);if(L3.has(t))return L3.get(t);const e=Loe(t);return e!==t&&(L3.set(t,e),JN.set(e,t)),e}const F3=t=>JN.get(t);function Foe(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=ic(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ic(s.result),l.oldVersion,l.newVersion,ic(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Poe=["get","getKey","getAll","getAllKeys","count"],Moe=["put","add","delete","clear"],P3=new Map;function hD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(P3.get(e))return P3.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Moe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Poe.includes(n)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),a&&l.done]))[0]};return P3.set(e,i),i}$oe(t=>({...t,get:(e,n,r)=>hD(e,n)||t.get(e,n,r),has:(e,n)=>!!hD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zoe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zoe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r4="@firebase/app",fD="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Toe("@firebase/app"),Uoe="@firebase/app-compat",joe="@firebase/analytics-compat",Voe="@firebase/analytics",Woe="@firebase/app-check-compat",Goe="@firebase/app-check",Hoe="@firebase/auth",qoe="@firebase/auth-compat",Yoe="@firebase/database",Koe="@firebase/database-compat",Xoe="@firebase/functions",Qoe="@firebase/functions-compat",Zoe="@firebase/installations",Joe="@firebase/installations-compat",ele="@firebase/messaging",tle="@firebase/messaging-compat",nle="@firebase/performance",rle="@firebase/performance-compat",ale="@firebase/remote-config",ile="@firebase/remote-config-compat",sle="@firebase/storage",ole="@firebase/storage-compat",lle="@firebase/firestore",ule="@firebase/firestore-compat",cle="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="[DEFAULT]",dle={[r4]:"fire-core",[Uoe]:"fire-core-compat",[Voe]:"fire-analytics",[joe]:"fire-analytics-compat",[Goe]:"fire-app-check",[Woe]:"fire-app-check-compat",[Hoe]:"fire-auth",[qoe]:"fire-auth-compat",[Yoe]:"fire-rtdb",[Koe]:"fire-rtdb-compat",[Xoe]:"fire-fn",[Qoe]:"fire-fn-compat",[Zoe]:"fire-iid",[Joe]:"fire-iid-compat",[ele]:"fire-fcm",[tle]:"fire-fcm-compat",[nle]:"fire-perf",[rle]:"fire-perf-compat",[ale]:"fire-rc",[ile]:"fire-rc-compat",[sle]:"fire-gcs",[ole]:"fire-gcs-compat",[lle]:"fire-fst",[ule]:"fire-fst-compat","fire-js":"fire-js",[cle]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map,i4=new Map;function hle(t,e){try{t.container.addComponent(e)}catch(n){qd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yd(t){const e=t.name;if(i4.has(e))return qd.debug(`There were multiple attempts to register component ${e}.`),!1;i4.set(e,t);for(const n of jy.values())hle(n,t);return!0}function eE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fle={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},sc=new Pv("app","Firebase",fle);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ple{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sc.create("app-deleted",{appName:this._name})}}function PM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:a4,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw sc.create("bad-app-name",{appName:String(a)});if(n||(n=RM()),!n)throw sc.create("no-options");const i=jy.get(a);if(i){if(e4(n,i.options)&&e4(r,i.config))return i;throw sc.create("duplicate-app",{appName:a})}const s=new _oe(a);for(const l of i4.values())s.addComponent(l);const o=new ple(n,r,s);return jy.set(a,o),o}function mle(t=a4){const e=jy.get(t);if(!e&&t===a4&&RM())return PM();if(!e)throw sc.create("no-app",{appName:t});return e}function oc(t,e,n){var r;let a=(r=dle[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const i=a.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${e}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qd.warn(o.join(" "));return}Yd(new vc(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gle="firebase-heartbeat-database",yle=1,Tg="firebase-heartbeat-store";let M3=null;function MM(){return M3||(M3=Foe(gle,yle,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tg)}}}).catch(t=>{throw sc.create("idb-open",{originalErrorMessage:t.message})})),M3}async function ble(t){try{return await(await MM()).transaction(Tg).objectStore(Tg).get(BM(t))}catch(e){if(e instanceof kp)qd.warn(e.message);else{const n=sc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qd.warn(n.message)}}}async function pD(t,e){try{const r=(await MM()).transaction(Tg,"readwrite");await r.objectStore(Tg).put(e,BM(t)),await r.done}catch(n){if(n instanceof kp)qd.warn(n.message);else{const r=sc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qd.warn(r.message)}}}function BM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vle=1024,wle=30*24*60*60*1e3;class xle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mD();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const i=new Date(a.date).valueOf();return Date.now()-i<=wle}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=mD(),{heartbeatsToSend:n,unsentEntries:r}=_le(this._heartbeatsCache.heartbeats),a=DM(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function mD(){return new Date().toISOString().substring(0,10)}function _le(t,e=vle){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),gD(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),gD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $M()?OM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ble(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return pD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function gD(t){return DM(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sle(t){Yd(new vc("platform-logger",e=>new Boe(e),"PRIVATE")),Yd(new vc("heartbeat",e=>new xle(e),"PRIVATE")),oc(r4,fD,t),oc(r4,fD,"esm2017"),oc("fire-js","")}Sle("");var Nle="firebase",Ele="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oc(Nle,Ele,"app");const Tle=(t,e)=>e.some(n=>t instanceof n);let yD,bD;function Cle(){return yD||(yD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ile(){return bD||(bD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zM=new WeakMap,s4=new WeakMap,UM=new WeakMap,B3=new WeakMap,tE=new WeakMap;function Ale(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(lc(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zM.set(n,t)}).catch(()=>{}),tE.set(e,t),e}function Dle(t){if(s4.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});s4.set(t,e)}let o4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return s4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rle(t){o4=t(o4)}function $le(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(z3(this),e,...n);return UM.set(r,e.sort?e.sort():[e]),lc(r)}:Ile().includes(t)?function(...e){return t.apply(z3(this),e),lc(zM.get(this))}:function(...e){return lc(t.apply(z3(this),e))}}function Ole(t){return typeof t=="function"?$le(t):(t instanceof IDBTransaction&&Dle(t),Tle(t,Cle())?new Proxy(t,o4):t)}function lc(t){if(t instanceof IDBRequest)return Ale(t);if(B3.has(t))return B3.get(t);const e=Ole(t);return e!==t&&(B3.set(t,e),tE.set(e,t)),e}const z3=t=>tE.get(t);function Lle(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=lc(s);return r&&s.addEventListener("upgradeneeded",l=>{r(lc(s.result),l.oldVersion,l.newVersion,lc(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",()=>a())}).catch(()=>{}),o}const Fle=["get","getKey","getAll","getAllKeys","count"],Ple=["put","add","delete","clear"],U3=new Map;function vD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(U3.get(e))return U3.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Ple.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Fle.includes(n)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),a&&l.done]))[0]};return U3.set(e,i),i}Rle(t=>({...t,get:(e,n,r)=>vD(e,n)||t.get(e,n,r),has:(e,n)=>!!vD(e,n)||t.has(e,n)}));const jM="@firebase/installations",nE="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e4,WM=`w:${nE}`,GM="FIS_v2",Mle="https://firebaseinstallations.googleapis.com/v1",Ble=60*60*1e3,zle="installations",Ule="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},Kd=new Pv(zle,Ule,jle);function HM(t){return t instanceof kp&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM({projectId:t}){return`${Mle}/projects/${t}/installations`}function YM(t){return{token:t.token,requestStatus:2,expiresIn:Wle(t.expiresIn),creationTime:Date.now()}}async function KM(t,e){const r=(await e.json()).error;return Kd.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function XM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Vle(t,{refreshToken:e}){const n=XM(t);return n.append("Authorization",Gle(e)),n}async function QM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Wle(t){return Number(t.replace("s","000"))}function Gle(t){return`${GM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hle({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qM(t),a=XM(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={fid:n,authVersion:GM,appId:t.appId,sdkVersion:WM},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await QM(()=>fetch(r,o));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:YM(u.authToken)}}else throw await KM("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=/^[cdef][\w-]{21}$/,l4="";function Kle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Xle(t);return Yle.test(n)?n:l4}catch{return l4}}function Xle(t){return qle(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM=new Map;function eB(t,e){const n=Mv(t);tB(n,e),Qle(n,e)}function tB(t,e){const n=JM.get(t);if(n)for(const r of n)r(e)}function Qle(t,e){const n=Zle();n&&n.postMessage({key:t,fid:e}),Jle()}let gd=null;function Zle(){return!gd&&"BroadcastChannel"in self&&(gd=new BroadcastChannel("[Firebase] FID Change"),gd.onmessage=t=>{tB(t.data.key,t.data.fid)}),gd}function Jle(){JM.size===0&&gd&&(gd.close(),gd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eue="firebase-installations-database",tue=1,Xd="firebase-installations-store";let j3=null;function rE(){return j3||(j3=Lle(eue,tue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xd)}}})),j3}async function Vy(t,e){const n=Mv(t),a=(await rE()).transaction(Xd,"readwrite"),i=a.objectStore(Xd),s=await i.get(n);return await i.put(e,n),await a.done,(!s||s.fid!==e.fid)&&eB(t,e.fid),e}async function nB(t){const e=Mv(t),r=(await rE()).transaction(Xd,"readwrite");await r.objectStore(Xd).delete(e),await r.done}async function Bv(t,e){const n=Mv(t),a=(await rE()).transaction(Xd,"readwrite"),i=a.objectStore(Xd),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await a.done,o&&(!s||s.fid!==o.fid)&&eB(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(t){let e;const n=await Bv(t.appConfig,r=>{const a=nue(r),i=rue(t,a);return e=i.registrationPromise,i.installationEntry});return n.fid===l4?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function nue(t){const e=t||{fid:Kle(),registrationStatus:0};return rB(e)}function rue(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Kd.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=aue(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:iue(t)}:{installationEntry:e}}async function aue(t,e){try{const n=await Hle(t,e);return Vy(t.appConfig,n)}catch(n){throw HM(n)&&n.customData.serverCode===409?await nB(t.appConfig):await Vy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function iue(t){let e=await wD(t.appConfig);for(;e.registrationStatus===1;)await ZM(100),e=await wD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await aE(t);return r||n}return e}function wD(t){return Bv(t,e=>{if(!e)throw Kd.create("installation-not-found");return rB(e)})}function rB(t){return sue(t)?{fid:t.fid,registrationStatus:0}:t}function sue(t){return t.registrationStatus===1&&t.registrationTime+VM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oue({appConfig:t,heartbeatServiceProvider:e},n){const r=lue(t,n),a=Vle(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const s={installation:{sdkVersion:WM,appId:t.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await QM(()=>fetch(r,o));if(l.ok){const u=await l.json();return YM(u)}else throw await KM("Generate Auth Token",l)}function lue(t,{fid:e}){return`${qM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(t,e=!1){let n;const r=await Bv(t.appConfig,i=>{if(!aB(i))throw Kd.create("not-registered");const s=i.authToken;if(!e&&due(s))return i;if(s.requestStatus===1)return n=uue(t,e),i;{if(!navigator.onLine)throw Kd.create("app-offline");const o=fue(i);return n=cue(t,o),o}});return n?await n:r.authToken}async function uue(t,e){let n=await xD(t.appConfig);for(;n.authToken.requestStatus===1;)await ZM(100),n=await xD(t.appConfig);const r=n.authToken;return r.requestStatus===0?iE(t,e):r}function xD(t){return Bv(t,e=>{if(!aB(e))throw Kd.create("not-registered");const n=e.authToken;return pue(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function cue(t,e){try{const n=await oue(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Vy(t.appConfig,r),n}catch(n){if(HM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nB(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Vy(t.appConfig,r)}throw n}}function aB(t){return t!==void 0&&t.registrationStatus===2}function due(t){return t.requestStatus===2&&!hue(t)}function hue(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ble}function fue(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pue(t){return t.requestStatus===1&&t.requestTime+VM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mue(t){const e=t,{installationEntry:n,registrationPromise:r}=await aE(e);return r?r.catch(console.error):iE(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gue(t,e=!1){const n=t;return await yue(n),(await iE(n,e)).token}async function yue(t){const{registrationPromise:e}=await aE(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bue(t){if(!t||!t.options)throw V3("App Configuration");if(!t.name)throw V3("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw V3(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function V3(t){return Kd.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB="installations",vue="installations-internal",wue=t=>{const e=t.getProvider("app").getImmediate(),n=bue(e),r=eE(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},xue=t=>{const e=t.getProvider("app").getImmediate(),n=eE(e,iB).getImmediate();return{getId:()=>mue(n),getToken:a=>gue(n,a)}};function _ue(){Yd(new vc(iB,wue,"PUBLIC")),Yd(new vc(vue,xue,"PRIVATE"))}_ue();oc(jM,nE);oc(jM,nE,"esm2017");const kue=(t,e)=>e.some(n=>t instanceof n);let _D,kD;function Sue(){return _D||(_D=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nue(){return kD||(kD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sB=new WeakMap,u4=new WeakMap,oB=new WeakMap,W3=new WeakMap,sE=new WeakMap;function Eue(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(eu(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sB.set(n,t)}).catch(()=>{}),sE.set(e,t),e}function Tue(t){if(u4.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});u4.set(t,e)}let c4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oB.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cue(t){c4=t(c4)}function Iue(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(G3(this),e,...n);return oB.set(r,e.sort?e.sort():[e]),eu(r)}:Nue().includes(t)?function(...e){return t.apply(G3(this),e),eu(sB.get(this))}:function(...e){return eu(t.apply(G3(this),e))}}function Aue(t){return typeof t=="function"?Iue(t):(t instanceof IDBTransaction&&Tue(t),kue(t,Sue())?new Proxy(t,c4):t)}function eu(t){if(t instanceof IDBRequest)return Eue(t);if(W3.has(t))return W3.get(t);const e=Aue(t);return e!==t&&(W3.set(t,e),sE.set(e,t)),e}const G3=t=>sE.get(t);function lB(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=eu(s);return r&&s.addEventListener("upgradeneeded",l=>{r(eu(s.result),l.oldVersion,l.newVersion,eu(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",()=>a())}).catch(()=>{}),o}function H3(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),eu(n).then(()=>{})}const Due=["get","getKey","getAll","getAllKeys","count"],Rue=["put","add","delete","clear"],q3=new Map;function SD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(q3.get(e))return q3.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Rue.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Due.includes(n)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),a&&l.done]))[0]};return q3.set(e,i),i}Cue(t=>({...t,get:(e,n,r)=>SD(e,n)||t.get(e,n,r),has:(e,n)=>!!SD(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ue="/firebase-messaging-sw.js",Oue="/firebase-cloud-messaging-push-scope",uB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lue="https://fcmregistrations.googleapis.com/v1",cB="google.c.a.c_id",Fue="google.c.a.c_l",Pue="google.c.a.ts",Mue="google.c.a.e";var ND;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ND||(ND={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Cg;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Cg||(Cg={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bue(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),a=new Uint8Array(r.length);for(let i=0;i<r.length;++i)a[i]=r.charCodeAt(i);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="fcm_token_details_db",zue=5,ED="fcm_token_object_Store";async function Uue(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(Y3))return null;let e=null;return(await lB(Y3,zue,{upgrade:async(r,a,i,s)=>{var o;if(a<2||!r.objectStoreNames.contains(ED))return;const l=s.objectStore(ED),u=await l.index("fcmSenderId").get(t);if(await l.clear(),!!u){if(a===2){const c=u;if(!c.auth||!c.p256dh||!c.endpoint)return;e={token:c.fcmToken,createTime:(o=c.createTime)!==null&&o!==void 0?o:Date.now(),subscriptionOptions:{auth:c.auth,p256dh:c.p256dh,endpoint:c.endpoint,swScope:c.swScope,vapidKey:typeof c.vapidKey=="string"?c.vapidKey:zl(c.vapidKey)}}}else if(a===3){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:zl(c.auth),p256dh:zl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:zl(c.vapidKey)}}}else if(a===4){const c=u;e={token:c.fcmToken,createTime:c.createTime,subscriptionOptions:{auth:zl(c.auth),p256dh:zl(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:zl(c.vapidKey)}}}}}})).close(),await H3(Y3),await H3("fcm_vapid_details_db"),await H3("undefined"),jue(e)?e:null}function jue(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vue="firebase-messaging-database",Wue=1,Qd="firebase-messaging-store";let K3=null;function oE(){return K3||(K3=lB(Vue,Wue,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Qd)}}})),K3}async function dB(t){const e=uE(t),r=await(await oE()).transaction(Qd).objectStore(Qd).get(e);if(r)return r;{const a=await Uue(t.appConfig.senderId);if(a)return await lE(t,a),a}}async function lE(t,e){const n=uE(t),a=(await oE()).transaction(Qd,"readwrite");return await a.objectStore(Qd).put(e,n),await a.done,e}async function Gue(t){const e=uE(t),r=(await oE()).transaction(Qd,"readwrite");await r.objectStore(Qd).delete(e),await r.done}function uE({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hue={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["only-available-in-window"]:"This method is available in a Window context.",["only-available-in-sw"]:"This method is available in a service worker context.",["permission-default"]:"The notification permission was not granted and dismissed instead.",["permission-blocked"]:"The notification permission was not granted and blocked instead.",["unsupported-browser"]:"This browser doesn't support the API's required to use the Firebase SDK.",["indexed-db-unsupported"]:"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)",["failed-service-worker-registration"]:"We are unable to register the default service worker. {$browserErrorMessage}",["token-subscribe-failed"]:"A problem occurred while subscribing the user to FCM: {$errorInfo}",["token-subscribe-no-token"]:"FCM returned no token when subscribing the user to push.",["token-unsubscribe-failed"]:"A problem occurred while unsubscribing the user from FCM: {$errorInfo}",["token-update-failed"]:"A problem occurred while updating the user from FCM: {$errorInfo}",["token-update-no-token"]:"FCM returned no token when updating the user to push.",["use-sw-after-get-token"]:"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",["invalid-sw-registration"]:"The input to useServiceWorker() must be a ServiceWorkerRegistration.",["invalid-bg-handler"]:"The input to setBackgroundMessageHandler() must be a function.",["invalid-vapid-key"]:"The public VAPID key must be a string.",["use-vapid-key-after-get-token"]:"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ja=new Pv("messaging","Messaging",Hue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function que(t,e){const n=await dE(t),r=fB(e),a={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(cE(t.appConfig),a)).json()}catch(s){throw Ja.create("token-subscribe-failed",{errorInfo:s==null?void 0:s.toString()})}if(i.error){const s=i.error.message;throw Ja.create("token-subscribe-failed",{errorInfo:s})}if(!i.token)throw Ja.create("token-subscribe-no-token");return i.token}async function Yue(t,e){const n=await dE(t),r=fB(e.subscriptionOptions),a={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${cE(t.appConfig)}/${e.token}`,a)).json()}catch(s){throw Ja.create("token-update-failed",{errorInfo:s==null?void 0:s.toString()})}if(i.error){const s=i.error.message;throw Ja.create("token-update-failed",{errorInfo:s})}if(!i.token)throw Ja.create("token-update-no-token");return i.token}async function hB(t,e){const r={method:"DELETE",headers:await dE(t)};try{const i=await(await fetch(`${cE(t.appConfig)}/${e}`,r)).json();if(i.error){const s=i.error.message;throw Ja.create("token-unsubscribe-failed",{errorInfo:s})}}catch(a){throw Ja.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function cE({projectId:t}){return`${Lue}/projects/${t}/registrations`}async function dE({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function fB({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const a={web:{endpoint:n,auth:e,p256dh:t}};return r!==uB&&(a.web.applicationPubKey=r),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kue=7*24*60*60*1e3;async function Xue(t){const e=await Jue(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zl(e.getKey("auth")),p256dh:zl(e.getKey("p256dh"))},r=await dB(t.firebaseDependencies);if(r){if(ece(r.subscriptionOptions,n))return Date.now()>=r.createTime+Kue?Zue(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await hB(t.firebaseDependencies,r.token)}catch(a){console.warn(a)}return TD(t.firebaseDependencies,n)}else return TD(t.firebaseDependencies,n)}async function Que(t){const e=await dB(t.firebaseDependencies);e&&(await hB(t.firebaseDependencies,e.token),await Gue(t.firebaseDependencies));const n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function Zue(t,e){try{const n=await Yue(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await lE(t.firebaseDependencies,r),n}catch(n){throw await Que(t),n}}async function TD(t,e){const r={token:await que(t,e),createTime:Date.now(),subscriptionOptions:e};return await lE(t,r),r.token}async function Jue(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bue(e)})}function ece(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,a=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&a&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return tce(e,t),nce(e,t),rce(e,t),e}function tce(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const a=e.notification.image;a&&(t.notification.image=a);const i=e.notification.icon;i&&(t.notification.icon=i)}function nce(t,e){e.data&&(t.data=e.data)}function rce(t,e){var n,r,a,i,s;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const o=(a=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&a!==void 0?a:(i=e.notification)===null||i===void 0?void 0:i.click_action;o&&(t.fcmOptions.link=o);const l=(s=e.fcmOptions)===null||s===void 0?void 0:s.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ace(t){return typeof t=="object"&&!!t&&cB in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");pB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function pB(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ice(t){if(!t||!t.options)throw X3("App Configuration Object");if(!t.name)throw X3("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw X3(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function X3(t){return Ja.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sce{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=ice(e);this.firebaseDependencies={app:e,appConfig:a,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oce(t){try{t.swRegistration=await navigator.serviceWorker.register($ue,{scope:Oue}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ja.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lce(t,e){if(!e&&!t.swRegistration&&await oce(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Ja.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uce(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=uB)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mB(t,e){if(!navigator)throw Ja.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ja.create("permission-blocked");return await uce(t,e==null?void 0:e.vapidKey),await lce(t,e==null?void 0:e.serviceWorkerRegistration),Xue(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cce(t,e,n){const r=dce(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[cB],message_name:n[Fue],message_time:n[Pue],message_device_time:Math.floor(Date.now()/1e3)})}function dce(t){switch(t){case Cg.NOTIFICATION_CLICKED:return"notification_open";case Cg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hce(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Cg.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(CD(n)):t.onMessageHandler.next(CD(n)));const r=n.data;ace(r)&&r[Mue]==="1"&&await cce(t,n.messageType,r)}const ID="@firebase/messaging",AD="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fce=t=>{const e=new sce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>hce(e,n)),e},pce=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>mB(e,r)}};function mce(){Yd(new vc("messaging",fce,"PUBLIC")),Yd(new vc("messaging-internal",pce,"PRIVATE")),oc(ID,AD),oc(ID,AD,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gB(){try{await OM()}catch{return!1}return typeof window<"u"&&$M()&&moe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gce(t,e){if(!navigator)throw Ja.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yce(t=mle()){return gB().then(e=>{if(!e)throw Ja.create("unsupported-browser")},e=>{throw Ja.create("indexed-db-unsupported")}),eE(ZN(t),"messaging").getImmediate()}async function bce(t,e){return t=ZN(t),mB(t,e)}function vce(t,e){return t=ZN(t),gce(t,e)}mce();let Q3,Jp,R1="",DD=()=>{};const wce=async t=>{if(await gB())try{Q3||(Q3=PM(Ese)),Jp||(Jp=yce(Q3)),R1||(await Notification.requestPermission(),R1=await bce(Jp),Lse(R1),localStorage.setItem(TM,R1)),DD(),Jp&&(DD=vce(Jp,t))}catch(n){const r=Gd(n);console.error(r)}};function xce(t){if(!t)return null;const{content:e,description:n,title:r,type:a}=t;try{return{content:JSON.parse(e),description:n,title:r,type:a}}catch(i){return console.error(i),null}}const _ce=()=>{const{t}=ct(),[e,n]=D.useState(!1);D.useEffect(()=>{const d=document.getElementById("notif-btn"),f=document.getElementById("notif-item");!d||!f||$v(d,f,{middleware:[Iv(10),Av()]}).then(({x:p,y:m})=>{Object.assign(f.style,{left:`${p-10}px`,top:`${m}px`})})},[e]);const[r,a]=D.useState();async function i(){var p;const{result:d,error:f}=await noe(1,5,"-created_at");if(!(d!=null&&d.data)){Xe({message:t(f||((p=d==null?void 0:d.error)==null?void 0:p.message)||"err_networkProblem"),type:"error"});return}a(d.data.items)}D.useEffect(()=>{if(!e&&r)return;const d=setTimeout(i,100);return()=>clearTimeout(d)},[e]);const[s,o]=D.useState(!1);async function l(){var p;o(!0);const{result:d,error:f}=await roe();if(o(!1),!(d!=null&&d.data)){Xe({message:t(f||((p=d==null?void 0:d.error)==null?void 0:p.message)||"err_networkProblem"),type:"error"});return}i()}async function u(d,f){var y;if(!r)return;n(!1);const{result:p,error:m}=await aoe(d.id);if(!(p!=null&&p.data)){Xe({message:t(m||((y=p==null?void 0:p.error)==null?void 0:y.message)||"err_networkProblem"),type:"error"});return}const g={...d,is_seen:!0},v=[...r];v.splice(f,1,g),a(v)}const c=((r==null?void 0:r.filter(d=>!d.is_seen).length)||0)>0;return _(St,{children:[h("button",{className:"hidden md:block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-100",id:"notif-btn",type:"button",onClick:()=>n(!e),children:_("div",{className:"relative",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),h("div",{hidden:!c,className:"h-2 w-2 rounded-full bg-red-500 absolute top-0 right-0"})]})}),h(kce,{fetchNotifications:i}),h(K,{when:e,children:_(UN,{id:"notif-item",className:"absolute w-[350px] bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-800 rounded scroll-round",setter:n,children:[_("div",{className:"overflow-y-auto max-h-80 p-3 space-y-3",children:[_(K,{when:r==null,children:[h("div",{className:" rounded bg-slate-50 dark:bg-slate-700 h-[92px] animate-pulse"}),h("div",{className:" rounded bg-slate-50 dark:bg-slate-700 h-[92px] animate-pulse"}),h("div",{className:" rounded bg-slate-50 dark:bg-slate-700 h-[92px] animate-pulse"})]}),_(K,{when:r!=null,children:[h(K,{when:!(r!=null&&r.length),children:_("div",{className:"p-4 rounded bg-slate-50 dark:bg-slate-700/50",children:[h("p",{className:"font-semibold text-md dark:text-white",children:t("ntf_noNotif")}),h("p",{className:"text-gray-600 text-sm dark:text-gray-400",children:t("ntf_notifDisplay")})]})}),r==null?void 0:r.map((d,f)=>{const{title:p,is_seen:m,content:g,created_at:v}=d,{eventId:y,userId:b,eventName:w,userFullname:x}=g;let k="";x?k=`${x} - ${w}`:k=w;let S=`/assessments/${atob(y)}?report=1`;return b&&(S=`/assessments/${atob(y)}/${atob(b)}`),_(Nt,{to:S,className:"p-2 block rounded relative bg-slate-50/20 dark:bg-slate-700/10 hover:bg-slate-50/30 hover:text-blue-500 dark:hover:text-blue-400 dark:hover:bg-slate-700/40 ",onClick:()=>u(d,f),children:[h("div",{hidden:m,className:"h-2 w-2 rounded-full bg-red-500 absolute top-2 right-2"}),h("p",{className:"font-semibold text-md dark:text-white",children:t(`ntf_${p}`)}),h("p",{className:"text-gray-600 text-sm dark:text-gray-400",children:k}),h("p",{className:"text-gray-600  text-xs dark:text-gray-400",children:Qse(v,t)})]},f)})]})]}),_("div",{className:"flex justify-between items-center border-t border-gray-200 p-2 dark:border-gray-700",children:[_("button",{onClick:l,className:"py-2 px-2 text-sm text-blue-400 font-medium flex justify-center items-center disabled:text-gray-500 aria-hidden:invisible",disabled:s,"aria-hidden":!c,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"3",stroke:"currentColor",className:"w-4 h-4 mr-1",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),t("ntf_markall")]}),h(Nt,{to:"/notifications",className:"py-2 px-4 text-sm bg-blue-600 font-medium p-2 rounded text-white",onClick:()=>n(!1),children:t("ntf_viewall")})]})]})})]})},kce=({fetchNotifications:t})=>{const{t:e}=ct(),[n,r]=D.useState(null);D.useEffect(()=>{const i=o=>{const l=xce(o.data);r(l),t()},s=setTimeout(()=>wce(i),500);return()=>clearTimeout(s)},[]);let a="#notification-popup";if(n){const{eventId:i,userId:s}=n.content;a=`/assessments/${atob(i)}?report=1`,s&&(a=`/assessments/${atob(i)}/${atob(s)}?report=1`)}return _(Nt,{to:a,onClick:()=>r(null),className:Ce("fixed z-50 md:w-[400px] w-[90%] px-6 py-3 -translate-x-1/2 rounded-lg shadow-lg top-10 left-1/2 dark:shadow-none shadow-gray-200 bg-gray-50 dark:bg-slate-700 border dark:border-slate-600 text-left transition-transform",{"-translate-y-[500px]":!n}),children:[h("p",{className:"text-blue-900 dark:text-blue-400 font-medium",children:e(`ntf_${n==null?void 0:n.title}`)}),h("p",{className:"text-sm text-gray-600 dark:text-gray-200",children:e(`ntf_${n==null?void 0:n.description}`)})]})},Sce=function({renderPartial:t=!1}){const[e]=Ji(),n=Xr(),{t:r,lang:a,setLang:i}=ct(),[s,o]=D.useState(!1),[l,u]=ph(),[c,d]=D.useState(!1),[f,p]=Ov(),m=D.useMemo(()=>n.pathname.startsWith("/modules/view"),[n.pathname]);return!e||XN.includes(n.pathname)?_(St,{children:[h(K,{when:n.pathname==="/login",children:h("div",{className:"w-full bg-cover bg-no-repeat bg-center bg-[url('/images/banner-participant.png')] h-12 md:h-10 flex items-center justify-items-center",children:_("p",{className:"text-center mx-auto text-sm font-medium text-white",children:[r("nav_areYouParticipant"),h(Nt,{to:HN,className:"ml-2 font-medium underline",children:r("nav_loginHere")})]})})}),_("div",{className:"w-full bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:[_("div",{className:"min-h-[60px] xl:px-10 md:px-4 px-2 mx-auto flex justify-between items-center",children:[_(Nt,{to:"/login",className:"flex justify-between items-center shrink-0",children:[h(K,{when:!l,children:h("img",{className:"w-auto h-10",src:"/images/rec-logo.png",alt:"Algobash Recruiter"})}),h(K,{when:l,children:h("img",{className:"w-auto h-10",src:"/images/rec-logo-dark.png",alt:"Algobash Recruiter"})}),h("p",{className:"ml-2 text-2xl text-[#8E9B0A]",children:"Recruiter"})]}),_("div",{className:"flex items-center",children:[_("button",{className:"block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",onClick:()=>u(!l),type:"button",children:[h(K,{when:!l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),h(K,{when:l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})})]}),_(zi,{className:"flex items-center justify-between py-2 px-2 text-gray-600 hover:text-gray-700  dark:text-gray-200 dark:hover:text-gray-50",items:[{label:"English",value:un.EN},{label:"Indonesia",value:un.ID}],onClick:i,itemsClassName:"text-left !pl-3 text-sm font-medium",dropClassName:Ce({"!-left-[38px]":!e}),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:20,width:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),h("p",{className:"w-[20px] uppercase text-sm font-medium px-1",children:a}),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",height:18,width:18,fill:"currentColor","aria-hidden":"true",strokeWidth:1.5,className:"ml-1",children:h("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]}),h("div",{className:"absolute w-full",children:h(kl,{})})]})]}):_(St,{children:[h(K,{when:n.pathname==="/",children:h("div",{className:"w-full bg-cover bg-no-repeat bg-center bg-[url('/images/banner-recruiter.png')] h-12 md:h-10 flex items-center justify-items-center",children:_("p",{className:"text-center mx-auto text-sm font-medium text-white",children:[r("nav_oldWebsite"),h(Nt,{to:Lv.replace("team2","team"),className:"ml-2 font-medium underline",children:r("nav_goBack")})]})})}),_("div",{className:"w-full bg-white dark:bg-gray-900 sticky top-0 z-50",children:[_("div",{className:Ce("min-h-[60px] xl:px-10 md:px-4 px-2 mx-auto flex justify-between",{"lg:items-start":!m,"xl:items-start":m}),children:[_("div",{className:"flex justify-between items-center gap-4",children:[_(Nt,{to:"/",className:"flex justify-between items-center shrink-0",children:[h(K,{when:!l,children:h("img",{className:"w-auto h-10",src:"/images/rec-logo.png",alt:"Algobash Recruiter"})}),h(K,{when:l,children:h("img",{className:"w-auto h-10",src:"/images/rec-logo-dark.png",alt:"Algobash Recruiter"})}),h("p",{className:"ml-2 text-2xl text-[#8E9B0A]",children:"Recruiter"})]}),_("div",{className:Ce("hidden justify-between items-center gap-1",{"lg:flex":!m,"xl:flex":m}),children:[h($1,{path:"/",label:r("gen_home"),icon:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}),h($1,{path:"/participants",label:r("gen_participants"),icon:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})})}),h($1,{path:"/assessments",label:r("gen_assessments"),icon:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})})}),h($1,{path:"/modules",label:r("gen_modules"),icon:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"})})})]})]}),_("div",{className:"flex justify-between items-center",children:[h("div",{className:"flex justify-between items-center",children:_(K,{when:m,children:[h("button",{className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",type:"button",onClick:()=>p(f-1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})})}),h(K,{when:f===0,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:20,height:20,children:[h("path",{fill:"none",d:"M0 0h24v24H0z"}),h("path",{d:"M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z",fill:l?"#c4c4c4":"#646464"})]})}),h(K,{when:f!==0,children:h("button",{className:"py-4 px-[3px] text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>p(0),children:_("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("polyline",{points:"1 4 1 10 7 10"}),h("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})})}),h("button",{className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",type:"button",onClick:()=>p(f+1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})})})]})}),h(K,{when:m,children:h("button",{type:"button",className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})})}),_("button",{className:"hidden md:block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",onClick:()=>u(!l),type:"button",children:[h(K,{when:!l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),h(K,{when:l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})})]}),h(K,{when:!t,children:h(_ce,{})}),h(Nt,{className:"hidden md:block py-2 px-2 text-gray-600 hover:text-gray-700  dark:text-gray-200 dark:hover:text-gray-100",to:"/configurations",children:_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"20",height:"20",strokeWidth:"2",stroke:"currentColor",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),_(zi,{className:"hidden md:flex items-center justify-between py-2 px-2 text-gray-600 hover:text-gray-700  dark:text-gray-200 dark:hover:text-gray-50",items:[{label:"English",value:un.EN},{label:"Indonesia",value:un.ID}],onClick:i,itemsClassName:"text-left !pl-3 text-sm font-medium",dropClassName:Ce({"!-left-[38px]":!e}),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:20,width:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),h("p",{className:"w-[20px] uppercase text-sm font-medium px-1",children:a}),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",height:18,width:18,fill:"currentColor","aria-hidden":"true",strokeWidth:1.5,className:"ml-1",children:h("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h(zi,{className:"hidden md:block px-2 py-3",offset:{crossAxis:-10,mainAxis:10},items:[{label:h(St,{children:_("div",{className:"text-left text-sm",children:[_("p",{className:"font-semibold",children:[e.first_name," ",e.last_name||""]}),h("p",{children:e.email}),h("p",{className:"border rounded py-1 px-2 w-fit mt-1",children:r("prof_manage")})]})}),value:"profile",href:"/profile"},{label:h(St,{children:h("div",{className:"text-left",children:h("p",{className:"font-medium",children:r("prof_changeTeam")})})}),value:"change-team",onClick:lD},{label:h(St,{children:h("div",{className:"text-left text-blue-500",children:h("p",{className:"font-medium",children:r("log_logout")})})}),value:"logout",onClick:Gf}],children:h("img",{className:"object-cover w-8 h-8 rounded-full shrink-0",src:e.profile_picture||"/images/default-img.png",alt:"profile"})}),h("button",{className:Ce("py-4 px-2 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",{"lg:hidden":!m,"xl:hidden":m}),onClick:()=>d(!c),children:_("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),h(K,{when:c,children:_("div",{className:Ce("absolute top-[60px] h-[calc(100vh-60px)] left-0 w-full bg-white dark:bg-gray-900 overflow-y-auto overflow-x-hidden"),children:[h(Yc,{path:"/",label:r("gen_home"),setMenuOpen:d}),h(Yc,{path:"/participants",label:r("gen_participants"),setMenuOpen:d}),h(Yc,{path:"/assessments",label:r("gen_assessments"),setMenuOpen:d}),h(Yc,{path:"/modules",label:r("gen_modules"),setMenuOpen:d}),h("hr",{className:"border-gray-300 dark:border-gray-600"}),h(Yc,{path:"/notifications",label:r("gen_notifications"),setMenuOpen:d}),h(Yc,{path:"/configurations",label:r("gen_configuration"),setMenuOpen:d}),_("button",{className:"flex items-center py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{d(!c),u(!l)},children:[h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("nav_switchTheme")}),h("div",{className:"border rounded p-1 px-2 border-gray-500 ml-auto mr-3",children:h("p",{className:"text-sm text-gray-800 dark:text-white",children:l?"Dark":"Light"})})]}),_("button",{className:"flex items-center justify-between py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{o(!s)},children:[h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("gen_languages")}),_("div",{className:"mr-3",children:[h(K,{when:!s,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})}),h(K,{when:s,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"18 15 12 9 6 15"})})})]})]}),_(K,{when:s,children:[h("button",{className:Ce("py-1.5 w-full text-left hover:bg-slate-100 dark:hover:bg-slate-800",{"text-blue-600 dark:text-white":a===un.EN,"text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100":a!==un.EN}),onClick:()=>{d(!c),o(!s),i(un.EN)},children:h("p",{className:Ce("font-medium py-1 px-2 ml-5 border-l-[3px]",{"border-blue-600":a===un.EN,"border-transparent":a!==un.EN}),children:"English"})}),h("button",{className:Ce("py-1.5 w-full text-left hover:bg-slate-100 dark:hover:bg-slate-800",{"text-blue-600 dark:text-white":a===un.ID,"text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100":a!==un.ID}),onClick:()=>{d(!c),o(!s),i(un.ID)},children:h("p",{className:Ce("font-medium py-1 px-2 ml-5 border-l-[3px]",{"border-blue-600":a===un.ID,"border-transparent":a!==un.ID}),children:"Indonesia"})})]}),h("hr",{className:"border-gray-300 dark:border-gray-600"}),_("div",{className:"flex items-center text-gray-500 p-2 pl-3 pt-3 border-l-[3px] border-transparent",children:[h("img",{className:"object-cover w-12 h-12 rounded-full shrink-0",src:e.profile_picture||md,alt:"Profile",onError:g=>{g.preventDefault(),g.currentTarget.src=md}}),_("div",{className:"ml-3",children:[_("p",{className:"font-semibold",children:[e.first_name," ",e.last_name||""]}),h("p",{className:"text-sm",children:e.email})]})]}),h(Yc,{path:"/profile",label:r("prof_manage"),setMenuOpen:d}),h("button",{className:"block py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{d(!c),lD()},children:h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("prof_changeTeam")})}),h("button",{className:"block py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{d(!c),Gf()},children:h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("log_logout")})})]})})]})]}),h("div",{className:"absolute w-full",children:h(kl,{})})]})]})},$1=({path:t,label:e,icon:n})=>{const r=Xr();let a="border-transparent text-gray-500 dark:text-gray-200 dark:hover:text-gray-100 dark:hover:bg-slate-800 ",i="font-medium";return t==="/"?r.pathname==="/"&&(a="bg-blue-50 dark:bg-blue-500 text-blue-600 dark:hover:bg-blue-600 dark:text-white",i="font-semibold"):r.pathname.startsWith(t)&&(a="bg-blue-50 dark:bg-blue-500 text-blue-600 dark:hover:bg-blue-600 dark:text-white",i="font-semibold"),_(Nt,{to:t,className:Ce("flex justify-between items-center py-4 px-4 hover:bg-slate-50 rounded-b-lg ",a),children:[n,h("p",{className:Ce("ml-1.5",i),children:e})]})},Yc=({path:t,label:e,setMenuOpen:n})=>{const r=Xr();let a="text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",i="border-transparent";return t==="/"?r.pathname==="/"&&(a="text-blue-600 dark:text-white",i="border-blue-600"):r.pathname.startsWith(t)&&(a="text-blue-600 dark:text-white",i="border-blue-600"),h(Nt,{to:t,className:Ce("block py-1 hover:bg-slate-100 dark:hover:bg-slate-800",a),onClick:()=>n(!1),children:h("p",{className:Ce("font-medium p-2 pl-3 border-l-[3px]",i),children:e})})},Nce=({type:t})=>{const{t:e}=ct();switch(t){case"inactive":return _("div",{className:"flex flex-col justify-center md:items-center px-5 py-10 bg-amber-50 dark:bg-slate-800 rounded-md",children:[_("h1",{className:"font-medium text-gray-800 dark:text-amber-400 text-2xl",children:[" ",e("bl_feature")]}),h("p",{className:"text-gray-500 dark:text-gray-400 text-md",children:e("bl_subscribe")}),_(Nt,{to:"/subscription",className:"flex items-center gap-2 py-4 px-8 mt-2 rounded text-white text-sm font-medium transition duration-300 ease-in-out hover:-translate-y-1 w-fit mx-auto bg-lime-600",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),e("bl_buyNow")]})]});case"expired":return _("div",{className:"flex flex-col justify-center md:items-center px-5 py-10 bg-amber-50 dark:bg-slate-800 rounded-md",children:[_("h1",{className:"font-medium text-gray-800 dark:text-amber-400 text-2xl",children:[" ",e("bl_expire")]}),h("p",{className:"text-gray-500 dark:text-gray-400 text-md",children:e("bl_subscribe")}),_(Nt,{to:"/subscription",className:"flex items-center gap-2 py-4 px-8 mt-2 rounded text-white text-sm font-medium transition duration-300 ease-in-out hover:-translate-y-1 w-fit mx-auto bg-lime-600",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})}),e("bl_buyNow")]})]});default:return _("div",{className:"flex flex-col justify-center md:items-center px-5 py-10 bg-amber-50 dark:bg-slate-800 rounded-md",children:[_("h1",{className:"font-medium text-gray-800 dark:text-amber-400 text-2xl",children:[" ",e("bl_noAccess1")]}),h("p",{className:"text-gray-500 dark:text-gray-400 text-md",children:e("gen_restrictedAccess")}),h("p",{className:"text-gray-500 dark:text-gray-400 text-md",children:e("conf_restrict")})]})}},Wy="POPUP_CONFIRM",Ig="POPUP_CONFIRM_FINISH",d4="POPUP_CONFIRM_CLOSE",Ece=()=>{const{t}=ct(),[e,n]=D.useState(!1),[r,a]=D.useState(!1),[i,s]=D.useState({message:"",title:""}),o=D.useRef(null),l=D.useRef(null),u=D.useRef(null);function c(d){r||(i!=null&&i.loadOnConfirm&&(i.cancellable?d!==-1:d===1)?a(!0):n(!1),window.dispatchEvent(new CustomEvent(Ig,{detail:d})))}return D.useEffect(()=>{function d(f){n(!0),a(!1),setTimeout(()=>{var m,g,v;switch(f.detail.focusOn){case"no":(m=l.current)==null||m.focus();break;case"cancel":(g=u.current)==null||g.focus();break;default:(v=o.current)==null||v.focus();break}},100);const p={...f.detail};p.alert&&!p.yesButtonText&&(p.yesButtonText="OK"),s(p)}return window.addEventListener(Wy,d),()=>window.removeEventListener(Wy,d)},[]),D.useEffect(()=>{function d(){n(!1),a(!1)}return window.addEventListener(d4,d),()=>window.removeEventListener(d4,d)},[]),h(gu,{open:e,toggle:()=>c(i!=null&&i.cancellable?-1:0),children:_("div",{className:"relative p-5 xl:w-1/3 md:w-1/2 md:mx-0 mx-5 w-full dark:text-white bg-white rounded-lg shadow-xl dark:bg-gray-800 space-y-0.5",children:[typeof i.title=="string"?h("div",{className:Ce("text-2xl font-semibold mb-2",i.titleClass),dangerouslySetInnerHTML:{__html:i.title}}):i.title,typeof i.message=="string"?h("div",{className:i.messageClass,dangerouslySetInnerHTML:{__html:i.message}}):i.message,h("br",{}),_("div",{className:"flex justify-end gap-2",children:[h("button",{ref:o,className:"py-2 px-5 rounded text-white text-md bg-blue-600 disabled:bg-gray-400 dark:disabled:bg-gray-700 enabled:focus:ring-2 ring-blue-400",type:"button",onClick:()=>c(1),disabled:r,children:t(i.yesButtonText||"gen_yes")}),h(K,{when:!i.alert,children:h("button",{className:"py-2 px-5 rounded text-md border-2 border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 font-medium disabled:bg-gray-400 disabled:border-gray-500 dark:disabled:bg-gray-700 dark:disabled:border-gray-800 enabled:focus:ring-2 ring-blue-400",type:"button",onClick:()=>c(0),disabled:r,children:t(i.noButtonText||"gen_no")})}),h(K,{when:!!(i!=null&&i.cancellable),children:h("button",{className:"py-2 px-5 rounded text-md border-2 border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 font-medium disabled:bg-gray-400 disabled:border-gray-500 dark:disabled:bg-gray-700 dark:disabled:border-gray-800 enabled:focus:ring-2 ring-blue-400 capitalize",type:"button",onClick:()=>c(-1),disabled:r,children:t(i.cancelButtonText||"gen_cancel")})})]})]})})};function Zd(t){return new Promise(e=>{window.dispatchEvent(new CustomEvent(Wy,{detail:t}));function n(r){e(r.detail),window.removeEventListener(Ig,n)}window.addEventListener(Ig,n)})}function tu(t){return new Promise(e=>{const{message:n,title:r}=t;window.dispatchEvent(new CustomEvent(Wy,{detail:{message:n,title:r,alert:!0}}));function a(){e(),window.removeEventListener(Ig,a)}window.addEventListener(Ig,a)})}function Hf(){window.dispatchEvent(new CustomEvent(d4))}const h4="REDIRECT_NON_AUTH",yB=D.createContext([null,()=>{}]),Tce=({children:t,type:e})=>{const n=ai(),r=Xr(),{t:a}=ct(),[i,s]=D.useState(null),o=D.useMemo(()=>Z3(r.pathname)||J3(r.pathname)?!1:!i,[r.pathname,i]),l=D.useMemo(()=>Cce(r.pathname)||Z3(r.pathname)||J3(r.pathname)?"":Ice(i),[r.pathname,i]);return D.useEffect(()=>{function u(){const{pathname:c,search:d}=window.location;if(c!=="/login")if(c!=="/"){let f=c;d&&(f+=d),n(`/login?rd=${fl(f)}`),d&&setTimeout(()=>{Xe({message:"Please login to continue",type:"warning"})},50)}else n("/login")}return window.addEventListener(h4,u),()=>window.removeEventListener(h4,u)},[]),D.useEffect(()=>{if(Z3(r.pathname))return;async function u(){var g,v;if(i!==null)return;const{result:d}=await Vf();if(!(d!=null&&d.data)){J3(r.pathname),((g=d==null?void 0:d.error)==null?void 0:g.code)!==401&&Xe({type:"error",message:(d==null?void 0:d.error.message)||a("err_networkProblem")}),n(`/login${r.search}`);return}const f=d.data.role.name;let p=!1,m="";switch(e){case"app":p=f!=="student",m=Lv;break;case"team":p=f!=="teacher",m=HN;break}if(p){if(await Zd({title:a("log_wrongCred"),message:a(`log_user_${f}`)}))window.location.href=m;else{const{result:b,error:w}=await YN();if(Hf(),b!=null&&b.error){Xe({type:"error",message:a(w||((v=b==null?void 0:b.error)==null?void 0:v.message)||"err_networkProblem")});return}Wf(bc),Wf(qi),s(null),n("/login")}return}s(d.data),await Wr(qi,d.data),await Wr(bc,Date.now()+Eg)}const c=setTimeout(u,50);return()=>clearTimeout(c)},[r.pathname]),_(yB.Provider,{value:[i,s],children:[h(Hse,{}),h(toe,{}),h(K,{when:o,children:_("div",{className:"bg-white dark:bg-gray-900",children:[_("div",{className:"animate-pulse border-gray-200 dark:border-gray-800 border-y sticky top-0 z-50 min-h-[60px] flex px-4 py-2 gap-2",children:[h("div",{className:"bg-gray-200 dark:bg-gray-800/50 rounded w-[120px]"}),h("div",{className:"bg-gray-200 dark:bg-gray-800/50 rounded w-[50px] ml-auto"}),h("div",{className:"bg-gray-200 dark:bg-gray-800/50 rounded w-[50px]"})]}),_("div",{className:"animate-pulse min-h-page p-10 grid grid-cols-2 gap-5",children:[h("div",{className:"bg-gray-200 dark:bg-gray-800/50 col-span-2 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-800/50 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-800/50 rounded"})]})]})}),_(K,{when:!o,children:[_(K,{when:l!=="",children:[h(Sce,{renderPartial:!0}),h("div",{className:"min-h-page flex flex-col bg-white dark:bg-gray-800 p-5",children:h(Nce,{type:l})})]}),h(K,{when:!l,children:t})]})]})};function Z3(t){return t.includes("/result")?!0:XN.includes(t)||Gse.includes(t)}function Cce(t){return Wse.findIndex(e=>t.startsWith(e))>=0}function J3(t){return!1}function hE(){window.dispatchEvent(new Event(h4))}function Ji(){return D.useContext(yB)}function Ice(t){var n,r;if((t==null?void 0:t.role.name)==="student")return"";if(!(t!=null&&t.organizationMember))return"user_blocked";if((n=t==null?void 0:t.organization)!=null&&n.blocked_at)return"org_blocked";const e=(r=t==null?void 0:t.organization)==null?void 0:r.subscription_end;return e?Hd(new Date(e),"<",new Date)?"expired":"":"inactive"}const bB=function({disableBanner:t=!1}){const[e]=Ji(),n=Xr(),{t:r,lang:a,setLang:i}=ct(),[s,o]=D.useState(!1),[l,u]=ph(),[c,d]=D.useState(!1),[f,p]=Ov(),m=D.useMemo(()=>n.pathname.includes("/test/"),[n.pathname]);return!e||XN.includes(n.pathname)?_(St,{children:[h(K,{when:n.pathname==="/login"&&!t,children:h("div",{className:"w-full bg-cover bg-no-repeat bg-center bg-[url('/images/banner-recruiter.png')] h-12 md:h-10 flex items-center justify-items-center",children:_("p",{className:"text-center mx-auto text-sm font-medium text-white",children:[r("nav_areYouRecruiter"),h(Nt,{to:Lv,className:"ml-2 font-medium underline",children:r("nav_loginHere")})]})})}),_("div",{className:"w-full bg-white dark:bg-gray-900 sticky top-0 z-50",children:[_("div",{className:"px-4 py-1 mx-auto flex justify-between items-center",children:[_(Nt,{to:"/",className:"flex justify-between items-center shrink-0 bg-sky-200 dark:bg-sky-500 py-1 pl-1 pr-3 rounded-full",children:[_(K,{when:!l,children:[h("img",{className:"w-auto h-10",src:"/images/rec-logo.png",alt:"Algobash Recruiter"}),h("p",{className:"mx-2 text-2xl text-sky-600",children:"Talents"})]}),_(K,{when:l,children:[h("img",{className:"w-auto h-10",src:"/images/rec-logo-dark.png",alt:"Algobash Recruiter"}),h("p",{className:"mx-2 text-2xl text-white",children:"Talents"})]})]}),_("div",{className:"flex items-center",children:[h(Nt,{className:"block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",to:"https://faq.algobash.com/docs-category/app/",target:"_blank",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})}),_("button",{className:"block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",onClick:()=>u(!l),type:"button",children:[h(K,{when:!l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),h(K,{when:l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})})]}),_(zi,{className:"flex items-center justify-between py-2 px-2 text-gray-600 hover:text-gray-700  dark:text-gray-200 dark:hover:text-gray-50",items:[{label:"English",value:un.EN},{label:"Indonesia",value:un.ID}],onClick:i,itemsClassName:"text-left !pl-3 text-sm font-medium",dropClassName:Ce({"!-left-[38px]":!e}),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:20,width:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),h("p",{className:"w-[20px] uppercase text-sm font-medium px-1",children:a}),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",height:18,width:18,fill:"currentColor","aria-hidden":"true",strokeWidth:1.5,className:"ml-1",children:h("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})]}),h("div",{className:"absolute w-full",children:h(kl,{})})]})]}):_(St,{children:[h(K,{when:n.pathname==="/",children:h("div",{className:"w-full bg-cover bg-no-repeat bg-center bg-[url('/images/banner-recruiter.png')] h-12 md:h-10 flex items-center justify-items-center",children:_("p",{className:"text-center mx-auto text-sm font-medium text-white",children:[r("nav_oldWebsite"),h(Nt,{to:HN.replace("app2","app"),className:"ml-2 font-medium underline",children:r("nav_goBack")})]})})}),_("div",{className:"w-full bg-white dark:bg-gray-900 dark:border-gray-800",children:[_("div",{className:"px-2 pb-1 mx-auto flex justify-between items-center",children:[_("div",{className:"flex justify-between items-center gap-4",children:[_(Nt,{to:"/",className:"flex justify-between items-center shrink-0 bg-sky-200 dark:bg-sky-500 py-1 pl-1 pr-3 rounded-full",children:[_(K,{when:!l,children:[h("img",{className:"w-auto h-10",src:"/images/rec-logo.png",alt:"Algobash Recruiter"}),h("p",{className:"mx-2 text-2xl text-sky-600",children:"Talents"})]}),_(K,{when:l,children:[h("img",{className:"w-auto h-10",src:"/images/rec-logo-dark.png",alt:"Algobash Recruiter"}),h("p",{className:"mx-2 text-2xl text-white",children:"Talents"})]})]}),_("div",{className:"hidden lg:flex justify-between items-center gap-2",children:[h(RD,{path:"/",label:r("gen_assessments")}),h(RD,{path:"/course",label:r("gen_courses")})]})]}),_("div",{className:"flex justify-between items-center",children:[h("div",{className:"flex justify-between items-center",children:_(K,{when:m,children:[h("button",{className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-500",type:"button",onClick:()=>p(f-1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 12H6"})})}),h(K,{when:f===0,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:20,height:20,children:[h("path",{fill:"none",d:"M0 0h24v24H0z"}),h("path",{d:"M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z",fill:l?"#c4c4c4":"#646464"})]})}),h(K,{when:f!==0,children:h("button",{className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-500",onClick:()=>p(0),children:_("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("polyline",{points:"1 4 1 10 7 10"}),h("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]})})}),h("button",{className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-500",type:"button",onClick:()=>p(f+1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m6-6H6"})})})]})}),h(K,{when:m,children:h("button",{type:"button",className:"py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})})})}),h(Nt,{className:"hidden md:block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",to:"https://faq.algobash.com/docs-category/app/",target:"_blank",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})}),_("button",{className:"hidden md:block py-2 px-2 text-gray-600 hover:text-gray-700 dark:text-gray-200 dark:hover:text-gray-50",onClick:()=>u(!l),type:"button",children:[h(K,{when:!l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),h(K,{when:l,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:20,height:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})})})]}),_(zi,{className:"hidden md:flex items-center justify-between py-2 px-2 text-gray-600 hover:text-gray-700  dark:text-gray-200 dark:hover:text-gray-50",items:[{label:"English",value:un.EN},{label:"Indonesia",value:un.ID}],onClick:i,itemsClassName:"text-left !pl-3 text-sm font-medium",dropClassName:Ce({"!-left-[38px]":!e}),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",height:20,width:20,strokeWidth:"2",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),h("p",{className:"w-[20px] uppercase text-sm font-medium px-1",children:a}),h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",height:18,width:18,fill:"currentColor","aria-hidden":"true",strokeWidth:1.5,className:"ml-1",children:h("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),h(zi,{className:"hidden md:block px-2 py-3",offset:{crossAxis:-10,mainAxis:10},items:[{label:h(St,{children:_("div",{className:"text-left",children:[_("p",{className:"font-semibold",children:[e.first_name," ",e.last_name||""]}),h("p",{className:"text-sm",children:e.email}),h("p",{className:"border rounded py-1 px-3 w-fit mt-1 text-sm font-medium",children:r("prof_manage")})]})}),value:"profile",href:"/profile"},{label:h(St,{children:h("div",{className:"text-left text-blue-500",children:h("p",{className:"font-medium",children:r("log_logout")})})}),value:"logout",onClick:Gf}],children:h("img",{className:"object-cover w-8 h-8 rounded-full shrink-0",src:e.profile_picture||md,alt:"Profile",onError:g=>{g.preventDefault(),g.currentTarget.src=md}})}),h("button",{className:"lg:hidden py-4 px-2 text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>d(!c),children:_("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),h(K,{when:c,children:_("div",{className:Ce("absolute top-[58px] h-[calc(100vh-92px)] left-0 w-full bg-white dark:bg-gray-900 overflow-y-auto overflow-x-hidden z-10 shadow-xl "),children:[h(ex,{label:r("gen_assessments"),path:"/",setMenuOpen:d}),h(ex,{label:r("gen_courses"),path:"/course",setMenuOpen:d}),h("hr",{className:"border-gray-300 dark:border-gray-600"}),h(Nt,{className:"block py-1 hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",to:"https://faq.algobash.com/docs-category/app/",target:"_blank",children:h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("home_readFAQ")})}),_("button",{className:"flex items-center py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{d(!c),u(!l)},children:[h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("nav_switchTheme")}),h("div",{className:"border rounded p-1 px-2 border-gray-500 ml-auto mr-3",children:h("p",{className:"text-sm text-gray-800 dark:text-white",children:l?"Dark":"Light"})})]}),_("button",{className:"flex items-center justify-between py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>o(!s),children:[h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("gen_languages")}),_("div",{className:"mr-3",children:[h(K,{when:!s,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})}),h(K,{when:s,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"18 15 12 9 6 15"})})})]})]}),_(K,{when:s,children:[h("button",{className:Ce("py-1.5 w-full text-left hover:bg-slate-100 dark:hover:bg-slate-800",{"text-blue-600 dark:text-white":a===un.EN,"text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100":a!==un.EN}),onClick:()=>{d(!c),o(!s),i(un.EN)},children:h("p",{className:Ce("font-medium py-1 px-2 ml-5 border-l-[3px]",{"border-blue-600":a===un.EN,"border-transparent":a!==un.EN}),children:"English"})}),h("button",{className:Ce("py-1.5 w-full text-left hover:bg-slate-100 dark:hover:bg-slate-800",{"text-blue-600 dark:text-white":a===un.ID,"text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100":a!==un.ID}),onClick:()=>{d(!c),o(!s),i(un.ID)},children:h("p",{className:Ce("font-medium py-1 px-2 ml-5 border-l-[3px]",{"border-blue-600":a===un.ID,"border-transparent":a!==un.ID}),children:"Indonesia"})})]}),h("hr",{className:"border-gray-300 dark:border-gray-600"}),_("div",{className:"flex items-center text-gray-500 p-2 pl-3 pt-3 border-l-[3px] border-transparent",children:[h("img",{className:"object-cover w-12 h-12 rounded-full shrink-0",src:e.profile_picture||md,alt:"Profile",onError:g=>{g.preventDefault(),g.currentTarget.src=md}}),_("div",{className:"ml-3",children:[_("p",{className:"font-semibold",children:[e.first_name," ",e.last_name||""]}),h("p",{className:"text-sm",children:e.email})]})]}),h(ex,{label:r("prof_manage"),path:"/profile",setMenuOpen:d}),h("button",{className:"block py-1 text-left hover:bg-slate-100 dark:hover:bg-slate-800 w-full text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",onClick:()=>{d(!c),Gf()},children:h("p",{className:"font-medium p-2 pl-3 border-l-[3px] border-transparent",children:r("log_logout")})})]})})]})]}),h("div",{className:"absolute w-full z-10",children:h(kl,{})})]})]})},RD=({path:t,label:e})=>{const n=Xr();let r="border-transparent text-gray-600 dark:text-gray-200 dark:hover:text-gray-100 dark:hover:bg-slate-800 ",a="font-medium";return t==="/"?n.pathname==="/"&&(r="bg-sky-500 hover:bg-sky-600 dark:bg-sky-600 text-white dark:hover:bg-sky-700 dark:text-white ",a="font-semibold"):n.pathname.startsWith(t)&&(r="bg-sky-500 hover:bg-sky-600 dark:bg-sky-600 text-white dark:hover:bg-sky-700 dark:text-white ",a="font-semibold"),h(Nt,{to:t,className:Ce("flex justify-between items-center py-4 px-4 hover:bg-gray-50 rounded-b-lg ",r),children:h("p",{className:Ce("ml-1",a),children:e})})},ex=({path:t,label:e,setMenuOpen:n})=>{const r=Xr();let a="text-gray-500 dark:text-gray-500 hover:text-blue-600 dark:hover:text-gray-100",i="border-transparent";return t==="/"?(r.pathname==="/"||r.pathname.startsWith("assessments"))&&(a="text-blue-600 dark:text-white",i="border-blue-600"):r.pathname.startsWith(t)&&(a="text-blue-600 dark:text-white",i="border-blue-600"),h(Nt,{to:t,className:Ce("block py-1 hover:bg-slate-100 dark:hover:bg-slate-800",a),onClick:()=>n(!1),children:h("p",{className:Ce("font-medium p-2 pl-3 border-l-[3px]",i),children:e})})},Ace=function(){const{t:e}=ct(),[,n]=Ji(),r=ai();return D.useEffect(()=>{async function a(){var o;const{result:i,error:s}=await YN();if(i!=null&&i.error){Xe({type:"error",message:e(s||((o=i==null?void 0:i.error)==null?void 0:o.message)||"err_networkProblem")});return}Wf(bc),Wf(qi),n(null),r("/login")}a()},[]),h(St,{})},Dce="modulepreload",Rce=function(t){return"/"+t},$D={},Pr=function(e,n,r){if(!n||n.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Rce(i),i in $D)return;$D[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let c=a.length-1;c>=0;c--){const d=a[c];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Dce,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())},Cd=function({getter:t,setter:e,error:n,inputHeight:r="h-20",containerClass:a,innerRef:i}){const s=i||D.useRef(null),o=D.useRef(null),l=D.useRef(null),u=D.useRef(null),c=D.useRef(null),d=D.useRef(null),{t:f}=ct();D.useEffect(()=>{var k;(k=s.current)==null||k.focus()},[]);const p=function(k){var I,C;(I=s.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[0]=E,e(S),k.target.value&&((C=o.current)==null||C.focus())},m=function(k){var I,C;(I=o.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[1]=E,e(S),k.currentTarget.value&&((C=l.current)==null||C.focus())},g=function(k){var I,C;(I=l.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[2]=E,e(S),k.currentTarget.value&&((C=u.current)==null||C.focus())},v=function(k){var I,C;(I=u.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[3]=E,e(S),k.currentTarget.value&&((C=c.current)==null||C.focus())},y=function(k){var I,C;(I=c.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[4]=E,e(S),k.currentTarget.value&&((C=d.current)==null||C.focus())},b=function(k){var I;(I=d.current)==null||I.select();const S=[...t],E=k.nativeEvent.data||"";S[5]=E,e(S)},w=function(k){k.preventDefault();const S=k.clipboardData.getData("text");if(S.length===6&&Yse(S)!==0){const E=S.split(""),I=[...t];I[0]=E[0],I[1]=E[1],I[2]=E[2],I[3]=E[3],I[4]=E[4],I[5]=E[5],e(I)}},x=Ce("w-full h-full flex flex-col items-center justify-center text-center outline-none rounded border border-1 text-2xl font-medium bg-white focus:bg-gray-50 focus:ring-1 ring-blue-700",{"border-gray-400":!n,"border-red-500 border-2 focus:border-gray-400":n});return _(St,{children:[_("div",{className:Ce("flex flex-row items-center justify-between mx-auto w-full",a),children:[h("div",{className:Ce("mr-2",r),children:h("input",{className:x,type:"text",value:t[0],ref:s,onKeyDown:k=>{var E;if(k.key.toLowerCase()==="arrowright"){(E=o.current)==null||E.focus();return}},onPaste:w,onChange:p})}),h("div",{className:Ce("mr-2",r),children:h("input",{className:x,type:"text",value:t[1],ref:o,onKeyDown:k=>{var E,I,C;const S=k.key.toLowerCase();if(S==="arrowleft"){(E=s.current)==null||E.focus();return}if(S==="arrowright"){(I=l.current)==null||I.focus();return}if(S==="backspace"||S==="delete"){k.preventDefault();const R=[...t];R[1]="",e(R),(C=s.current)==null||C.focus();return}},onPaste:w,onChange:m})}),h("div",{className:Ce("mr-2",r),children:h("input",{className:x,type:"text",value:t[2],ref:l,onPaste:w,onKeyDown:k=>{var E,I,C;const S=k.key.toLowerCase();if(S==="arrowleft"){(E=o.current)==null||E.focus();return}if(S==="arrowright"){(I=u.current)==null||I.focus();return}if(S==="backspace"||S==="delete"){k.preventDefault();const R=[...t];R[2]="",e(R),(C=o.current)==null||C.focus();return}},onChange:g})}),h("div",{className:Ce("mr-2",r),children:h("input",{className:x,type:"text",value:t[3],ref:u,onKeyDown:k=>{var E,I,C;const S=k.key.toLowerCase();if(S==="arrowleft"){(E=l.current)==null||E.focus();return}if(S==="arrowright"){(I=c.current)==null||I.focus();return}if(S==="backspace"||S==="delete"){k.preventDefault();const R=[...t];R[3]="",e(R),(C=l.current)==null||C.focus();return}},onPaste:w,onChange:v})}),h("div",{className:Ce("mr-2",r),children:h("input",{className:x,type:"text",value:t[4],ref:c,onKeyDown:k=>{var E,I,C;const S=k.key.toLowerCase();if(S==="arrowleft"){(E=u.current)==null||E.focus();return}if(S==="arrowright"){(I=d.current)==null||I.focus();return}if(S==="backspace"||S==="delete"){k.preventDefault();const R=[...t];R[4]="",e(R),(C=u.current)==null||C.focus();return}},onChange:y,onPaste:w})}),h("div",{className:Ce(r),children:h("input",{className:x,type:"text",value:t[5],ref:d,onKeyDown:k=>{var E,I;const S=k.key.toLowerCase();if(S==="arrowleft"){(E=c.current)==null||E.focus();return}if(S==="backspace"||S==="delete"){k.preventDefault();const C=[...t];C[5]="",e(C),(I=c.current)==null||I.focus();return}},onPaste:w,onChange:b})})]}),_("p",{className:Ce("text-sm text-red-500 flex items-center mt-1",{hidden:!n}),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 mr-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),f(n||"asasd")]})]})};function Do(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function $ce(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.includes(r)||e.push(r)}return e}const Za=function({className:t}){return h("div",{role:"status",children:_("svg",{"aria-hidden":"true",className:Ce("w-8 h-8 mr-2 animate-spin text-gray-200 fill-blue-600",t),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),h("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})},Oce=function({list:t,placeholder:e,setter:n,getter:r,placeholderIcon:a,loading:i,className:s,iconClassName:o,dropClassName:l,itemsClassName:u}){const{t:c}=ct(),[d,f]=D.useState(!1),[p,m]=D.useState(!1),[g,v]=D.useState(0),y=D.useRef(null),b=D.useRef(null),w={};t.forEach(R=>{w[R.key]=R.value});const x=r.key,k=r.value,S=t.filter(({value:R})=>{if(!p)return!0;const z=r.value?r.value.split("").join(".*"):"";return new RegExp(`.*${z}.*`,"i").test(R)});function E(){if(f(!1),w[x]&&k!==w[x]){n({...r,value:w[x]});return}if(x===""){n({...r,value:""});return}}D.useEffect(()=>{const R=function(z){const H=y==null?void 0:y.current;H&&z.target instanceof Node&&!H.contains(z.target)&&E()};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[y,x,k]);const I="block rounded text-sm text-gray-700 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-100 bg-white dark:bg-slate-900 border border-1 border-gray-300 dark:border-gray-600",C=Ce("absolute top-1/2 -translate-y-1/2 right-0 whitespace-nowrap right-0.5 top-0.5 p-2 bg-transparent dark:text-white",o);return _("div",{ref:y,className:"relative",children:[_("div",{className:"relative",children:[h("input",{autoComplete:"new-password",ref:b,className:Ce(s,I,"w-full min-h-[40px] p-2 pl-3 pr-4 focus:ring dark:focus:ring-1 focus:outline-none focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 text-ellipsis",{"cursor-pointer":!d}),type:"text",placeholder:e,onFocus:()=>{m(!1),f(!0)},onChange:R=>{p||m(!0),n({...r,value:R.target.value})},value:r.value,onKeyUpCapture:R=>{switch(R.key.toLowerCase()){case"arrowup":{const z=g>0?g-1:S.length-1;v(z);break}case"arrowdown":{const z=g<S.length-1?g+1:0;v(z);break}case"enter":{S.length>=g&&(n({...S[g]}),v(0),f(!1),b.current&&b.current.blur(),m(!1));break}case"escape":{E(),b.current&&b.current.blur();break}case"arrowleft":case"arrowright":break;default:{g>S.length-1&&v(0);break}}}}),h(K,{when:x!=="",children:h("button",{type:"button",tabIndex:-1,className:C,onClick:()=>{m(!1),n({key:"",value:""}),d&&b.current&&b.current.focus()},children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})}),h(K,{when:!x&&i===!0,children:h("div",{className:C,children:h(Za,{className:"w-[17px] h-[17px] !mr-0 text-gray-400 fill-white"})})}),h(K,{when:!!a&&!x&&!i,children:h("button",{type:"button",tabIndex:-1,className:C,onClick:()=>{m(!1),b.current&&b.current.focus()},children:a})})]}),h(K,{when:d,children:_("div",{className:Ce(I,l,"w-full mt-2 absolute z-10 overflow-y-auto max-h-60"),children:[S.map((R,z)=>h("button",{type:"button","aria-selected":z===g,className:Ce("w-full p-2 text-left dark:text-white aria-selected:bg-slate-300 dark:aria-selected:bg-slate-700",u),onClick:H=>{H.preventDefault(),m(!1),n(R),f(!1),v(0)},onMouseOver:()=>v(z),children:R.value},`key-${R.key}`)),h(K,{when:!S.length,children:h("div",{className:Ce("w-full p-2 dark:text-white aria-selected:bg-slate-300 dark:aria-selected:bg-slate-700",u),children:c(i?"gen_loadOpt":"gen_itemNotFound")})})]})})]})},Es=function({children:t,authenticated:e,title:n}){return ct(),ai(),Ji(),D.useEffect(()=>{document.title=n},[n]),D.useEffect(()=>{},[e]),h(St,{children:t})},Lce=D.lazy(()=>Pr(()=>import("./Monaco-b9e7a9f6.js").then(t=>t.M),["assets/Monaco-b9e7a9f6.js","assets/Monaco-ac9b8205.css"])),Fce=D.lazy(()=>Pr(()=>import("./RichText-47dea8ff.js"),[])),Pce=function(){const[t,e]=ph(),[n,r]=g0(),[a,i]=D.useState(Do(6,"")),[s,o]=D.useState(""),[l,u]=D.useState(""),[c,d]=D.useState({key:"",value:""}),f=[{key:"IDR",value:"Rupiah"},{key:"SGD",value:"Singaporean Dollar"},{key:"MYR",value:"Malaysian Ringgit"},{key:"AUD",value:"Australian Dollar"},{key:"USD",value:"US Dollar"}],p=b=>{b.preventDefault(),e(!t)},m=b=>{b.preventDefault(),r({...n,type:"success",message:"Hello this is a flash message",url:""})},g=b=>{b.preventDefault(),r({...n,type:"info",message:"Hello this is a flash message with clickable URL",url:"https://google.com"})},[v,y]=D.useState(!1);return h(Es,{title:"Guide",children:h("div",{className:"bg-white dark:bg-slate-900 w-full min-h-page",children:_("div",{className:"container px-4 sm:px-8 mx-auto pt-4 md:pt-20 pb-4 relative z-1",children:[h("button",{className:"p-1 md:p-2",onClick:m,type:"button",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 dark:text-white",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})})}),h("button",{className:"p-1 md:p-2",onClick:g,type:"button",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 dark:text-white",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z"})})}),h("button",{className:"p-1 md:p-2",onClick:p,type:"button",children:t?h("svg",{className:"w-6 h-6 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"})}):h("svg",{className:"w-6 h-6 dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"})})}),h(kl,{}),_("div",{className:"my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("p",{className:"mb-2 font-semibold dark:text-white uppercase",children:"Headings"}),h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:"Heading 1, can only be used once each page"}),h("h2",{className:"text-xl mb-2 font-semibold dark:text-white",children:"Heading 2"}),h("h2",{className:"text-lg mb-2 font-semibold dark:text-white",children:"Heading 3"}),h("p",{className:"dark:text-white",children:"Body Text"}),h("a",{href:"#",className:"text-blue-500 underline",children:"Link"})]}),_("div",{className:"my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("p",{className:"mb-2 font-semibold dark:text-white uppercase mt",children:"Form"}),_("div",{className:"grid grid-cols-1 gap-4 mt-4 sm:grid-cols-3",children:[_("div",{children:[_("label",{className:"text-gray-700 dark:text-gray-100 font-semibold",children:["Standard Form ",h("span",{className:"text-red-500",children:"*"})]}),h("input",{className:"block w-full px-4 py-4 mt-1 text-gray-700 bg-white border border-1 border-gray-300 rounded-md focus:outline-none focus:ring dark:bg-slate-800 dark:text-gray-100 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300",type:"text",placeholder:"Jane/John"})]}),_("div",{children:[h("label",{className:"text-gray-700 dark:text-gray-100 font-semibold",children:"Focus Form"}),h("input",{className:"block w-full px-4 py-4 mt-1 text-gray-700 bg-white rounded-md outline-none ring dark:bg-slate-800 dark:text-gray-100 border-blue-400 ring-blue-300 ring-opacity-40 dark:border-blue-300",type:"text",placeholder:"Doe"})]}),_("div",{children:[h("label",{className:"text-gray-700 dark:text-gray-100 font-semibold",children:"Error Form"}),h("input",{className:"block w-full px-4 py-4 mt-1 text-gray-700 bg-white rounded-md border dark:bg-slate-800 dark:text-gray-100 border-red-500",type:"text",placeholder:"Doe"}),h("p",{className:"text-sm text-red-500 mt-2",children:"Lipsum dolor sit amet this is just an example test"})]}),_("div",{className:"mt-4",children:[_("div",{className:"relative",children:[_("label",{className:"text-gray-700 dark:text-gray-100 font-semibold","aria-required":!0,children:["Error Password  ",h("span",{className:"text-red-500",children:"*"})]}),h("input",{className:"block w-full px-4 py-4 mt-1 text-gray-700 bg-white rounded-md border dark:bg-slate-800 dark:text-gray-100 border-red-500",type:v?"text":"password",placeholder:"Password"}),h("div",{className:"absolute p-2 top-8 right-0",children:h("button",{className:"absolute whitespace-nowrap right-0.5 top-0.5 py-3 px-4 bg-transparent dark:text-white",type:"button",tabIndex:-1,onClick:()=>y(!v),children:v?h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})})]}),_("div",{className:"mt-2",children:[_("p",{className:"text-sm text-red-500 flex items-center",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 mr-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Lipsum dolor sit amet this is just an example test"]}),_("p",{className:"text-sm text-red-500 flex items-center",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 mr-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),"Lipsum dolor sit amet this is just an example test"]})]})]})]})]}),_("section",{className:"w-full mx-auto px-0 relative my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:"Email Verification"}),h("p",{className:"text-gray-500 dark:text-gray-100 text-md",children:"We have sent a code to your email ba**@dipainhouse.com"}),h("div",{children:h("form",{action:"",method:"post",children:_("div",{className:"flex flex-col mt-2",children:[h(Cd,{setter:i,getter:a}),_("div",{className:"flex flex-col space-y-2",children:[h("div",{children:h("button",{className:"mt-4 rounded outline-none py-5 px-20 bg-blue-700 border-none text-white font-medium shadow-sm",children:"Verify Account"})}),_("div",{className:"flex flex-row items-center font-medium space-x-1 text-gray-500",children:[h("p",{children:"Didn't recieve code?"})," ",h("a",{className:"text-blue-600",href:"http://",target:"_blank",rel:"noopener noreferrer",children:"Resend"})]})]})]})})})]}),_("section",{className:"w-full mx-auto px-0 relative my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:"Input Select"}),_("p",{className:"text-gray-500 dark:text-gray-100 text-md",children:["CodeValue: ",s]}),h(Oce,{list:f,getter:c,setter:d})]}),_("section",{className:"w-full mx-auto px-0 relative my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:"Monaco"}),_("p",{className:"text-gray-500 dark:text-gray-100 text-md",children:["CodeValue: ",s]}),h("input",{className:"block w-full px-4 py-4 mt-1 mb-5 text-gray-700 bg-white border border-1 border-gray-300 rounded-md focus:outline-none focus:ring dark:bg-slate-800 dark:text-gray-100 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300",type:"text",placeholder:"Write typescript code",onChange:b=>o(b.target.value),value:s}),h(D.Suspense,{fallback:h(OD,{title:"Loading Monaco"}),children:h(Lce,{setter:o,getter:s,language:"typescript"})})]}),_("section",{className:"w-full mx-auto px-0 relative my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:"TinyMCE"}),_("p",{className:"text-gray-500 dark:text-gray-100 text-md",children:["HTML: ",l]}),h("input",{className:"block w-full px-4 py-4 mt-1 text-gray-700 bg-white border border-1 border-gray-300 rounded-md focus:outline-none focus:ring dark:bg-slate-800 dark:text-gray-100 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300",type:"text",placeholder:"Write HTML code",onChange:b=>u(b.target.value),value:l}),h(D.Suspense,{fallback:h(OD,{title:"Loading TinyMCE"}),children:h(Fce,{setter:u,getter:l})})]}),h("div",{className:"my-5 py-5 dark:border-gray-800 border-t-2 border-gray-200",children:_(Nt,{to:"#",className:"flex items-center justify-center px-6 py-5 h-16 mt-4 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[_("svg",{className:"w-6 h-6 mx-2",viewBox:"0 0 40 40",children:[h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),h("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),h("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]}),h("span",{className:"mx-2 font-medium",children:"Sign in with Google"})]})})]})})})},OD=t=>h("div",{className:"h-[400px] w-auto flex items-center justify-center dark:text-white",children:t.title}),tx=3,Mce=function(t){let{totalPages:e=0,currentPage:n=1,onClick:r=()=>null,className:a,hideNext:i=!1,hidePrev:s=!1,hideStart:o=!1,hideEnd:l=!1}=t;e===0&&(e=1);const u=[];let c=n-tx<=0?1:n-tx+1;n===e&&(c-=2),n===e-1&&(c-=1),c<1&&(c=1);for(let p=c;p<n;p++)u.push(h(Kc,{active:!1,disabled:!1,onClick:()=>r(p),numbers:!0,children:p},`before-${p}`));const d=[];let f=(e>=5?5:e)-n-2;f<0&&(f=0);for(let p=n+1;p<=e&&p<n+tx+f;p++)d.push(h(Kc,{active:!1,disabled:p>e,onClick:()=>r(p),numbers:!0,children:p},`after-${p}`));return _("div",{className:Ce("flex items-center gap-x-2 mt-4 mb-4",a),children:[h(K,{when:!o,children:h(Kc,{active:!1,disabled:n-1<=1,onClick:()=>r(1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})})}),h(K,{when:!s,children:h(Kc,{active:!1,disabled:n<=1,onClick:()=>r(n-1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})})}),u,h(Kc,{active:!0,disabled:!0,numbers:!0,onClick:()=>null,children:n}),d,h(K,{when:!i,children:h(Kc,{active:!1,disabled:n>=e,onClick:()=>r(n+1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})}),h(K,{when:!l,children:h(Kc,{active:!1,disabled:n+1>=e,onClick:()=>r(e),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})})]})},Kc=({active:t,disabled:e,children:n,numbers:r,onClick:a})=>{let i="text-gray-600 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-blue-50 dark:hover:bg-gray-700 dark:hover:text-white font-medium";return e&&(i="text-sm text-gray-600 dark:text-gray-400 dark:bg-gray-900 border-transparent"),t&&(i="text-sm text-blue-700 bg-blue-50 dark:bg-white hover:bg-blue-50 dark:hover:bg-slate-100 font-bold"),h("button",{className:Ce("h-8 w-8 flex justify-center items-center rounded-md border border-transparent",i,{"md:flex hidden text-sm":r&&!t}),type:"button",disabled:e,onClick:a,children:n})},Gy=({endTime:t,className:e,callback:n})=>{const{lang:r}=ct(),[a,i]=D.useState(new Date().toISOString()),s=D.useRef(!0);D.useEffect(()=>{if(Hd(new Date,">",new Date(t))){s.current&&(s.current=!1,n&&n());return}const l=setInterval(()=>i(new Date().toISOString()),1e3);return()=>clearInterval(l)},[t]);const o=Zk(a,t,r,!0);return o==="00:00:00"?null:h("div",{className:Ce("animate-pulse py-2 rounded bg-red-600 text-sm font-medium text-white ml-auto w-[85px] text-center",e),children:o})};function fE(t,e,n,r,a){const i=OF(),[s,o]=a||i,l=D.useMemo(()=>{const c=s.get(t);return n&&c?n(c)??e:c??e},[s,t,n,e]);function u(c){if(r){const d=r(c);d?s.set(t,d):s.delete(t)}else c?s.set(t,c):s.delete(t);o(s,{replace:!0})}return[l,u]}function mh(t,e,n){return fE(t,e,void 0,void 0,n)}function LD(t,e="",n){function r(i){const s=e.toString();return Um(i,s)}function a(i){return fl(i)}return fE(t,e,r,a,n)}function lo(t,e=0,n=!1,r){function a(s){return parseInt(s,10)}function i(s){return n&&!s?"":s.toString()}return fE(t,e,a,i,r)}const qs=function({getter:t,setter:e,type:n,placeholder:r,title:a,required:i,error:s,errorArgs:o,className:l,labelClassName:u,disabled:c,innerRef:d,autoComplete:f}){const{t:p}=ct();return _(St,{children:[_("label",{className:Ce("text-gray-700 dark:text-gray-300 font-medium",u),"aria-required":i,hidden:!a,children:[a," ",h("span",{hidden:!i,className:"text-red-500",children:"*"})]}),h("input",{className:Ce("block w-full px-4 py-4 mt-1 text-gray-700 bg-white border border-1 rounded-md outline-none focus:ring dark:bg-transparent dark:text-white focus:ring-blue-300 focus:ring-opacity-40","border-gray-300 dark:border-gray-600 focus:border-blue-400 dark:focus:border-blue-300 aria-disabled:border-red-400 dark:aria-disabled:border-red-500 dark:placeholder:text-gray-500","disabled:bg-gray-200 dark:disabled:bg-slate-800 disabled:cursor-not-allowed",l),ref:d,value:t,onChange:m=>e(m.target.value),type:n,placeholder:r,required:i,"aria-disabled":!!s,disabled:c,autoComplete:f}),h("p",{className:"text-sm text-red-500 mt-2",hidden:!s,dangerouslySetInnerHTML:{__html:p(s||"",o)}})]})};function Pi(t){const[e,n]=D.useState(!1),r=D.useCallback(()=>{n(!1)},[]);return D.useEffect(()=>{!e&&t&&n(!0)},[t]),[e,r]}async function Bce(t){return Tt("GET",`${kt}/s/examevents/${t}`)}async function zce(t){return Tt("POST",`${kt}/s/examevents/${t}/join`)}async function pE(t){return Tt("POST",`${kt}/s/events/join`,{invitation_code:t})}async function vB(t){return Tt("POST",`${kt}/s/events/joinByPersonalCode`,{invitation_code:t})}async function Uce(t){return Tt("GET",`${kt}/s/events/${t}`)}const jce=({urlParams:t})=>{const{t:e}=ct(),[n,r]=y0(),a=ai(),[i,s]=t,[o,l]=D.useState(!1),u=()=>l(!o),[c,d]=D.useState(!1);async function f(k){var C;k==null||k.preventDefault(),v(""),b(),d(!0);const S=p.toUpperCase(),{result:E,error:I}=S.includes("A-")?await vB(S):await pE(S);if(localStorage.removeItem("invitation_code"),i.delete("invitation_code"),s(i),!(E!=null&&E.data)){(E==null?void 0:E.error.code)===400?v("err_invitation_code"):r({message:e(I||((C=E==null?void 0:E.error)==null?void 0:C.message)||"err_networkProblem"),type:"error",url:""}),d(!1);return}a(`/assessments/${E.data.event_id}`)}const[p,m]=D.useState(""),[g,v]=D.useState(""),[y,b]=Pi(p),w=D.useRef(null);D.useEffect(()=>{var k;o?(k=w.current)==null||k.focus():(v(""),m(""),b())},[o]),D.useEffect(()=>{let k;const S=localStorage.getItem("invitation_code"),E=new URLSearchParams(location.search).get("invitation_code");return(S||E)&&(l(!0),m(S||E||""),k=setTimeout(f,100)),()=>{k&&clearTimeout(k)}},[p]);let x=g;return y&&(x=""),_(St,{children:[_("button",{onClick:u,className:"h-10 px-2 bg-blue-100 text-blue-600 dark:bg-blue-500 dark:text-white rounded flex justify-center items-center gap-x-2 grow-0",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),h("span",{className:"hidden md:block pr-2 font-medium",children:e("asm_new")})]}),h(gu,{open:o,toggle:u,children:_("div",{className:"relative lg:p-10 p-6 lg:px-10 text-left bg-white rounded-lg shadow-xl dark:bg-gray-800 dark:text-white w-full lg:w-1/3 lg:min-w-[700px] mx-3",children:[h(kl,{state:[n,r],className:"absolute z-10 top-0 left-0 w-full rounded-t-lg"}),h("h2",{className:"text-center text-2xl font-medium dark:text-white leading-none mb-2",children:e("asm_join")}),h("p",{className:"text-center text-lg text-gray-500 dark:text-gray-400",children:e("asm_eventPin")}),_("form",{onSubmit:f,className:"mt-5",children:[h(qs,{type:"text",className:"uppercase text-center text-4xl placeholder:text-gray-300 dark:placeholder:text-gray-500 tracking-widest border-b-2 border-x-0 border-t-0 rounded-none",getter:p,setter:m,error:x,placeholder:"EXGD7L",innerRef:w}),h("br",{}),h("button",{type:"submit",className:"w-full bg-blue-500 py-4 rounded text-white text-md font-medium disabled:bg-gray-500 ",disabled:c||!p,children:"Submit"})]})]})})]})},$2=({open:t,iconClassName:e="w-5 h-5",...n})=>_("div",{...n,children:[h(K,{when:!t,children:h("svg",{viewBox:"0 0 24 24",className:e,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})}),h(K,{when:t,children:h("svg",{viewBox:"0 0 24 24",className:e,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"18 15 12 9 6 15"})})})]}),mE=({type:t,className:e})=>{const{t:n}=ct();switch(t){case"choice":return h("div",{className:Ce("rounded-md bg-yellow-100 p-1 text-yellow-600",e),title:n("mod_choice"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})});case"weighted":return h("div",{className:Ce("rounded-md bg-yellow-100 p-1 text-yellow-600",e),title:n("mod_weighted"),children:_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"})]})});case"formula":return h("div",{className:Ce("rounded-md bg-orange-100 p-1 text-orange-600",e),title:n("mod_formula"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23-.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})})});case"spreadsheet":return h("div",{className:Ce("rounded-md bg-emerald-100 p-1 text-emerald-600",e),title:n("mod_spreadsheet"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0112 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"})})});case"essay":return h("div",{className:Ce("rounded-md bg-pink-100 p-1 text-pink-600",e),title:n("mod_essay"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.39 48.39 0 01-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 01-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 00-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 01-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 00.657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 01-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 005.427-.63 48.05 48.05 0 00.582-4.717.532.532 0 00-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 00.658-.663 48.422 48.422 0 00-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 01-.61-.58v0z"})})});case"interview":return h("div",{className:Ce("rounded-md bg-pink-100 p-1 text-pink-600",e),title:n("mod_interview"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})})});case"programming":return h("div",{className:Ce("rounded-md bg-sky-100 p-1 text-sky-600",e),title:n("mod_programming"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9.75L16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0020.25 18V6A2.25 2.25 0 0018 3.75H6A2.25 2.25 0 003.75 6v12A2.25 2.25 0 006 20.25z"})})});case"frontend":return h("div",{className:Ce("rounded-md bg-blue-100 p-1 text-blue-600",e),title:n("mod_frontend"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})})});case"backend":return h("div",{className:Ce("rounded-md bg-blue-100 p-1 text-blue-600",e),title:n("mod_backend"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 14.25h13.5m-13.5 0a3 3 0 01-3-3m3 3a3 3 0 100 6h13.5a3 3 0 100-6m-16.5-3a3 3 0 013-3h13.5a3 3 0 013 3m-19.5 0a4.5 4.5 0 01.9-2.7L5.737 5.1a3.375 3.375 0 012.7-1.35h7.126c1.062 0 2.062.5 2.7 1.35l2.587 3.45a4.5 4.5 0 01.9 2.7m0 0a3 3 0 01-3 3m0 3h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008zm-3 6h.008v.008h-.008v-.008zm0-6h.008v.008h-.008v-.008z"})})});case"project":return h("div",{className:Ce("rounded-md bg-indigo-100 p-1 text-indigo-600",e),title:n("mod_project"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 7.5h-.75A2.25 2.25 0 004.5 9.75v7.5a2.25 2.25 0 002.25 2.25h7.5a2.25 2.25 0 002.25-2.25v-7.5a2.25 2.25 0 00-2.25-2.25h-.75m-6 3.75l3 3m0 0l3-3m-3 3V1.5m6 9h.75a2.25 2.25 0 012.25 2.25v7.5a2.25 2.25 0 01-2.25 2.25h-7.5a2.25 2.25 0 01-2.25-2.25v-.75"})})});case"sql":return h("div",{className:Ce("rounded-md bg-sky-100 p-1 text-sky-600",e),title:n("mod_sql"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"})})});default:return h("div",{className:Ce("rounded-md bg-gray-100 p-1 text-gray-600",e),children:_("svg",{viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:[h("circle",{cx:"12",cy:"12",r:"10"}),h("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),h("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})}};var f4=function(t,e){return f4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},f4(t,e)};function Ts(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");f4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ee=function(){return Ee=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ee.apply(this,arguments)};function wc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function $a(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):a(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}function ma(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Jd(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var nx="Invariant Violation",FD=Object.setPrototypeOf,Vce=FD===void 0?function(t,e){return t.__proto__=e,t}:FD,xn=function(t){Ts(e,t);function e(n){n===void 0&&(n=nx);var r=t.call(this,typeof n=="number"?nx+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=nx,Vce(r,e.prototype),r}return e}(Error);function qe(t,e){if(!t)throw new xn(e)}var Hy=["debug","log","warn","error","silent"],p4=Hy.indexOf("log");function O1(t){return function(){if(Hy.indexOf(t)>=p4){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=O1("debug"),t.log=O1("log"),t.warn=O1("warn"),t.error=O1("error")})(qe||(qe={}));function wB(t){var e=Hy[p4];return p4=Math.max(0,Hy.indexOf(t)),e}function Gs(t){try{return t()}catch{}}const PD=Gs(function(){return globalThis})||Gs(function(){return window})||Gs(function(){return self})||Gs(function(){return global})||Gs(function(){return Gs.constructor("return this")()});var MD="__",BD=[MD,MD].join("DEV");function Wce(){try{return!!__DEV__}catch{return Object.defineProperty(PD,BD,{value:Gs(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),PD[BD]}}const O2=Wce();function $u(t){try{return t()}catch{}}var m4=$u(function(){return globalThis})||$u(function(){return window})||$u(function(){return self})||$u(function(){return global})||$u(function(){return $u.constructor("return this")()}),g4=!1;function Gce(){m4&&!$u(function(){return"production"})&&!$u(function(){return process})&&(Object.defineProperty(m4,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),g4=!0)}Gce();function zD(){g4&&(delete m4.process,g4=!1)}function L2(t,e){if(!!!t)throw new Error(e)}function Hce(t){return typeof t=="object"&&t!==null}function qce(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}const Yce=/\r\n|[\n\r]/g;function y4(t,e){let n=0,r=1;for(const a of t.body.matchAll(Yce)){if(typeof a.index=="number"||qce(!1),a.index>=e)break;n=a.index+a[0].length,r+=1}return{line:r,column:e+1-n}}function Kce(t){return xB(t.source,y4(t.source,t.start))}function xB(t,e){const n=t.locationOffset.column-1,r="".padStart(n)+t.body,a=e.line-1,i=t.locationOffset.line-1,s=e.line+i,o=e.line===1?n:0,l=e.column+o,u=`${t.name}:${s}:${l}
`,c=r.split(/\r\n|[\n\r]/g),d=c[a];if(d.length>120){const f=Math.floor(l/80),p=l%80,m=[];for(let g=0;g<d.length;g+=80)m.push(d.slice(g,g+80));return u+UD([[`${s} |`,m[0]],...m.slice(1,f+1).map(g=>["|",g]),["|","^".padStart(p)],["|",m[f+1]]])}return u+UD([[`${s-1} |`,c[a-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,c[a+1]]])}function UD(t){const e=t.filter(([r,a])=>a!==void 0),n=Math.max(...e.map(([r])=>r.length));return e.map(([r,a])=>r.padStart(n)+(a?" "+a:"")).join(`
`)}function Xce(t){const e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}class gE extends Error{constructor(e,...n){var r,a,i;const{nodes:s,source:o,positions:l,path:u,originalError:c,extensions:d}=Xce(n);super(e),this.name="GraphQLError",this.path=u??void 0,this.originalError=c??void 0,this.nodes=jD(Array.isArray(s)?s:s?[s]:void 0);const f=jD((r=this.nodes)===null||r===void 0?void 0:r.map(m=>m.loc).filter(m=>m!=null));this.source=o??(f==null||(a=f[0])===null||a===void 0?void 0:a.source),this.positions=l??(f==null?void 0:f.map(m=>m.start)),this.locations=l&&o?l.map(m=>y4(o,m)):f==null?void 0:f.map(m=>y4(m.source,m.start));const p=Hce(c==null?void 0:c.extensions)?c==null?void 0:c.extensions:void 0;this.extensions=(i=d??p)!==null&&i!==void 0?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,gE):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+=`

`+Kce(n.loc));else if(this.source&&this.locations)for(const n of this.locations)e+=`

`+xB(this.source,n);return e}toJSON(){const e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function jD(t){return t===void 0||t.length===0?void 0:t}function pa(t,e,n){return new gE(`Syntax Error: ${n}`,{source:t,positions:[e]})}class Qce{constructor(e,n,r){this.start=e.start,this.end=n.end,this.startToken=e,this.endToken=n,this.source=r}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class _B{constructor(e,n,r,a,i,s){this.kind=e,this.start=n,this.end=r,this.line=a,this.column=i,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const kB={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Zce=new Set(Object.keys(kB));function VD(t){const e=t==null?void 0:t.kind;return typeof e=="string"&&Zce.has(e)}var af;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(af||(af={}));var b4;(function(t){t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(b4||(b4={}));var mt;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(mt||(mt={}));function v4(t){return t===9||t===32}function Ag(t){return t>=48&&t<=57}function SB(t){return t>=97&&t<=122||t>=65&&t<=90}function NB(t){return SB(t)||t===95}function Jce(t){return SB(t)||Ag(t)||t===95}function ede(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,a=-1;for(let s=0;s<t.length;++s){var i;const o=t[s],l=tde(o);l!==o.length&&(r=(i=r)!==null&&i!==void 0?i:s,a=s,s!==0&&l<n&&(n=l))}return t.map((s,o)=>o===0?s:s.slice(n)).slice((e=r)!==null&&e!==void 0?e:0,a+1)}function tde(t){let e=0;for(;e<t.length&&v4(t.charCodeAt(e));)++e;return e}function nde(t,e){const n=t.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),a=r.length===1,i=r.length>1&&r.slice(1).every(p=>p.length===0||v4(p.charCodeAt(0))),s=n.endsWith('\\"""'),o=t.endsWith('"')&&!s,l=t.endsWith("\\"),u=o||l,c=!(e!=null&&e.minimize)&&(!a||t.length>70||u||i||s);let d="";const f=a&&v4(t.charCodeAt(0));return(c&&!f||i)&&(d+=`
`),d+=n,(c||u)&&(d+=`
`),'"""'+d+'"""'}var Me;(function(t){t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment"})(Me||(Me={}));class rde{constructor(e){const n=new _B(Me.SOF,0,0,0,0);this.source=e,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==Me.EOF)do if(e.next)e=e.next;else{const n=ide(this,e.end);e.next=n,n.prev=e,e=n}while(e.kind===Me.COMMENT);return e}}function ade(t){return t===Me.BANG||t===Me.DOLLAR||t===Me.AMP||t===Me.PAREN_L||t===Me.PAREN_R||t===Me.SPREAD||t===Me.COLON||t===Me.EQUALS||t===Me.AT||t===Me.BRACKET_L||t===Me.BRACKET_R||t===Me.BRACE_L||t===Me.PIPE||t===Me.BRACE_R}function Sp(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function zv(t,e){return EB(t.charCodeAt(e))&&TB(t.charCodeAt(e+1))}function EB(t){return t>=55296&&t<=56319}function TB(t){return t>=56320&&t<=57343}function eh(t,e){const n=t.source.body.codePointAt(e);if(n===void 0)return Me.EOF;if(n>=32&&n<=126){const r=String.fromCodePoint(n);return r==='"'?`'"'`:`"${r}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function jr(t,e,n,r,a){const i=t.line,s=1+n-t.lineStart;return new _B(e,n,r,i,s,a)}function ide(t,e){const n=t.source.body,r=n.length;let a=e;for(;a<r;){const i=n.charCodeAt(a);switch(i){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++t.line,t.lineStart=a;continue;case 13:n.charCodeAt(a+1)===10?a+=2:++a,++t.line,t.lineStart=a;continue;case 35:return sde(t,a);case 33:return jr(t,Me.BANG,a,a+1);case 36:return jr(t,Me.DOLLAR,a,a+1);case 38:return jr(t,Me.AMP,a,a+1);case 40:return jr(t,Me.PAREN_L,a,a+1);case 41:return jr(t,Me.PAREN_R,a,a+1);case 46:if(n.charCodeAt(a+1)===46&&n.charCodeAt(a+2)===46)return jr(t,Me.SPREAD,a,a+3);break;case 58:return jr(t,Me.COLON,a,a+1);case 61:return jr(t,Me.EQUALS,a,a+1);case 64:return jr(t,Me.AT,a,a+1);case 91:return jr(t,Me.BRACKET_L,a,a+1);case 93:return jr(t,Me.BRACKET_R,a,a+1);case 123:return jr(t,Me.BRACE_L,a,a+1);case 124:return jr(t,Me.PIPE,a,a+1);case 125:return jr(t,Me.BRACE_R,a,a+1);case 34:return n.charCodeAt(a+1)===34&&n.charCodeAt(a+2)===34?hde(t,a):lde(t,a)}if(Ag(i)||i===45)return ode(t,a,i);if(NB(i))return fde(t,a);throw pa(t.source,a,i===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Sp(i)||zv(n,a)?`Unexpected character: ${eh(t,a)}.`:`Invalid character: ${eh(t,a)}.`)}return jr(t,Me.EOF,r,r)}function sde(t,e){const n=t.source.body,r=n.length;let a=e+1;for(;a<r;){const i=n.charCodeAt(a);if(i===10||i===13)break;if(Sp(i))++a;else if(zv(n,a))a+=2;else break}return jr(t,Me.COMMENT,e,a,n.slice(e+1,a))}function ode(t,e,n){const r=t.source.body;let a=e,i=n,s=!1;if(i===45&&(i=r.charCodeAt(++a)),i===48){if(i=r.charCodeAt(++a),Ag(i))throw pa(t.source,a,`Invalid number, unexpected digit after 0: ${eh(t,a)}.`)}else a=rx(t,a,i),i=r.charCodeAt(a);if(i===46&&(s=!0,i=r.charCodeAt(++a),a=rx(t,a,i),i=r.charCodeAt(a)),(i===69||i===101)&&(s=!0,i=r.charCodeAt(++a),(i===43||i===45)&&(i=r.charCodeAt(++a)),a=rx(t,a,i),i=r.charCodeAt(a)),i===46||NB(i))throw pa(t.source,a,`Invalid number, expected digit but got: ${eh(t,a)}.`);return jr(t,s?Me.FLOAT:Me.INT,e,a,r.slice(e,a))}function rx(t,e,n){if(!Ag(n))throw pa(t.source,e,`Invalid number, expected digit but got: ${eh(t,e)}.`);const r=t.source.body;let a=e+1;for(;Ag(r.charCodeAt(a));)++a;return a}function lde(t,e){const n=t.source.body,r=n.length;let a=e+1,i=a,s="";for(;a<r;){const o=n.charCodeAt(a);if(o===34)return s+=n.slice(i,a),jr(t,Me.STRING,e,a+1,s);if(o===92){s+=n.slice(i,a);const l=n.charCodeAt(a+1)===117?n.charCodeAt(a+2)===123?ude(t,a):cde(t,a):dde(t,a);s+=l.value,a+=l.size,i=a;continue}if(o===10||o===13)break;if(Sp(o))++a;else if(zv(n,a))a+=2;else throw pa(t.source,a,`Invalid character within String: ${eh(t,a)}.`)}throw pa(t.source,a,"Unterminated string.")}function ude(t,e){const n=t.source.body;let r=0,a=3;for(;a<12;){const i=n.charCodeAt(e+a++);if(i===125){if(a<5||!Sp(r))break;return{value:String.fromCodePoint(r),size:a}}if(r=r<<4|bm(i),r<0)break}throw pa(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+a)}".`)}function cde(t,e){const n=t.source.body,r=WD(n,e+2);if(Sp(r))return{value:String.fromCodePoint(r),size:6};if(EB(r)&&n.charCodeAt(e+6)===92&&n.charCodeAt(e+7)===117){const a=WD(n,e+8);if(TB(a))return{value:String.fromCodePoint(r,a),size:12}}throw pa(t.source,e,`Invalid Unicode escape sequence: "${n.slice(e,e+6)}".`)}function WD(t,e){return bm(t.charCodeAt(e))<<12|bm(t.charCodeAt(e+1))<<8|bm(t.charCodeAt(e+2))<<4|bm(t.charCodeAt(e+3))}function bm(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function dde(t,e){const n=t.source.body;switch(n.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw pa(t.source,e,`Invalid character escape sequence: "${n.slice(e,e+2)}".`)}function hde(t,e){const n=t.source.body,r=n.length;let a=t.lineStart,i=e+3,s=i,o="";const l=[];for(;i<r;){const u=n.charCodeAt(i);if(u===34&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34){o+=n.slice(s,i),l.push(o);const c=jr(t,Me.BLOCK_STRING,e,i+3,ede(l).join(`
`));return t.line+=l.length-1,t.lineStart=a,c}if(u===92&&n.charCodeAt(i+1)===34&&n.charCodeAt(i+2)===34&&n.charCodeAt(i+3)===34){o+=n.slice(s,i),s=i+1,i+=4;continue}if(u===10||u===13){o+=n.slice(s,i),l.push(o),u===13&&n.charCodeAt(i+1)===10?i+=2:++i,o="",s=i,a=i;continue}if(Sp(u))++i;else if(zv(n,i))i+=2;else throw pa(t.source,i,`Invalid character within String: ${eh(t,i)}.`)}throw pa(t.source,i,"Unterminated string.")}function fde(t,e){const n=t.source.body,r=n.length;let a=e+1;for(;a<r;){const i=n.charCodeAt(a);if(Jce(i))++a;else break}return jr(t,Me.NAME,e,a,n.slice(e,a))}const pde=10,CB=2;function IB(t){return Uv(t,[])}function Uv(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return mde(t,e);default:return String(t)}}function mde(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";const n=[...e,t];if(gde(t)){const r=t.toJSON();if(r!==t)return typeof r=="string"?r:Uv(r,n)}else if(Array.isArray(t))return bde(t,n);return yde(t,n)}function gde(t){return typeof t.toJSON=="function"}function yde(t,e){const n=Object.entries(t);return n.length===0?"{}":e.length>CB?"["+vde(t)+"]":"{ "+n.map(([a,i])=>a+": "+Uv(i,e)).join(", ")+" }"}function bde(t,e){if(t.length===0)return"[]";if(e.length>CB)return"[Array]";const n=Math.min(pde,t.length),r=t.length-n,a=[];for(let i=0;i<n;++i)a.push(Uv(t[i],e));return r===1?a.push("... 1 more item"):r>1&&a.push(`... ${r} more items`),"["+a.join(", ")+"]"}function vde(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){const n=t.constructor.name;if(typeof n=="string"&&n!=="")return n}return e}const wde=function(e,n){return e instanceof n};class yE{constructor(e,n="GraphQL request",r={line:1,column:1}){typeof e=="string"||L2(!1,`Body must be a string. Received: ${IB(e)}.`),this.body=e,this.name=n,this.locationOffset=r,this.locationOffset.line>0||L2(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||L2(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function xde(t){return wde(t,yE)}function _de(t,e){return new kde(t,e).parseDocument()}class kde{constructor(e,n={}){const r=xde(e)?e:new yE(e);this._lexer=new rde(r),this._options=n,this._tokenCounter=0}parseName(){const e=this.expectToken(Me.NAME);return this.node(e,{kind:mt.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:mt.DOCUMENT,definitions:this.many(Me.SOF,this.parseDefinition,Me.EOF)})}parseDefinition(){if(this.peek(Me.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),n=e?this._lexer.lookahead():this._lexer.token;if(n.kind===Me.NAME){switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw pa(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(n.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(n)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(Me.BRACE_L))return this.node(e,{kind:mt.OPERATION_DEFINITION,operation:af.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const n=this.parseOperationType();let r;return this.peek(Me.NAME)&&(r=this.parseName()),this.node(e,{kind:mt.OPERATION_DEFINITION,operation:n,name:r,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(Me.NAME);switch(e.value){case"query":return af.QUERY;case"mutation":return af.MUTATION;case"subscription":return af.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(Me.PAREN_L,this.parseVariableDefinition,Me.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:mt.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Me.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Me.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(Me.DOLLAR),this.node(e,{kind:mt.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:mt.SELECTION_SET,selections:this.many(Me.BRACE_L,this.parseSelection,Me.BRACE_R)})}parseSelection(){return this.peek(Me.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,n=this.parseName();let r,a;return this.expectOptionalToken(Me.COLON)?(r=n,a=this.parseName()):a=n,this.node(e,{kind:mt.FIELD,alias:r,name:a,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Me.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const n=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Me.PAREN_L,n,Me.PAREN_R)}parseArgument(e=!1){const n=this._lexer.token,r=this.parseName();return this.expectToken(Me.COLON),this.node(n,{kind:mt.ARGUMENT,name:r,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(Me.SPREAD);const n=this.expectOptionalKeyword("on");return!n&&this.peek(Me.NAME)?this.node(e,{kind:mt.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:mt.INLINE_FRAGMENT,typeCondition:n?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:mt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:mt.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){const n=this._lexer.token;switch(n.kind){case Me.BRACKET_L:return this.parseList(e);case Me.BRACE_L:return this.parseObject(e);case Me.INT:return this.advanceLexer(),this.node(n,{kind:mt.INT,value:n.value});case Me.FLOAT:return this.advanceLexer(),this.node(n,{kind:mt.FLOAT,value:n.value});case Me.STRING:case Me.BLOCK_STRING:return this.parseStringLiteral();case Me.NAME:switch(this.advanceLexer(),n.value){case"true":return this.node(n,{kind:mt.BOOLEAN,value:!0});case"false":return this.node(n,{kind:mt.BOOLEAN,value:!1});case"null":return this.node(n,{kind:mt.NULL});default:return this.node(n,{kind:mt.ENUM,value:n.value})}case Me.DOLLAR:if(e)if(this.expectToken(Me.DOLLAR),this._lexer.token.kind===Me.NAME){const r=this._lexer.token.value;throw pa(this._lexer.source,n.start,`Unexpected variable "$${r}" in constant value.`)}else throw this.unexpected(n);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:mt.STRING,value:e.value,block:e.kind===Me.BLOCK_STRING})}parseList(e){const n=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:mt.LIST,values:this.any(Me.BRACKET_L,n,Me.BRACKET_R)})}parseObject(e){const n=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:mt.OBJECT,fields:this.any(Me.BRACE_L,n,Me.BRACE_R)})}parseObjectField(e){const n=this._lexer.token,r=this.parseName();return this.expectToken(Me.COLON),this.node(n,{kind:mt.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e)})}parseDirectives(e){const n=[];for(;this.peek(Me.AT);)n.push(this.parseDirective(e));return n}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const n=this._lexer.token;return this.expectToken(Me.AT),this.node(n,{kind:mt.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let n;if(this.expectOptionalToken(Me.BRACKET_L)){const r=this.parseTypeReference();this.expectToken(Me.BRACKET_R),n=this.node(e,{kind:mt.LIST_TYPE,type:r})}else n=this.parseNamedType();return this.expectOptionalToken(Me.BANG)?this.node(e,{kind:mt.NON_NULL_TYPE,type:n}):n}parseNamedType(){return this.node(this._lexer.token,{kind:mt.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(Me.STRING)||this.peek(Me.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("schema");const r=this.parseConstDirectives(),a=this.many(Me.BRACE_L,this.parseOperationTypeDefinition,Me.BRACE_R);return this.node(e,{kind:mt.SCHEMA_DEFINITION,description:n,directives:r,operationTypes:a})}parseOperationTypeDefinition(){const e=this._lexer.token,n=this.parseOperationType();this.expectToken(Me.COLON);const r=this.parseNamedType();return this.node(e,{kind:mt.OPERATION_TYPE_DEFINITION,operation:n,type:r})}parseScalarTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("scalar");const r=this.parseName(),a=this.parseConstDirectives();return this.node(e,{kind:mt.SCALAR_TYPE_DEFINITION,description:n,name:r,directives:a})}parseObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("type");const r=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:mt.OBJECT_TYPE_DEFINITION,description:n,name:r,interfaces:a,directives:i,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(Me.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(Me.BRACE_L,this.parseFieldDefinition,Me.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName(),a=this.parseArgumentDefs();this.expectToken(Me.COLON);const i=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:mt.FIELD_DEFINITION,description:n,name:r,arguments:a,type:i,directives:s})}parseArgumentDefs(){return this.optionalMany(Me.PAREN_L,this.parseInputValueDef,Me.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseName();this.expectToken(Me.COLON);const a=this.parseTypeReference();let i;this.expectOptionalToken(Me.EQUALS)&&(i=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(e,{kind:mt.INPUT_VALUE_DEFINITION,description:n,name:r,type:a,defaultValue:i,directives:s})}parseInterfaceTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("interface");const r=this.parseName(),a=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:mt.INTERFACE_TYPE_DEFINITION,description:n,name:r,interfaces:a,directives:i,fields:s})}parseUnionTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("union");const r=this.parseName(),a=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:mt.UNION_TYPE_DEFINITION,description:n,name:r,directives:a,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(Me.EQUALS)?this.delimitedMany(Me.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("enum");const r=this.parseName(),a=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:mt.ENUM_TYPE_DEFINITION,description:n,name:r,directives:a,values:i})}parseEnumValuesDefinition(){return this.optionalMany(Me.BRACE_L,this.parseEnumValueDefinition,Me.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,n=this.parseDescription(),r=this.parseEnumValueName(),a=this.parseConstDirectives();return this.node(e,{kind:mt.ENUM_VALUE_DEFINITION,description:n,name:r,directives:a})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw pa(this._lexer.source,this._lexer.token.start,`${L1(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("input");const r=this.parseName(),a=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:mt.INPUT_OBJECT_TYPE_DEFINITION,description:n,name:r,directives:a,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(Me.BRACE_L,this.parseInputValueDef,Me.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===Me.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.optionalMany(Me.BRACE_L,this.parseOperationTypeDefinition,Me.BRACE_R);if(n.length===0&&r.length===0)throw this.unexpected();return this.node(e,{kind:mt.SCHEMA_EXTENSION,directives:n,operationTypes:r})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();if(r.length===0)throw this.unexpected();return this.node(e,{kind:mt.SCALAR_TYPE_EXTENSION,name:n,directives:r})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(r.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:mt.OBJECT_TYPE_EXTENSION,name:n,interfaces:r,directives:a,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),a=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(r.length===0&&a.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:mt.INTERFACE_TYPE_EXTENSION,name:n,interfaces:r,directives:a,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),a=this.parseUnionMemberTypes();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:mt.UNION_TYPE_EXTENSION,name:n,directives:r,types:a})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),a=this.parseEnumValuesDefinition();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:mt.ENUM_TYPE_EXTENSION,name:n,directives:r,values:a})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),a=this.parseInputFieldsDefinition();if(r.length===0&&a.length===0)throw this.unexpected();return this.node(e,{kind:mt.INPUT_OBJECT_TYPE_EXTENSION,name:n,directives:r,fields:a})}parseDirectiveDefinition(){const e=this._lexer.token,n=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Me.AT);const r=this.parseName(),a=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(e,{kind:mt.DIRECTIVE_DEFINITION,description:n,name:r,arguments:a,repeatable:i,locations:s})}parseDirectiveLocations(){return this.delimitedMany(Me.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,n=this.parseName();if(Object.prototype.hasOwnProperty.call(b4,n.value))return n;throw this.unexpected(e)}node(e,n){return this._options.noLocation!==!0&&(n.loc=new Qce(e,this._lexer.lastToken,this._lexer.source)),n}peek(e){return this._lexer.token.kind===e}expectToken(e){const n=this._lexer.token;if(n.kind===e)return this.advanceLexer(),n;throw pa(this._lexer.source,n.start,`Expected ${AB(e)}, found ${L1(n)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){const n=this._lexer.token;if(n.kind===Me.NAME&&n.value===e)this.advanceLexer();else throw pa(this._lexer.source,n.start,`Expected "${e}", found ${L1(n)}.`)}expectOptionalKeyword(e){const n=this._lexer.token;return n.kind===Me.NAME&&n.value===e?(this.advanceLexer(),!0):!1}unexpected(e){const n=e??this._lexer.token;return pa(this._lexer.source,n.start,`Unexpected ${L1(n)}.`)}any(e,n,r){this.expectToken(e);const a=[];for(;!this.expectOptionalToken(r);)a.push(n.call(this));return a}optionalMany(e,n,r){if(this.expectOptionalToken(e)){const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(r));return a}return[]}many(e,n,r){this.expectToken(e);const a=[];do a.push(n.call(this));while(!this.expectOptionalToken(r));return a}delimitedMany(e,n){this.expectOptionalToken(e);const r=[];do r.push(n.call(this));while(this.expectOptionalToken(e));return r}advanceLexer(){const{maxTokens:e}=this._options,n=this._lexer.advance();if(e!==void 0&&n.kind!==Me.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw pa(this._lexer.source,n.start,`Document contains more that ${e} tokens. Parsing aborted.`)}}function L1(t){const e=t.value;return AB(t.kind)+(e!=null?` "${e}"`:"")}function AB(t){return ade(t)?`"${t}"`:t}function Sde(t){return`"${t.replace(Nde,Ede)}"`}const Nde=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Ede(t){return Tde[t.charCodeAt(0)]}const Tde=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],bE=Object.freeze({});function uu(t,e,n=kB){const r=new Map;for(const y of Object.values(mt))r.set(y,Cde(e,y));let a,i=Array.isArray(t),s=[t],o=-1,l=[],u=t,c,d;const f=[],p=[];do{o++;const y=o===s.length,b=y&&l.length!==0;if(y){if(c=p.length===0?void 0:f[f.length-1],u=d,d=p.pop(),b)if(i){u=u.slice();let x=0;for(const[k,S]of l){const E=k-x;S===null?(u.splice(E,1),x++):u[E]=S}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[x,k]of l)u[x]=k}o=a.index,s=a.keys,l=a.edits,i=a.inArray,a=a.prev}else if(d){if(c=i?o:s[o],u=d[c],u==null)continue;f.push(c)}let w;if(!Array.isArray(u)){var m,g;VD(u)||L2(!1,`Invalid AST Node: ${IB(u)}.`);const x=y?(m=r.get(u.kind))===null||m===void 0?void 0:m.leave:(g=r.get(u.kind))===null||g===void 0?void 0:g.enter;if(w=x==null?void 0:x.call(e,u,c,d,f,p),w===bE)break;if(w===!1){if(!y){f.pop();continue}}else if(w!==void 0&&(l.push([c,w]),!y))if(VD(w))u=w;else{f.pop();continue}}if(w===void 0&&b&&l.push([c,u]),y)f.pop();else{var v;a={inArray:i,index:o,keys:s,edits:l,prev:a},i=Array.isArray(u),s=i?u:(v=n[u.kind])!==null&&v!==void 0?v:[],o=-1,l=[],d&&p.push(d),d=u}}while(a!==void 0);return l.length!==0?l[l.length-1][1]:t}function Cde(t,e){const n=t[e];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}function DB(t){return uu(t,Ade)}const Ide=80,Ade={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>yt(t.definitions,`

`)},OperationDefinition:{leave(t){const e=Jt("(",yt(t.variableDefinitions,", "),")"),n=yt([t.operation,yt([t.name,e]),yt(t.directives," ")]," ");return(n==="query"?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+Jt(" = ",n)+Jt(" ",yt(r," "))},SelectionSet:{leave:({selections:t})=>bo(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:a}){const i=Jt("",t,": ")+e;let s=i+Jt("(",yt(n,", "),")");return s.length>Ide&&(s=i+Jt(`(
`,F2(yt(n,`
`)),`
)`)),yt([s,yt(r," "),a]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Jt(" ",yt(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>yt(["...",Jt("on ",t),yt(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:a})=>`fragment ${t}${Jt("(",yt(n,", "),")")} on ${e} ${Jt("",yt(r," ")," ")}`+a},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?nde(t):Sde(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+yt(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+yt(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Jt("(",yt(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>Jt("",t,`
`)+yt(["schema",yt(e," "),bo(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>Jt("",t,`
`)+yt(["scalar",e,yt(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:a})=>Jt("",t,`
`)+yt(["type",e,Jt("implements ",yt(n," & ")),yt(r," "),bo(a)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:a})=>Jt("",t,`
`)+e+(GD(n)?Jt(`(
`,F2(yt(n,`
`)),`
)`):Jt("(",yt(n,", "),")"))+": "+r+Jt(" ",yt(a," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:a})=>Jt("",t,`
`)+yt([e+": "+n,Jt("= ",r),yt(a," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:a})=>Jt("",t,`
`)+yt(["interface",e,Jt("implements ",yt(n," & ")),yt(r," "),bo(a)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>Jt("",t,`
`)+yt(["union",e,yt(n," "),Jt("= ",yt(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>Jt("",t,`
`)+yt(["enum",e,yt(n," "),bo(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>Jt("",t,`
`)+yt([e,yt(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>Jt("",t,`
`)+yt(["input",e,yt(n," "),bo(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:a})=>Jt("",t,`
`)+"directive @"+e+(GD(n)?Jt(`(
`,F2(yt(n,`
`)),`
)`):Jt("(",yt(n,", "),")"))+(r?" repeatable":"")+" on "+yt(a," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>yt(["extend schema",yt(t," "),bo(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>yt(["extend scalar",t,yt(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>yt(["extend type",t,Jt("implements ",yt(e," & ")),yt(n," "),bo(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>yt(["extend interface",t,Jt("implements ",yt(e," & ")),yt(n," "),bo(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>yt(["extend union",t,yt(e," "),Jt("= ",yt(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>yt(["extend enum",t,yt(e," "),bo(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>yt(["extend input",t,yt(e," "),bo(n)]," ")}};function yt(t,e=""){var n;return(n=t==null?void 0:t.filter(r=>r).join(e))!==null&&n!==void 0?n:""}function bo(t){return Jt(`{
`,F2(yt(t,`
`)),`
}`)}function Jt(t,e,n=""){return e!=null&&e!==""?t+e+n:""}function F2(t){return Jt("  ",t.replace(/\n/g,`
  `))}function GD(t){var e;return(e=t==null?void 0:t.some(n=>n.includes(`
`)))!==null&&e!==void 0?e:!1}function HD(t){return t.kind===mt.FIELD||t.kind===mt.FRAGMENT_SPREAD||t.kind===mt.INLINE_FRAGMENT}function Dde(){return zD()}function Rde(){__DEV__?qe(typeof O2=="boolean",O2):qe(typeof O2=="boolean",39)}Dde();Rde();function jv(t,e){var n=t.directives;return!n||!n.length?!0:Lde(n).every(function(r){var a=r.directive,i=r.ifArgument,s=!1;return i.value.kind==="Variable"?(s=e&&e[i.value.name.value],__DEV__?qe(s!==void 0,"Invalid variable referenced in @".concat(a.name.value," directive.")):qe(s!==void 0,40)):s=i.value.value,a.name.value==="skip"?!s:s})}function vE(t,e,n){var r=new Set(t),a=r.size;return uu(e,{Directive:function(i){if(r.delete(i.name.value)&&(!n||!r.size))return bE}}),n?!r.size:r.size<a}function $de(t){return t&&vE(["client","export"],t,!0)}function Ode(t){var e=t.name.value;return e==="skip"||e==="include"}function Lde(t){var e=[];return t&&t.length&&t.forEach(function(n){if(Ode(n)){var r=n.arguments,a=n.name.value;__DEV__?qe(r&&r.length===1,"Incorrect number of arguments for the @".concat(a," directive.")):qe(r&&r.length===1,41);var i=r[0];__DEV__?qe(i.name&&i.name.value==="if","Invalid argument for the @".concat(a," directive.")):qe(i.name&&i.name.value==="if",42);var s=i.value;__DEV__?qe(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),"Argument for the @".concat(a," directive must be a variable or a boolean value.")):qe(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),43),e.push({directive:n,ifArgument:i})}}),e}function Fde(t,e){var n=e,r=[];t.definitions.forEach(function(i){if(i.kind==="OperationDefinition")throw __DEV__?new xn("Found a ".concat(i.operation," operation").concat(i.name?" named '".concat(i.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new xn(44);i.kind==="FragmentDefinition"&&r.push(i)}),typeof n>"u"&&(__DEV__?qe(r.length===1,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):qe(r.length===1,45),n=r[0].name.value);var a=Ee(Ee({},t),{definitions:Jd([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],t.definitions,!0)});return a}function wE(t){t===void 0&&(t=[]);var e={};return t.forEach(function(n){e[n.name.value]=n}),e}function xE(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var n=t.name.value;if(typeof e=="function")return e(n);var r=e&&e[n];return __DEV__?qe(r,"No fragment named ".concat(n)):qe(r,46),r||null}default:return null}}function wr(t){return t!==null&&typeof t=="object"}function Id(t){return{__ref:String(t)}}function Nn(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function Pde(t){return wr(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function Mde(t){return t.kind==="StringValue"}function Bde(t){return t.kind==="BooleanValue"}function zde(t){return t.kind==="IntValue"}function Ude(t){return t.kind==="FloatValue"}function jde(t){return t.kind==="Variable"}function Vde(t){return t.kind==="ObjectValue"}function Wde(t){return t.kind==="ListValue"}function Gde(t){return t.kind==="EnumValue"}function Hde(t){return t.kind==="NullValue"}function qf(t,e,n,r){if(zde(n)||Ude(n))t[e.value]=Number(n.value);else if(Bde(n)||Mde(n))t[e.value]=n.value;else if(Vde(n)){var a={};n.fields.map(function(s){return qf(a,s.name,s.value,r)}),t[e.value]=a}else if(jde(n)){var i=(r||{})[n.name.value];t[e.value]=i}else if(Wde(n))t[e.value]=n.values.map(function(s){var o={};return qf(o,e,s,r),o[e.value]});else if(Gde(n))t[e.value]=n.value;else if(Hde(n))t[e.value]=null;else throw __DEV__?new xn('The inline argument "'.concat(e.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new xn(55)}function qde(t,e){var n=null;t.directives&&(n={},t.directives.forEach(function(a){n[a.name.value]={},a.arguments&&a.arguments.forEach(function(i){var s=i.name,o=i.value;return qf(n[a.name.value],s,o,e)})}));var r=null;return t.arguments&&t.arguments.length&&(r={},t.arguments.forEach(function(a){var i=a.name,s=a.value;return qf(r,i,s,e)})),_E(t.name.value,r,n)}var Yde=["connection","include","skip","client","rest","export"],_E=Object.assign(function(t,e,n){if(e&&n&&n.connection&&n.connection.key)if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var a={};return r.forEach(function(o){a[o]=e[o]}),"".concat(n.connection.key,"(").concat(em(a),")")}else return n.connection.key;var i=t;if(e){var s=em(e);i+="(".concat(s,")")}return n&&Object.keys(n).forEach(function(o){Yde.indexOf(o)===-1&&(n[o]&&Object.keys(n[o]).length?i+="@".concat(o,"(").concat(em(n[o]),")"):i+="@".concat(o))}),i},{setStringify:function(t){var e=em;return em=t,e}}),em=function(e){return JSON.stringify(e,Kde)};function Kde(t,e){return wr(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(n,r){return n[r]=e[r],n},{})),e}function Vv(t,e){if(t.arguments&&t.arguments.length){var n={};return t.arguments.forEach(function(r){var a=r.name,i=r.value;return qf(n,a,i,e)}),n}return null}function th(t){return t.alias?t.alias.value:t.name.value}function w4(t,e,n){if(typeof t.__typename=="string")return t.__typename;for(var r=0,a=e.selections;r<a.length;r++){var i=a[r];if(nh(i)){if(i.name.value==="__typename")return t[th(i)]}else{var s=w4(t,xE(i,n).selectionSet,n);if(typeof s=="string")return s}}}function nh(t){return t.kind==="Field"}function Xde(t){return t.kind==="InlineFragment"}function Wv(t){__DEV__?qe(t&&t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):qe(t&&t.kind==="Document",47);var e=t.definitions.filter(function(n){return n.kind!=="FragmentDefinition"}).map(function(n){if(n.kind!=="OperationDefinition")throw __DEV__?new xn('Schema type definitions not allowed in queries. Found: "'.concat(n.kind,'"')):new xn(48);return n});return __DEV__?qe(e.length<=1,"Ambiguous GraphQL document: contains ".concat(e.length," operations")):qe(e.length<=1,49),t}function b0(t){return Wv(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function x4(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function kE(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function RB(t){var e=b0(t);return __DEV__?qe(e&&e.operation==="query","Must contain a query definition."):qe(e&&e.operation==="query",50),e}function Qde(t){__DEV__?qe(t.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):qe(t.kind==="Document",51),__DEV__?qe(t.definitions.length<=1,"Fragment must have exactly one definition."):qe(t.definitions.length<=1,52);var e=t.definitions[0];return __DEV__?qe(e.kind==="FragmentDefinition","Must be a fragment definition."):qe(e.kind==="FragmentDefinition",53),e}function Gv(t){Wv(t);for(var e,n=0,r=t.definitions;n<r.length;n++){var a=r[n];if(a.kind==="OperationDefinition"){var i=a.operation;if(i==="query"||i==="mutation"||i==="subscription")return a}a.kind==="FragmentDefinition"&&!e&&(e=a)}if(e)return e;throw __DEV__?new xn("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new xn(54)}function SE(t){var e=Object.create(null),n=t&&t.variableDefinitions;return n&&n.length&&n.forEach(function(r){r.defaultValue&&qf(e,r.variable.name,r.defaultValue)}),e}var Cr=Array.isArray;function Yi(t){return Array.isArray(t)&&t.length>0}var qD={kind:mt.FIELD,name:{kind:mt.NAME,value:"__typename"}};function $B(t,e){return!t||t.selectionSet.selections.every(function(n){return n.kind===mt.FRAGMENT_SPREAD&&$B(e[n.name.value],e)})}function Zde(t){return $B(b0(t)||Qde(t),wE(kE(t)))?null:t}function Jde(t){var e=new Set,n=[];return t.forEach(function(r){r.name?e.add(r.name):r.test&&n.push(r.test)}),function(r){return e.has(r.name.value)||n.some(function(a){return a(r)})}}function YD(t){var e=new Map;return function(r){r===void 0&&(r=t);var a=e.get(r);return a||e.set(r,a={variables:new Set,fragmentSpreads:new Set}),a}}function OB(t,e){for(var n=YD(""),r=YD(""),a=function(b){for(var w=0,x=void 0;w<b.length&&(x=b[w]);++w)if(!Cr(x)){if(x.kind===mt.OPERATION_DEFINITION)return n(x.name&&x.name.value);if(x.kind===mt.FRAGMENT_DEFINITION)return r(x.name.value)}return __DEV__&&qe.error("Could not find operation or fragment"),null},i=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===mt.OPERATION_DEFINITION&&++i;var o=Jde(t),l=t.some(function(b){return b.remove}),u=function(b){return l&&b&&b.some(o)},c=new Map,d=!1,f={enter:function(b){if(u(b.directives))return d=!0,null}},p=uu(e,{Field:f,InlineFragment:f,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(b,w,x,k,S){var E=a(S);E&&E.variables.add(b.name.value)}},FragmentSpread:{enter:function(b,w,x,k,S){if(u(b.directives))return d=!0,null;var E=a(S);E&&E.fragmentSpreads.add(b.name.value)}},FragmentDefinition:{enter:function(b,w,x,k){c.set(JSON.stringify(k),b)},leave:function(b,w,x,k){var S=c.get(JSON.stringify(k));if(b===S)return b;if(i>0&&b.selectionSet.selections.every(function(E){return E.kind===mt.FIELD&&E.name.value==="__typename"}))return r(b.name.value).removed=!0,d=!0,null}},Directive:{leave:function(b){if(o(b))return d=!0,null}}});if(!d)return e;var m=function(b){return b.transitiveVars||(b.transitiveVars=new Set(b.variables),b.removed||b.fragmentSpreads.forEach(function(w){m(r(w)).transitiveVars.forEach(function(x){b.transitiveVars.add(x)})})),b},g=new Set;p.definitions.forEach(function(b){b.kind===mt.OPERATION_DEFINITION?m(n(b.name&&b.name.value)).fragmentSpreads.forEach(function(w){g.add(w)}):b.kind===mt.FRAGMENT_DEFINITION&&i===0&&!r(b.name.value).removed&&g.add(b.name.value)}),g.forEach(function(b){m(r(b)).fragmentSpreads.forEach(function(w){g.add(w)})});var v=function(b){return!!(!g.has(b)||r(b).removed)},y={enter:function(b){if(v(b.name.value))return null}};return Zde(uu(p,{FragmentSpread:y,FragmentDefinition:y,OperationDefinition:{leave:function(b){if(b.variableDefinitions){var w=m(n(b.name&&b.name.value)).transitiveVars;if(w.size<b.variableDefinitions.length)return Ee(Ee({},b),{variableDefinitions:b.variableDefinitions.filter(function(x){return w.has(x.variable.name.value)})})}}}}))}var NE=Object.assign(function(t){return uu(t,{SelectionSet:{enter:function(e,n,r){if(!(r&&r.kind===mt.OPERATION_DEFINITION)){var a=e.selections;if(a){var i=a.some(function(o){return nh(o)&&(o.name.value==="__typename"||o.name.value.lastIndexOf("__",0)===0)});if(!i){var s=r;if(!(nh(s)&&s.directives&&s.directives.some(function(o){return o.name.value==="export"})))return Ee(Ee({},e),{selections:Jd(Jd([],a,!0),[qD],!1)})}}}}}})},{added:function(t){return t===qD}}),ehe={test:function(t){var e=t.name.value==="connection";return e&&(!t.arguments||!t.arguments.some(function(n){return n.name.value==="key"}))&&__DEV__&&qe.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),e}};function the(t){return OB([ehe],Wv(t))}function nhe(t){var e=Gv(t),n=e.operation;if(n==="query")return t;var r=uu(t,{OperationDefinition:{enter:function(a){return Ee(Ee({},a),{operation:"query"})}}});return r}function rhe(t){Wv(t);var e=OB([{test:function(n){return n.name.value==="client"},remove:!0}],t);return e}var ahe=Object.prototype.hasOwnProperty;function KD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return EE(t)}function EE(t){var e=t[0]||{},n=t.length;if(n>1)for(var r=new xc,a=1;a<n;++a)e=r.merge(e,t[a]);return e}var ihe=function(t,e,n){return this.merge(t[n],e[n])},xc=function(){function t(e){e===void 0&&(e=ihe),this.reconciler=e,this.isObject=wr,this.pastCopies=new Set}return t.prototype.merge=function(e,n){for(var r=this,a=[],i=2;i<arguments.length;i++)a[i-2]=arguments[i];return wr(n)&&wr(e)?(Object.keys(n).forEach(function(s){if(ahe.call(e,s)){var o=e[s];if(n[s]!==o){var l=r.reconciler.apply(r,Jd([e,n,s],a,!1));l!==o&&(e=r.shallowCopyForMerge(e),e[s]=l)}}else e=r.shallowCopyForMerge(e),e[s]=n[s]}),e):n},t.prototype.shallowCopyForMerge=function(e){return wr(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=Ee({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function she(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=ohe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ohe(t,e){if(t){if(typeof t=="string")return XD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(t,e)}}function XD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function TE(t,e,n){return e&&QD(t.prototype,e),n&&QD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var CE=function(){return typeof Symbol=="function"},IE=function(t){return CE()&&!!Symbol[t]},AE=function(t){return IE(t)?Symbol[t]:"@@"+t};CE()&&!IE("observable")&&(Symbol.observable=Symbol("observable"));var lhe=AE("iterator"),_4=AE("observable"),LB=AE("species");function qy(t,e){var n=t[e];if(n!=null){if(typeof n!="function")throw new TypeError(n+" is not a function");return n}}function tm(t){var e=t.constructor;return e!==void 0&&(e=e[LB],e===null&&(e=void 0)),e!==void 0?e:Cn}function uhe(t){return t instanceof Cn}function Yf(t){Yf.log?Yf.log(t):setTimeout(function(){throw t})}function P2(t){Promise.resolve().then(function(){try{t()}catch(e){Yf(e)}})}function FB(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var n=qy(e,"unsubscribe");n&&n.call(e)}}catch(r){Yf(r)}}function k4(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function che(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var n=0;n<e.length&&(PB(t,e[n].type,e[n].value),t._state!=="closed");++n);}}function PB(t,e,n){t._state="running";var r=t._observer;try{var a=qy(r,e);switch(e){case"next":a&&a.call(r,n);break;case"error":if(k4(t),a)a.call(r,n);else throw n;break;case"complete":k4(t),a&&a.call(r);break}}catch(i){Yf(i)}t._state==="closed"?FB(t):t._state==="running"&&(t._state="ready")}function ax(t,e,n){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:n});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:n}],P2(function(){return che(t)});return}PB(t,e,n)}}var dhe=function(){function t(n,r){this._cleanup=void 0,this._observer=n,this._queue=void 0,this._state="initializing";var a=new hhe(this);try{this._cleanup=r.call(void 0,a)}catch(i){a.error(i)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(k4(this),FB(this))},TE(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),hhe=function(){function t(n){this._subscription=n}var e=t.prototype;return e.next=function(r){ax(this._subscription,"next",r)},e.error=function(r){ax(this._subscription,"error",r)},e.complete=function(){ax(this._subscription,"complete")},TE(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),Cn=function(){function t(n){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof n!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=n}var e=t.prototype;return e.subscribe=function(r){return(typeof r!="object"||r===null)&&(r={next:r,error:arguments[1],complete:arguments[2]}),new dhe(r,this._subscriber)},e.forEach=function(r){var a=this;return new Promise(function(i,s){if(typeof r!="function"){s(new TypeError(r+" is not a function"));return}function o(){l.unsubscribe(),i()}var l=a.subscribe({next:function(u){try{r(u,o)}catch(c){s(c),l.unsubscribe()}},error:s,complete:i})})},e.map=function(r){var a=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=tm(this);return new i(function(s){return a.subscribe({next:function(o){try{o=r(o)}catch(l){return s.error(l)}s.next(o)},error:function(o){s.error(o)},complete:function(){s.complete()}})})},e.filter=function(r){var a=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=tm(this);return new i(function(s){return a.subscribe({next:function(o){try{if(!r(o))return}catch(l){return s.error(l)}s.next(o)},error:function(o){s.error(o)},complete:function(){s.complete()}})})},e.reduce=function(r){var a=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=tm(this),s=arguments.length>1,o=!1,l=arguments[1],u=l;return new i(function(c){return a.subscribe({next:function(d){var f=!o;if(o=!0,!f||s)try{u=r(u,d)}catch(p){return c.error(p)}else u=d},error:function(d){c.error(d)},complete:function(){if(!o&&!s)return c.error(new TypeError("Cannot reduce an empty sequence"));c.next(u),c.complete()}})})},e.concat=function(){for(var r=this,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];var o=tm(this);return new o(function(l){var u,c=0;function d(f){u=f.subscribe({next:function(p){l.next(p)},error:function(p){l.error(p)},complete:function(){c===i.length?(u=void 0,l.complete()):d(o.from(i[c++]))}})}return d(r),function(){u&&(u.unsubscribe(),u=void 0)}})},e.flatMap=function(r){var a=this;if(typeof r!="function")throw new TypeError(r+" is not a function");var i=tm(this);return new i(function(s){var o=[],l=a.subscribe({next:function(c){if(r)try{c=r(c)}catch(f){return s.error(f)}var d=i.from(c).subscribe({next:function(f){s.next(f)},error:function(f){s.error(f)},complete:function(){var f=o.indexOf(d);f>=0&&o.splice(f,1),u()}});o.push(d)},error:function(c){s.error(c)},complete:function(){u()}});function u(){l.closed&&o.length===0&&s.complete()}return function(){o.forEach(function(c){return c.unsubscribe()}),l.unsubscribe()}})},e[_4]=function(){return this},t.from=function(r){var a=typeof this=="function"?this:t;if(r==null)throw new TypeError(r+" is not an object");var i=qy(r,_4);if(i){var s=i.call(r);if(Object(s)!==s)throw new TypeError(s+" is not an object");return uhe(s)&&s.constructor===a?s:new a(function(o){return s.subscribe(o)})}if(IE("iterator")&&(i=qy(r,lhe),i))return new a(function(o){P2(function(){if(!o.closed){for(var l=she(i.call(r)),u;!(u=l()).done;){var c=u.value;if(o.next(c),o.closed)return}o.complete()}})});if(Array.isArray(r))return new a(function(o){P2(function(){if(!o.closed){for(var l=0;l<r.length;++l)if(o.next(r[l]),o.closed)return;o.complete()}})});throw new TypeError(r+" is not observable")},t.of=function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var s=typeof this=="function"?this:t;return new s(function(o){P2(function(){if(!o.closed){for(var l=0;l<a.length;++l)if(o.next(a[l]),o.closed)return;o.complete()}})})},TE(t,null,[{key:LB,get:function(){return this}}]),t}();CE()&&Object.defineProperty(Cn,Symbol("extensions"),{value:{symbol:_4,hostReportError:Yf},configurable:!0});function fhe(t){var e,n=t.Symbol;if(typeof n=="function")if(n.observable)e=n.observable;else{typeof n.for=="function"?e=n.for("https://github.com/benlesh/symbol-observable"):e=n("https://github.com/benlesh/symbol-observable");try{n.observable=e}catch{}}else e="@@observable";return e}var Bh;typeof self<"u"?Bh=self:typeof window<"u"?Bh=window:typeof global<"u"?Bh=global:typeof module<"u"?Bh=module:Bh=Function("return this")();fhe(Bh);var ZD=Cn.prototype,JD="@@observable";ZD[JD]||(ZD[JD]=function(){return this});var phe=Object.prototype.toString;function MB(t){return S4(t)}function S4(t,e){switch(phe.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var n=t.slice(0);return e.set(t,n),n.forEach(function(a,i){n[i]=S4(a,e)}),n}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var r=Object.create(Object.getPrototypeOf(t));return e.set(t,r),Object.keys(t).forEach(function(a){r[a]=S4(t[a],e)}),r}default:return t}}function mhe(t){var e=new Set([t]);return e.forEach(function(n){wr(n)&&ghe(n)===n&&Object.getOwnPropertyNames(n).forEach(function(r){wr(n[r])&&e.add(n[r])})}),t}function ghe(t){if(__DEV__&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Dg(t){return __DEV__&&mhe(t),t}function Vm(t,e,n){var r=[];t.forEach(function(a){return a[e]&&r.push(a)}),r.forEach(function(a){return a[e](n)})}function ix(t,e,n){return new Cn(function(r){var a=r.next,i=r.error,s=r.complete,o=0,l=!1,u={then:function(p){return new Promise(function(m){return m(p())})}};function c(p,m){return p?function(g){++o;var v=function(){return p(g)};u=u.then(v,v).then(function(y){--o,a&&a.call(r,y),l&&d.complete()},function(y){throw--o,y}).catch(function(y){i&&i.call(r,y)})}:function(g){return m&&m.call(r,g)}}var d={next:c(e,a),error:c(n,i),complete:function(){l=!0,o||s&&s.call(r)}},f=t.subscribe(d);return function(){return f.unsubscribe()}})}var Pc=typeof WeakMap=="function"&&Gs(function(){return navigator.product})!=="ReactNative",BB=typeof WeakSet=="function",DE=typeof Symbol=="function"&&typeof Symbol.for=="function",Hv=DE&&Symbol.asyncIterator,yhe=typeof Gs(function(){return window.document.createElement})=="function",bhe=Gs(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1,vhe=yhe&&!bhe;function zB(t){function e(n){Object.defineProperty(t,n,{value:Cn})}return DE&&Symbol.species&&e(Symbol.species),e("@@species"),t}function eR(t){return t&&typeof t.then=="function"}var vm=function(t){Ts(e,t);function e(n){var r=t.call(this,function(a){return r.addObserver(a),function(){return r.removeObserver(a)}})||this;return r.observers=new Set,r.promise=new Promise(function(a,i){r.resolve=a,r.reject=i}),r.handlers={next:function(a){r.sub!==null&&(r.latest=["next",a],r.notify("next",a),Vm(r.observers,"next",a))},error:function(a){var i=r.sub;i!==null&&(i&&setTimeout(function(){return i.unsubscribe()}),r.sub=null,r.latest=["error",a],r.reject(a),r.notify("error",a),Vm(r.observers,"error",a))},complete:function(){var a=r,i=a.sub,s=a.sources,o=s===void 0?[]:s;if(i!==null){var l=o.shift();l?eR(l)?l.then(function(u){return r.sub=u.subscribe(r.handlers)}):r.sub=l.subscribe(r.handlers):(i&&setTimeout(function(){return i.unsubscribe()}),r.sub=null,r.latest&&r.latest[0]==="next"?r.resolve(r.latest[1]):r.resolve(),r.notify("complete"),Vm(r.observers,"complete"))}}},r.nextResultListeners=new Set,r.cancel=function(a){r.reject(a),r.sources=[],r.handlers.complete()},r.promise.catch(function(a){}),typeof n=="function"&&(n=[new Cn(n)]),eR(n)?n.then(function(a){return r.start(a)},r.handlers.error):r.start(n),r}return e.prototype.start=function(n){this.sub===void 0&&(this.sources=Array.from(n),this.handlers.complete())},e.prototype.deliverLastMessage=function(n){if(this.latest){var r=this.latest[0],a=n[r];a&&a.call(n,this.latest[1]),this.sub===null&&r==="next"&&n.complete&&n.complete()}},e.prototype.addObserver=function(n){this.observers.has(n)||(this.deliverLastMessage(n),this.observers.add(n))},e.prototype.removeObserver=function(n){this.observers.delete(n)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(n,r){var a=this.nextResultListeners;a.size&&(this.nextResultListeners=new Set,a.forEach(function(i){return i(n,r)}))},e.prototype.beforeNext=function(n){var r=!1;this.nextResultListeners.add(function(a,i){r||(r=!0,n(a,i))})},e}(Cn);zB(vm);function vf(t){return"incremental"in t}function whe(t){return"hasNext"in t&&"data"in t}function xhe(t){return vf(t)||whe(t)}function UB(t,e){var n=t,r=new xc;return vf(e)&&Yi(e.incremental)&&e.incremental.forEach(function(a){for(var i=a.data,s=a.path,o=s.length-1;o>=0;--o){var l=s[o],u=!isNaN(+l),c=u?[]:{};c[l]=i,i=c}n=r.merge(n,i)}),n}function M2(t){var e=N4(t);return Yi(e)}function N4(t){var e=Yi(t.errors)?t.errors.slice(0):[];return vf(t)&&Yi(t.incremental)&&t.incremental.forEach(function(n){n.errors&&e.push.apply(e,n.errors)}),e}function v0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Object.create(null);return t.forEach(function(r){r&&Object.keys(r).forEach(function(a){var i=r[a];i!==void 0&&(n[a]=i)})}),n}var tR=new Map;function E4(t){var e=tR.get(t)||1;return tR.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function _he(t){var e=E4("stringifyForDisplay");return JSON.stringify(t,function(n,r){return r===void 0?e:r}).split(JSON.stringify(e)).join("<undefined>")}function Ad(t,e){return v0(t,e,e.variables&&{variables:Ee(Ee({},t&&t.variables),e.variables)})}function T4(t){return new Cn(function(e){e.error(t)})}function khe(t){var e=!1;return new Promise(function(n,r){t.subscribe({next:function(a){e?__DEV__&&qe.warn("Promise Wrapper does not support multiple results from Observable"):(e=!0,n(a))},error:r})})}function She(t){return new Cn(function(e){t.then(function(n){e.next(n),e.complete()}).catch(e.error.bind(e))})}var Yy=function(t,e,n){var r=new Error(n);throw r.name="ServerError",r.response=t,r.statusCode=t.status,r.result=e,r};function Nhe(t){for(var e=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];if(e.indexOf(a)<0)throw __DEV__?new xn("illegal argument: ".concat(a)):new xn(27)}return t}function Ehe(t,e){var n=Ee({},t),r=function(i){typeof i=="function"?n=Ee(Ee({},n),i(n)):n=Ee(Ee({},n),i)},a=function(){return Ee({},n)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:r}),Object.defineProperty(e,"getContext",{enumerable:!1,value:a}),e}function The(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?x4(e.query)||void 0:""),e}function nR(t,e){return e?e(t):Cn.of()}function nm(t){return typeof t=="function"?new Cs(t):t}function F1(t){return t.request.length<=1}var Che=function(t){Ts(e,t);function e(n,r){var a=t.call(this,n)||this;return a.link=r,a}return e}(Error),Cs=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return Cn.of()})},t.from=function(e){return e.length===0?t.empty():e.map(nm).reduce(function(n,r){return n.concat(r)})},t.split=function(e,n,r){var a=nm(n),i=nm(r||new t(nR));return F1(a)&&F1(i)?new t(function(s){return e(s)?a.request(s)||Cn.of():i.request(s)||Cn.of()}):new t(function(s,o){return e(s)?a.request(s,o)||Cn.of():i.request(s,o)||Cn.of()})},t.execute=function(e,n){return e.request(Ehe(n.context,The(Nhe(n))))||Cn.of()},t.concat=function(e,n){var r=nm(e);if(F1(r))return __DEV__&&qe.warn(new Che("You are calling concat on a terminating link, which will have no effect",r)),r;var a=nm(n);return F1(a)?new t(function(i){return r.request(i,function(s){return a.request(s)||Cn.of()})||Cn.of()}):new t(function(i,s){return r.request(i,function(o){return a.request(o,s)||Cn.of()})||Cn.of()})},t.prototype.split=function(e,n,r){return this.concat(t.split(e,n,r||new t(nR)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,n){throw __DEV__?new xn("request is not implemented"):new xn(22)},t.prototype.onError=function(e,n){if(n&&n.error)return n.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}(),Ihe=Cs.empty,Ahe=Cs.from,jB=Cs.split,Dhe=Cs.concat,Ky=Cs.execute,Rhe="3.7.10";function $he(t){return!!t.body}function Ohe(t){return!!t.getReader}function Lhe(t){return!!(Hv&&t[Symbol.asyncIterator])}function Fhe(t){return!!t.stream}function Phe(t){return!!t.arrayBuffer}function Mhe(t){return!!t.pipe}function Bhe(t){var e,n=t[Symbol.asyncIterator]();return e={next:function(){return n.next()}},e[Symbol.asyncIterator]=function(){return this},e}function zhe(t){var e=null,n=null,r=!1,a=[],i=[];function s(d){if(!n){if(i.length){var f=i.shift();if(Array.isArray(f)&&f[0])return f[0]({value:d,done:!1})}a.push(d)}}function o(d){n=d;var f=i.slice();f.forEach(function(p){p[1](d)}),!e||e()}function l(){r=!0;var d=i.slice();d.forEach(function(f){f[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",o),t.removeListener("end",l),t.removeListener("finish",l),t.removeListener("close",l)},t.on("data",s),t.on("error",o),t.on("end",l),t.on("finish",l),t.on("close",l);function u(){return new Promise(function(d,f){if(n)return f(n);if(a.length)return d({value:a.shift(),done:!1});if(r)return d({value:void 0,done:!0});i.push([d,f])})}var c={next:function(){return u()}};return Hv&&(c[Symbol.asyncIterator]=function(){return this}),c}function Uhe(t){var e=!1,n={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(r,a){t.then(function(i){r({value:i,done:!1})}).catch(a)}))}};return Hv&&(n[Symbol.asyncIterator]=function(){return this}),n}function rR(t){var e={next:function(){return t.read()}};return Hv&&(e[Symbol.asyncIterator]=function(){return this}),e}function jhe(t){var e=t;if($he(t)&&(e=t.body),Lhe(e))return Bhe(e);if(Ohe(e))return rR(e.getReader());if(Fhe(e))return rR(e.stream().getReader());if(Phe(e))return Uhe(e.arrayBuffer());if(Mhe(e))return zhe(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var aR=Object.prototype.hasOwnProperty;function Vhe(t,e){var n,r,a;return $a(this,void 0,void 0,function(){var i,s,o,l,u,c,d,f,p,m,g,v,y,b,w,x,k,S,E,I;return ma(this,function(C){switch(C.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");i=new TextDecoder("utf-8"),s=(n=t.headers)===null||n===void 0?void 0:n.get("content-type"),o="boundary=",l=s!=null&&s.includes(o)?s==null?void 0:s.substring((s==null?void 0:s.indexOf(o))+o.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",u="--".concat(l),c="",d=jhe(t),f=!0,C.label=1;case 1:return f?[4,d.next()]:[3,3];case 2:for(p=C.sent(),m=p.value,g=p.done,v=typeof m=="string"?m:i.decode(m),f=!g,c+=v,y=c.indexOf(u);y>-1;){if(b=void 0,I=[c.slice(0,y),c.slice(y+u.length)],b=I[0],c=I[1],b.trim()){if(w=b.indexOf(`\r
\r
`),x=Whe(b.slice(0,w)),k=x["content-type"],k&&k.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");S=b.slice(w);try{E=VB(t,S.replace(`\r
`,"")),(Object.keys(E).length>1||"data"in E||"incremental"in E||"errors"in E)&&((r=e.next)===null||r===void 0||r.call(e,E))}catch(R){RE(R,e)}}y=c.indexOf(u)}return[3,1];case 3:return(a=e.complete)===null||a===void 0||a.call(e),[2]}})})}function Whe(t){var e={};return t.split(`
`).forEach(function(n){var r=n.indexOf(":");if(r>-1){var a=n.slice(0,r).trim().toLowerCase(),i=n.slice(r+1).trim();e[a]=i}}),e}function VB(t,e){if(t.status>=300){var n=function(){try{return JSON.parse(e)}catch{return e}};Yy(t,n(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(a){var r=a;throw r.name="ServerParseError",r.response=t,r.statusCode=t.status,r.bodyText=e,r}}function RE(t,e){var n,r;t.name!=="AbortError"&&(t.result&&t.result.errors&&t.result.data&&((n=e.next)===null||n===void 0||n.call(e,t.result)),(r=e.error)===null||r===void 0||r.call(e,t))}function Ghe(t,e,n){$E(e)(t).then(function(r){var a,i;(a=n.next)===null||a===void 0||a.call(n,r),(i=n.complete)===null||i===void 0||i.call(n)}).catch(function(r){return RE(r,n)})}function $E(t){return function(e){return e.text().then(function(n){return VB(e,n)}).then(function(n){return e.status>=300&&Yy(e,n,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(n)&&!aR.call(n,"data")&&!aR.call(n,"errors")&&Yy(e,n,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(r){return r.operationName}):t.operationName,"'.")),n})}}var Rg=function(t,e){var n;try{n=JSON.stringify(t)}catch(a){var r=__DEV__?new xn("Network request failed. ".concat(e," is not serializable: ").concat(a.message)):new xn(24);throw r.parseError=a,r}return n},Hhe={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},qhe={accept:"*/*","content-type":"application/json"},Yhe={method:"POST"},OE={http:Hhe,headers:qhe,options:Yhe},qv=function(t,e){return e(t)};function WB(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return n.unshift(e),Yv.apply(void 0,Jd([t,qv],n,!1))}function Yv(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a={},i={};n.forEach(function(d){a=Ee(Ee(Ee({},a),d.options),{headers:Ee(Ee({},a.headers),d.headers)}),d.credentials&&(a.credentials=d.credentials),i=Ee(Ee({},i),d.http)}),a.headers&&(a.headers=Khe(a.headers,i.preserveHeaderCase));var s=t.operationName,o=t.extensions,l=t.variables,u=t.query,c={operationName:s,variables:l};return i.includeExtensions&&(c.extensions=o),i.includeQuery&&(c.query=e(u,DB)),{options:a,body:c}}function Khe(t,e){if(!e){var n=Object.create(null);return Object.keys(Object(t)).forEach(function(i){n[i.toLowerCase()]=t[i]}),n}var r=Object.create(null);Object.keys(Object(t)).forEach(function(i){r[i.toLowerCase()]={originalName:i,value:t[i]}});var a=Object.create(null);return Object.keys(r).forEach(function(i){a[r[i].originalName]=r[i].value}),a}var LE=function(t){if(!t&&typeof fetch>"u")throw __DEV__?new xn(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new xn(23)},FE=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var t=new AbortController,e=t.signal;return{controller:t,signal:e}},PE=function(t,e){var n=t.getContext(),r=n.uri;return r||(typeof e=="function"?e(t):e||"/graphql")};function ME(t,e){var n=[],r=function(d,f){n.push("".concat(d,"=").concat(encodeURIComponent(f)))};if("query"in e&&r("query",e.query),e.operationName&&r("operationName",e.operationName),e.variables){var a=void 0;try{a=Rg(e.variables,"Variables map")}catch(d){return{parseError:d}}r("variables",a)}if(e.extensions){var i=void 0;try{i=Rg(e.extensions,"Extensions map")}catch(d){return{parseError:d}}r("extensions",i)}var s="",o=t,l=t.indexOf("#");l!==-1&&(s=t.substr(l),o=t.substr(0,l));var u=o.indexOf("?")===-1?"?":"&",c=o+u+n.join("&")+s;return{newURI:c}}var iR=Gs(function(){return fetch}),BE=function(t){t===void 0&&(t={});var e=t.uri,n=e===void 0?"/graphql":e,r=t.fetch,a=t.print,i=a===void 0?qv:a,s=t.includeExtensions,o=t.preserveHeaderCase,l=t.useGETForQueries,u=t.includeUnusedVariables,c=u===void 0?!1:u,d=wc(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&LE(r||iR);var f={http:{includeExtensions:s,preserveHeaderCase:o},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Cs(function(p){var m=PE(p,n),g=p.getContext(),v={};if(g.clientAwareness){var y=g.clientAwareness,b=y.name,w=y.version;b&&(v["apollographql-client-name"]=b),w&&(v["apollographql-client-version"]=w)}var x=Ee(Ee({},v),g.headers),k={http:g.http,options:g.fetchOptions,credentials:g.credentials,headers:x},S=Yv(p,i,OE,f,k),E=S.options,I=S.body;if(I.variables&&!c){var C=new Set(Object.keys(I.variables));uu(p.query,{Variable:function(ae,se,X){X&&X.kind!=="VariableDefinition"&&C.delete(ae.name.value)}}),C.size&&(I.variables=Ee({},I.variables),C.forEach(function(ae){delete I.variables[ae]}))}var R;if(!E.signal){var z=FE(),H=z.controller,U=z.signal;R=H,R&&(E.signal=U)}var q=function(ae){return ae.kind==="OperationDefinition"&&ae.operation==="mutation"};if(l&&!p.query.definitions.some(q)&&(E.method="GET"),vE(["defer"],p.query)&&(E.headers=E.headers||{},E.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),E.method==="GET"){var Q=ME(m,I),re=Q.newURI,he=Q.parseError;if(he)return T4(he);m=re}else try{E.body=Rg(I,"Payload")}catch(ae){return T4(ae)}return new Cn(function(ae){var se=r||Gs(function(){return fetch})||iR;return se(m,E).then(function(X){var ne;p.setContext({response:X});var ke=(ne=X.headers)===null||ne===void 0?void 0:ne.get("content-type");return ke!==null&&/^multipart\/mixed/i.test(ke)?Vhe(X,ae):Ghe(X,p,ae)}).catch(function(X){return RE(X,ae)}),function(){R&&R.abort()}})})},zE=function(t){Ts(e,t);function e(n){n===void 0&&(n={});var r=t.call(this,BE(n).request)||this;return r.options=n,r}return e}(Cs);const Xhe=Object.freeze(Object.defineProperty({__proto__:null,HttpLink:zE,checkFetcher:LE,createHttpLink:BE,createSignalIfSupported:FE,defaultPrinter:qv,fallbackHttpConfig:OE,parseAndCheckHttpResponse:$E,rewriteURIForGET:ME,selectHttpOptionsAndBody:WB,selectHttpOptionsAndBodyInternal:Yv,selectURI:PE,serializeFetchParameter:Rg},Symbol.toStringTag,{value:"Module"}));var GB=Object.prototype,sR=GB.toString,Qhe=GB.hasOwnProperty,oR=Function.prototype.toString,C4=new Map;function tr(t,e){try{return I4(t,e)}finally{C4.clear()}}function I4(t,e){if(t===e)return!0;var n=sR.call(t),r=sR.call(e);if(n!==r)return!1;switch(n){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(uR(t,e))return!0;var a=lR(t),i=lR(e),s=a.length;if(s!==i.length)return!1;for(var o=0;o<s;++o)if(!Qhe.call(e,a[o]))return!1;for(var o=0;o<s;++o){var l=a[o];if(!I4(t[l],e[l]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t=="".concat(e);case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(uR(t,e))return!0;for(var u=t.entries(),c=n==="[object Map]";;){var d=u.next();if(d.done)break;var f=d.value,p=f[0],m=f[1];if(!e.has(p)||c&&!I4(m,e.get(p)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{var g=t.byteLength;if(g===e.byteLength)for(;g--&&t[g]===e[g];);return g===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var v=oR.call(t);return v!==oR.call(e)?!1:!efe(v,Jhe)}}return!1}function lR(t){return Object.keys(t).filter(Zhe,t)}function Zhe(t){return this[t]!==void 0}var Jhe="{ [native code] }";function efe(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)===n}function uR(t,e){var n=C4.get(t);if(n){if(n.has(e))return!0}else C4.set(t,n=new Set);return n.add(e),!1}var tfe=function(){return Object.create(null)},HB=Array.prototype,nfe=HB.forEach,rfe=HB.slice,w0=function(){function t(e,n){e===void 0&&(e=!0),n===void 0&&(n=tfe),this.weakness=e,this.makeData=n}return t.prototype.lookup=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var n=this;return nfe.call(e,function(r){return n=n.getChildTrie(r)}),n.data||(n.data=this.makeData(rfe.call(e)))},t.prototype.getChildTrie=function(e){var n=this.weakness&&afe(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness,this.makeData)),r},t}();function afe(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Ia=null,cR={},ife=1,sfe=function(){return function(){function t(){this.id=["slot",ife++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return t.prototype.hasValue=function(){for(var e=Ia;e;e=e.parent)if(this.id in e.slots){var n=e.slots[this.id];if(n===cR)break;return e!==Ia&&(Ia.slots[this.id]=n),!0}return Ia&&(Ia.slots[this.id]=cR),!1},t.prototype.getValue=function(){if(this.hasValue())return Ia.slots[this.id]},t.prototype.withValue=function(e,n,r,a){var i,s=(i={__proto__:null},i[this.id]=e,i),o=Ia;Ia={parent:o,slots:s};try{return n.apply(a,r)}finally{Ia=o}},t.bind=function(e){var n=Ia;return function(){var r=Ia;try{return Ia=n,e.apply(this,arguments)}finally{Ia=r}}},t.noContext=function(e,n,r){if(Ia){var a=Ia;try{return Ia=null,e.apply(r,n)}finally{Ia=a}}else return e.apply(r,n)},t}()};function dR(t){try{return t()}catch{}}var sx="@wry/context:Slot",ofe=dR(function(){return globalThis})||dR(function(){return global})||Object.create(null),hR=ofe,Kv=hR[sx]||Array[sx]||function(t){try{Object.defineProperty(hR,sx,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(sfe());Kv.bind;Kv.noContext;function lfe(){}var ufe=function(){function t(e,n){e===void 0&&(e=1/0),n===void 0&&(n=lfe),this.max=e,this.dispose=n,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(e){return this.map.has(e)},t.prototype.get=function(e){var n=this.getNode(e);return n&&n.value},t.prototype.getNode=function(e){var n=this.map.get(e);if(n&&n!==this.newest){var r=n.older,a=n.newer;a&&(a.older=r),r&&(r.newer=a),n.older=this.newest,n.older.newer=n,n.newer=null,this.newest=n,n===this.oldest&&(this.oldest=a)}return n},t.prototype.set=function(e,n){var r=this.getNode(e);return r?r.value=n:(r={key:e,value:n,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},t.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},t.prototype.delete=function(e){var n=this.map.get(e);return n?(n===this.newest&&(this.newest=n.older),n===this.oldest&&(this.oldest=n.newer),n.newer&&(n.newer.older=n.older),n.older&&(n.older.newer=n.newer),this.map.delete(e),this.dispose(n.value,e),!0):!1},t}(),Xv=new Kv,ox,cfe=Object.prototype.hasOwnProperty,UE=(ox=Array.from,ox===void 0?function(t){var e=[];return t.forEach(function(n){return e.push(n)}),e}:ox);function Xy(t){var e=t.unsubscribe;typeof e=="function"&&(t.unsubscribe=void 0,e())}var $g=[],dfe=100;function Kf(t,e){if(!t)throw new Error(e||"assertion failure")}function hfe(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function qB(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function ffe(t){return t.slice(0)}var pfe=function(){function t(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}return t.prototype.peek=function(){if(this.value.length===1&&!_c(this))return fR(this),this.value[0]},t.prototype.recompute=function(e){return Kf(!this.recomputing,"already recomputing"),fR(this),_c(this)?mfe(this,e):qB(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,YB(this),Xy(this))},t.prototype.dispose=function(){var e=this;this.setDirty(),JB(this),jE(this,function(n,r){n.setDirty(),ez(n,e)})},t.prototype.forget=function(){this.dispose()},t.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=$g.pop()||new Set),this.deps.add(e)},t.prototype.forgetDeps=function(){var e=this;this.deps&&(UE(this.deps).forEach(function(n){return n.delete(e)}),this.deps.clear(),$g.push(this.deps),this.deps=null)},t.count=0,t}();function fR(t){var e=Xv.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),_c(t)?XB(e,t):QB(e,t),e}function mfe(t,e){return JB(t),Xv.withValue(t,gfe,[t,e]),bfe(t,e)&&yfe(t),qB(t.value)}function gfe(t,e){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,e)}catch(n){t.value[1]=n}t.recomputing=!1}function _c(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function yfe(t){t.dirty=!1,!_c(t)&&KB(t)}function YB(t){jE(t,XB)}function KB(t){jE(t,QB)}function jE(t,e){var n=t.parents.size;if(n)for(var r=UE(t.parents),a=0;a<n;++a)e(r[a],t)}function XB(t,e){Kf(t.childValues.has(e)),Kf(_c(e));var n=!_c(t);if(!t.dirtyChildren)t.dirtyChildren=$g.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),n&&YB(t)}function QB(t,e){Kf(t.childValues.has(e)),Kf(!_c(e));var n=t.childValues.get(e);n.length===0?t.childValues.set(e,ffe(e.value)):hfe(n,e.value)||t.setDirty(),ZB(t,e),!_c(t)&&KB(t)}function ZB(t,e){var n=t.dirtyChildren;n&&(n.delete(e),n.size===0&&($g.length<dfe&&$g.push(n),t.dirtyChildren=null))}function JB(t){t.childValues.size>0&&t.childValues.forEach(function(e,n){ez(t,n)}),t.forgetDeps(),Kf(t.dirtyChildren===null)}function ez(t,e){e.parents.delete(t),t.childValues.delete(e),ZB(t,e)}function bfe(t,e){if(typeof t.subscribe=="function")try{Xy(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var vfe={setDirty:!0,dispose:!0,forget:!0};function tz(t){var e=new Map,n=t&&t.subscribe;function r(a){var i=Xv.getValue();if(i){var s=e.get(a);s||e.set(a,s=new Set),i.dependOn(s),typeof n=="function"&&(Xy(s),s.unsubscribe=n(a))}}return r.dirty=function(i,s){var o=e.get(i);if(o){var l=s&&cfe.call(vfe,s)?s:"setDirty";UE(o).forEach(function(u){return u[l]()}),e.delete(i),Xy(o)}},r}function nz(){var t=new w0(typeof WeakMap=="function");return function(){return t.lookupArray(arguments)}}nz();var lx=new Set;function Qy(t,e){e===void 0&&(e=Object.create(null));var n=new ufe(e.max||Math.pow(2,16),function(u){return u.dispose()}),r=e.keyArgs,a=e.makeCacheKey||nz(),i=function(){var u=a.apply(null,r?r.apply(null,arguments):arguments);if(u===void 0)return t.apply(null,arguments);var c=n.get(u);c||(n.set(u,c=new pfe(t)),c.subscribe=e.subscribe,c.forget=function(){return n.delete(u)});var d=c.recompute(Array.prototype.slice.call(arguments));return n.set(u,c),lx.add(n),Xv.hasValue()||(lx.forEach(function(f){return f.clean()}),lx.clear()),d};Object.defineProperty(i,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1});function s(u){var c=n.get(u);c&&c.setDirty()}i.dirtyKey=s,i.dirty=function(){s(a.apply(null,arguments))};function o(u){var c=n.get(u);if(c)return c.peek()}i.peekKey=o,i.peek=function(){return o(a.apply(null,arguments))};function l(u){return n.delete(u)}return i.forgetKey=l,i.forget=function(){return l(a.apply(null,arguments))},i.makeCacheKey=a,i.getKey=r?function(){return a.apply(null,r.apply(null,arguments))}:a,Object.freeze(i)}var rz=function(){function t(){this.getFragmentDoc=Qy(Fde)}return t.prototype.batch=function(e){var n=this,r=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,a;return this.performTransaction(function(){return a=e.update(n)},r),a},t.prototype.recordOptimisticTransaction=function(e,n){this.performTransaction(e,n)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(Ee(Ee({},e),{rootId:e.id||"ROOT_QUERY",optimistic:n}))},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!!e.optimistic),this.read(Ee(Ee({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:n}))},t.prototype.writeQuery=function(e){var n=e.id,r=e.data,a=wc(e,["id","data"]);return this.write(Object.assign(a,{dataId:n||"ROOT_QUERY",result:r}))},t.prototype.writeFragment=function(e){var n=e.id,r=e.data,a=e.fragment,i=e.fragmentName,s=wc(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(a,i),dataId:n,result:r}))},t.prototype.updateQuery=function(e,n){return this.batch({update:function(r){var a=r.readQuery(e),i=n(a);return i==null?a:(r.writeQuery(Ee(Ee({},e),{data:i})),i)}})},t.prototype.updateFragment=function(e,n){return this.batch({update:function(r){var a=r.readFragment(e),i=n(a);return i==null?a:(r.writeFragment(Ee(Ee({},e),{data:i})),i)}})},t}(),A4;(function(t){})(A4||(A4={}));var VE=function(t){Ts(e,t);function e(n,r,a,i){var s,o=t.call(this,n)||this;if(o.message=n,o.path=r,o.query=a,o.variables=i,Array.isArray(o.path)){o.missing=o.message;for(var l=o.path.length-1;l>=0;--l)o.missing=(s={},s[o.path[l]]=o.missing,s)}else o.missing=o.path;return o.__proto__=e.prototype,o}return e}(Error),da=Object.prototype.hasOwnProperty;function rm(t){return t==null}function WE(t,e){var n=t.__typename,r=t.id,a=t._id;if(typeof n=="string"&&(e&&(e.keyObject=rm(r)?rm(a)?void 0:{_id:a}:{id:r}),rm(r)&&!rm(a)&&(r=a),!rm(r)))return"".concat(n,":").concat(typeof r=="number"||typeof r=="string"?r:JSON.stringify(r))}var az={dataIdFromObject:WE,addTypename:!0,resultCaching:!0,canonizeResults:!1};function wfe(t){return v0(az,t)}function iz(t){var e=t.canonizeResults;return e===void 0?az.canonizeResults:e}function xfe(t,e){return Nn(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var sz=/^[_a-z][_0-9a-z]*/i;function kc(t){var e=t.match(sz);return e?e[0]:t}function D4(t,e,n){return wr(e)?Cr(e)?e.every(function(r){return D4(t,r,n)}):t.selections.every(function(r){if(nh(r)&&jv(r,n)){var a=th(r);return da.call(e,a)&&(!r.selectionSet||D4(r.selectionSet,e[a],n))}return!0}):!1}function sf(t){return wr(t)&&!Nn(t)&&!Cr(t)}function _fe(){return new xc}function oz(t,e){var n=wE(kE(t));return{fragmentMap:n,lookupFragment:function(r){var a=n[r];return!a&&e&&(a=e.lookup(r)),a||null}}}var B2=Object.create(null),ux=function(){return B2},pR=Object.create(null),Og=function(){function t(e,n){var r=this;this.policies=e,this.group=n,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(a,i){return Dg(Nn(a)?r.get(a.__ref,i):a&&a[i])},this.canRead=function(a){return Nn(a)?r.has(a.__ref):typeof a=="object"},this.toReference=function(a,i){if(typeof a=="string")return Id(a);if(Nn(a))return a;var s=r.policies.identify(a)[0];if(s){var o=Id(s);return i&&r.merge(s,a),o}}}return t.prototype.toObject=function(){return Ee({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,n){if(this.group.depend(e,n),da.call(this.data,e)){var r=this.data[e];if(r&&da.call(r,n))return r[n]}if(n==="__typename"&&da.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Eu)return this.parent.get(e,n)},t.prototype.lookup=function(e,n){if(n&&this.group.depend(e,"__exists"),da.call(this.data,e))return this.data[e];if(this instanceof Eu)return this.parent.lookup(e,n);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,n){var r=this,a;Nn(e)&&(e=e.__ref),Nn(n)&&(n=n.__ref);var i=typeof e=="string"?this.lookup(a=e):e,s=typeof n=="string"?this.lookup(a=n):n;if(s){__DEV__?qe(typeof a=="string","store.merge expects a string ID"):qe(typeof a=="string",1);var o=new xc(Sfe).merge(i,s);if(this.data[a]=o,o!==i&&(delete this.refs[a],this.group.caching)){var l=Object.create(null);i||(l.__exists=1),Object.keys(s).forEach(function(u){if(!i||i[u]!==o[u]){l[u]=1;var c=kc(u);c!==u&&!r.policies.hasKeyArgs(o.__typename,c)&&(l[c]=1),o[u]===void 0&&!(r instanceof Eu)&&delete o[u]}}),l.__typename&&!(i&&i.__typename)&&this.policies.rootTypenamesById[a]===o.__typename&&delete l.__typename,Object.keys(l).forEach(function(u){return r.group.dirty(a,u)})}}},t.prototype.modify=function(e,n){var r=this,a=this.lookup(e);if(a){var i=Object.create(null),s=!1,o=!0,l={DELETE:B2,INVALIDATE:pR,isReference:Nn,toReference:this.toReference,canRead:this.canRead,readField:function(u,c){return r.policies.readField(typeof u=="string"?{fieldName:u,from:c||Id(e)}:u,{store:r})}};if(Object.keys(a).forEach(function(u){var c=kc(u),d=a[u];if(d!==void 0){var f=typeof n=="function"?n:n[u]||n[c];if(f){var p=f===ux?B2:f(Dg(d),Ee(Ee({},l),{fieldName:c,storeFieldName:u,storage:r.getStorage(e,u)}));p===pR?r.group.dirty(e,u):(p===B2&&(p=void 0),p!==d&&(i[u]=p,s=!0,d=p))}d!==void 0&&(o=!1)}}),s)return this.merge(e,i),o&&(this instanceof Eu?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,n,r){var a,i=this.lookup(e);if(i){var s=this.getFieldValue(i,"__typename"),o=n&&r?this.policies.getStoreFieldName({typename:s,fieldName:n,args:r}):n;return this.modify(e,o?(a={},a[o]=ux,a):ux)}return!1},t.prototype.evict=function(e,n){var r=!1;return e.id&&(da.call(this.data,e.id)&&(r=this.delete(e.id,e.fieldName,e.args)),this instanceof Eu&&this!==n&&(r=this.parent.evict(e,n)||r),(e.fieldName||r)&&this.group.dirty(e.id,e.fieldName||"__exists")),r},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,n=this.toObject(),r=[];return this.getRootIdSet().forEach(function(a){da.call(e.policies.rootTypenamesById,a)||r.push(a)}),r.length&&(n.__META={extraRootIds:r.sort()}),n},t.prototype.replace=function(e){var n=this;if(Object.keys(this.data).forEach(function(i){e&&da.call(e,i)||n.delete(i)}),e){var r=e.__META,a=wc(e,["__META"]);Object.keys(a).forEach(function(i){n.merge(i,a[i])}),r&&r.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var n=--this.rootIds[e];return n||delete this.rootIds[e],n}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Eu?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,n=this.getRootIdSet(),r=this.toObject();n.forEach(function(s){da.call(r,s)&&(Object.keys(e.findChildRefIds(s)).forEach(n.add,n),delete r[s])});var a=Object.keys(r);if(a.length){for(var i=this;i instanceof Eu;)i=i.parent;a.forEach(function(s){return i.delete(s)})}return a},t.prototype.findChildRefIds=function(e){if(!da.call(this.refs,e)){var n=this.refs[e]=Object.create(null),r=this.data[e];if(!r)return n;var a=new Set([r]);a.forEach(function(i){Nn(i)&&(n[i.__ref]=!0),wr(i)&&Object.keys(i).forEach(function(s){var o=i[s];wr(o)&&a.add(o)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}(),lz=function(){function t(e,n){n===void 0&&(n=null),this.caching=e,this.parent=n,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?tz():null,this.keyMaker=new w0(Pc)},t.prototype.depend=function(e,n){if(this.d){this.d(cx(e,n));var r=kc(n);r!==n&&this.d(cx(e,r)),this.parent&&this.parent.depend(e,n)}},t.prototype.dirty=function(e,n){this.d&&this.d.dirty(cx(e,n),n==="__exists"?"forget":"setDirty")},t}();function cx(t,e){return e+"#"+t}function mR(t,e){Wm(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(n){Ts(r,n);function r(a){var i=a.policies,s=a.resultCaching,o=s===void 0?!0:s,l=a.seed,u=n.call(this,i,new lz(o))||this;return u.stump=new kfe(u),u.storageTrie=new w0(Pc),l&&u.replace(l),u}return r.prototype.addLayer=function(a,i){return this.stump.addLayer(a,i)},r.prototype.removeLayer=function(){return this},r.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},r}(t);t.Root=e})(Og||(Og={}));var Eu=function(t){Ts(e,t);function e(n,r,a,i){var s=t.call(this,r.policies,i)||this;return s.id=n,s.parent=r,s.replay=a,s.group=i,a(s),s}return e.prototype.addLayer=function(n,r){return new e(n,this,r,this.group)},e.prototype.removeLayer=function(n){var r=this,a=this.parent.removeLayer(n);return n===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(i){var s=r.data[i],o=a.lookup(i);o?s?s!==o&&Object.keys(s).forEach(function(l){tr(s[l],o[l])||r.group.dirty(i,l)}):(r.group.dirty(i,"__exists"),Object.keys(o).forEach(function(l){r.group.dirty(i,l)})):r.delete(i)}),a):a===this.parent?this:a.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return Ee(Ee({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(n){var r=this.parent.findChildRefIds(n);return da.call(this.data,n)?Ee(Ee({},r),t.prototype.findChildRefIds.call(this,n)):r},e.prototype.getStorage=function(){for(var n=this.parent;n.parent;)n=n.parent;return n.getStorage.apply(n,arguments)},e}(Og),kfe=function(t){Ts(e,t);function e(n){return t.call(this,"EntityStore.Stump",n,function(){},new lz(n.group.caching,n.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},e}(Eu);function Sfe(t,e,n){var r=t[n],a=e[n];return tr(r,a)?r:a}function Wm(t){return!!(t instanceof Og&&t.group.caching)}function Nfe(t){return wr(t)?Cr(t)?t.slice(0):Ee({__proto__:Object.getPrototypeOf(t)},t):t}var R4=function(){function t(){this.known=new(BB?WeakSet:Set),this.pool=new w0(Pc),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return wr(e)&&this.known.has(e)},t.prototype.pass=function(e){if(wr(e)){var n=Nfe(e);return this.passes.set(n,e),n}return e},t.prototype.admit=function(e){var n=this;if(wr(e)){var r=this.passes.get(e);if(r)return r;var a=Object.getPrototypeOf(e);switch(a){case Array.prototype:{if(this.known.has(e))return e;var i=e.map(this.admit,this),s=this.pool.lookupArray(i);return s.array||(this.known.add(s.array=i),__DEV__&&Object.freeze(i)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),l=[o],u=this.sortedKeys(e);l.push(u.json);var c=l.length;u.sorted.forEach(function(p){l.push(n.admit(e[p]))});var s=this.pool.lookupArray(l);if(!s.object){var d=s.object=Object.create(o);this.known.add(d),u.sorted.forEach(function(p,m){d[p]=l[c+m]}),__DEV__&&Object.freeze(d)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var n=Object.keys(e),r=this.pool.lookupArray(n);if(!r.keys){n.sort();var a=JSON.stringify(n);(r.keys=this.keysByJSON.get(a))||this.keysByJSON.set(a,r.keys={sorted:n,json:a})}return r.keys},t}(),Dd=Object.assign(function(t){if(wr(t)){$4===void 0&&gR();var e=$4.admit(t),n=O4.get(e);return n===void 0&&O4.set(e,n=JSON.stringify(e)),n}return JSON.stringify(t)},{reset:gR}),$4,O4;function gR(){$4=new R4,O4=new(Pc?WeakMap:Map)}function yR(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Efe=function(){function t(e){var n=this;this.knownResults=new(Pc?WeakMap:Map),this.config=v0(e,{addTypename:e.addTypename!==!1,canonizeResults:iz(e)}),this.canon=e.canon||new R4,this.executeSelectionSet=Qy(function(r){var a,i=r.context.canonizeResults,s=yR(r);s[3]=!i;var o=(a=n.executeSelectionSet).peek.apply(a,s);return o?i?Ee(Ee({},o),{result:n.canon.admit(o.result)}):o:(mR(r.context.store,r.enclosingRef.__ref),n.execSelectionSetImpl(r))},{max:this.config.resultCacheMaxSize,keyArgs:yR,makeCacheKey:function(r,a,i,s){if(Wm(i.store))return i.store.makeCacheKey(r,Nn(a)?a.__ref:a,i.varString,s)}}),this.executeSubSelectedArray=Qy(function(r){return mR(r.context.store,r.enclosingRef.__ref),n.execSubSelectedArrayImpl(r)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(r){var a=r.field,i=r.array,s=r.context;if(Wm(s.store))return s.store.makeCacheKey(a,i,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new R4},t.prototype.diffQueryAgainstStore=function(e){var n=e.store,r=e.query,a=e.rootId,i=a===void 0?"ROOT_QUERY":a,s=e.variables,o=e.returnPartialData,l=o===void 0?!0:o,u=e.canonizeResults,c=u===void 0?this.config.canonizeResults:u,d=this.config.cache.policies;s=Ee(Ee({},SE(RB(r))),s);var f=Id(i),p=this.executeSelectionSet({selectionSet:Gv(r).selectionSet,objectOrReference:f,enclosingRef:f,context:Ee({store:n,query:r,policies:d,variables:s,varString:Dd(s),canonizeResults:c},oz(r,this.config.fragments))}),m;if(p.missing&&(m=[new VE(Tfe(p.missing),p.missing,r,s)],!l))throw m[0];return{result:p.result,complete:!m,missing:m}},t.prototype.isFresh=function(e,n,r,a){if(Wm(a.store)&&this.knownResults.get(e)===r){var i=this.executeSelectionSet.peek(r,n,a,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var n=this,r=e.selectionSet,a=e.objectOrReference,i=e.enclosingRef,s=e.context;if(Nn(a)&&!s.policies.rootTypenamesById[a.__ref]&&!s.store.has(a.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(a.__ref," object")};var o=s.variables,l=s.policies,u=s.store,c=u.getFieldValue(a,"__typename"),d=[],f,p=new xc;this.config.addTypename&&typeof c=="string"&&!l.rootIdsByTypename[c]&&d.push({__typename:c});function m(w,x){var k;return w.missing&&(f=p.merge(f,(k={},k[x]=w.missing,k))),w.result}var g=new Set(r.selections);g.forEach(function(w){var x,k;if(jv(w,o))if(nh(w)){var S=l.readField({fieldName:w.name.value,field:w,variables:s.variables,from:a},s),E=th(w);S===void 0?NE.added(w)||(f=p.merge(f,(x={},x[E]="Can't find field '".concat(w.name.value,"' on ").concat(Nn(a)?a.__ref+" object":"object "+JSON.stringify(a,null,2)),x))):Cr(S)?S=m(n.executeSubSelectedArray({field:w,array:S,enclosingRef:i,context:s}),E):w.selectionSet?S!=null&&(S=m(n.executeSelectionSet({selectionSet:w.selectionSet,objectOrReference:S,enclosingRef:Nn(S)?S:i,context:s}),E)):s.canonizeResults&&(S=n.canon.pass(S)),S!==void 0&&d.push((k={},k[E]=S,k))}else{var I=xE(w,s.lookupFragment);if(!I&&w.kind===mt.FRAGMENT_SPREAD)throw __DEV__?new xn("No fragment named ".concat(w.name.value)):new xn(5);I&&l.fragmentMatches(I,c)&&I.selectionSet.selections.forEach(g.add,g)}});var v=EE(d),y={result:v,missing:f},b=s.canonizeResults?this.canon.admit(y):Dg(y);return b.result&&this.knownResults.set(b.result,r),b},t.prototype.execSubSelectedArrayImpl=function(e){var n=this,r=e.field,a=e.array,i=e.enclosingRef,s=e.context,o,l=new xc;function u(c,d){var f;return c.missing&&(o=l.merge(o,(f={},f[d]=c.missing,f))),c.result}return r.selectionSet&&(a=a.filter(s.store.canRead)),a=a.map(function(c,d){return c===null?null:Cr(c)?u(n.executeSubSelectedArray({field:r,array:c,enclosingRef:i,context:s}),d):r.selectionSet?u(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:c,enclosingRef:Nn(c)?c:i,context:s}),d):(__DEV__&&Cfe(s.store,r,c),c)}),{result:s.canonizeResults?this.canon.admit(a):a,missing:o}},t}();function Tfe(t){try{JSON.stringify(t,function(e,n){if(typeof n=="string")throw n;return n})}catch(e){return e}}function Cfe(t,e,n){if(!e.selectionSet){var r=new Set([n]);r.forEach(function(a){wr(a)&&(__DEV__?qe(!Nn(a),"Missing selection set for object of type ".concat(xfe(t,a)," returned for query field ").concat(e.name.value)):qe(!Nn(a),6),Object.values(a).forEach(r.add,r))})}}var GE=new Kv,bR=new WeakMap;function Gm(t){var e=bR.get(t);return e||bR.set(t,e={vars:new Set,dep:tz()}),e}function vR(t){Gm(t).vars.forEach(function(e){return e.forgetCache(t)})}function Ife(t){Gm(t).vars.forEach(function(e){return e.attachCache(t)})}function uz(t){var e=new Set,n=new Set,r=function(i){if(arguments.length>0){if(t!==i){t=i,e.forEach(function(l){Gm(l).dep.dirty(r),Afe(l)});var s=Array.from(n);n.clear(),s.forEach(function(l){return l(t)})}}else{var o=GE.getValue();o&&(a(o),Gm(o).dep(r))}return t};r.onNextChange=function(i){return n.add(i),function(){n.delete(i)}};var a=r.attachCache=function(i){return e.add(i),Gm(i).vars.add(r),r};return r.forgetCache=function(i){return e.delete(i)},r}function Afe(t){t.broadcastWatches&&t.broadcastWatches()}var wR=Object.create(null);function HE(t){var e=JSON.stringify(t);return wR[e]||(wR[e]=Object.create(null))}function xR(t){var e=HE(t);return e.keyFieldsFn||(e.keyFieldsFn=function(n,r){var a=function(s,o){return r.readField(o,s)},i=r.keyObject=qE(t,function(s){var o=wf(r.storeObject,s,a);return o===void 0&&n!==r.storeObject&&da.call(n,s[0])&&(o=wf(n,s,dz)),__DEV__?qe(o!==void 0,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(n))):qe(o!==void 0,2),o});return"".concat(r.typename,":").concat(JSON.stringify(i))})}function _R(t){var e=HE(t);return e.keyArgsFn||(e.keyArgsFn=function(n,r){var a=r.field,i=r.variables,s=r.fieldName,o=qE(t,function(u){var c=u[0],d=c.charAt(0);if(d==="@"){if(a&&Yi(a.directives)){var f=c.slice(1),p=a.directives.find(function(y){return y.name.value===f}),m=p&&Vv(p,i);return m&&wf(m,u.slice(1))}return}if(d==="$"){var g=c.slice(1);if(i&&da.call(i,g)){var v=u.slice(0);return v[0]=g,wf(i,v)}return}if(n)return wf(n,u)}),l=JSON.stringify(o);return(n||l!=="{}")&&(s+=":"+l),s})}function qE(t,e){var n=new xc;return cz(t).reduce(function(r,a){var i,s=e(a);if(s!==void 0){for(var o=a.length-1;o>=0;--o)s=(i={},i[a[o]]=s,i);r=n.merge(r,s)}return r},Object.create(null))}function cz(t){var e=HE(t);if(!e.paths){var n=e.paths=[],r=[];t.forEach(function(a,i){Cr(a)?(cz(a).forEach(function(s){return n.push(r.concat(s))}),r.length=0):(r.push(a),Cr(t[i+1])||(n.push(r.slice(0)),r.length=0))})}return e.paths}function dz(t,e){return t[e]}function wf(t,e,n){return n=n||dz,hz(e.reduce(function r(a,i){return Cr(a)?a.map(function(s){return r(s,i)}):a&&n(a,i)},t))}function hz(t){return wr(t)?Cr(t)?t.map(hz):qE(Object.keys(t).sort(),function(e){return wf(t,e)}):t}_E.setStringify(Dd);function L4(t){return t.args!==void 0?t.args:t.field?Vv(t.field,t.variables):null}var Dfe=function(){},kR=function(t,e){return e.fieldName},SR=function(t,e,n){var r=n.mergeObjects;return r(t,e)},NR=function(t,e){return e},Rfe=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Ee({dataIdFromObject:WE},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,n){var r,a=this,i=n&&(n.typename||((r=n.storeObject)===null||r===void 0?void 0:r.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=n&&n.storeObject||e,o=Ee(Ee({},n),{typename:i,storeObject:s,readField:n&&n.readField||function(){var f=YE(arguments,s);return a.readField(f,{store:a.cache.data,variables:f.variables})}}),l,u=i&&this.getTypePolicy(i),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var d=c(e,o);if(Cr(d))c=xR(d);else{l=d;break}}return l=l?String(l):void 0,o.keyObject?[l,o.keyObject]:[l]},t.prototype.addTypePolicies=function(e){var n=this;Object.keys(e).forEach(function(r){var a=e[r],i=a.queryType,s=a.mutationType,o=a.subscriptionType,l=wc(a,["queryType","mutationType","subscriptionType"]);i&&n.setRootTypename("Query",r),s&&n.setRootTypename("Mutation",r),o&&n.setRootTypename("Subscription",r),da.call(n.toBeAdded,r)?n.toBeAdded[r].push(l):n.toBeAdded[r]=[l]})},t.prototype.updateTypePolicy=function(e,n){var r=this,a=this.getTypePolicy(e),i=n.keyFields,s=n.fields;function o(l,u){l.merge=typeof u=="function"?u:u===!0?SR:u===!1?NR:l.merge}o(a,n.merge),a.keyFn=i===!1?Dfe:Cr(i)?xR(i):typeof i=="function"?i:a.keyFn,s&&Object.keys(s).forEach(function(l){var u=r.getFieldPolicy(e,l,!0),c=s[l];if(typeof c=="function")u.read=c;else{var d=c.keyArgs,f=c.read,p=c.merge;u.keyFn=d===!1?kR:Cr(d)?_R(d):typeof d=="function"?d:u.keyFn,typeof f=="function"&&(u.read=f),o(u,p)}u.read&&u.merge&&(u.keyFn=u.keyFn||kR)})},t.prototype.setRootTypename=function(e,n){n===void 0&&(n=e);var r="ROOT_"+e.toUpperCase(),a=this.rootTypenamesById[r];n!==a&&(__DEV__?qe(!a||a===e,"Cannot change root ".concat(e," __typename more than once")):qe(!a||a===e,3),a&&delete this.rootIdsByTypename[a],this.rootIdsByTypename[n]=r,this.rootTypenamesById[r]=n)},t.prototype.addPossibleTypes=function(e){var n=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(r){n.getSupertypeSet(r,!0),e[r].forEach(function(a){n.getSupertypeSet(a,!0).add(r);var i=a.match(sz);(!i||i[0]!==a)&&n.fuzzySubtypes.set(a,new RegExp(a))})})},t.prototype.getTypePolicy=function(e){var n=this;if(!da.call(this.typePolicies,e)){var r=this.typePolicies[e]=Object.create(null);r.fields=Object.create(null);var a=this.supertypeMap.get(e);a&&a.size&&a.forEach(function(s){var o=n.getTypePolicy(s),l=o.fields,u=wc(o,["fields"]);Object.assign(r,u),Object.assign(r.fields,l)})}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach(function(s){n.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,n,r){if(e){var a=this.getTypePolicy(e).fields;return a[n]||r&&(a[n]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,n){var r=this.supertypeMap.get(e);return!r&&n&&this.supertypeMap.set(e,r=new Set),r},t.prototype.fragmentMatches=function(e,n,r,a){var i=this;if(!e.typeCondition)return!0;if(!n)return!1;var s=e.typeCondition.name.value;if(n===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var o=this.getSupertypeSet(n,!0),l=[o],u=function(m){var g=i.getSupertypeSet(m,!1);g&&g.size&&l.indexOf(g)<0&&l.push(g)},c=!!(r&&this.fuzzySubtypes.size),d=!1,f=0;f<l.length;++f){var p=l[f];if(p.has(s))return o.has(s)||(d&&__DEV__&&qe.warn("Inferring subtype ".concat(n," of supertype ").concat(s)),o.add(s)),!0;p.forEach(u),c&&f===l.length-1&&D4(e.selectionSet,r,a)&&(c=!1,d=!0,this.fuzzySubtypes.forEach(function(m,g){var v=n.match(m);v&&v[0]===n&&u(g)}))}return!1},t.prototype.hasKeyArgs=function(e,n){var r=this.getFieldPolicy(e,n,!1);return!!(r&&r.keyFn)},t.prototype.getStoreFieldName=function(e){var n=e.typename,r=e.fieldName,a=this.getFieldPolicy(n,r,!1),i,s=a&&a.keyFn;if(s&&n)for(var o={typename:n,fieldName:r,field:e.field||null,variables:e.variables},l=L4(e);s;){var u=s(l,o);if(Cr(u))s=_R(u);else{i=u||r;break}}return i===void 0&&(i=e.field?qde(e.field,e.variables):_E(r,L4(e))),i===!1?r:r===kc(i)?i:r+":"+i},t.prototype.readField=function(e,n){var r=e.from;if(r){var a=e.field||e.fieldName;if(a){if(e.typename===void 0){var i=n.store.getFieldValue(r,"__typename");i&&(e.typename=i)}var s=this.getStoreFieldName(e),o=kc(s),l=n.store.getFieldValue(r,s),u=this.getFieldPolicy(e.typename,o,!1),c=u&&u.read;if(c){var d=ER(this,r,e,n,n.store.getStorage(Nn(r)?r.__ref:r,s));return GE.withValue(this.cache,c,[l,d])}return l}}},t.prototype.getReadFunction=function(e,n){var r=this.getFieldPolicy(e,n,!1);return r&&r.read},t.prototype.getMergeFunction=function(e,n,r){var a=this.getFieldPolicy(e,n,!1),i=a&&a.merge;return!i&&r&&(a=this.getTypePolicy(r),i=a&&a.merge),i},t.prototype.runMergeFunction=function(e,n,r,a,i){var s=r.field,o=r.typename,l=r.merge;return l===SR?fz(a.store)(e,n):l===NR?n:(a.overwrite&&(e=void 0),l(e,n,ER(this,void 0,{typename:o,fieldName:s.name.value,field:s,variables:a.variables},a,i||Object.create(null))))},t}();function ER(t,e,n,r,a){var i=t.getStoreFieldName(n),s=kc(i),o=n.variables||r.variables,l=r.store,u=l.toReference,c=l.canRead;return{args:L4(n),field:n.field||null,fieldName:s,storeFieldName:i,variables:o,isReference:Nn,toReference:u,storage:a,cache:t.cache,canRead:c,readField:function(){return t.readField(YE(arguments,e,o),r)},mergeObjects:fz(r.store)}}function YE(t,e,n){var r=t[0],a=t[1],i=t.length,s;return typeof r=="string"?s={fieldName:r,from:i>1?a:e}:(s=Ee({},r),da.call(s,"from")||(s.from=e)),__DEV__&&s.from===void 0&&__DEV__&&qe.warn("Undefined 'from' passed to readField with arguments ".concat(_he(Array.from(t)))),s.variables===void 0&&(s.variables=n),s}function fz(t){return function(n,r){if(Cr(n)||Cr(r))throw __DEV__?new xn("Cannot automatically merge arrays"):new xn(4);if(wr(n)&&wr(r)){var a=t.getFieldValue(n,"__typename"),i=t.getFieldValue(r,"__typename"),s=a&&i&&a!==i;if(s)return r;if(Nn(n)&&sf(r))return t.merge(n.__ref,r),n;if(sf(n)&&Nn(r))return t.merge(n,r.__ref),r;if(sf(n)&&sf(r))return Ee(Ee({},n),r)}return r}}function dx(t,e,n){var r="".concat(e).concat(n),a=t.flavors.get(r);return a||t.flavors.set(r,a=t.clientOnly===e&&t.deferred===n?t:Ee(Ee({},t),{clientOnly:e,deferred:n})),a}var $fe=function(){function t(e,n,r){this.cache=e,this.reader=n,this.fragments=r}return t.prototype.writeToStore=function(e,n){var r=this,a=n.query,i=n.result,s=n.dataId,o=n.variables,l=n.overwrite,u=b0(a),c=_fe();o=Ee(Ee({},SE(u)),o);var d=Ee(Ee({store:e,written:Object.create(null),merge:function(p,m){return c.merge(p,m)},variables:o,varString:Dd(o)},oz(a,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:i||Object.create(null),dataId:s,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:d});if(!Nn(f))throw __DEV__?new xn("Could not identify object ".concat(JSON.stringify(i))):new xn(7);return d.incomingById.forEach(function(p,m){var g=p.storeObject,v=p.mergeTree,y=p.fieldNodeSet,b=Id(m);if(v&&v.map.size){var w=r.applyMerges(v,b,g,d);if(Nn(w))return;g=w}if(__DEV__&&!d.overwrite){var x=Object.create(null);y.forEach(function(E){E.selectionSet&&(x[E.name.value]=!0)});var k=function(E){return x[kc(E)]===!0},S=function(E){var I=v&&v.map.get(E);return!!(I&&I.info&&I.info.merge)};Object.keys(g).forEach(function(E){k(E)&&!S(E)&&Ofe(b,g,E,d.store)})}e.merge(m,g)}),e.retain(f.__ref),f},t.prototype.processSelectionSet=function(e){var n=this,r=e.dataId,a=e.result,i=e.selectionSet,s=e.context,o=e.mergeTree,l=this.cache.policies,u=Object.create(null),c=r&&l.rootTypenamesById[r]||w4(a,i,s.fragmentMap)||r&&s.store.get(r,"__typename");typeof c=="string"&&(u.__typename=c);var d=function(){var w=YE(arguments,u,s.variables);if(Nn(w.from)){var x=s.incomingById.get(w.from.__ref);if(x){var k=l.readField(Ee(Ee({},w),{from:x.storeObject}),s);if(k!==void 0)return k}}return l.readField(w,s)},f=new Set;this.flattenFields(i,a,s,c).forEach(function(w,x){var k,S=th(x),E=a[S];if(f.add(x),E!==void 0){var I=l.getStoreFieldName({typename:c,fieldName:x.name.value,field:x,variables:w.variables}),C=TR(o,I),R=n.processFieldValue(E,x,x.selectionSet?dx(w,!1,!1):w,C),z=void 0;x.selectionSet&&(Nn(R)||sf(R))&&(z=d("__typename",R));var H=l.getMergeFunction(c,x.name.value,z);H?C.info={field:x,typename:c,merge:H}:CR(o,I),u=w.merge(u,(k={},k[I]=R,k))}else __DEV__&&!w.clientOnly&&!w.deferred&&!NE.added(x)&&!l.getReadFunction(c,x.name.value)&&__DEV__&&qe.error("Missing field '".concat(th(x),"' while writing result ").concat(JSON.stringify(a,null,2)).substring(0,1e3))});try{var p=l.identify(a,{typename:c,selectionSet:i,fragmentMap:s.fragmentMap,storeObject:u,readField:d}),m=p[0],g=p[1];r=r||m,g&&(u=s.merge(u,g))}catch(w){if(!r)throw w}if(typeof r=="string"){var v=Id(r),y=s.written[r]||(s.written[r]=[]);if(y.indexOf(i)>=0||(y.push(i),this.reader&&this.reader.isFresh(a,v,i,s)))return v;var b=s.incomingById.get(r);return b?(b.storeObject=s.merge(b.storeObject,u),b.mergeTree=F4(b.mergeTree,o),f.forEach(function(w){return b.fieldNodeSet.add(w)})):s.incomingById.set(r,{storeObject:u,mergeTree:Zy(o)?void 0:o,fieldNodeSet:f}),v}return u},t.prototype.processFieldValue=function(e,n,r,a){var i=this;return!n.selectionSet||e===null?__DEV__?MB(e):e:Cr(e)?e.map(function(s,o){var l=i.processFieldValue(s,n,r,TR(a,o));return CR(a,o),l}):this.processSelectionSet({result:e,selectionSet:n.selectionSet,context:r,mergeTree:a})},t.prototype.flattenFields=function(e,n,r,a){a===void 0&&(a=w4(n,e,r.fragmentMap));var i=new Map,s=this.cache.policies,o=new w0(!1);return function l(u,c){var d=o.lookup(u,c.clientOnly,c.deferred);d.visited||(d.visited=!0,u.selections.forEach(function(f){if(jv(f,r.variables)){var p=c.clientOnly,m=c.deferred;if(!(p&&m)&&Yi(f.directives)&&f.directives.forEach(function(y){var b=y.name.value;if(b==="client"&&(p=!0),b==="defer"){var w=Vv(y,r.variables);(!w||w.if!==!1)&&(m=!0)}}),nh(f)){var g=i.get(f);g&&(p=p&&g.clientOnly,m=m&&g.deferred),i.set(f,dx(r,p,m))}else{var v=xE(f,r.lookupFragment);if(!v&&f.kind===mt.FRAGMENT_SPREAD)throw __DEV__?new xn("No fragment named ".concat(f.name.value)):new xn(8);v&&s.fragmentMatches(v,a,n,r.variables)&&l(v.selectionSet,dx(r,p,m))}}}))}(e,r),i},t.prototype.applyMerges=function(e,n,r,a,i){var s,o=this;if(e.map.size&&!Nn(r)){var l=!Cr(r)&&(Nn(n)||sf(n))?n:void 0,u=r;l&&!i&&(i=[Nn(l)?l.__ref:l]);var c,d=function(f,p){return Cr(f)?typeof p=="number"?f[p]:void 0:a.store.getFieldValue(f,String(p))};e.map.forEach(function(f,p){var m=d(l,p),g=d(u,p);if(g!==void 0){i&&i.push(p);var v=o.applyMerges(f,m,g,a,i);v!==g&&(c=c||new Map,c.set(p,v)),i&&qe(i.pop()===p)}}),c&&(r=Cr(u)?u.slice(0):Ee({},u),c.forEach(function(f,p){r[p]=f}))}return e.info?this.cache.policies.runMergeFunction(n,r,e.info,a,i&&(s=a.store).getStorage.apply(s,i)):r},t}(),pz=[];function TR(t,e){var n=t.map;return n.has(e)||n.set(e,pz.pop()||{map:new Map}),n.get(e)}function F4(t,e){if(t===e||!e||Zy(e))return t;if(!t||Zy(t))return e;var n=t.info&&e.info?Ee(Ee({},t.info),e.info):t.info||e.info,r=t.map.size&&e.map.size,a=r?new Map:t.map.size?t.map:e.map,i={info:n,map:a};if(r){var s=new Set(e.map.keys());t.map.forEach(function(o,l){i.map.set(l,F4(o,e.map.get(l))),s.delete(l)}),s.forEach(function(o){i.map.set(o,F4(e.map.get(o),t.map.get(o)))})}return i}function Zy(t){return!t||!(t.info||t.map.size)}function CR(t,e){var n=t.map,r=n.get(e);r&&Zy(r)&&(pz.push(r),n.delete(e))}var IR=new Set;function Ofe(t,e,n,r){var a=function(d){var f=r.getFieldValue(d,n);return typeof f=="object"&&f},i=a(t);if(i){var s=a(e);if(s&&!Nn(i)&&!tr(i,s)&&!Object.keys(i).every(function(d){return r.getFieldValue(s,d)!==void 0})){var o=r.getFieldValue(t,"__typename")||r.getFieldValue(e,"__typename"),l=kc(n),u="".concat(o,".").concat(l);if(!IR.has(u)){IR.add(u);var c=[];!Cr(i)&&!Cr(s)&&[i,s].forEach(function(d){var f=r.getFieldValue(d,"__typename");typeof f=="string"&&!c.includes(f)&&c.push(f)}),__DEV__&&qe.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(o,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(c.length?"either ensure all objects of type "+c.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(u,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(i).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(s).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var mz=function(t){Ts(e,t);function e(n){n===void 0&&(n={});var r=t.call(this)||this;return r.watches=new Set,r.typenameDocumentCache=new Map,r.makeVar=uz,r.txCount=0,r.config=wfe(n),r.addTypename=!!r.config.addTypename,r.policies=new Rfe({cache:r,dataIdFromObject:r.config.dataIdFromObject,possibleTypes:r.config.possibleTypes,typePolicies:r.config.typePolicies}),r.init(),r}return e.prototype.init=function(){var n=this.data=new Og.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=n.stump,this.resetResultCache()},e.prototype.resetResultCache=function(n){var r=this,a=this.storeReader,i=this.config.fragments;this.storeWriter=new $fe(this,this.storeReader=new Efe({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:iz(this.config),canon:n?void 0:a&&a.canon,fragments:i}),i),this.maybeBroadcastWatch=Qy(function(s,o){return r.broadcastWatch(s,o)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var o=s.optimistic?r.optimisticData:r.data;if(Wm(o)){var l=s.optimistic,u=s.id,c=s.variables;return o.makeCacheKey(s.query,s.callback,Dd({optimistic:l,id:u,variables:c}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(n){return this.init(),n&&this.data.replace(n),this},e.prototype.extract=function(n){return n===void 0&&(n=!1),(n?this.optimisticData:this.data).extract()},e.prototype.read=function(n){var r=n.returnPartialData,a=r===void 0?!1:r;try{return this.storeReader.diffQueryAgainstStore(Ee(Ee({},n),{store:n.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:a})).result||null}catch(i){if(i instanceof VE)return null;throw i}},e.prototype.write=function(n){try{return++this.txCount,this.storeWriter.writeToStore(this.data,n)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(n){if(da.call(n,"id")&&!n.id)return!1;var r=n.optimistic?this.optimisticData:this.data;try{return++this.txCount,r.modify(n.id||"ROOT_QUERY",n.fields)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(n){return this.storeReader.diffQueryAgainstStore(Ee(Ee({},n),{store:n.optimistic?this.optimisticData:this.data,rootId:n.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(n){var r=this;return this.watches.size||Ife(this),this.watches.add(n),n.immediate&&this.maybeBroadcastWatch(n),function(){r.watches.delete(n)&&!r.watches.size&&vR(r),r.maybeBroadcastWatch.forget(n)}},e.prototype.gc=function(n){Dd.reset();var r=this.optimisticData.gc();return n&&!this.txCount&&(n.resetResultCache?this.resetResultCache(n.resetResultIdentities):n.resetResultIdentities&&this.storeReader.resetCanon()),r},e.prototype.retain=function(n,r){return(r?this.optimisticData:this.data).retain(n)},e.prototype.release=function(n,r){return(r?this.optimisticData:this.data).release(n)},e.prototype.identify=function(n){if(Nn(n))return n.__ref;try{return this.policies.identify(n)[0]}catch(r){__DEV__&&qe.warn(r)}},e.prototype.evict=function(n){if(!n.id){if(da.call(n,"id"))return!1;n=Ee(Ee({},n),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(n,this.data)}finally{!--this.txCount&&n.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(n){var r=this;return this.init(),Dd.reset(),n&&n.discardWatches?(this.watches.forEach(function(a){return r.maybeBroadcastWatch.forget(a)}),this.watches.clear(),vR(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(n){var r=this.optimisticData.removeLayer(n);r!==this.optimisticData&&(this.optimisticData=r,this.broadcastWatches())},e.prototype.batch=function(n){var r=this,a=n.update,i=n.optimistic,s=i===void 0?!0:i,o=n.removeOptimistic,l=n.onWatchUpdated,u,c=function(f){var p=r,m=p.data,g=p.optimisticData;++r.txCount,f&&(r.data=r.optimisticData=f);try{return u=a(r)}finally{--r.txCount,r.data=m,r.optimisticData=g}},d=new Set;return l&&!this.txCount&&this.broadcastWatches(Ee(Ee({},n),{onWatchUpdated:function(f){return d.add(f),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,c):s===!1?c(this.data):c(),typeof o=="string"&&(this.optimisticData=this.optimisticData.removeLayer(o)),l&&d.size?(this.broadcastWatches(Ee(Ee({},n),{onWatchUpdated:function(f,p){var m=l.call(this,f,p);return m!==!1&&d.delete(f),m}})),d.size&&d.forEach(function(f){return r.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(n),u},e.prototype.performTransaction=function(n,r){return this.batch({update:n,optimistic:r||r!==null})},e.prototype.transformDocument=function(n){if(this.addTypename){var r=this.typenameDocumentCache.get(n);return r||(r=NE(n),this.typenameDocumentCache.set(n,r),this.typenameDocumentCache.set(r,r)),r}return n},e.prototype.transformForLink=function(n){var r=this.config.fragments;return r?r.transform(n):n},e.prototype.broadcastWatches=function(n){var r=this;this.txCount||this.watches.forEach(function(a){return r.maybeBroadcastWatch(a,n)})},e.prototype.broadcastWatch=function(n,r){var a=n.lastDiff,i=this.diff(n);r&&(n.optimistic&&typeof r.optimistic=="string"&&(i.fromOptimisticTransaction=!0),r.onWatchUpdated&&r.onWatchUpdated.call(this,n,i,a)===!1)||(!a||!tr(a.result,i.result))&&n.callback(n.lastDiff=i,a)},e}(rz);function gz(t){return t.hasOwnProperty("graphQLErrors")}var Lfe=function(t){var e="";if(Yi(t.graphQLErrors)||Yi(t.clientErrors)){var n=(t.graphQLErrors||[]).concat(t.clientErrors||[]);n.forEach(function(r){var a=r?r.message:"Error message not found.";e+="".concat(a,`
`)})}return t.networkError&&(e+="".concat(t.networkError.message,`
`)),e=e.replace(/\n$/,""),e},To=function(t){Ts(e,t);function e(n){var r=n.graphQLErrors,a=n.clientErrors,i=n.networkError,s=n.errorMessage,o=n.extraInfo,l=t.call(this,s)||this;return l.name="ApolloError",l.graphQLErrors=r||[],l.clientErrors=a||[],l.networkError=i||null,l.message=s||Lfe(l),l.extraInfo=o,l.__proto__=e.prototype,l}return e}(Error),pn;(function(t){t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error"})(pn||(pn={}));function Lg(t){return t?t<7:!1}var Ffe=Object.assign,Pfe=Object.hasOwnProperty,Jy=function(t){Ts(e,t);function e(n){var r=n.queryManager,a=n.queryInfo,i=n.options,s=t.call(this,function(v){try{var y=v._subscription._observer;y&&!y.error&&(y.error=Mfe)}catch{}var b=!s.observers.size;s.observers.add(v);var w=s.last;return w&&w.error?v.error&&v.error(w.error):w&&w.result&&v.next&&v.next(w.result),b&&s.reobserve().catch(function(){}),function(){s.observers.delete(v)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=a,s.queryManager=r,s.isTornDown=!1;var o=r.defaultOptions.watchQuery,l=o===void 0?{}:o,u=l.fetchPolicy,c=u===void 0?"cache-first":u,d=i.fetchPolicy,f=d===void 0?c:d,p=i.initialFetchPolicy,m=p===void 0?f==="standby"?c:f:p;s.options=Ee(Ee({},i),{initialFetchPolicy:m,fetchPolicy:f}),s.queryId=a.queryId||r.generateQueryId();var g=b0(s.query);return s.queryName=g&&g.name&&g.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var n=this;return new Promise(function(r,a){var i={next:function(o){r(o),n.observers.delete(i),n.observers.size||n.queryManager.removeQuery(n.queryId),setTimeout(function(){s.unsubscribe()},0)},error:a},s=n.subscribe(i)})},e.prototype.getCurrentResult=function(n){n===void 0&&(n=!0);var r=this.getLastResult(!0),a=this.queryInfo.networkStatus||r&&r.networkStatus||pn.ready,i=Ee(Ee({},r),{loading:Lg(a),networkStatus:a}),s=this.options.fetchPolicy,o=s===void 0?"cache-first":s;if(!(o==="network-only"||o==="no-cache"||o==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(i.data=l.result),tr(i.data,{})&&(i.data=void 0),l.complete?(delete i.partial,l.complete&&i.networkStatus===pn.loading&&(o==="cache-first"||o==="cache-only")&&(i.networkStatus=pn.ready,i.loading=!1)):i.partial=!0,__DEV__&&!l.complete&&!this.options.partialRefetch&&!i.loading&&!i.data&&!i.error&&bz(l.missing)}return n&&this.updateLastResult(i),i},e.prototype.isDifferentFromLastResult=function(n,r){return!this.last||!tr(this.last.result,n)||r&&!tr(this.last.variables,r)},e.prototype.getLast=function(n,r){var a=this.last;if(a&&a[n]&&(!r||tr(a.variables,this.variables)))return a[n]},e.prototype.getLastResult=function(n){return this.getLast("result",n)},e.prototype.getLastError=function(n){return this.getLast("error",n)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(n){var r,a={pollInterval:0},i=this.options.fetchPolicy;if(i==="cache-and-network"?a.fetchPolicy=i:i==="no-cache"?a.fetchPolicy="no-cache":a.fetchPolicy="network-only",__DEV__&&n&&Pfe.call(n,"variables")){var s=RB(this.query),o=s.variableDefinitions;(!o||!o.some(function(l){return l.variable.name.value==="variables"}))&&__DEV__&&qe.warn("Called refetch(".concat(JSON.stringify(n),") for query ").concat(((r=s.name)===null||r===void 0?void 0:r.value)||JSON.stringify(s),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return n&&!tr(this.options.variables,n)&&(a.variables=this.options.variables=Ee(Ee({},this.options.variables),n)),this.queryInfo.resetLastWrite(),this.reobserve(a,pn.refetch)},e.prototype.fetchMore=function(n){var r=this,a=Ee(Ee({},n.query?n:Ee(Ee(Ee(Ee({},this.options),{query:this.query}),n),{variables:Ee(Ee({},this.options.variables),n.variables)})),{fetchPolicy:"no-cache"}),i=this.queryManager.generateQueryId(),s=this.queryInfo,o=s.networkStatus;s.networkStatus=pn.fetchMore,a.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(i,a,pn.fetchMore).then(function(u){return r.queryManager.removeQuery(i),s.networkStatus===pn.fetchMore&&(s.networkStatus=o),r.queryManager.cache.batch({update:function(c){var d=n.updateQuery;d?c.updateQuery({query:r.query,variables:r.variables,returnPartialData:!0,optimistic:!1},function(f){return d(f,{fetchMoreResult:u.data,variables:a.variables})}):c.writeQuery({query:a.query,variables:a.variables,data:u.data})},onWatchUpdated:function(c){l.add(c.query)}}),u}).finally(function(){l.has(r.query)||yz(r)})},e.prototype.subscribeToMore=function(n){var r=this,a=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables,context:n.context}).subscribe({next:function(i){var s=n.updateQuery;s&&r.updateQuery(function(o,l){var u=l.variables;return s(o,{subscriptionData:i,variables:u})})},error:function(i){if(n.onError){n.onError(i);return}__DEV__&&qe.error("Unhandled GraphQL subscription error",i)}});return this.subscriptions.add(a),function(){r.subscriptions.delete(a)&&a.unsubscribe()}},e.prototype.setOptions=function(n){return this.reobserve(n)},e.prototype.setVariables=function(n){return tr(this.variables,n)?this.observers.size?this.result():Promise.resolve():(this.options.variables=n,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:n},pn.setVariables):Promise.resolve())},e.prototype.updateQuery=function(n){var r=this.queryManager,a=r.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,i=n(a,{variables:this.variables});i&&(r.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),r.broadcastQueries())},e.prototype.startPolling=function(n){this.options.pollInterval=n,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(n,r){if(r.nextFetchPolicy){var a=r.fetchPolicy,i=a===void 0?"cache-first":a,s=r.initialFetchPolicy,o=s===void 0?i:s;i==="standby"||(typeof r.nextFetchPolicy=="function"?r.fetchPolicy=r.nextFetchPolicy(i,{reason:n,options:r,observable:this,initialFetchPolicy:o}):n==="variables-changed"?r.fetchPolicy=o:r.fetchPolicy=r.nextFetchPolicy)}return r.fetchPolicy},e.prototype.fetch=function(n,r){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,n,r)},e.prototype.updatePolling=function(){var n=this;if(!this.queryManager.ssrMode){var r=this,a=r.pollingInfo,i=r.options.pollInterval;if(!i){a&&(clearTimeout(a.timeout),delete this.pollingInfo);return}if(!(a&&a.interval===i)){__DEV__?qe(i,"Attempted to start a polling query without a polling interval."):qe(i,13);var s=a||(this.pollingInfo={});s.interval=i;var o=function(){n.pollingInfo&&(Lg(n.queryInfo.networkStatus)?l():n.reobserve({fetchPolicy:n.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},pn.poll).then(l,l))},l=function(){var u=n.pollingInfo;u&&(clearTimeout(u.timeout),u.timeout=setTimeout(o,u.interval))};l()}}},e.prototype.updateLastResult=function(n,r){return r===void 0&&(r=this.variables),this.last=Ee(Ee({},this.last),{result:this.queryManager.assumeImmutableResults?n:MB(n),variables:r}),Yi(n.errors)||delete this.last.error,this.last},e.prototype.reobserve=function(n,r){var a=this;this.isTornDown=!1;var i=r===pn.refetch||r===pn.fetchMore||r===pn.poll,s=this.options.variables,o=this.options.fetchPolicy,l=v0(this.options,n||{}),u=i?l:Ffe(this.options,l);i||(this.updatePolling(),n&&n.variables&&!tr(n.variables,s)&&u.fetchPolicy!=="standby"&&u.fetchPolicy===o&&(this.applyNextFetchPolicy("variables-changed",u),r===void 0&&(r=pn.setVariables)));var c=u.variables&&Ee({},u.variables),d=this.fetch(u,r),f={next:function(p){a.reportResult(p,c)},error:function(p){a.reportError(p,c)}};return i||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=d,this.observer=f),d.addObserver(f),d.promise},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(n,r){var a=this.getLastError();(a||this.isDifferentFromLastResult(n,r))&&((a||!n.partial||this.options.returnPartialData)&&this.updateLastResult(n,r),Vm(this.observers,"next",n))},e.prototype.reportError=function(n,r){var a=Ee(Ee({},this.getLastResult()),{error:n,errors:n.graphQLErrors,networkStatus:pn.error,loading:!1});this.updateLastResult(a,r),Vm(this.observers,"error",this.last.error=n)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(n){return n.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e}(Cn);zB(Jy);function yz(t){var e=t.options,n=e.fetchPolicy,r=e.nextFetchPolicy;return n==="cache-and-network"||n==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=r,typeof r=="function"?r.apply(this,arguments):n}}):t.reobserve()}function Mfe(t){__DEV__&&qe.error("Unhandled error",t.message,t.stack)}function bz(t){__DEV__&&t&&__DEV__&&qe.debug("Missing cache result fields: ".concat(JSON.stringify(t)),t)}var vz=function(){function t(e){var n=e.cache,r=e.client,a=e.resolvers,i=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=n,r&&(this.client=r),a&&this.addResolvers(a),i&&this.setFragmentMatcher(i)}return t.prototype.addResolvers=function(e){var n=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(r){n.resolvers=KD(n.resolvers,r)}):this.resolvers=KD(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var n=e.document,r=e.remoteResult,a=e.context,i=e.variables,s=e.onlyRunForcedResolvers,o=s===void 0?!1:s;return $a(this,void 0,void 0,function(){return ma(this,function(l){return n?[2,this.resolveDocument(n,r.data,a,i,this.fragmentMatcher,o).then(function(u){return Ee(Ee({},r),{data:u.result})})]:[2,r]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return vE(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return rhe(e)},t.prototype.prepareContext=function(e){var n=this.cache;return Ee(Ee({},e),{cache:n,getCacheKey:function(r){return n.identify(r)}})},t.prototype.addExportedVariables=function(e,n,r){return n===void 0&&(n={}),r===void 0&&(r={}),$a(this,void 0,void 0,function(){return ma(this,function(a){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,n)||{},this.prepareContext(r),n).then(function(i){return Ee(Ee({},n),i.exportedVariables)})]:[2,Ee({},n)]})})},t.prototype.shouldForceResolvers=function(e){var n=!1;return uu(e,{Directive:{enter:function(r){if(r.name.value==="client"&&r.arguments&&(n=r.arguments.some(function(a){return a.name.value==="always"&&a.value.kind==="BooleanValue"&&a.value.value===!0}),n))return bE}}}),n},t.prototype.buildRootValueFromCache=function(e,n){return this.cache.diff({query:nhe(e),variables:n,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,n,r,a,i,s){return r===void 0&&(r={}),a===void 0&&(a={}),i===void 0&&(i=function(){return!0}),s===void 0&&(s=!1),$a(this,void 0,void 0,function(){var o,l,u,c,d,f,p,m,g,v,y;return ma(this,function(b){return o=Gv(e),l=kE(e),u=wE(l),c=this.collectSelectionsToResolve(o,u),d=o.operation,f=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",p=this,m=p.cache,g=p.client,v={fragmentMap:u,context:Ee(Ee({},r),{cache:m,client:g}),variables:a,fragmentMatcher:i,defaultOperationType:f,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:s},y=!1,[2,this.resolveSelectionSet(o.selectionSet,y,n,v).then(function(w){return{result:w,exportedVariables:v.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,n,r,a){return $a(this,void 0,void 0,function(){var i,s,o,l,u,c=this;return ma(this,function(d){return i=a.fragmentMap,s=a.context,o=a.variables,l=[r],u=function(f){return $a(c,void 0,void 0,function(){var p,m;return ma(this,function(g){return!n&&!a.selectionsToResolve.has(f)?[2]:jv(f,o)?nh(f)?[2,this.resolveField(f,n,r,a).then(function(v){var y;typeof v<"u"&&l.push((y={},y[th(f)]=v,y))})]:(Xde(f)?p=f:(p=i[f.name.value],__DEV__?qe(p,"No fragment named ".concat(f.name.value)):qe(p,11)),p&&p.typeCondition&&(m=p.typeCondition.name.value,a.fragmentMatcher(r,m,s))?[2,this.resolveSelectionSet(p.selectionSet,n,r,a).then(function(v){l.push(v)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(u)).then(function(){return EE(l)})]})})},t.prototype.resolveField=function(e,n,r,a){return $a(this,void 0,void 0,function(){var i,s,o,l,u,c,d,f,p,m=this;return ma(this,function(g){return r?(i=a.variables,s=e.name.value,o=th(e),l=s!==o,u=r[o]||r[s],c=Promise.resolve(u),(!a.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(d=r.__typename||a.defaultOperationType,f=this.resolvers&&this.resolvers[d],f&&(p=f[l?s:o],p&&(c=Promise.resolve(GE.withValue(this.cache,p,[r,Vv(e,i),a.context,{field:e,fragmentMap:a.fragmentMap}]))))),[2,c.then(function(v){var y,b;if(v===void 0&&(v=u),e.directives&&e.directives.forEach(function(x){x.name.value==="export"&&x.arguments&&x.arguments.forEach(function(k){k.name.value==="as"&&k.value.kind==="StringValue"&&(a.exportedVariables[k.value.value]=v)})}),!e.selectionSet||v==null)return v;var w=(b=(y=e.directives)===null||y===void 0?void 0:y.some(function(x){return x.name.value==="client"}))!==null&&b!==void 0?b:!1;if(Array.isArray(v))return m.resolveSubSelectedArray(e,n||w,v,a);if(e.selectionSet)return m.resolveSelectionSet(e.selectionSet,n||w,v,a)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,n,r,a){var i=this;return Promise.all(r.map(function(s){if(s===null)return null;if(Array.isArray(s))return i.resolveSubSelectedArray(e,n,s,a);if(e.selectionSet)return i.resolveSelectionSet(e.selectionSet,n,s,a)}))},t.prototype.collectSelectionsToResolve=function(e,n){var r=function(s){return!Array.isArray(s)},a=this.selectionsToResolveCache;function i(s){if(!a.has(s)){var o=new Set;a.set(s,o),uu(s,{Directive:function(l,u,c,d,f){l.name.value==="client"&&f.forEach(function(p){r(p)&&HD(p)&&o.add(p)})},FragmentSpread:function(l,u,c,d,f){var p=n[l.name.value];__DEV__?qe(p,"No fragment named ".concat(l.name.value)):qe(p,12);var m=i(p);m.size>0&&(f.forEach(function(g){r(g)&&HD(g)&&o.add(g)}),o.add(l),m.forEach(function(g){o.add(g)}))}})}return a.get(s)}return i(e)},t}(),of=new(Pc?WeakMap:Map);function hx(t,e){var n=t[e];typeof n=="function"&&(t[e]=function(){return of.set(t,(of.get(t)+1)%1e15),n.apply(this,arguments)})}function AR(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var fx=function(){function t(e,n){n===void 0&&(n=e.generateQueryId()),this.queryId=n,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var r=this.cache=e.cache;of.has(r)||(of.set(r,0),hx(r,"evict"),hx(r,"modify"),hx(r,"reset"))}return t.prototype.init=function(e){var n=e.networkStatus||pn.loading;return this.variables&&this.networkStatus!==pn.loading&&!tr(this.variables,e.variables)&&(n=pn.setVariables),tr(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:n}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){AR(this),this.dirty=!1},t.prototype.getDiff=function(e){e===void 0&&(e=this.variables);var n=this.getDiffOptions(e);if(this.lastDiff&&tr(n,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var a=this.cache.diff(n);return this.updateLastDiff(a,n),a},t.prototype.updateLastDiff=function(e,n){this.lastDiff=e?{diff:e,options:n||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var n;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(n=this.observableQuery)===null||n===void 0?void 0:n.options.canonizeResults}},t.prototype.setDiff=function(e){var n=this,r=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!tr(r&&r.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return n.notify()},0)))},t.prototype.setObservableQuery=function(e){var n=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var r=n.getDiff();r.fromOptimisticTransaction?e.observe():yz(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;AR(this),this.shouldNotify()&&this.listeners.forEach(function(n){return n(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Lg(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel,this.subscriptions.forEach(function(n){return n.unsubscribe()});var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var n=this;e===void 0&&(e=this.variables);var r=this.observableQuery;if(!(r&&r.options.fetchPolicy==="no-cache")){var a=Ee(Ee({},this.getDiffOptions(e)),{watcher:this,callback:function(i){return n.setDiff(i)}});(!this.lastWatch||!tr(a,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=a))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,n){var r=this.lastWrite;return!(r&&r.dmCount===of.get(this.cache)&&tr(n,r.variables)&&tr(e.data,r.result.data))},t.prototype.markResult=function(e,n,r,a){var i=this,s=new xc,o=Yi(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&Yi(e.incremental)){var l=UB(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var u=this.getDiff();e.data=s.merge(u.result,e.data)}this.graphQLErrors=o,r.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(r.variables)):a!==0&&(P4(e,r.errorPolicy)?this.cache.performTransaction(function(c){if(i.shouldWrite(e,r.variables))c.writeQuery({query:n,data:e.data,variables:r.variables,overwrite:a===1}),i.lastWrite={result:e,variables:r.variables,dmCount:of.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete){e.data=i.lastDiff.diff.result;return}var d=i.getDiffOptions(r.variables),f=c.diff(d);i.stopped||i.updateWatch(r.variables),i.updateLastDiff(f,d),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=pn.ready},t.prototype.markError=function(e){return this.networkStatus=pn.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function P4(t,e){e===void 0&&(e="none");var n=e==="ignore"||e==="all",r=!M2(t);return!r&&n&&t.data&&(r=!0),r}var Bfe=Object.prototype.hasOwnProperty,zfe=function(){function t(e){var n=e.cache,r=e.link,a=e.defaultOptions,i=e.queryDeduplication,s=i===void 0?!1:i,o=e.onBroadcast,l=e.ssrMode,u=l===void 0?!1:l,c=e.clientAwareness,d=c===void 0?{}:c,f=e.localState,p=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Pc?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=n,this.link=r,this.defaultOptions=a||Object.create(null),this.queryDeduplication=s,this.clientAwareness=d,this.localState=f||new vz({cache:n}),this.ssrMode=u,this.assumeImmutableResults=!!p,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(n,r){e.stopQueryNoBroadcast(r)}),this.cancelPendingFetches(__DEV__?new xn("QueryManager stopped while query was in flight"):new xn(14))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(n){return n(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var n,r,a=e.mutation,i=e.variables,s=e.optimisticResponse,o=e.updateQueries,l=e.refetchQueries,u=l===void 0?[]:l,c=e.awaitRefetchQueries,d=c===void 0?!1:c,f=e.update,p=e.onQueryUpdated,m=e.fetchPolicy,g=m===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.fetchPolicy)||"network-only":m,v=e.errorPolicy,y=v===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.errorPolicy)||"none":v,b=e.keepRootFields,w=e.context;return $a(this,void 0,void 0,function(){var x,k,S,E,I,C;return ma(this,function(R){switch(R.label){case 0:return __DEV__?qe(a,"mutation option is required. You must specify your GraphQL document in the mutation option."):qe(a,15),__DEV__?qe(g==="network-only"||g==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):qe(g==="network-only"||g==="no-cache",16),x=this.generateMutationId(),k=this.transform(a),S=k.document,E=k.hasClientExports,a=this.cache.transformForLink(S),i=this.getVariables(a,i),E?[4,this.localState.addExportedVariables(a,i,w)]:[3,2];case 1:i=R.sent(),R.label=2;case 2:return I=this.mutationStore&&(this.mutationStore[x]={mutation:a,variables:i,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:x,document:a,variables:i,fetchPolicy:g,errorPolicy:y,context:w,updateQueries:o,update:f,keepRootFields:b}),this.broadcastQueries(),C=this,[2,new Promise(function(z,H){return ix(C.getObservableFromLink(a,Ee(Ee({},w),{optimisticResponse:s}),i,!1),function(U){if(M2(U)&&y==="none")throw new To({graphQLErrors:N4(U)});I&&(I.loading=!1,I.error=null);var q=Ee({},U);return typeof u=="function"&&(u=u(q)),y==="ignore"&&M2(q)&&delete q.errors,C.markMutationResult({mutationId:x,result:q,document:a,variables:i,fetchPolicy:g,errorPolicy:y,context:w,update:f,updateQueries:o,awaitRefetchQueries:d,refetchQueries:u,removeOptimistic:s?x:void 0,onQueryUpdated:p,keepRootFields:b})}).subscribe({next:function(U){C.broadcastQueries(),(!("hasNext"in U)||U.hasNext===!1)&&z(U)},error:function(U){I&&(I.loading=!1,I.error=U),s&&C.cache.removeOptimistic(x),C.broadcastQueries(),H(U instanceof To?U:new To({networkError:U}))}})})]}})})},t.prototype.markMutationResult=function(e,n){var r=this;n===void 0&&(n=this.cache);var a=e.result,i=[],s=e.fetchPolicy==="no-cache";if(!s&&P4(a,e.errorPolicy)){if(vf(a)||i.push({result:a.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),vf(a)&&Yi(a.incremental)){var o=n.diff({id:"ROOT_MUTATION",query:this.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),l=void 0;o.result&&(l=UB(o.result,a)),typeof l<"u"&&(a.data=l,i.push({result:l,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var u=e.updateQueries;u&&this.queries.forEach(function(d,f){var p=d.observableQuery,m=p&&p.queryName;if(!(!m||!Bfe.call(u,m))){var g=u[m],v=r.queries.get(f),y=v.document,b=v.variables,w=n.diff({query:y,variables:b,returnPartialData:!0,optimistic:!1}),x=w.result,k=w.complete;if(k&&x){var S=g(x,{mutationResult:a,queryName:y&&x4(y)||void 0,queryVariables:b});S&&i.push({result:S,dataId:"ROOT_QUERY",query:y,variables:b})}}})}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(d){s||i.forEach(function(g){return d.write(g)});var f=e.update,p=!xhe(a)||vf(a)&&!a.hasNext;if(f){if(!s){var m=d.diff({id:"ROOT_MUTATION",query:r.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});m.complete&&(a=Ee(Ee({},a),{data:m.result}),"incremental"in a&&delete a.incremental,"hasNext"in a&&delete a.hasNext)}p&&f(d,a,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&p&&d.modify({id:"ROOT_MUTATION",fields:function(g,v){var y=v.fieldName,b=v.DELETE;return y==="__typename"?g:b}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(d){return c.push(d)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then(function(){return a})}return Promise.resolve(a)},t.prototype.markMutationOptimistic=function(e,n){var r=this,a=typeof e=="function"?e(n.variables):e;return this.cache.recordOptimisticTransaction(function(i){try{r.markMutationResult(Ee(Ee({},n),{result:{data:a}}),i)}catch(s){__DEV__&&qe.error(s)}},n.mutationId)},t.prototype.fetchQuery=function(e,n,r){return this.fetchQueryObservable(e,n,r).promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(n,r){e[r]={variables:n.variables,networkStatus:n.networkStatus,networkError:n.networkError,graphQLErrors:n.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var n=this.queries.get(e);n&&(n.networkError=void 0,n.graphQLErrors=[])},t.prototype.transform=function(e){var n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),a=the(r),i=this.localState.clientQuery(r),s=a&&this.localState.serverQuery(a),o={document:r,hasClientExports:$de(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:i,serverQuery:s,defaultVars:SE(b0(r)),asQuery:Ee(Ee({},r),{definitions:r.definitions.map(function(u){return u.kind==="OperationDefinition"&&u.operation!=="query"?Ee(Ee({},u),{operation:"query"}):u})})},l=function(u){u&&!n.has(u)&&n.set(u,o)};l(e),l(r),l(i),l(s)}return n.get(e)},t.prototype.getVariables=function(e,n){return Ee(Ee({},this.transform(e).defaultVars),n)},t.prototype.watchQuery=function(e){e=Ee(Ee({},e),{variables:this.getVariables(e.query,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new fx(this),r=new Jy({queryManager:this,queryInfo:n,options:e});return this.queries.set(r.queryId,n),n.init({document:r.query,observableQuery:r,variables:r.variables}),r},t.prototype.query=function(e,n){var r=this;return n===void 0&&(n=this.generateQueryId()),__DEV__?qe(e.query,"query option is required. You must specify your GraphQL document in the query option."):qe(e.query,17),__DEV__?qe(e.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):qe(e.query.kind==="Document",18),__DEV__?qe(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):qe(!e.returnPartialData,19),__DEV__?qe(!e.pollInterval,"pollInterval option only supported on watchQuery."):qe(!e.pollInterval,20),this.fetchQuery(n,e).finally(function(){return r.stopQuery(n)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var n=this.queries.get(e);n&&n.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new xn("Store reset while query was in flight (not completed in link chain)"):new xn(21)),this.queries.forEach(function(n){n.observableQuery?n.networkStatus=pn.loading:n.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var n=this;e===void 0&&(e="active");var r=new Map,a=new Map,i=new Set;return Array.isArray(e)&&e.forEach(function(s){typeof s=="string"?a.set(s,!1):Pde(s)?a.set(n.transform(s).document,!1):wr(s)&&s.query&&i.add(s)}),this.queries.forEach(function(s,o){var l=s.observableQuery,u=s.document;if(l){if(e==="all"){r.set(o,l);return}var c=l.queryName,d=l.options.fetchPolicy;if(d==="standby"||e==="active"&&!l.hasObservers())return;(e==="active"||c&&a.has(c)||u&&a.has(u))&&(r.set(o,l),c&&a.set(c,!0),u&&a.set(u,!0))}}),i.size&&i.forEach(function(s){var o=E4("legacyOneTimeQuery"),l=n.getQuery(o).init({document:s.query,variables:s.variables}),u=new Jy({queryManager:n,queryInfo:l,options:Ee(Ee({},s),{fetchPolicy:"network-only"})});qe(u.queryId===o),l.setObservableQuery(u),r.set(o,u)}),__DEV__&&a.size&&a.forEach(function(s,o){s||__DEV__&&qe.warn("Unknown query ".concat(typeof o=="string"?"named ":"").concat(JSON.stringify(o,null,2)," requested in refetchQueries options.include array"))}),r},t.prototype.reFetchObservableQueries=function(e){var n=this;e===void 0&&(e=!1);var r=[];return this.getObservableQueries(e?"all":"active").forEach(function(a,i){var s=a.options.fetchPolicy;a.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&r.push(a.refetch()),n.getQuery(i).setDiff(null)}),this.broadcastQueries(),Promise.all(r)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var n=this,r=e.query,a=e.fetchPolicy,i=e.errorPolicy,s=e.variables,o=e.context,l=o===void 0?{}:o;r=this.transform(r).document,s=this.getVariables(r,s);var u=function(d){return n.getObservableFromLink(r,l,d).map(function(f){if(a!=="no-cache"&&(P4(f,i)&&n.cache.write({query:r,result:f.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),n.broadcastQueries()),M2(f))throw new To({graphQLErrors:f.errors});return f})};if(this.transform(r).hasClientExports){var c=this.localState.addExportedVariables(r,s,l).then(u);return new Cn(function(d){var f=null;return c.then(function(p){return f=p.subscribe(d)},d.error),function(){return f&&f.unsubscribe()}})}return u(s)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,n,r,a){var i=this,s;a===void 0&&(a=(s=n==null?void 0:n.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var o,l=this.transform(e).serverQuery;if(l){var u=this,c=u.inFlightLinkObservables,d=u.link,f={query:l,variables:r,operationName:x4(l)||void 0,context:this.prepareContext(Ee(Ee({},n),{forceFetch:!a}))};if(n=f.context,a){var p=c.get(l)||new Map;c.set(l,p);var m=Dd(r);if(o=p.get(m),!o){var g=new vm([Ky(d,f)]);p.set(m,o=g),g.beforeNext(function(){p.delete(m)&&p.size<1&&c.delete(l)})}}else o=new vm([Ky(d,f)])}else o=new vm([Cn.of({data:{}})]),n=this.prepareContext(n);var v=this.transform(e).clientQuery;return v&&(o=ix(o,function(y){return i.localState.runResolvers({document:v,remoteResult:y,context:n,variables:r})})),o},t.prototype.getResultsFromLink=function(e,n,r){var a=e.lastRequestId=this.generateRequestId(),i=this.cache.transformForLink(this.transform(e.document).document);return ix(this.getObservableFromLink(i,r.context,r.variables),function(s){var o=N4(s),l=o.length>0;if(a>=e.lastRequestId){if(l&&r.errorPolicy==="none")throw e.markError(new To({graphQLErrors:o}));e.markResult(s,i,r,n),e.markReady()}var u={data:s.data,loading:!1,networkStatus:pn.ready};return l&&r.errorPolicy!=="ignore"&&(u.errors=o,u.networkStatus=pn.error),u},function(s){var o=gz(s)?s:new To({networkError:s});throw a>=e.lastRequestId&&e.markError(o),o})},t.prototype.fetchQueryObservable=function(e,n,r){var a=this;r===void 0&&(r=pn.loading);var i=this.transform(n.query).document,s=this.getVariables(i,n.variables),o=this.getQuery(e),l=this.defaultOptions.watchQuery,u=n.fetchPolicy,c=u===void 0?l&&l.fetchPolicy||"cache-first":u,d=n.errorPolicy,f=d===void 0?l&&l.errorPolicy||"none":d,p=n.returnPartialData,m=p===void 0?!1:p,g=n.notifyOnNetworkStatusChange,v=g===void 0?!1:g,y=n.context,b=y===void 0?{}:y,w=Object.assign({},n,{query:i,variables:s,fetchPolicy:c,errorPolicy:f,returnPartialData:m,notifyOnNetworkStatusChange:v,context:b}),x=function(E){w.variables=E;var I=a.fetchQueryByPolicy(o,w,r);return w.fetchPolicy!=="standby"&&I.length>0&&o.observableQuery&&o.observableQuery.applyNextFetchPolicy("after-fetch",n),I},k=function(){return a.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(E){k(),setTimeout(function(){return S.cancel(E)})});var S=new vm(this.transform(w.query).hasClientExports?this.localState.addExportedVariables(w.query,w.variables,w.context).then(x):x(w.variables));return S.promise.then(k,k),S},t.prototype.refetchQueries=function(e){var n=this,r=e.updateCache,a=e.include,i=e.optimistic,s=i===void 0?!1:i,o=e.removeOptimistic,l=o===void 0?s?E4("refetchQueries"):void 0:o,u=e.onQueryUpdated,c=new Map;a&&this.getObservableQueries(a).forEach(function(f,p){c.set(p,{oq:f,lastDiff:n.getQuery(p).getDiff()})});var d=new Map;return r&&this.cache.batch({update:r,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(f,p,m){var g=f.watcher instanceof fx&&f.watcher.observableQuery;if(g){if(u){c.delete(g.queryId);var v=u(g,p,m);return v===!0&&(v=g.refetch()),v!==!1&&d.set(g,v),v}u!==null&&c.set(g.queryId,{oq:g,lastDiff:m,diff:p})}}}),c.size&&c.forEach(function(f,p){var m=f.oq,g=f.lastDiff,v=f.diff,y;if(u){if(!v){var b=m.queryInfo;b.reset(),v=b.getDiff()}y=u(m,v,g)}(!u||y===!0)&&(y=m.refetch()),y!==!1&&d.set(m,y),p.indexOf("legacyOneTimeQuery")>=0&&n.stopQueryNoBroadcast(p)}),l&&this.cache.removeOptimistic(l),d},t.prototype.fetchQueryByPolicy=function(e,n,r){var a=this,i=n.query,s=n.variables,o=n.fetchPolicy,l=n.refetchWritePolicy,u=n.errorPolicy,c=n.returnPartialData,d=n.context,f=n.notifyOnNetworkStatusChange,p=e.networkStatus;e.init({document:this.transform(i).document,variables:s,networkStatus:r});var m=function(){return e.getDiff(s)},g=function(x,k){k===void 0&&(k=e.networkStatus||pn.loading);var S=x.result;__DEV__&&!c&&!tr(S,{})&&bz(x.missing);var E=function(I){return Cn.of(Ee({data:I,loading:Lg(k),networkStatus:k},x.complete?null:{partial:!0}))};return S&&a.transform(i).hasForcedResolvers?a.localState.runResolvers({document:i,remoteResult:{data:S},context:d,variables:s,onlyRunForcedResolvers:!0}).then(function(I){return E(I.data||void 0)}):u==="none"&&k===pn.refetch&&Array.isArray(x.missing)?E(void 0):E(S)},v=o==="no-cache"?0:r===pn.refetch&&l!=="merge"?1:2,y=function(){return a.getResultsFromLink(e,v,{variables:s,context:d,fetchPolicy:o,errorPolicy:u})},b=f&&typeof p=="number"&&p!==r&&Lg(r);switch(o){default:case"cache-first":{var w=m();return w.complete?[g(w,e.markReady())]:c||b?[g(w),y()]:[y()]}case"cache-and-network":{var w=m();return w.complete||c||b?[g(w),y()]:[y()]}case"cache-only":return[g(m(),e.markReady())];case"network-only":return b?[g(m()),y()]:[y()];case"no-cache":return b?[g(e.getDiff()),y()]:[y()];case"standby":return[]}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new fx(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var n=this.localState.prepareContext(e);return Ee(Ee({},n),{clientAwareness:this.clientAwareness})},t}(),DR=!1,wz=function(){function t(e){var n=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.uri,a=e.credentials,i=e.headers,s=e.cache,o=e.ssrMode,l=o===void 0?!1:o,u=e.ssrForceFetchDelay,c=u===void 0?0:u,d=e.connectToDevTools,f=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:d,p=e.queryDeduplication,m=p===void 0?!0:p,g=e.defaultOptions,v=e.assumeImmutableResults,y=v===void 0?!1:v,b=e.resolvers,w=e.typeDefs,x=e.fragmentMatcher,k=e.name,S=e.version,E=e.link;if(E||(E=r?new zE({uri:r,credentials:a,headers:i}):Cs.empty()),!s)throw __DEV__?new xn(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new xn(9);if(this.link=E,this.cache=s,this.disableNetworkFetches=l||c>0,this.queryDeduplication=m,this.defaultOptions=g||Object.create(null),this.typeDefs=w,c&&setTimeout(function(){return n.disableNetworkFetches=!1},c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),f&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!DR&&f&&__DEV__&&(DR=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var I=window.navigator,C=I&&I.userAgent,R=void 0;typeof C=="string"&&(C.indexOf("Chrome/")>-1?R="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":C.indexOf("Firefox/")>-1&&(R="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),R&&__DEV__&&qe.log("Download the Apollo DevTools for a better development experience: "+R)}this.version=Rhe,this.localState=new vz({cache:s,client:this,resolvers:b,fragmentMatcher:x}),this.queryManager=new zfe({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:m,ssrMode:l,clientAwareness:{name:k,version:S},localState:this.localState,assumeImmutableResults:y,onBroadcast:f?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0})}return t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Ad(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=Ee(Ee({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=Ad(this.defaultOptions.query,e)),__DEV__?qe(e.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):qe(e.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=Ee(Ee({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Ad(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,n){return n===void 0&&(n=!1),this.cache.readQuery(e,n)},t.prototype.readFragment=function(e,n){return n===void 0&&(n=!1),this.cache.readFragment(e,n)},t.prototype.writeQuery=function(e){var n=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.writeFragment=function(e){var n=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),n},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return Ky(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(n){return n()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(n){return n()}))})},t.prototype.onResetStore=function(e){var n=this;return this.resetStoreCallbacks.push(e),function(){n.resetStoreCallbacks=n.resetStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.onClearStore=function(e){var n=this;return this.clearStoreCallbacks.push(e),function(){n.clearStoreCallbacks=n.clearStoreCallbacks.filter(function(r){return r!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var n=this.queryManager.refetchQueries(e),r=[],a=[];n.forEach(function(s,o){r.push(o),a.push(s)});var i=Promise.all(a);return i.queries=r,i.results=a,i.catch(function(s){__DEV__&&qe.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),i},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}(),z2=new Map,M4=new Map,xz=!0,eb=!1;function _z(t){return t.replace(/[\s,]+/g," ").trim()}function Ufe(t){return _z(t.source.body.substring(t.start,t.end))}function jfe(t){var e=new Set,n=[];return t.definitions.forEach(function(r){if(r.kind==="FragmentDefinition"){var a=r.name.value,i=Ufe(r.loc),s=M4.get(a);s&&!s.has(i)?xz&&console.warn("Warning: fragment with name "+a+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||M4.set(a,s=new Set),s.add(i),e.has(i)||(e.add(i),n.push(r))}else n.push(r)}),Ee(Ee({},t),{definitions:n})}function Vfe(t){var e=new Set(t.definitions);e.forEach(function(r){r.loc&&delete r.loc,Object.keys(r).forEach(function(a){var i=r[a];i&&typeof i=="object"&&e.add(i)})});var n=t.loc;return n&&(delete n.startToken,delete n.endToken),t}function Wfe(t){var e=_z(t);if(!z2.has(e)){var n=_de(t,{experimentalFragmentVariables:eb,allowLegacyFragmentVariables:eb});if(!n||n.kind!=="Document")throw new Error("Not a valid GraphQL document.");z2.set(e,Vfe(jfe(n)))}return z2.get(e)}function Te(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];typeof t=="string"&&(t=[t]);var r=t[0];return e.forEach(function(a,i){a&&a.kind==="Document"?r+=a.loc.source.body:r+=a,r+=t[i+1]}),Wfe(r)}function kz(){z2.clear(),M4.clear()}function Sz(){xz=!1}function Nz(){eb=!0}function Ez(){eb=!1}var am={gql:Te,resetCaches:kz,disableFragmentWarnings:Sz,enableExperimentalFragmentVariables:Nz,disableExperimentalFragmentVariables:Ez};(function(t){t.gql=am.gql,t.resetCaches=am.resetCaches,t.disableFragmentWarnings=am.disableFragmentWarnings,t.enableExperimentalFragmentVariables=am.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=am.disableExperimentalFragmentVariables})(Te||(Te={}));Te.default=Te;wB(O2?"log":"silent");const Gfe=Object.freeze(Object.defineProperty({__proto__:null,ApolloCache:rz,ApolloClient:wz,ApolloError:To,ApolloLink:Cs,get Cache(){return A4},HttpLink:zE,InMemoryCache:mz,MissingFieldError:VE,get NetworkStatus(){return pn},Observable:Cn,ObservableQuery:Jy,checkFetcher:LE,concat:Dhe,createHttpLink:BE,createSignalIfSupported:FE,defaultDataIdFromObject:WE,defaultPrinter:qv,disableExperimentalFragmentVariables:Ez,disableFragmentWarnings:Sz,empty:Ihe,enableExperimentalFragmentVariables:Nz,execute:Ky,fallbackHttpConfig:OE,from:Ahe,fromError:T4,fromPromise:She,get gql(){return Te},isApolloError:gz,isReference:Nn,makeReference:Id,makeVar:uz,mergeOptions:Ad,parseAndCheckHttpResponse:$E,resetCaches:kz,rewriteURIForGET:ME,selectHttpOptionsAndBody:WB,selectHttpOptionsAndBodyInternal:Yv,selectURI:PE,serializeFetchParameter:Rg,setLogVerbosity:wB,split:jB,throwServerError:Yy,toPromise:khe},Symbol.toStringTag,{value:"Module"}));var RR=DE?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function KE(){var t=D.createContext[RR];return t||(Object.defineProperty(D.createContext,RR,{value:t=D.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}var Hfe=function(t){var e=t.client,n=t.children,r=KE();return D.createElement(r.Consumer,null,function(a){return a===void 0&&(a={}),e&&a.client!==e&&(a=Object.assign({},a,{client:e})),__DEV__?qe(a.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):qe(a.client,29),D.createElement(r.Provider,{value:a},n)})};function Qv(t){var e=D.useContext(KE()),n=t||e.client;return __DEV__?qe(!!n,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):qe(!!n,32),n}var $R=!1,qfe="useSyncExternalStore",Yfe=Z2[qfe],Kfe=Yfe||function(t,e,n){var r=e();__DEV__&&!$R&&r!==e()&&($R=!0,__DEV__&&qe.error("The result of getSnapshot should be cached to avoid an infinite loop"));var a=D.useState({inst:{value:r,getSnapshot:e}}),i=a[0].inst,s=a[1];return vhe?D.useLayoutEffect(function(){Object.assign(i,{value:r,getSnapshot:e}),px(i)&&s({inst:i})},[t,r,e]):Object.assign(i,{value:r,getSnapshot:e}),D.useEffect(function(){return px(i)&&s({inst:i}),t(function(){px(i)&&s({inst:i})})},[t]),r};function px(t){var e=t.value,n=t.getSnapshot;try{return e!==n()}catch{return!0}}var Fo;(function(t){t[t.Query=0]="Query",t[t.Mutation=1]="Mutation",t[t.Subscription=2]="Subscription"})(Fo||(Fo={}));var OR=new Map;function LR(t){var e;switch(t){case Fo.Query:e="Query";break;case Fo.Mutation:e="Mutation";break;case Fo.Subscription:e="Subscription";break}return e}function Xfe(t){var e=OR.get(t);if(e)return e;var n,r,a;__DEV__?qe(!!t&&!!t.kind,"Argument of ".concat(t," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):qe(!!t&&!!t.kind,33);for(var i=[],s=[],o=[],l=[],u=0,c=t.definitions;u<c.length;u++){var d=c[u];if(d.kind==="FragmentDefinition"){i.push(d);continue}if(d.kind==="OperationDefinition")switch(d.operation){case"query":s.push(d);break;case"mutation":o.push(d);break;case"subscription":l.push(d);break}}__DEV__?qe(!i.length||s.length||o.length||l.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):qe(!i.length||s.length||o.length||l.length,34),__DEV__?qe(s.length+o.length+l.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(t," had ").concat(s.length," queries, ").concat(l.length," ")+"subscriptions and ".concat(o.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):qe(s.length+o.length+l.length<=1,35),r=s.length?Fo.Query:Fo.Mutation,!s.length&&!o.length&&(r=Fo.Subscription);var f=s.length?s:o.length?o:l;__DEV__?qe(f.length===1,"react-apollo only supports one definition per HOC. ".concat(t," had ")+"".concat(f.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):qe(f.length===1,36);var p=f[0];n=p.variableDefinitions||[],p.name&&p.name.kind==="Name"?a=p.name.value:a="data";var m={name:a,type:r,variables:n};return OR.set(t,m),m}function XE(t,e){var n=Xfe(t),r=LR(e),a=LR(n.type);__DEV__?qe(n.type===e,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(a," was used instead.")):qe(n.type===e,37)}var Qfe=Object.prototype.hasOwnProperty;function Zv(t,e){return e===void 0&&(e=Object.create(null)),Tz(Qv(e.client),t).useQuery(e)}function Tz(t,e){var n=D.useRef();(!n.current||t!==n.current.client||e!==n.current.query)&&(n.current=new Zfe(t,e,n.current));var r=n.current,a=D.useState(0);a[0];var i=a[1];return r.forceUpdate=function(){i(function(s){return s+1})},r}var Zfe=function(){function t(e,n,r){this.client=e,this.query=n,this.asyncResolveFns=new Set,this.optionsToIgnoreOnce=new(BB?WeakSet:Set),this.ssrDisabledResult=Dg({loading:!0,data:void 0,error:void 0,networkStatus:pn.loading}),this.skipStandbyResult=Dg({loading:!1,data:void 0,error:void 0,networkStatus:pn.ready}),this.toQueryResultCache=new(Pc?WeakMap:Map),XE(n,Fo.Query);var a=r&&r.result,i=a&&a.data;i&&(this.previousData=i)}return t.prototype.forceUpdate=function(){__DEV__&&qe.warn("Calling default no-op implementation of InternalState#forceUpdate")},t.prototype.asyncUpdate=function(e){var n=this;return new Promise(function(r,a){var i=n.watchQueryOptions,s=function(){n.asyncResolveFns.delete(r),n.optionsToIgnoreOnce.delete(i),e.removeEventListener("abort",s),a(e.reason)};n.asyncResolveFns.add(r),n.optionsToIgnoreOnce.add(i),e.addEventListener("abort",s),n.forceUpdate()})},t.prototype.useQuery=function(e){var n=this;this.renderPromises=D.useContext(KE()).renderPromises,this.useOptions(e);var r=this.useObservableQuery(),a=Kfe(D.useCallback(function(){if(n.renderPromises)return function(){};var s=function(){var u=n.result,c=r.getCurrentResult();u&&u.loading===c.loading&&u.networkStatus===c.networkStatus&&tr(u.data,c.data)||n.setResult(c)},o=function(u){var c=r.last;l.unsubscribe();try{r.resetLastResults(),l=r.subscribe(s,o)}finally{r.last=c}if(!Qfe.call(u,"graphQLErrors"))throw u;var d=n.result;(!d||d&&d.loading||!tr(u,d.error))&&n.setResult({data:d&&d.data,error:u,loading:!1,networkStatus:pn.error})},l=r.subscribe(s,o);return function(){return l.unsubscribe()}},[r,this.renderPromises,this.client.disableNetworkFetches]),function(){return n.getCurrentResult()},function(){return n.getCurrentResult()});this.unsafeHandlePartialRefetch(a);var i=this.toQueryResult(a);return!i.loading&&this.asyncResolveFns.size&&(this.asyncResolveFns.forEach(function(s){return s(i)}),this.asyncResolveFns.clear()),i},t.prototype.useOptions=function(e){var n,r=this.createWatchQueryOptions(this.queryHookOptions=e),a=this.watchQueryOptions;(this.optionsToIgnoreOnce.has(a)||!tr(r,a))&&(this.watchQueryOptions=r,a&&this.observable&&(this.optionsToIgnoreOnce.delete(a),this.observable.reobserve(this.getObsQueryOptions()),this.previousData=((n=this.result)===null||n===void 0?void 0:n.data)||this.previousData,this.result=void 0)),this.onCompleted=e.onCompleted||t.prototype.onCompleted,this.onError=e.onError||t.prototype.onError,(this.renderPromises||this.client.disableNetworkFetches)&&this.queryHookOptions.ssr===!1&&!this.queryHookOptions.skip?this.result=this.ssrDisabledResult:this.queryHookOptions.skip||this.watchQueryOptions.fetchPolicy==="standby"?this.result=this.skipStandbyResult:(this.result===this.ssrDisabledResult||this.result===this.skipStandbyResult)&&(this.result=void 0)},t.prototype.getObsQueryOptions=function(){var e=[],n=this.client.defaultOptions.watchQuery;return n&&e.push(n),this.queryHookOptions.defaultOptions&&e.push(this.queryHookOptions.defaultOptions),e.push(v0(this.observable&&this.observable.options,this.watchQueryOptions)),e.reduce(Ad)},t.prototype.createWatchQueryOptions=function(e){var n;e===void 0&&(e={});var r=e.skip;e.ssr,e.onCompleted,e.onError,e.defaultOptions;var a=wc(e,["skip","ssr","onCompleted","onError","defaultOptions"]),i=Object.assign(a,{query:this.query});if(this.renderPromises&&(i.fetchPolicy==="network-only"||i.fetchPolicy==="cache-and-network")&&(i.fetchPolicy="cache-first"),i.variables||(i.variables={}),r){var s=i.fetchPolicy,o=s===void 0?this.getDefaultFetchPolicy():s,l=i.initialFetchPolicy,u=l===void 0?o:l;Object.assign(i,{initialFetchPolicy:u,fetchPolicy:"standby"})}else i.fetchPolicy||(i.fetchPolicy=((n=this.observable)===null||n===void 0?void 0:n.options.initialFetchPolicy)||this.getDefaultFetchPolicy());return i},t.prototype.getDefaultFetchPolicy=function(){var e,n;return((e=this.queryHookOptions.defaultOptions)===null||e===void 0?void 0:e.fetchPolicy)||((n=this.client.defaultOptions.watchQuery)===null||n===void 0?void 0:n.fetchPolicy)||"cache-first"},t.prototype.onCompleted=function(e){},t.prototype.onError=function(e){},t.prototype.useObservableQuery=function(){var e=this.observable=this.renderPromises&&this.renderPromises.getSSRObservable(this.watchQueryOptions)||this.observable||this.client.watchQuery(this.getObsQueryOptions());this.obsQueryFields=D.useMemo(function(){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}},[e]);var n=!(this.queryHookOptions.ssr===!1||this.queryHookOptions.skip);return this.renderPromises&&n&&(this.renderPromises.registerSSRObservable(e),e.getCurrentResult().loading&&this.renderPromises.addObservableQueryPromise(e)),e},t.prototype.setResult=function(e){var n=this.result;n&&n.data&&(this.previousData=n.data),this.result=e,this.forceUpdate(),this.handleErrorOrCompleted(e)},t.prototype.handleErrorOrCompleted=function(e){var n=this;if(!e.loading){var r=this.toApolloError(e);Promise.resolve().then(function(){r?n.onError(r):e.data&&n.onCompleted(e.data)}).catch(function(a){__DEV__&&qe.warn(a)})}},t.prototype.toApolloError=function(e){return Yi(e.errors)?new To({graphQLErrors:e.errors}):e.error},t.prototype.getCurrentResult=function(){return this.result||this.handleErrorOrCompleted(this.result=this.observable.getCurrentResult()),this.result},t.prototype.toQueryResult=function(e){var n=this.toQueryResultCache.get(e);if(n)return n;var r=e.data;e.partial;var a=wc(e,["data","partial"]);return this.toQueryResultCache.set(e,n=Ee(Ee(Ee({data:r},a),this.obsQueryFields),{client:this.client,observable:this.observable,variables:this.observable.variables,called:!this.queryHookOptions.skip,previousData:this.previousData})),!n.error&&Yi(e.errors)&&(n.error=new To({graphQLErrors:e.errors})),n},t.prototype.unsafeHandlePartialRefetch=function(e){e.partial&&this.queryHookOptions.partialRefetch&&!e.loading&&(!e.data||Object.keys(e.data).length===0)&&this.observable.options.fetchPolicy!=="cache-only"&&(Object.assign(e,{loading:!0,networkStatus:pn.refetch}),this.observable.refetch())},t}(),Jfe=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function QE(t,e){var n,r=D.useRef(new Set),a=D.useRef(),i=a.current?Ad(e,a.current):e,s=Tz(Qv(e&&e.client),(n=i==null?void 0:i.query)!==null&&n!==void 0?n:t),o=s.useQuery(Ee(Ee({},i),{skip:!a.current})),l=o.observable.options.initialFetchPolicy||s.getDefaultFetchPolicy(),u=Object.assign(o,{called:!!a.current}),c=D.useMemo(function(){for(var f={},p=function(y){var b=u[y];f[y]=function(){return a.current||(a.current=Object.create(null),s.forceUpdate()),b.apply(this,arguments)}},m=0,g=Jfe;m<g.length;m++){var v=g[m];p(v)}return f},[]);Object.assign(u,c),D.useEffect(function(){return function(){r.current.forEach(function(f){f.abort()})}},[]);var d=D.useCallback(function(f){var p=new AbortController;r.current.add(p),a.current=f?Ee(Ee({},f),{fetchPolicy:f.fetchPolicy||l}):{fetchPolicy:l};var m=s.asyncUpdate(p.signal).then(function(g){return r.current.delete(p),Object.assign(g,c)});return m.catch(function(){r.current.delete(p)}),m},[]);return[d,u]}function Dl(t,e){var n=Qv(e==null?void 0:e.client);XE(t,Fo.Mutation);var r=D.useState({called:!1,loading:!1,client:n}),a=r[0],i=r[1],s=D.useRef({result:a,mutationId:0,isMounted:!0,client:n,mutation:t,options:e});Object.assign(s.current,{client:n,options:e,mutation:t});var o=D.useCallback(function(u){u===void 0&&(u={});var c=s.current,d=c.options,f=c.mutation,p=Ee(Ee({},d),{mutation:f}),m=u.client||s.current.client;!s.current.result.loading&&!p.ignoreResults&&s.current.isMounted&&i(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:m});var g=++s.current.mutationId,v=Ad(p,u);return m.mutate(v).then(function(y){var b,w=y.data,x=y.errors,k=x&&x.length>0?new To({graphQLErrors:x}):void 0;if(g===s.current.mutationId&&!v.ignoreResults){var S={called:!0,loading:!1,data:w,error:k,client:m};s.current.isMounted&&!tr(s.current.result,S)&&i(s.current.result=S)}var E=u.onCompleted||((b=s.current.options)===null||b===void 0?void 0:b.onCompleted);return E==null||E(y.data,v),y}).catch(function(y){var b;if(g===s.current.mutationId&&s.current.isMounted){var w={loading:!1,error:y,data:void 0,called:!0,client:m};tr(s.current.result,w)||i(s.current.result=w)}var x=u.onError||((b=s.current.options)===null||b===void 0?void 0:b.onError);if(x)return x(y,v),{data:void 0,errors:y};throw y})},[]),l=D.useCallback(function(){s.current.isMounted&&i({called:!1,loading:!1,client:n})},[]);return D.useEffect(function(){return s.current.isMounted=!0,function(){s.current.isMounted=!1}},[]),[o,Ee({reset:l},a)]}function epe(t,e){var n=D.useRef(!1),r=Qv(e==null?void 0:e.client);XE(t,Fo.Subscription);var a=D.useState({loading:!(e!=null&&e.skip),error:void 0,data:void 0,variables:e==null?void 0:e.variables}),i=a[0],s=a[1];n.current||(n.current=!0,e!=null&&e.onSubscriptionData&&__DEV__&&qe.warn(e.onData?"'useSubscription' supports only the 'onSubscriptionData' or 'onData' option, but not both. Only the 'onData' option will be used.":"'onSubscriptionData' is deprecated and will be removed in a future major version. Please use the 'onData' option instead."),e!=null&&e.onSubscriptionComplete&&__DEV__&&qe.warn(e.onComplete?"'useSubscription' supports only the 'onSubscriptionComplete' or 'onComplete' option, but not both. Only the 'onComplete' option will be used.":"'onSubscriptionComplete' is deprecated and will be removed in a future major version. Please use the 'onComplete' option instead."));var o=D.useState(function(){return e!=null&&e.skip?null:r.subscribe({query:t,variables:e==null?void 0:e.variables,fetchPolicy:e==null?void 0:e.fetchPolicy,context:e==null?void 0:e.context})}),l=o[0],u=o[1],c=D.useRef(!1);D.useEffect(function(){return function(){c.current=!0}},[]);var d=D.useRef({client:r,subscription:t,options:e});return D.useEffect(function(){var f,p,m,g,v=e==null?void 0:e.shouldResubscribe;typeof v=="function"&&(v=!!v(e)),e!=null&&e.skip?(!(e!=null&&e.skip)!=!(!((f=d.current.options)===null||f===void 0)&&f.skip)||c.current)&&(s({loading:!1,data:void 0,error:void 0,variables:e==null?void 0:e.variables}),u(null),c.current=!1):(v!==!1&&(r!==d.current.client||t!==d.current.subscription||(e==null?void 0:e.fetchPolicy)!==((p=d.current.options)===null||p===void 0?void 0:p.fetchPolicy)||!(e!=null&&e.skip)!=!(!((m=d.current.options)===null||m===void 0)&&m.skip)||!tr(e==null?void 0:e.variables,(g=d.current.options)===null||g===void 0?void 0:g.variables))||c.current)&&(s({loading:!0,data:void 0,error:void 0,variables:e==null?void 0:e.variables}),u(r.subscribe({query:t,variables:e==null?void 0:e.variables,fetchPolicy:e==null?void 0:e.fetchPolicy,context:e==null?void 0:e.context})),c.current=!1),Object.assign(d.current,{client:r,subscription:t,options:e})},[r,t,e,c.current]),D.useEffect(function(){if(l){var f=l.subscribe({next:function(p){var m,g,v={loading:!1,data:p.data,error:void 0,variables:e==null?void 0:e.variables};s(v),!((m=d.current.options)===null||m===void 0)&&m.onData?d.current.options.onData({client:r,data:v}):!((g=d.current.options)===null||g===void 0)&&g.onSubscriptionData&&d.current.options.onSubscriptionData({client:r,subscriptionData:v})},error:function(p){var m,g;s({loading:!1,data:void 0,error:p,variables:e==null?void 0:e.variables}),(g=(m=d.current.options)===null||m===void 0?void 0:m.onError)===null||g===void 0||g.call(m,p)},complete:function(){var p,m;!((p=d.current.options)===null||p===void 0)&&p.onComplete?d.current.options.onComplete():!((m=d.current.options)===null||m===void 0)&&m.onSubscriptionComplete&&d.current.options.onSubscriptionComplete()}});return function(){f.unsubscribe()}}},[l]),i}const Sa={};var Tu=(t=>(t.NotStarted="not_started",t.NotSubmitted="not_submitted",t.Ongoing="ongoing",t.Submitted="submitted",t))(Tu||{}),Cu=(t=>(t.Multiple="Multiple",t.Priority="Priority",t.Single="Single",t))(Cu||{}),pi=(t=>(t.Backend="backend",t.Choice="choice",t.Essay="essay",t.Formula="formula",t.Frontend="frontend",t.Interview="interview",t.Programming="programming",t.Project="project",t.Spreadsheet="spreadsheet",t.Sql="sql",t.Weighted="weighted",t))(pi||{}),U2=(t=>(t.Offline="OFFLINE",t.Online="ONLINE",t.Stopping="STOPPING",t))(U2||{}),Ka=(t=>(t.Error="ERROR",t.Loading="LOADING",t.NotPassed="NOT_PASSED",t.Passed="PASSED",t.TestTimeout="TEST_TIMEOUT",t))(Ka||{}),Cz=(t=>(t.PassRecover="PassRecover",t.Verify="Verify",t))(Cz||{});Te`
    query FindAsssesment($opt: FindAssessmentOpt!) {
  findAssessment(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      name
      isActive
      endTime
      duration
      invitedCount
      submittedCount
      performance
      publicToken
    }
  }
}
    `;Te`
    query GetInitialAssesmentData($opt: FindModuleOpt!, $moduleIds: [ID!], $hasSelection: Boolean!, $categoryId: ID!, $hasCategory: Boolean!, $jobTagId: ID!, $hasJobTag: Boolean!) {
  findAllModule: findModule(opt: $opt) {
    pageInfo {
      totalPage
    }
    nodes {
      id
      name
      description
      duration
      category
      jobTag
      group
      isLocked
      type
    }
  }
  findSelectedModule: findModule(
    opt: {itemsPerPage: 6, pageIndex: 1, search: "", moduleIds: $moduleIds}
  ) @include(if: $hasSelection) {
    nodes {
      id
      name
      duration
      questionCount
    }
  }
  allEmailTemplate {
    id
    name
    language
  }
  viewJobTag(id: $jobTagId) @include(if: $hasJobTag) {
    label
    value
  }
  viewCategory(id: $categoryId) @include(if: $hasCategory) {
    label
    value
  }
}
    `;const tpe=Te`
    mutation LogMouse {
  logM
}
    `;function npe(t){const e={...Sa,...t};return Dl(tpe,e)}const rpe=Te`
    mutation LogClipboard($event: Int!) {
  logC(event: $event)
}
    `;function ape(t){const e={...Sa,...t};return Dl(rpe,e)}const ipe=Te`
    query FindUserParticipantAssessment($userId: ID!, $opt: FindParticipantAssessmentOpt!) {
  findParticipantAssessment(userId: $userId, opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      eventId
      title
      userId
      status
      joinCode
      organization {
        logoUrl
        name
      }
      totalQuestion
      totalDuration
      startTime
      endTime
      maxSubmitTime
      activeSubmitTime
    }
  }
}
    `;function spe(t){const e={...Sa,...t};return Zv(ipe,e)}Te`
    query GetStatsFunnel($month: Int!, $examId: ID!, $tz: String!) {
  statsFunnel(month: $month, examId: $examId, tz: $tz) {
    invited
    submitted
    nonZero
    passed
  }
}
    `;Te`
    query GetStatsSubmissionRate($month: Int!, $examId: ID!, $tz: String!) {
  statsSubmissionRate(month: $month, examId: $examId, tz: $tz) {
    taken
    notTaken
  }
}
    `;Te`
    mutation ParticipantPdfReport($eventId: ID!, $participantUserId: ID!, $timeOffset: Int!) {
  participantPDFReport(
    eventId: $eventId
    participantUserId: $participantUserId
    timeOffset: $timeOffset
  ) {
    type
    content
  }
}
    `;Te`
    mutation ResendInvitation($eventId: ID!, $candidateId: ID, $userId: ID) {
  resendInvitation(eventId: $eventId, candidateId: $candidateId, userId: $userId)
}
    `;Te`
    query ViewAssesment($id: ID!) {
  viewAssessment(id: $id) {
    id
    examId
    organizationId
    name
    isActive
    endTime
    duration
    publicToken
    isPublic
    isSnapshotEnabled
    isCaptureEnabled
    isUploadEnabled
    isFeedbackEnabled
    forceFullscreen
    isModuleSequence
    emailTemplate {
      id
      name
    }
    instructionTemplate {
      id
      name
    }
  }
}
    `;Te`
    query FindAssessmentParticipant($eventId: ID!, $opt: FindAssessmentParticipantOpt!) {
  findAssessmentParticipant(eventId: $eventId, opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      candidateId
      name
      userId
      email
      status
      score
      maxScore
      rating
      joinCode
    }
  }
}
    `;const ope=Te`
    query AssesmentModules($eventId: ID!) {
  allModule(eventId: $eventId) {
    id
    type
    name
    duration
    questionCount
    description
    jobTag
    category
    meta {
      ... on ModuleProgramming {
        languages
      }
      ... on ModuleBackend {
        apiType
        frameworks
      }
      ... on ModuleFrontend {
        frameworks
      }
      ... on ModuleChoice {
        randomChoice
        shuffleQuestion
      }
    }
  }
}
    `;function lpe(t){const e={...Sa,...t};return QE(ope,e)}Te`
    mutation EditAssessmentConfig($id: ID!, $input: AssessmentConfigInput!) {
  editAssessmentConfig(id: $id, input: $input)
}
    `;Te`
    query DuplicateAssessmentData($id: ID!) {
  viewAssessment(id: $id) {
    name
    endTime
    isSnapshotEnabled
    isCaptureEnabled
    isFeedbackEnabled
    isModuleSequence
    forceFullscreen
    publicToken
    emailTemplate {
      id
      name
    }
    instructionTemplate {
      id
      name
    }
  }
  allModule(eventId: $id) {
    id
  }
}
    `;Te`
    mutation DeleteAssessment($id: ID!) {
  deleteAssessment(id: $id)
}
    `;Te`
    mutation RegisterTeam($input: TeamRegisterInput!) {
  registerTeam(input: $input)
}
    `;const upe=Te`
    mutation ResendToken($type: TokenType!, $email: String!) {
  resendToken(type: $type, email: $email)
}
    `;function cpe(t){const e={...Sa,...t};return Dl(upe,e)}const dpe=Te`
    mutation LostPassword($email: String!) {
  lostPassword(email: $email)
}
    `;function hpe(t){const e={...Sa,...t};return Dl(dpe,e)}const fpe=Te`
    mutation RecoverPassword($input: RecoverPasswordInput!) {
  recoverPassword(input: $input)
}
    `;function ppe(t){const e={...Sa,...t};return Dl(fpe,e)}Te`
    query GetEmailConfiguration {
  getOrgConfigurationV2 {
    invitationLanguage
    invitationSubjectEn
    invitationSubjectId
    invitationContentEn
    invitationContentId
    invitationBccEmail
  }
}
    `;Te`
    mutation SetEmailConfiguration($invitationSubjectEn: String!, $invitationSubjectId: String!, $invitationContentEn: String!, $invitationContentId: String!, $invitationLanguage: String!, $invitationBccEmail: String!) {
  invitationSubjectEn: setOrgConfiguration(
    key: INVITATION_SUBJECT_EN
    value: $invitationSubjectEn
  )
  invitationSubjectId: setOrgConfiguration(
    key: INVITATION_SUBJECT_ID
    value: $invitationSubjectId
  )
  invitationContentEn: setOrgConfiguration(
    key: INVITATION_CONTENT_EN
    value: $invitationContentEn
  )
  invitationContentId: setOrgConfiguration(
    key: INVITATION_CONTENT_ID
    value: $invitationContentId
  )
  invitationLanguage: setOrgConfiguration(
    key: INVITATION_LANGUAGE
    value: $invitationLanguage
  )
  invitationBccEmail: setOrgConfiguration(
    key: INVITATION_BCC_EMAIL
    value: $invitationBccEmail
  )
}
    `;Te`
    query AllEmailTemplate {
  allEmailTemplate {
    id
    name
    language
    isDefault
  }
}
    `;Te`
    query ViewEmailTemplate($id: ID!) {
  viewEmailTemplate(id: $id) {
    id
    name
    bcc
    content
    language
    subject
  }
}
    `;Te`
    query FindEmailTemplate($opt: FindEmailTemplateOpt!) {
  findEmailTemplate(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      name
      language
      bcc
      isDefault
    }
  }
}
    `;Te`
    mutation CreateEmailTemplate($input: EmailTemplateInput!) {
  createEmailTemplate(input: $input) {
    id
  }
}
    `;Te`
    mutation UpdateEmailTemplate($id: ID!, $input: EmailTemplateInput!) {
  updateEmailTemplate(id: $id, input: $input) {
    id
  }
}
    `;Te`
    mutation DeleteEmailTemplate($id: ID!) {
  deleteEmailTemplate(id: $id)
}
    `;Te`
    query PreviewEmail($input: PreviewEmailInput!) {
  previewEmail(input: $input)
}
    `;Te`
    mutation SetDefaultEmailTemplate($id: ID!) {
  setDefaultEmailTemplate(id: $id)
}
    `;Te`
    query AllFormulaCategories($moduleId: ID!, $parentsOnly: Boolean) {
  allFormulaCategories(moduleId: $moduleId, parentsOnly: $parentsOnly) {
    id
    name
    parent
    grandParent
    enDescription
    idDescription
  }
}
    `;Te`
    mutation CreateFormulaCategory($moduleId: ID!, $input: FormulaCategoryInput!) {
  createFormulaCategory(moduleId: $moduleId, input: $input) {
    id
    parent
    grandParent
    name
    enDescription
    idDescription
  }
}
    `;Te`
    mutation EditFormulaCategory($id: ID!, $moduleId: ID!, $input: FormulaCategoryInput!) {
  editFormulaCategory(id: $id, moduleId: $moduleId, input: $input) {
    id
    parent
    grandParent
    name
    enDescription
    idDescription
  }
}
    `;Te`
    mutation DeleteFormulaCategory($id: ID!, $moduleId: ID!) {
  deleteFormulaCategory(id: $id, moduleId: $moduleId)
}
    `;Te`
    query ViewFormulaConfig($moduleId: ID!) {
  viewFormulaConfig(moduleId: $moduleId) {
    script
    scriptType
    answerType
  }
}
    `;Te`
    mutation SetFormulaConfig($moduleId: ID!, $input: FormulaConfigInput!) {
  setFormulaConfig(moduleId: $moduleId, input: $input) {
    script
    scriptType
    answerType
  }
}
    `;const mpe=Te`
    query AllFormulaOptions($moduleId: ID!, $questionId: ID!) {
  allFormulaOptions(moduleId: $moduleId, questionId: $questionId) {
    id
    enDescription
    idDescription
  }
}
    `;function gpe(t){const e={...Sa,...t};return Zv(mpe,e)}Te`
    mutation CreateFormulaQuestionOption($moduleId: ID!, $questionId: ID!, $input: FormulaQuestionOptionInput!) {
  createFormulaQuestionOption(
    moduleId: $moduleId
    questionId: $questionId
    input: $input
  ) {
    id
    enDescription
    idDescription
  }
}
    `;Te`
    mutation EditFormulaQuestionOption($id: ID!, $moduleId: ID!, $questionId: ID!, $input: FormulaQuestionOptionInput!) {
  editFormulaQuestionOption(
    id: $id
    moduleId: $moduleId
    questionId: $questionId
    input: $input
  ) {
    id
    enDescription
    idDescription
  }
}
    `;Te`
    mutation DeleteFormulaQuestionOption($id: ID!, $moduleId: ID!, $questionId: ID!) {
  deleteFormulaQuestionOption(
    id: $id
    moduleId: $moduleId
    questionId: $questionId
  )
}
    `;Te`
    query ViewFormulaQuestions($id: ID!, $moduleId: ID!) {
  viewFormulaQuestion(id: $id, moduleId: $moduleId) {
    id
    enDescription
    idDescription
  }
}
    `;Te`
    mutation CreateFormulaQuestion($moduleId: ID!, $input: FormulaQuestionInput!) {
  createFormulaQuestion(moduleId: $moduleId, input: $input) {
    id
    enDescription
    idDescription
  }
}
    `;Te`
    mutation EditFormulaQuestion($id: ID!, $moduleId: ID!, $input: FormulaQuestionInput!) {
  editFormulaQuestion(id: $id, moduleId: $moduleId, input: $input) {
    id
    enDescription
    idDescription
  }
}
    `;Te`
    mutation DeleteFormulaQuestion($id: ID!, $moduleId: ID!) {
  deleteFormulaQuestion(id: $id, moduleId: $moduleId)
}
    `;Te`
    query AllFormulaScores($moduleId: ID!, $questionId: ID!, $optionId: ID!) {
  allFormulaScores(
    moduleId: $moduleId
    questionId: $questionId
    optionId: $optionId
  ) {
    categoryId
    score
  }
}
    `;Te`
    mutation SetFormulaScore($moduleId: ID!, $optionId: ID!, $input: [FormulaScoreInput!]!) {
  setFormulaScore(moduleId: $moduleId, optionId: $optionId, input: $input) {
    categoryId
    score
  }
}
    `;Te`
    query ViewTestInstructionTemplate($id: ID!) {
  viewTestInstructionTemplate(id: $id) {
    id
    name
    instruction
  }
}
    `;Te`
    query FindTestInstructionTemplate($opt: FindTestInstructionTemplateOpt!) {
  findTestInstructionTemplate(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      name
      isDefault
    }
  }
}
    `;Te`
    mutation CreateTestInstructionTemplate($input: TestInstructionTemplateInput!) {
  createTestInstructionTemplate(input: $input) {
    id
  }
}
    `;Te`
    mutation UpdateTestInstructionTemplate($id: ID!, $input: TestInstructionTemplateInput!) {
  updateTestInstructionTemplate(id: $id, input: $input) {
    id
  }
}
    `;Te`
    mutation DeleteTestInstructionTemplate($id: ID!) {
  deleteTestInstructionTemplate(id: $id)
}
    `;Te`
    mutation SetDefaultTestInstructionTemplate($id: ID!) {
  setDefaultTestInstructionTemplate(id: $id)
}
    `;const ype=Te`
    mutation SendPrediction($input: InterviewPredictionInput!) {
  createInterviewPrediciton(input: $input)
}
    `;function bpe(t){const e={...Sa,...t};return Dl(ype,e)}Te`
    query FindModules($opt: FindModuleOpt!) {
  findModule(opt: $opt) {
    pageInfo {
      totalPage
    }
    nodes {
      id
      name
      description
      duration
      category
      jobTag
      group
      isLocked
      type
    }
  }
}
    `;Te`
    query FindSelectedModules($moduleIds: [ID!]) {
  findModule(
    opt: {itemsPerPage: 6, pageIndex: 1, search: "", moduleIds: $moduleIds}
  ) {
    nodes {
      id
      type
      name
      duration
      questionCount
      group
      meta {
        ... on ModuleProgramming {
          languages
        }
        ... on ModuleBackend {
          apiType
          frameworks
        }
        ... on ModuleFrontend {
          frameworks
        }
      }
    }
  }
}
    `;const vpe=Te`
    query ViewModuleDetail($id: ID!) {
  viewModule(id: $id) {
    translations
    instruction
    difficulty
    questionCount
    meta {
      ... on ModuleProgramming {
        languages
      }
      ... on ModuleBackend {
        apiType
        frameworks
      }
      ... on ModuleFrontend {
        frameworks
      }
      ... on ModuleChoice {
        randomChoice
      }
    }
  }
}
    `;function wpe(t){const e={...Sa,...t};return QE(vpe,e)}Te`
    query ViewModuleData($id: ID!) {
  viewModule(id: $id) {
    id
    name
    duration
    translations
    description
    instruction
    difficulty
    category {
      label
      value
    }
    jobTag {
      label
      value
    }
    group
    type
    questionCount
    isLocked
    meta {
      ... on ModuleProgramming {
        languages
      }
      ... on ModuleBackend {
        apiType
        frameworks
      }
      ... on ModuleFrontend {
        frameworks
      }
      ... on ModuleChoice {
        randomChoice
      }
    }
  }
}
    `;Te`
    query ViewModuleParticipant($eventId: ID!, $id: ID!) {
  viewModule(id: $id, eventId: $eventId) {
    id
    name
    duration
    instruction
    type
    questionCount
    meta {
      ... on ModuleProgramming {
        languages
      }
      ... on ModuleBackend {
        apiType
        frameworks
      }
      ... on ModuleFrontend {
        frameworks
      }
      ... on ModuleChoice {
        randomChoice
      }
    }
  }
}
    `;Te`
    query FindCategory($opt: DropdownOpt!) {
  findCategory(opt: $opt) {
    nodes {
      value
      label
    }
  }
}
    `;Te`
    query FindJobTag($opt: DropdownOpt!) {
  findJobTag(opt: $opt) {
    nodes {
      value
      label
    }
  }
}
    `;Te`
    query FindOrganizationUser($opt: FindOrgUserOpt!) {
  findOrganizationUser(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      name
      email
      function
      role
      isVerified
      pictureUrl
      isBlocked
      phone
    }
  }
}
    `;Te`
    mutation EditOrganization($opt: OrgOpt!) {
  editOrganization(opt: $opt)
}
    `;Te`
    query ViewSetupInfo {
  viewBillingInfo {
    address
    taxId
    paymentMethod {
      ... on PaymentCreditCard {
        number
        expMonth
        expYear
      }
    }
  }
}
    `;Te`
    query GetXenCustomerId {
  viewBillingInfo {
    xenCustomerId
  }
}
    `;Te`
    mutation StartFreeTrial {
  startFreeTrial
}
    `;Te`
    mutation subscribePackage($opt: SubscribePackageOpt!) {
  subscribePackage(opt: $opt)
}
    `;Te`
    query FindPackage($cycle: String!) {
  findPackage(cycle: $cycle) {
    id
    name
    basePrice
    pricing
    cycle
    candidateCount
    concurrentUserCount
    recruiterCount
    regularQuota
    codingQuota
    formulaQuota
    interviewQuota
    projectQuota
    spreadsheetQuota
    customizable
  }
}
    `;Te`
    query ViewActivePlan {
  viewActivePlan {
    packageId
    packageName
    packagePricePerCycle
    packageCycle
    startAt
    endAt
    quota
    quotaUsage
    recruiterCount
    regularQuota
    codingQuota
    formulaQuota
    interviewQuota
    projectQuota
    spreadsheetQuota
    customizable
  }
  viewOrgStats {
    totalRecruiter
  }
}
    `;Te`
    query GetDashboardData {
  viewActivePlan {
    packageName
    startAt
    endAt
    quota
    quotaUsage
    ongoing
    maxConcurrent
  }
  viewOrgStats {
    totalParticipant
    totalRecruiter
    totalAssessment
    totalModule
  }
  viewOrgFunnel(month: 1) {
    invited
    submitted
    nonZero
    passed
  }
}
    `;Te`
    query ViewOrgFunnel($month: Int!) {
  viewOrgFunnel(month: $month) {
    invited
    submitted
    nonZero
    passed
  }
}
    `;Te`
    query FindOrgInvoice($opt: FindOrgInvoiceOpt!) {
  findOrgInvoice(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      amount
      currency
      status
      purchasedAt
      createdAt
    }
  }
}
    `;Te`
    query FindParticipant($opt: FindParticipantOpt!) {
  findParticipant(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      id
      name
      email
      photoUrl
    }
  }
}
    `;Te`
    query FindParticipantAssessment($userId: ID!, $opt: FindParticipantAssessmentOpt!) {
  viewParticipantInfo(userId: $userId) {
    id
    name
    email
    phone
    socialUrl
    cvUrl
  }
  findParticipantAssessment(userId: $userId, opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      eventId
      title
      userId
      status
      score
      maxScore
      rating
    }
  }
}
    `;Te`
    mutation DeleteParticipant($eventId: ID!, $participantIds: [ParticipantIdentifier!]!) {
  deleteParticipant(eventId: $eventId, participantIds: $participantIds)
}
    `;Te`
    mutation UploadCSV($input: Upload!, $examId: Int!) {
  uploadCsvParticipant(input: $input, examId: $examId) {
    name
    email
  }
}
    `;Te`
    query ViewParticipant($eventId: ID!, $userId: ID!) {
  viewAssessment(id: $eventId) {
    examId
    name
    organizationId
  }
  viewParticipant(eventId: $eventId, userId: $userId) {
    navigationInfo {
      prev
      next
      currentIndex
      totalCount
    }
    node {
      id
      name
      email
      phone
      photoUrl
      scorePercentage
      ratingAvg
      myRating {
        rating
        note
        updatedAt
      }
      timestamps {
        invitedAt
        startedAt
        finishedAt
      }
      client {
        device
        browser
        os
        location
        useMultipleIP
      }
      config {
        webcamActive
        screenActive
      }
      monitoring {
        alwaysFullscreen
        copyActions
        mouseOutCount
      }
      submissions {
        id
        moduleId
        moduleName
        timespent
        moduleType
        result {
          ... on GeneralResult {
            score
            maxScore
          }
          ... on FormulaResult {
            conclusion
          }
        }
      }
    }
  }
}
    `;Te`
    mutation SetParticipantRating($eventId: ID!, $userId: ID!, $input: ParticipantRatingInput!) {
  setParticipantRating(eventId: $eventId, userId: $userId, input: $input) {
    rating
    note
    updatedAt
  }
}
    `;Te`
    mutation RequestBulkReports($eventId: ID!, $participantUserId: [ID!]!, $timeOffset: Int!) {
  participantBulkReport(
    eventId: $eventId
    participantUserId: $participantUserId
    timeOffset: $timeOffset
  )
}
    `;Te`
    mutation UpdateBulkReports($eventId: ID!, $reportId: ID!, $timeOffset: Int!) {
  updateParticipantBulkReport(
    eventId: $eventId
    reportId: $reportId
    timeOffset: $timeOffset
  )
}
    `;Te`
    mutation RequestFullReports($eventId: ID!, $participantUserId: ID!, $timeOffset: Int!) {
  participantFullReport(
    eventId: $eventId
    participantUserId: $participantUserId
    timeOffset: $timeOffset
  )
}
    `;Te`
    query FindParticipantNotes($opt: FindParticipantNotesOpt!) {
  findParticipantNotes(opt: $opt) {
    pageInfo {
      endCursor
      hasNextPage
    }
    edges {
      node {
        id
        rating
        content
        owner {
          name
          photoUrl
        }
        ownerId
        createdAt
      }
    }
  }
}
    `;Te`
    query GetAllTestCases($problemID: ID!) {
  getAllTestCases(problemID: $problemID) {
    id
    score
    isSample
  }
}
    `;Te`
    query GetTestCaseDetail($problemID: ID, $testCaseID: ID!) {
  getTestCaseDetail(problemID: $problemID, testCaseID: $testCaseID) {
    id
    stdin
    stdinSize
    arguments
    expectedStdout
    expectedStdoutSize
    expectedOutput
    expectedOutputSize
    score
    isSample
  }
}
    `;Te`
    mutation AddTestCase($problemID: ID, $input: ProgrammingTestCaseInput!) {
  addTestCase(problemID: $problemID, input: $input) {
    id
    stdin
    stdinSize
    arguments
    expectedStdout
    expectedStdoutSize
    expectedOutput
    expectedOutputSize
    score
    isSample
  }
}
    `;Te`
    mutation EditTestCase($problemID: ID, $testCaseID: ID!, $input: ProgrammingTestCaseInput!) {
  editTestCase(problemID: $problemID, testCaseID: $testCaseID, input: $input) {
    id
    stdin
    stdinSize
    arguments
    expectedStdout
    expectedStdoutSize
    expectedOutput
    expectedOutputSize
    score
    isSample
  }
}
    `;Te`
    mutation DeleteTestCase($problemID: ID, $testCaseID: ID!) {
  deleteTestCase(problemID: $problemID, testCaseID: $testCaseID)
}
    `;Te`
    mutation EditPartialCodingTC($questionId: ID!, $testCaseId: ID!, $input: PartialCodingTCInput!) {
  editPartialCodingTC(
    questionId: $questionId
    testCaseId: $testCaseId
    input: $input
  ) {
    score
    isSample
  }
}
    `;Te`
    mutation GenerateInitCode($questionId: ID!, $inputs: [InputParam!]!, $outputType: String!, $functionName: String, $languages: [String!]!) {
  generateInitCode(
    questionId: $questionId
    inputs: $inputs
    outputType: $outputType
    functionName: $functionName
    languages: $languages
  ) {
    language
    initCode
    testCode
  }
}
    `;Te`
    query GetTestCaseExecution($examSubmissionID: ID!, $questionID: ID!, $problemID: ID!, $talentPoolID: ID) {
  getAllTestCases(problemID: $problemID, talentPoolID: $talentPoolID) {
    id
    stdinSize
    expectedStdoutSize
    expectedOutputSize
    score
    isSample
  }
  getExecutionResult(
    examSubmissionID: $examSubmissionID
    questionID: $questionID
    talentPoolID: $talentPoolID
  ) {
    testCaseID
    status
    execDuration
    memAllocation
    actualOutput
    stdout
    stderr
  }
}
    `;Te`
    query allCodeCaptures($submissionId: ID!, $questionId: ID!) {
  allCodeCaptures(submissionId: $submissionId, questionId: $questionId)
}
    `;const xpe=Te`
    mutation uploadCodeCapture($input: CodeCaptureInput!) {
  uploadCodeCapture(input: $input)
}
    `;function Iz(t){const e={...Sa,...t};return Dl(xpe,e)}Te`
    mutation CreateBackendTestcase($moduleID: ID!, $questionID: ID!, $input: BackendTestCaseInput!) {
  createBackendTestCase(
    moduleID: $moduleID
    questionID: $questionID
    input: $input
  ) {
    id
    name
    kind
    method
    path
    isSample
    headers {
      key
      value
    }
    score
    testCaseRest {
      input
      expectedOutput
    }
    gradingCaseRest {
      input
      expectedOutput
    }
    testCaseGql {
      query
      variables
      expectedOutput
    }
    gradingCaseGql {
      query
      variables
      expectedOutput
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation EditBackendTestcase($moduleID: ID!, $questionID: ID!, $id: ID!, $input: BackendTestCaseInput!) {
  updateBackendTestCase(
    moduleID: $moduleID
    questionID: $questionID
    id: $id
    input: $input
  ) {
    id
    name
    kind
    method
    path
    isSample
    headers {
      key
      value
    }
    score
    testCaseRest {
      input
      expectedOutput
    }
    gradingCaseRest {
      input
      expectedOutput
    }
    testCaseGql {
      query
      variables
      expectedOutput
    }
    gradingCaseGql {
      query
      variables
      expectedOutput
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation DeleteBackendTestcase($moduleID: ID!, $questionID: ID!, $id: ID!) {
  deleteBackendTestCase(moduleID: $moduleID, questionID: $questionID, id: $id)
}
    `;Te`
    query ListMessage($roomID: ID!, $param: PaginationInput!) {
  listMessage(roomId: $roomID, param: $param) {
    totalCount
    pageInfo {
      hasNextPage
    }
    edges {
      userID
      message
      senderName
      senderType
      createdAt
      updatedAt
    }
  }
}
    `;Te`
    mutation JoinChat($examID: ID!, $participantUserID: ID!) {
  joinChat(examId: $examID, participantUserId: $participantUserID) {
    id
    name
  }
}
    `;Te`
    mutation SendMessage($roomID: ID!, $message: String!) {
  sendMessage(roomId: $roomID, message: $message) {
    message
    senderName
  }
}
    `;Te`
    mutation ReadMessage($roomID: ID!) {
  readMessage(roomId: $roomID)
}
    `;Te`
    mutation CreateFrontendTestcase($moduleID: ID!, $questionID: ID!, $input: FrontendTestCaseInput!) {
  createFrontendTestCase(
    moduleID: $moduleID
    questionID: $questionID
    input: $input
  ) {
    id
    name
    kind
    score
    urlPath
    isSample
    testCaseE2E {
      actions {
        action
        value
        selector
        timeout
      }
      selector
      operator
      expected
      timeout
      graderFunction
    }
    testCaseStyle {
      imageUrl
      similarity
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation UpdateFrontendTestcase($moduleID: ID!, $questionID: ID!, $id: ID!, $input: FrontendTestCaseInput!) {
  updateFrontendTestCase(
    moduleID: $moduleID
    questionID: $questionID
    id: $id
    input: $input
  ) {
    id
    name
    kind
    score
    urlPath
    isSample
    testCaseE2E {
      actions {
        action
        value
        selector
        timeout
      }
      selector
      operator
      expected
      timeout
      graderFunction
    }
    testCaseStyle {
      imageUrl
      similarity
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation DeleteFrontendTestcase($moduleID: ID!, $questionID: ID!, $id: ID!) {
  deleteFrontendTestCase(moduleID: $moduleID, questionID: $questionID, id: $id)
}
    `;Te`
    query GenerateFrontendGrader($input: GeneratorInput!) {
  generateFrontendGrader(input: $input)
}
    `;Te`
    mutation CreateProjectQuestion($moduleID: ID!, $input: ProjectQuestionInput!) {
  createProjectQuestion(moduleID: $moduleID, input: $input) {
    id
    order
    name
    description
    description_id
    duration
    maxTries
    initialFile
    proxyConfigs {
      path
      port
    }
    isLive
    problem_id: problemId
    exam_module_id: examModuleID
    created_at: createdAt
    updated_at: updatedAt
  }
}
    `;Te`
    mutation UpdateProjectQuestion($moduleID: ID!, $id: ID!, $input: ProjectQuestionInput!) {
  updateProjectQuestion(moduleID: $moduleID, id: $id, input: $input) {
    id
    problemId
    name
    description
    description_id
    order
    examModuleID
    duration
    maxTries
    initialFile
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation DeleteProjectQuestion($moduleID: ID!, $id: ID!) {
  deleteProjectQuestion(moduleID: $moduleID, id: $id)
}
    `;const _pe=Te`
    subscription TestProject($examSubmissionID: ID!, $questionID: ID!) {
  testProject(examSubmissionID: $examSubmissionID, questionID: $questionID) {
    backendResult {
      name
      status
      expected
      actual
      stdout
      stderr
      request {
        path
        method
        headers {
          key
          value
        }
        body {
          ... on TestCaseRest {
            input
          }
          ... on TestCaseGql {
            query
            variables
          }
        }
      }
    }
    frontendResult {
      name
      status
      expected
      actual
      stdout
      stderr
      request {
        path
      }
    }
  }
}
    `,kpe=Te`
    subscription SubmitProject($examSubmissionID: ID!, $questionID: ID!) {
  submitProject(examSubmissionID: $examSubmissionID, questionID: $questionID) {
    backendResult {
      name
      status
      expected
      actual
      stdout
      stderr
      request {
        path
        method
        headers {
          key
          value
        }
        body {
          ... on TestCaseRest {
            input
          }
          ... on TestCaseGql {
            query
            variables
          }
        }
      }
    }
    frontendResult {
      name
      status
      expected
      actual
      stdout
      stderr
      request {
        path
      }
    }
  }
}
    `,Spe=Te`
    query ViewGitCredential {
  viewGitCredential {
    username
    password
  }
}
    `;function Npe(t){const e={...Sa,...t};return Zv(Spe,e)}const Epe=Te`
    subscription StatusProxy($examSubmissionID: ID!, $questionID: ID!) {
  statusProxy(examSubmissionID: $examSubmissionID, questionID: $questionID) {
    status
    publicUrl
  }
}
    `;function Tpe(t){const e={...Sa,...t};return epe(Epe,e)}const Cpe=Te`
    query GetProxyInfo($submissionId: ID!, $questionId: ID!) {
  getProxyInfo(submissionId: $submissionId, questionId: $questionId) {
    gitCloneUrl
    gitUrl
    token
  }
}
    `;function Ipe(t){const e={...Sa,...t};return Zv(Cpe,e)}Te`
    query AllFrontendTestCase($moduleID: ID!, $questionID: ID!) {
  allFrontendTestCase(moduleID: $moduleID, questionID: $questionID) {
    id
    name
    kind
    score
    urlPath
    isSample
    testCaseE2E {
      actions {
        action
        value
        selector
        timeout
      }
      selector
      operator
      expected
      timeout
      graderFunction
    }
    testCaseStyle {
      imageUrl
      similarity
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    query AllBackendTestCase($moduleID: ID!, $questionID: ID!) {
  allBackendTestCase(moduleID: $moduleID, questionID: $questionID) {
    id
    name
    kind
    method
    path
    timeout
    isSample
    headers {
      key
      value
    }
    score
    testCaseRest {
      input
      expectedOutput
    }
    gradingCaseRest {
      input
      expectedOutput
    }
    testCaseGql {
      query
      variables
      expectedOutput
    }
    gradingCaseGql {
      query
      variables
      expectedOutput
    }
    createdAt
    updatedAt
  }
}
    `;Te`
    query AllProjectTestCase($moduleID: ID!, $questionID: ID!) {
  allBackendTestCase(moduleID: $moduleID, questionID: $questionID) {
    id
    name
    kind
    method
    path
    timeout
    isSample
    headers {
      key
      value
    }
    score
    testCaseRest {
      input
      expectedOutput
    }
    gradingCaseRest {
      input
      expectedOutput
    }
    testCaseGql {
      query
      variables
      expectedOutput
    }
    gradingCaseGql {
      query
      variables
      expectedOutput
    }
    createdAt
    updatedAt
  }
  allFrontendTestCase(moduleID: $moduleID, questionID: $questionID) {
    id
    name
    kind
    score
    urlPath
    isSample
    testCaseE2E {
      actions {
        action
        value
        selector
        timeout
      }
      selector
      operator
      expected
      timeout
      graderFunction
    }
    testCaseStyle {
      imageUrl
      similarity
    }
    createdAt
    updatedAt
  }
}
    `;const Ape=Te`
    mutation uploadSnapshot($input: SnapshotInput!) {
  uploadSnapshot(input: $input)
}
    `;function Dpe(t){const e={...Sa,...t};return Dl(Ape,e)}const Rpe=Te`
    query ViewSpreadsheetQuestion($moduleId: ID!, $id: ID!) {
  viewSpreadsheetQuestion(id: $id, moduleId: $moduleId) {
    testingFile {
      id
      fileName
      content
      fileUrl
    }
    gradingFile {
      id
      content
    }
  }
}
    `;function $pe(t){const e={...Sa,...t};return QE(Rpe,e)}Te`
    query ViewSpreadsheetQuestionSubmission($moduleId: ID!, $id: ID!) {
  viewSpreadsheetQuestion(id: $id, moduleId: $moduleId) {
    description
    description_id
    testingFile {
      fileName
      fileUrl
    }
  }
}
    `;Te`
    mutation CreateSpreadsheetQuestion($moduleId: ID!, $input: SpreadsheetQuestionInput!) {
  createSpreadsheetQuestion(moduleId: $moduleId, input: $input) {
    id
    testingFile {
      id
      fileName
    }
    description
    description_id
    examModuleId
    order
    createdAt
    updatedAt
  }
}
    `;Te`
    mutation EditSpreadsheetQuestion($id: ID!, $moduleId: ID!, $input: SpreadsheetQuestionInput!) {
  editSpreadsheetQuestion(id: $id, moduleId: $moduleId, input: $input) {
    testingFile {
      id
      fileName
      content
    }
    gradingFile {
      id
      content
    }
  }
}
    `;Te`
    mutation UploadSpreadsheetFile($file: Upload!) {
  uploadSpreadsheetFile(file: $file) {
    id
  }
}
    `;Te`
    mutation ValidateSpreadsheet($moduleId: ID!, $questionId: ID!, $file: Upload!) {
  validateSpreadsheet(moduleId: $moduleId, questionId: $questionId, file: $file) {
    content
    errorInfo {
      label
      param
    }
    tests {
      cell
      sheet
      evaluatedValue
      expectedValue
      rawValue
      operator
      status
      isGrading
      errorInfo {
        label
        param
      }
    }
  }
}
    `;Te`
    query FetchSpreadsheetDataset($moduleId: ID!, $questionId: ID!) {
  spreadsheetDataset(moduleId: $moduleId, questionId: $questionId) {
    id
    sheet
    cell
  }
}
    `;Te`
    mutation AddSpreadsheetDataset($moduleId: ID!, $questionId: ID!, $input: [SpreadsheetDatasetInput!]!) {
  addSpreadsheetDataset(
    moduleId: $moduleId
    questionId: $questionId
    input: $input
  )
}
    `;Te`
    mutation DeleteSpreadsheetDataset($moduleId: ID!, $questionId: ID!) {
  clearSpreadsheetDataset(moduleId: $moduleId, questionId: $questionId)
}
    `;const Ope=Te`
    mutation TestSpreadsheet($submissionId: ID!, $questionId: ID!, $file: Upload!) {
  testSpreadsheet(
    submissionId: $submissionId
    questionId: $questionId
    file: $file
  ) {
    content
    errorInfo {
      label
      param
    }
    tests {
      cell
      sheet
      evaluatedValue
      expectedValue
      rawValue
      operator
      status
      isGrading
      errorInfo {
        label
        param
      }
    }
  }
}
    `;function Lpe(t){const e={...Sa,...t};return Dl(Ope,e)}const Fpe=Te`
    mutation GradeSpreadsheet($submissionId: ID!, $questionId: ID!, $file: Upload!) {
  gradeSpreadsheet(
    submissionId: $submissionId
    questionId: $questionId
    file: $file
  ) {
    case
    passedCase
    tests {
      cell
      sheet
      evaluatedValue
      expectedValue
      rawValue
      operator
      status
      isGrading
      errorInfo {
        label
        param
      }
    }
  }
}
    `;function Ppe(t){const e={...Sa,...t};return Dl(Fpe,e)}Te`
    query FetchSpreadsheetTestcases($moduleId: ID!, $questionId: ID!) {
  spreadsheetTestcases(moduleId: $moduleId, questionId: $questionId) {
    id
    value
    sheet
    cell
    score
    isGrading
    operator
  }
}
    `;Te`
    mutation CreateSpreadsheetTestcase($moduleId: ID!, $questionId: ID!, $input: SpreadsheetTestcaseInput!) {
  createSpreadsheetTestcase(
    moduleId: $moduleId
    questionId: $questionId
    input: $input
  ) {
    id
    value
    sheet
    cell
    score
    isGrading
    operator
  }
}
    `;Te`
    mutation EditSpreadsheetTestcase($id: ID!, $moduleId: ID!, $questionId: ID!, $input: SpreadsheetTestcaseInput!) {
  editSpreadsheetTestcase(
    id: $id
    moduleId: $moduleId
    questionId: $questionId
    input: $input
  ) {
    id
    value
    sheet
    cell
    score
    isGrading
    operator
  }
}
    `;Te`
    mutation DeleteSpreadsheetTestcase($id: ID!, $moduleId: ID!, $questionId: ID!) {
  deleteSpreadsheetTestcase(id: $id, moduleId: $moduleId, questionId: $questionId)
}
    `;Te`
    query GenerateSQLMigration($input: SQLGeneratorInput!) {
  generateSQLMigration(input: $input)
}
    `;Te`
    query ChoiceSubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      moduleType
      ... on ChoiceResultDetail {
        score
        maxScore
        timespent
        selectedOption
      }
    }
  }
}
    `;Te`
    query EssaySubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      ... on EssayResultDetail {
        score
        maxScore
        timespent
        text
        files {
          name
          type
          url
        }
      }
    }
  }
}
    `;Te`
    query InterviewSubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      ... on InterviewResultDetail {
        score
        maxScore
        timespent
        videoUrl
        prediction {
          imageUrl
          focusMin
          focusMax
          focusAvg
          poseMin
          poseMax
          poseAvg
          emotionNegative
          emotionNeutral
          emotionPositive
        }
      }
    }
  }
}
    `;Te`
    query FormulaSubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      ... on FormulaResultDetail {
        categories {
          category
          description
          score
        }
        conclusion
        descriptions
      }
    }
  }
}
    `;Te`
    query SpreadsheetSubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      ... on SpreadsheetResultDetail {
        score
        maxScore
        submittedFile {
          fileName
          fileUrl
          content
        }
        testcases {
          cell
          sheet
          status
          operator
          expectedValue
          rawValue
          evaluatedValue
          errorInfo {
            label
            param
          }
          isGrading
        }
      }
    }
  }
}
    `;Te`
    query ProgrammingSubmissionDetail($opt: FindSubmissionResultDetailOpt!) {
  findSubmissionResultDetail(opt: $opt) {
    pageInfo {
      pageIndex
      totalPage
    }
    nodes {
      moduleId
      questionId
      moduleType
      ... on CodingResultDetail {
        score
        maxScore
        timespent
        code
        language
      }
    }
  }
}
    `;Te`
    query GetAllWorkspaceMembers($examId: ID!) {
  allWorkspaceMembers(examId: $examId) {
    id
    name
    email
    profile_picture
    is_member
  }
}
    `;Te`
    mutation AddWorkspaceMember($input: WorkspaceInput!) {
  addToWorkspace(input: $input)
}
    `;Te`
    mutation DeleteWorkspaceMember($examId: ID!, $userId: ID!) {
  kickFromWorkspace(examId: $examId, userId: $userId)
}
    `;const Mpe={DEMO_CHOICE_CODE:"DJTB0O",DEMO_CODING_CODE:"2YA9T1",DEMO_SQL_CODE:"5YV8EK",DEMO_SHEET_CODE:"96UP29",DEMO_INTERVIEW_CODE:"CQ38QU",DEMO_FRONTEND_CODE:"CGTKVY",DEMO_BACKEND_CODE:"0L6VJU"},Bpe={DEMO_CHOICE_CODE:"CQWDK5",DEMO_CODING_CODE:"QYOI5Q",DEMO_SQL_CODE:"51QCR4",DEMO_SHEET_CODE:"",DEMO_INTERVIEW_CODE:"YKM2UZ",DEMO_FRONTEND_CODE:"KYUA6G",DEMO_BACKEND_CODE:"2V2OA7"};function zpe(){switch("production"){case"production":return Bpe;default:return Mpe}}const Upe=()=>{const{t}=ct(),[e,n]=D.useState(!1),r=zpe();return _("div",{className:"w-full px-3 lg:px-8 md:px-4 py-3 md:py-4 mx-auto bg-sky-100 dark:bg-slate-800 rounded-lg mb-4",children:[h("button",{onClick:()=>n(!e),className:"w-full flex flex-col",children:_("div",{className:"w-full flex items-center justify-between",children:[h("h3",{className:"text-left font-medium text-lg dark:text-white text-sky-600",children:t("home_trydemo")}),h($2,{open:e,className:"p-2 text-gray-400"})]})}),h(K,{when:e,children:_("div",{className:"mt-4 w-full grid md:gap-4 gap-2 lg:grid-cols-6 md:grid-cols-3 grid-cols-1",children:[_("div",{className:"rounded-lg bg-white dark:bg-slate-900 p-4 w-full text-left group-disabled:bg-sky-50 dark:group-disabled:bg-gray-700",children:[h("div",{className:"bg-lime-100 p-1 text-lime-600 w-fit p-2 rounded mb-2",title:t("mod_choice"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),h("p",{className:"font-medium dark:text-white font-2xl leading-tight",children:t("home_welcome")}),_(Nt,{to:"https://faq.algobash.com/docs/welcome-to-algobash/",target:"_blank",className:"mt-2 w-fit py-2 px-4 border border-blue-500 text-sky-500 dark:border-blue-400 dark:text-sky-400 rounded flex justify-center items-center gap-x-1",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),h("span",{className:"block text-sm font-medium",children:t("home_readFAQ")})]})]}),_("div",{className:"rounded-lg bg-white dark:bg-slate-900 p-4 w-full text-left group-disabled:bg-sky-50 dark:group-disabled:bg-gray-700",children:[h("div",{className:"bg-lime-100 p-1 text-lime-600 w-fit p-2 rounded mb-2",title:t("mod_choice"),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})})}),h("p",{className:"font-medium dark:text-white font-2xl leading-tight",children:t("home_completeProfile")}),_(Nt,{to:"https://faq.algobash.com/docs/enhance-your-hiring-prospects-with-detailed-profile-information/",target:"_blank",className:"mt-2 w-fit py-2 px-4 border border-blue-500 text-sky-500 dark:border-blue-400 dark:text-sky-400 rounded flex justify-center items-center gap-x-1",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),h("span",{className:"block text-sm font-medium",children:t("home_readFAQ")})]})]}),h(Xc,{code:r.DEMO_CHOICE_CODE,type:pi.Choice,text:t("mod_choice")}),h(Xc,{code:r.DEMO_CODING_CODE,type:pi.Programming,text:t("home_codingtest")}),h(Xc,{code:r.DEMO_SQL_CODE,type:pi.Sql,text:t("home_sqltest")}),h(Xc,{code:r.DEMO_SHEET_CODE,type:pi.Spreadsheet,text:t("home_sheettest")}),h(Xc,{code:r.DEMO_INTERVIEW_CODE,type:pi.Interview,text:t("home_intvtest")}),h(Xc,{code:r.DEMO_FRONTEND_CODE,type:pi.Frontend,text:t("home_fetest")}),h(Xc,{code:r.DEMO_BACKEND_CODE,type:pi.Backend,text:t("home_betest")})]})})]})},Xc=({code:t,type:e,text:n})=>{const{t:r}=ct(),a=ai(),[i,s]=D.useState(!1);async function o(){var c;s(!0);const{error:l,result:u}=await pE(t);if(!(u!=null&&u.data)){Xe({message:r(l||((c=u==null?void 0:u.error)==null?void 0:c.message)||"err_networkProblem"),type:"error"}),s(!1);return}s(!1),a(`/assessments/${u.data.event_id}`),localStorage.removeItem("invitation_code")}return h("button",{className:"w-full h-full lg:col-span-1 col-span-4 contents enabled:hover:-translate-y-1 transition duration-300 ease-in-out group",onClick:o,disabled:i||!t,children:_("div",{className:"rounded-lg bg-white dark:bg-slate-900 p-4 w-full text-left group-disabled:bg-sky-50 dark:group-disabled:bg-gray-700",children:[h(mE,{type:e,className:"w-fit p-2 !rounded mb-2"}),_("p",{className:"font-medium dark:text-white font-2xl leading-tight",children:["Demo ",n]}),h(K,{when:t!=="",children:_("div",{className:"mt-2 w-fit py-2 px-4 border border-blue-500 text-sky-500 dark:border-blue-400 dark:text-sky-400 rounded flex justify-center items-center gap-x-1",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block text-sm font-medium",children:r("home_startdemo")})]})}),h(K,{when:!t,children:h("div",{className:"mt-2 w-fit py-2 px-4 border border-gray-500 text-gray-500 dark:border-gray-400 dark:text-gray-400 rounded flex justify-center items-center gap-x-1",children:h("span",{className:"block text-sm font-medium",children:r("gen_comingSoon")})})})]})})},tb=t=>{const{message:e,children:n,placement:r,className:a,tooltipClass:i,arrowClass:s,disabled:o,noRelative:l=!1,as:u="div"}=t,c=D.useRef(null),d=D.useRef(null),f=D.useRef(null),[p,m]=D.useState(!1);return D.useEffect(()=>{o&&m(!1)},[o]),D.useEffect(()=>{!c.current||!d.current||!f.current||o||$v(c.current,d.current,{placement:r,middleware:[Av(),BN(),Iv(10),cM({element:f.current})]}).then(({x:g,y:v,placement:y,middlewareData:b})=>{if(!(!c.current||!d.current||!f.current)&&(Object.assign(d.current.style,{left:`${g}px`,top:`${v}px`}),b.arrow&&f.current)){const{x:w,y:x}=b.arrow,k={left:w!=null?`${w}px`:"",top:x!=null?`${x}px`:""};Object.assign(f.current.style,l?jpe(k,y,d.current.clientWidth,d.current.clientHeight,f.current.offsetWidth,f.current.offsetHeight,g,v):Az(k,y,c.current.clientWidth,c.current.clientHeight,f.current.offsetWidth,f.current.offsetHeight))}})},[p,r]),_(u,{ref:c,className:Ce({relative:!l},a),onMouseEnter:()=>o?null:m(!0),onMouseLeave:()=>o?null:m(!1),children:[n,_(K,{when:o?!1:p,children:[h("div",{ref:f,className:Ce("absolute z-10 h-0 w-0 border-x-[5px] border-x-transparent border-b-[10px] border-b-gray-800 dark:border-b-gray-200",s)}),h("div",{ref:d,className:Ce("absolute z-10 p-2 w-max bg-gray-800 dark:bg-gray-200 text-white dark:text-gray-800 rounded text-xs",i),children:e})]})]})};function Az(t,e,n,r,a,i){const s={...t},o=n/2-a/2,l=r/2+i/2;switch(e){case"left":s.left="-10px",s.transform="rotate(90deg)";break;case"right":s.left=`${n}px`,s.transform="rotate(-90deg)";break;case"right-start":s.left=`${n}px`,s.top=`${o}px`,s.transform="rotate(-90deg)";break;case"left-start":s.top=`${o}px`,s.left=`-${a}px`,s.transform="rotate(90deg)";break;case"bottom-end":s.left=`${o}px`;break;case"top":s.top=`-${i}px`,s.transform="rotate(180deg)";break;default:s.top=`${l+5}px`;break}return s}function jpe(t,e,n,r,a,i,s,o){const l={...t},u=n/2-a/2;switch(e){case"left":l.left="-10px",l.transform="rotate(90deg)";break;case"right":l.left=`${n}px`,l.transform="rotate(-90deg)";break;case"right-start":l.left=`${n}px`,l.top=`${u}px`,l.transform="rotate(-90deg)";break;case"left-start":l.top=`${u}px`,l.left=`-${a}px`,l.transform="rotate(90deg)";break;case"bottom-end":l.left=`${u}px`;break;case"top":l.top=`-${i}px`,l.transform="rotate(180deg)";break;default:l.top=`${o-10}px`,l.left=`${s+u}px`;break}return l}const FR=9,Vpe=function(){const[t]=Ji(),{t:e}=ct(),n=OF(),[r,a]=lo("pageIndex",1,!1,n),[i,s]=D.useState(0),[o,l]=mh("search","",n),[u,c]=D.useState(o);D.useEffect(()=>{const m=setTimeout(()=>{u&&a(1),l(u)},500);return()=>{clearTimeout(m)}},[u]);const{data:d,loading:f,refetch:p}=spe({skip:!(t!=null&&t.id),variables:{userId:(t==null?void 0:t.id)||0,opt:{pageIndex:r,itemsPerPage:FR,search:o}}});return D.useEffect(()=>{d!=null&&d.findParticipantAssessment&&s(d.findParticipantAssessment.pageInfo.totalPage)},[d==null?void 0:d.findParticipantAssessment.pageInfo.totalPage]),h(Es,{title:"Algobash "+e("gen_assessment"),children:_("div",{className:"w-full px-2 lg:px-10 md:px-4 py-4 mx-auto",children:[h(Upe,{}),_("div",{className:"flex md:flex-row flex-col items-start md:items-center gap-2 justify-between mb-4 w-full",children:[h("h1",{className:"text-xl font-medium dark:text-white flex lg:grow-0 grow truncate text-ellipsis",children:e("gen_assessments")}),_("div",{className:"flex gap-3 md:w-fit w-full",children:[h("div",{className:"md:w-fit w-full",children:h(QN,{getter:u,setter:c})}),h(jce,{urlParams:n})]})]}),_("div",{className:"relative grid gap-4 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:[_(K,{when:!(d!=null&&d.findParticipantAssessment.nodes.length),children:[h(K,{when:f,children:Do(FR,0).map((m,g)=>h(Dz,{},g))}),h(K,{when:!f,children:h("div",{className:"bg-slate-50 dark:bg-slate-800 col-span-3",children:_("div",{className:"rounded-b-lg w-full px-4 py-8 flex items-center justify-center flex-col p-4 md:p-8 bg-white dark:bg-slate-900 dark:text-gray-300 rounded-md h-96",children:[_(K,{when:!!o,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"mb-2 w-10 h-10 mx-auto text-gray-200 dark:text-gray-700",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h("p",{className:"font-medium text-gray-600 dark:text-gray-200",children:e("asm_notFound")}),h("p",{className:"text-gray-400 text-sm",children:e("asm_notFoundDesc")})]}),_(K,{when:!o,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"mb-2 w-10 h-10 mx-auto text-gray-200 dark:text-gray-700",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h("p",{className:"font-medium text-gray-600 dark:text-gray-200",children:e("asm_noAssessment")}),h("p",{className:"text-gray-400 text-sm",children:e("asm_automate")}),h("p",{className:"text-gray-400 text-sm mb-2",children:e("asm_howTo")}),h("div",{className:"flex w-fit items-center gap-x-2",children:_(Nt,{className:"h-12 px-4 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2 grow-0",to:"https://faq.algobash.com/docs/create-a-new-test",target:"_blank",children:[h("span",{className:"hidden md:block text-sm",children:e("asm_createGuide")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})]})})]})]})})})]}),d==null?void 0:d.findParticipantAssessment.nodes.map((m,g)=>h(Wpe,{item:m,gloading:f,refetch:p},g))]}),h(K,{when:i>1,children:h(Mce,{currentPage:r,onClick:a,totalPages:i,className:"!mt-4 justify-center"})})]})})},Wpe=({item:t,gloading:e,refetch:n})=>{const{t:r,lang:a}=ct(),i=ai(),[s,o]=D.useState(!1);async function l(m){var y;if(!t.joinCode||t.status!==Tu.NotStarted)return;m.preventDefault(),o(!0);const{result:g,error:v}=t.joinCode.includes("A-")?await vB(t.joinCode):await pE(t.joinCode);if(o(!1),!(g!=null&&g.data)){Xe({message:r(v||((y=g==null?void 0:g.error)==null?void 0:y.message)||"err_networkProblem"),type:"error",url:""});return}i(`/assessments/${t.eventId}`)}let u=!1,c=t.status.toString(),d,f;switch(t.endTime&&t.status===Tu.NotStarted&&Hd(new Date,">",new Date(t.endTime))&&(t={...t,status:Tu.NotSubmitted}),t.status){case Tu.NotStarted:c="active",d=_("div",{className:"w-fit h-12 px-4 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block",children:r("gen_start")})]}),f=_("div",{className:"text-blue-600 dark:text-blue-300 flex",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),h("span",{className:"text-xs w-fit",children:r("ast_sub_not_started")})]});break;case Tu.NotSubmitted:c="expired",u=!0,d=_("div",{className:"w-fit h-12 px-4 bg-gray-100 dark:bg-slate-800 text-gray-400 rounded flex justify-center items-center gap-x-2 ",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"})}),h("span",{className:"block",children:r("gen_finished")})]}),f=_("div",{className:"text-gray-700 dark:text-gray-400 flex",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2 mt-0.5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),h("span",{className:"text-xs w-fit",children:r("ast_sub_finished")})]});break;case Tu.Ongoing:d=_("div",{className:"w-fit h-12 px-4 bg-lime-600 text-white rounded flex justify-center items-center gap-x-2 ",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block",children:r("gen_continue")})]}),f=_("div",{className:"text-amber-700 dark:text-amber-400 flex",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2 mt-0.5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),h("span",{className:"text-xs w-fit",children:r("ast_sub_ongoing")})]});break;case Tu.Submitted:u=!0,d=_("div",{className:"w-fit h-12 px-4 bg-sky-50 dark:bg-slate-800 dark:text-sky-500 text-sky-600 rounded flex justify-center items-center gap-x-2 ",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),h("span",{className:"block",children:r("ast_submitted")})]}),f=_("div",{className:"text-gray-700 dark:text-gray-400 flex",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2 mt-0.5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),h("span",{className:"text-xs w-fit",children:r("ast_sub_submitted")})]});break}s&&(d=_("div",{className:"md:w-fit w-full h-12 px-4 bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block",children:r("gen_loading")})]}));let p="";return t.endTime?p=CM(new Date(t.endTime),"DD MMM `YY, HH:mm",a):p=r("asm_noDeadline"),e?h(Dz,{}):_(Nt,{to:`/assessments/${t.eventId}`,className:"flex flex-col gap-y-2 p-4 md:p-8 bg-white dark:bg-slate-900 dark:text-gray-300 rounded-md aria-disabled:pointer-events-none","aria-disabled":u||s,onClick:l,children:[h("div",{className:"flex items-start gap-x-2 lg:w-fit w-full",children:h("div",{className:"w-fit",children:h("h3",{className:"leading-tight text-gray-800 dark:text-white font-medium text-xl text-left line-clamp-2",children:t.title})})}),h("div",{className:"flex md:flex-row flex-col flex-wrap items-start md:items-center md:divide-y-0 divide-y gap-x-8",children:_("div",{className:"flex flex-wrap flex-row gap-x-4 gap-y-2 md:py-0 py-2 px-0 md:w-fit w-full",children:[_("div",{className:"flex items-center gap-x-2 aria-readonly:text-red-500 aria-readonly:dark:text-red-500 group","aria-readonly":!u,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),_("p",{className:"text-sm aria-readonly:font-medium","aria-readonly":!u,children:["~ ",p]})]}),_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),h("p",{className:"text-sm lowercase",children:_p(t.totalDuration,"minutes",a)})]}),_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})}),_("p",{className:"text-sm",children:[t.totalQuestion," ",r("gen_questions")]})]})]})}),_("div",{className:"flex items-center gap-2 h-[36px]",children:[h("img",{className:"object-cover w-8 h-8 rounded-md border border-gray-200 dark:border-gray-800",src:t.organization.logoUrl,alt:"Org Logo"}),h("p",{className:"text-md font-medium dark:text-white flex lg:grow-0 grow truncate text-ellipsis",children:t.organization.name}),h(K,{when:c==="ongoing",children:_("div",{className:"flex ml-auto gap-2",children:[h(tb,{message:r("asm_asmTime"),noRelative:!0,children:h(Gy,{endTime:t.maxSubmitTime||"",callback:n})}),h(K,{when:!!t.activeSubmitTime,children:h(tb,{message:r("asm_moduleTime"),noRelative:!0,children:h(Gy,{endTime:t.activeSubmitTime||"",className:"!bg-emerald-600"})})})]})})]}),d,f]})},Dz=()=>_("div",{className:"flex flex-col gap-y-2 p-4 md:p-8 bg-white dark:bg-slate-900 dark:text-gray-300 rounded-md animate-pulse",children:[h("div",{className:"flex items-center gap-2",children:h("div",{className:"h-6 w-1/2 bg-gray-200 rounded dark:bg-slate-800"})}),_("div",{className:"flex items-center gap-2 py-0.5",children:[h("div",{className:"h-4 w-2/6 bg-gray-200 rounded dark:bg-slate-800"}),h("div",{className:"h-4 w-1/6 bg-gray-200 rounded dark:bg-slate-800"}),h("div",{className:"h-4 w-2/6 bg-gray-200 rounded dark:bg-slate-800"})]}),_("div",{className:"flex items-center gap-2 h-[36px]",children:[h("div",{className:"h-8 w-8 bg-gray-200 rounded-md dark:bg-slate-800"}),h("div",{className:"h-5 w-1/3 bg-gray-200 rounded dark:bg-slate-800"})]}),h("div",{className:"h-12 w-32 bg-gray-200 rounded dark:bg-slate-800"})]}),Xf=function({getter:t,setter:e,placeholder:n,title:r,required:a,error:i,disabled:s,autoComplete:o}){const{t:l}=ct(),[u,c]=D.useState(!1);let d=[];return i&&(d=i.split(",")),_(St,{children:[_("label",{className:"text-gray-700 dark:text-gray-300 font-medium","aria-required":a,hidden:!r,children:[r," ",h("span",{hidden:!a,className:"text-red-500",children:"*"})]}),_("div",{className:"relative",children:[h("input",{className:Ce("block w-full px-4 py-4 mt-1 text-gray-700 bg-white border border-1 rounded-md outline-none focus:ring dark:bg-transparent dark:text-gray-100 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 dark:placeholder:text-gray-500","disabled:bg-gray-200 dark:disabled:bg-gray-700",{"border-gray-300 dark:border-gray-600":!i,"border-red-400 dark:border-red-500":i}),value:t,onChange:f=>e(f.target.value),type:u?"text":"password",placeholder:n,required:a,disabled:s,autoComplete:o}),h("div",{className:"mt-2",hidden:!i,children:d.map((f,p)=>_("p",{className:"text-sm text-red-500 flex gap-1",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 mt-0.5 flex-shrink-0",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),l(f)]},p))}),h("div",{className:"absolute top-1 right-0",children:_("button",{type:"button",tabIndex:-1,onClick:()=>c(!u),className:"absolute whitespace-nowrap right-0.5 top-0.5 py-3 px-4 bg-transparent dark:text-white",children:[h(K,{when:!u,children:_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),h(K,{when:u,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})})})]})})]})]})};function Rz(){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n=e.length,r=Math.floor(Math.random()*10)+3;for(let i=0;i<r;i++){const s=Math.floor(Math.random()*n);t+=e.charAt(s),s%Math.floor(Math.random()*10)===0&&(t+="_")}return document.getElementById(t)?Rz():t}const Fg=({getter:t,setter:e=()=>{},label:n,labelPlacement:r="right",id:a,labelClass:i,containerClass:s,checkClass:o,inputClass:l,disabled:u})=>{const c=D.useMemo(()=>a||Rz(),[a]),d=h("label",{hidden:!n,htmlFor:c,className:Ce("ml-1 text-gray-500 dark:text-gray-300 cursor-pointer select-none aria-disabled:cursor-default",i),"aria-disabled":u,children:n});return _("div",{className:Ce("flex items-center gap-1",s),children:[h(K,{when:r==="left",children:d}),_("div",{className:Ce("relative w-[16px] h-[16px] shrink-0 flex items-center justify-center",o),children:[h("input",{id:c,type:"checkbox",checked:t,onChange:()=>e(!t),className:Ce("h-full w-full enabled:cursor-pointer rounded flex-shrink-0 appearance-none border border-gray-500 dark:border-gray-300 checked:bg-blue-600 checked:border-transparent dark:checked:border-transparent focus:outline-none peer",l),disabled:u}),h("svg",{onClick:()=>e(!t),className:"text-white absolute hidden peer-checked:block cursor-pointer aria-disabled:cursor-default",viewBox:"0 0 24 24",width:"12",height:"12",stroke:"currentColor",strokeWidth:"5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-disabled":u,children:h("polyline",{points:"20 6 9 17 4 12"})})]}),h(K,{when:r==="right",children:d})]})};function Pg(t){const e=[],n=/^.*[0-9]+.*$/,r=/^.*[a-z]+.*$/,a=/^.*[A-Z]+.*$/,i=/[^a-zA-Z\d\s:]/;return t.length<8&&e.push("err_pwdLength"),n.test(t)||e.push("err_pwdNumeric"),r.test(t)||e.push("err_pwdLower"),a.test(t)||e.push("err_pwdUpper"),i.test(t)||e.push("err_pwdSpecial"),e}const Gpe=function(){const{t}=ct(),e=ai(),[n]=ph(),[,r]=Ji(),a=Xr(),i=new URLSearchParams(a.search),[s]=LD("rd"),[o]=LD("em");D.useEffect(()=>{o&&c(o)},[o]);const[l]=mh("invitation_code","");D.useEffect(()=>{l&&localStorage.setItem("invitation_code",l)},[l]);const[u,c]=D.useState(()=>{const q=i.get("em");return Um(q||"")}),[d,f]=D.useState(""),[p,m]=D.useState(!0),[g,v]=D.useState(!1),[y,b]=D.useState(!1),w=D.useMemo(()=>{let q="";if(y){const Q=Pg(d);Q.length&&(q=Q.join(","))}return q},[t,y,d]);async function x(q){if(q.preventDefault(),Pg(d).length){b(!0);return}v(!0);const{result:re,error:he}=await Tse(u,d,p),ae=(re==null?void 0:re.error)||"";if(he){Xe({message:t("err_networkProblem"),type:"error"}),v(!1);return}switch(ae){case"log_notRegistered":{const ne=fl(u),ke=fl(d),Oe=`/register?em=${ne}&ps=${ke}`;Xe({message:t("log_notRegistered"),type:"warning",url:Oe}),v(!1);return}case"log_unverifiedAccount":{const ne=fl(u);e(`/register?em=${ne}&t=${fl("token")}`),v(!1);return}case"log_verify2FA":{S(!0),v(!1);return}case"log_multipleLogin":{await Zd({title:t("log_multiple"),message:t("log_multipleLog"),loadOnConfirm:!0})&&(await Fse(),Hf());break}default:if(ae){Xe({message:t(ae),type:"error"}),v(!1);return}}const{result:se,error:X}=await Vf();if(!(se!=null&&se.data)){Xe({type:"error",message:t(X||(se==null?void 0:se.error.message)||"err_networkProblem")}),v(!1);return}if(r(se.data),await Wr(qi,se.data),await Wr(bc,Date.now()+Eg),se.data.role.name!=="student"){await tu({title:t("log_wrongCred"),message:t(`log_user_${se.data.role.name}`)}),window.location.href=Lv;return}s?e(s,{replace:!0}):e("/",{replace:!0})}const[k,S]=D.useState(!1),[E,I]=D.useState(Do(6,"")),[C,R]=D.useState(!1),[z,H]=D.useState("");async function U(q){var ae;q.preventDefault(),v(!0);const{result:Q,error:re}=await Ose(C?z:E.join(""),C);if(!(Q!=null&&Q.data)){Xe({message:t(re||((ae=Q==null?void 0:Q.error)==null?void 0:ae.message)||"err_networkProblem"),type:"error"}),v(!1);return}const{result:he}=await Vf();if(!(he!=null&&he.data)){Xe({type:"error",message:(he==null?void 0:he.error.message)||t("err_networkProblem")}),v(!1);return}r(he.data),await Wr(qi,he.data),await Wr(bc,Date.now()+Eg),s?e(s,{replace:!0}):e("/",{replace:!0})}return h(Es,{title:t("gen_login"),children:h("div",{className:"bg-white dark:bg-gray-900",children:_("div",{className:"container min-h-login-app pt-2 md:pt-5 pb-5 px-4 sm:px-8 mx-auto flex justify-betewen items-center",children:[_("section",{className:"lg:block hidden ",children:[h("img",{src:"images/login-app-light.png",hidden:n}),h("img",{src:"images/login-app-dark.png",hidden:!n})]}),_("section",{hidden:k,className:"w-full lg:w-2/5 mx-auto py-5 md:px-10 px-0 relative",children:[_("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white capitalize",children:["Talent ",t("gen_login")]}),_("div",{className:"xs:inline-flex",children:[h("p",{className:"text-gray-500 dark:text-gray-300 text-lg",children:t("log_noAcc")}),h(Nt,{to:"/register",className:"xs:ml-1 text-lg text-blue-500 underline",children:t("log_regHere")})]}),_("form",{onSubmit:x,children:[h("div",{className:"mt-4",children:h(qs,{getter:u,setter:c,title:"Email",type:"email",required:!0,placeholder:"mail@email.com"})}),h("div",{className:"mt-2",children:h(Xf,{getter:d,setter:f,title:"Password",required:!0,placeholder:"Password",error:w})}),_("div",{className:"flex justify-between mt-4 text-sm",children:[h(Fg,{getter:p,setter:m,label:t("log_keep")}),h("p",{className:"text-gray-400 dark:text-gray-500",children:h(Nt,{to:"/forgot-password",className:"underline",children:t("log_forgot")})})]}),h("button",{className:"mt-4 w-full rounded-md outline-none py-4 px-20 bg-blue-700 disabled:bg-gray-500 border-none text-white text-lg shadow-sm capitalize flex justify-center items-center h-[65px]",disabled:g,children:g?h(Za,{}):t("gen_login")})]}),h("p",{className:"mt-4 pt-4 dark:border-gray-800 border-t-2 border-gray-200 text-center text-gray-600 dark:text-gray-400 text-sm",children:t("log_otherMethod")}),_("a",{href:`${kt}/auth/google`,className:"flex items-center justify-center px-6 py-5 h-16 mt-4 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[_("svg",{className:"w-6 h-6 mx-2",viewBox:"0 0 40 40",children:[h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),h("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),h("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]}),h("span",{className:"mx-2 font-medium",children:t("log_signGoogle")})]}),_("a",{href:`${kt}/auth/facebook`,className:"flex items-center justify-center px-6 py-5 h-16 mt-2 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[h("img",{src:"/images/facebook.svg",alt:"Facebook",className:"w-5 h-5 mx-2.5"}),h("span",{className:"mx-2 font-medium",children:t("log_signFacebook")})]})]}),_("section",{hidden:!k,className:"w-full lg:w-2/5 mx-auto py-5 md:px-10 px-0 relative",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white capitalize",children:"Token 2FA"}),h("p",{className:"text-gray-500 dark:text-gray-300 text-lg leading-tight",children:t("log_inputToken")}),_("form",{onSubmit:U,className:"space-y-2 mt-4",children:[h(K,{when:!C,children:h(Cd,{getter:E,setter:I,inputHeight:"h-[58px]"})}),h(K,{when:C,children:h(Xf,{getter:z,setter:H,placeholder:"a1b2c3e4d5f6g7h8i9"})}),h(Fg,{getter:C,setter:R,label:t("log_useBackup")}),h("button",{className:"w-full !mt-5 rounded-md outline-none py-4 px-20 bg-blue-700 disabled:bg-gray-500 border-none text-white text-lg shadow-sm capitalize flex justify-center items-center h-[65px]",disabled:g,children:g?h(Za,{}):"Submit"})]})]})]})})})},Hpe={register:"register",token:"token"},qpe=function(){const[t]=ph(),{lang:e,t:n}=ct(),[,r]=g0();Ji();const a=ai(),i=Xr(),s=new URLSearchParams(i.search),[o,l]=D.useState(()=>{const We=s.get("t")||"";return Hpe[Um(We,"register")]||"register"});D.useEffect(()=>{!y&&o==="token"&&l("register")},[]);const[u,c]=D.useState(""),[d,f]=D.useState(""),[p,m]=D.useState(()=>{const We=s.get("ps");return Um(We||"")}),[g,v]=Pi(p),[y,b]=D.useState(()=>{const We=s.get("em");return Um(We||"")}),[w,x]=Pi(y),[k,S]=D.useState(!1),[E,I]=D.useState([]),C=D.useMemo(()=>{const We=qN(E);if(g){delete We.password;const ze=Pg(p);ze.length&&(We.password=ze.join(","))}return w&&delete We.email,We},[n,p,g,w]);async function R(We){var Ie;We.preventDefault();const ze={email:y,first_name:u,last_name:d,password:p,gender:"undisclosed",phone_number:"082212345678"};S(!0);const{result:be}=await Bse(ze);if(S(!1),(Ie=be==null?void 0:be.error)!=null&&Ie.errors&&I(be.error.errors),!(be!=null&&be.data)){v(),x();return}l("token"),ke(60)}const[z,H]=D.useState(Do(6,"")),[U,q]=D.useState(""),[Q,re]=D.useState(!1),he=z.reduce((We,ze)=>We||ze==="",!1);D.useEffect(()=>{U&&q("")},[z]);async function ae(We){We.preventDefault(),re(!0);const{error:ze,result:be}=await Tt("POST",`${GN}/verify`,{email:y,token:z.join("")});if(ze){r({message:n("err_networkProblem"),url:"",type:"error"}),re(!1);return}if(be!=null&&be.error){be.error==="errorValidation"&&be.extensions?q(be.extensions.token):r({type:"error",message:n(`err_${be.error}`),url:""}),re(!1);return}const{result:Ie}=await Vf();if(!(Ie!=null&&Ie.data)){Xe({type:"error",message:(Ie==null?void 0:Ie.error.message)||n("err_networkProblem")}),re(!1);return}const Le=fl(y);a(`/login?em=${Le}`,{state:{register:!0}})}const[se,X]=D.useState(!1),[ne,ke]=D.useState(0);D.useEffect(()=>{if(!ne)return;const We=setTimeout(()=>{ke(ne-1)},1e3);return()=>{clearTimeout(We)}},[ne]);async function Oe(We){if(We.preventDefault(),se)return;const{result:ze}=await zse(y);if(!(ze!=null&&ze.data)){r({message:n("err_networkProblem"),url:"",type:"error"});return}ke(60)}return h(Es,{title:n("reg_signup"),children:h("div",{className:"bg-white dark:bg-gray-900",children:_("div",{className:"container min-h-page pt-2 md:pt-5 pb-5 px-4 sm:px-8 mx-auto flex justify-betewen items-center",children:[_("section",{className:"shrink-0 lg:block hidden",children:[h("img",{src:"/images/reg-app-light.png",hidden:t}),h("img",{src:"/images/reg-app-dark.png",hidden:!t})]}),h(K,{when:o==="register",children:_("section",{className:"w-full xl:w-2/5 mx-auto md:py-5 md:px-10 px-0 relative",children:[_("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:["Talent ",n("reg_signup")]}),_("div",{className:"inline-flex",children:[h("p",{className:"text-gray-500 dark:text-gray-300 text-lg",children:n("reg_createOr")}),h(Nt,{to:"/login",className:"ml-1 text-lg text-blue-500 underline",children:n("gen_login")})]}),_("form",{onSubmit:R,children:[_("div",{className:"grid grid-cols-1 gap-4 mt-4 sm:grid-cols-2",children:[h("div",{children:h(qs,{getter:u,setter:c,title:n("gen_fname"),type:"text",required:!0,placeholder:"Jane/John",error:C.firstName})}),h("div",{children:h(qs,{getter:d,setter:f,title:n("gen_lname"),type:"text",placeholder:"Doe",error:C.lastName})})]}),h("div",{className:"mt-2",children:h(qs,{getter:y,setter:b,title:"Email",type:"email",required:!0,placeholder:"mail@email.com",error:C.email})}),h("div",{className:"mt-2",children:h(Xf,{getter:p,setter:m,title:"Password",required:!0,placeholder:"Password",error:C.password})}),h("button",{disabled:k,className:"w-full mt-4 rounded-md outline-none bg-blue-700 border-none text-white font-medium shadow-sm flex justify-center items-center h-[65px]",children:k?h(Za,{}):n("reg_signup")})]}),h("p",{className:"mt-4 pt-4 dark:border-gray-800 border-t-2 border-gray-200 text-center text-gray-600 dark:text-gray-400 text-sm",children:n("log_otherMethod")}),_("a",{href:`${kt}/auth/google`,className:"flex items-center justify-center px-6 py-5 h-16 mt-4 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[_("svg",{className:"w-6 h-6 mx-2",viewBox:"0 0 40 40",children:[h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),h("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),h("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]}),h("span",{className:"mx-2 font-medium",children:n("log_signGoogle")})]}),_("a",{href:`${kt}/auth/facebook`,className:"flex items-center justify-center px-6 py-5 h-16 mt-2 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[h("img",{src:"/images/facebook.svg",alt:"Facebook",className:"w-5 h-5 mx-2.5"}),h("span",{className:"mx-2 font-medium",children:n("log_signFacebook")})]}),_("p",{className:"mt-5 text-sm text-gray-400 dark:text-gray-500 ",children:[n("reg_agreement"),h("a",{className:"underline mx-1",href:`https://algobash.com/${e}/terms-and-conditions`,target:"_blank",children:n("gen_tnc")}),n("gen_and"),h("a",{className:"underline ml-1",href:`https://algobash.com/${e}/privacy-policy`,target:"_blank",children:n("gen_pp")}),"."]})]})}),h(K,{when:o==="token",children:_("section",{className:"w-full xl:w-[500px] md:w-2/3 mx-auto p-5 lg:px-10 relative",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:n("ver_email")}),_("p",{className:"text-gray-500 dark:text-gray-300",children:[n("ver_forSafety"),": ",h("span",{className:"text-blue-500 dark:text-blue-400",children:y})]}),h("p",{className:"text-gray-500 dark:text-gray-300",children:n("ver_forSafety2")}),h("div",{className:"mt-4",children:h(Cd,{getter:z,setter:H,error:U,inputHeight:"xl:h-[60px] h-14"})}),_("div",{className:"flex flex-col space-y-2",children:[h("div",{children:h("button",{className:"mt-4 rounded outline-none bg-blue-700 disabled:bg-gray-500 border-none text-white text-center font-medium shadow-sm w-2/3 h-[65px] flex justify-center items-center",onClick:ae,disabled:he||Q,children:Q?h(Za,{}):n("ver_account")})}),_("div",{className:"flex flex-row items-center font-medium space-x-1 text-gray-500 dark:text-gray-300",children:[_(K,{when:!ne,children:[h("p",{children:n("ver_notoken")}),h("a",{className:Ce({"text-blue-600 hover:underline":!se,"text-gray-600 pointer-events-none":se}),href:"#resend-token",onClick:Oe,children:n("ver_resend")})]}),_("p",{hidden:!ne,children:[n("ver_resendReq")," ",ne," ",n("ver_resendReq2"),"."]})]})]})]})})]})})})},PR=t=>{const{children:e,loading:n,className:r,disabled:a,...i}=t;return h("button",{className:Ce(r,"w-full mt-4 rounded-md outline-none bg-blue-700 border-none text-white font-medium shadow-sm flex justify-center items-center h-[65px]"),disabled:n||a,...i,children:n?h(Za,{}):e})},Ype=function(){const[t]=ph(),{t:e}=ct(),[,n]=g0(),r=ai(),[a,i]=D.useState("forgot"),[s,o]=D.useState(""),[l,{loading:u}]=hpe({variables:{email:s}}),c=async function(q){q.preventDefault();const{data:Q,errors:re}=await l();if(re){const[he]=bf(re).messages;switch(he){case"lost_missingEmail":n({message:e(he),type:"warning",url:`/register?em=${fl(s)}`});break;case"lost_userBlocked":n({message:e(he),type:"error",url:""});break;default:n({message:e("err_networkProblem"),url:"",type:"error"});break}return}if(!(Q!=null&&Q.lostPassword)){n({message:e("err_networkProblem"),type:"error",url:""});return}i("newPassword"),R(60)},[d,f]=D.useState(""),[p,m]=Pi(d),[g,v]=D.useState(Do(6,"")),[y,b]=Pi(g),[w,{loading:x,error:k}]=ppe({variables:{input:{email:s,password:d,token:g.join("")}}});async function S(q){q.preventDefault(),m(),b();const{data:Q,errors:re}=await w();if(re){const{messages:he,validation:ae}=bf(re);if(Object.keys(ae).length)return;const[se]=he;let X="";se==="lost_missingEmail"&&(X=`/register?em=${fl(s)}`),n({message:e(se),type:"error",url:X});return}if(!(Q!=null&&Q.recoverPassword)){n({message:e("err_networkProblem"),type:"error",url:""});return}r(`/login?em=${fl(s)}`)}const E=D.useMemo(()=>{const{validation:q}=bf((k==null?void 0:k.graphQLErrors)||[]),Q={...q};if(p){delete Q.password;const re=Pg(d);re.length&&(Q.password=re.join(","))}return y&&delete Q.token,Q},[e,g,d,p,y]),I=!d||g.reduce((q,Q)=>q||Q==="",!1)||Object.keys(E).length>0,[C,R]=D.useState(0),[z,{loading:H}]=cpe({variables:{type:Cz.PassRecover,email:s}});D.useEffect(()=>{if(!C)return;const q=setTimeout(()=>{R(C-1)},1e3);return()=>{clearTimeout(q)}},[C]);async function U(q){if(q.preventDefault(),H)return;const{data:Q}=await z();if(!(Q!=null&&Q.resendToken)){n({message:e("err_networkProblem"),url:"",type:"error"});return}R(60)}return h(Es,{title:e("forgot_recover"),children:h("div",{className:"bg-white dark:bg-gray-900",children:_("div",{className:"container min-h-page pt-2 md:pt-10 pb-5 px-4 sm:px-8 mx-auto flex justify-betewen items-center",children:[h("section",{className:"py-5 lg:block hidden ",children:h("img",{src:t?"/images/auth-art-dark.svg":"/images/auth-art.svg"})}),h(K,{when:a==="forgot",children:_("section",{className:"w-full lg:w-2/5 mx-auto py-5 md:px-10 px-0 relative",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:e("prof_changePass")}),_("div",{className:"inline-flex",children:[h("p",{className:"text-gray-500 dark:text-gray-300 text-lg",children:e("forgot_haveAccount")}),h(Nt,{to:"/login",className:"ml-1 text-lg text-blue-500 underline",children:e("gen_login")})]}),_("form",{onSubmit:c,children:[h("div",{className:"mt-2",children:h(qs,{getter:s,setter:o,title:e("gen_workEmail"),type:"email",placeholder:"mail@email.com",required:!0})}),h("p",{className:"mt-4 text-md text-gray-400 dark:text-gray-500 ",children:e("forgot_instructions")}),h(PR,{loading:u,type:"submit",children:e("gen_next")})]})]})}),h(K,{when:a==="newPassword",children:_("section",{className:"w-full xl:w-[500px] md:w-2/3 mx-auto p-5 lg:px-10 relative",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white",children:e("prof_changePass")}),h("p",{className:"text-gray-500 dark:text-gray-300 text-lg",children:e("forgot_changePass")}),_("form",{onSubmit:S,children:[h("div",{className:"mt-2",children:h(Xf,{getter:d,setter:f,title:e("chp_newPassword"),required:!0,placeholder:"Password",error:E.password})}),_("div",{className:"mt-2",children:[_("label",{className:"text-gray-700 dark:text-gray-300 font-medium","aria-required":!0,children:[e("forgot_verifyToken")," ",h("span",{className:"text-red-500",children:"*"})]}),h(Cd,{getter:g,setter:v,error:E.token,inputHeight:"xl:h-[60px] lg:h-[4.5rem] md:h-[4rem] h-14",containerClass:"mt-1"})]}),_("div",{className:"flex flex-col space-y-2",children:[h(PR,{className:"disabled:bg-gray-500",type:"submit",disabled:I,loading:x,children:e("prof_changePass")}),_("p",{className:"text-gray-500 dark:text-gray-300",children:[e("ver_forSafety"),_("span",{className:"italic font-semibold",children:[" ",s]}),h(K,{when:!C,children:_("div",{children:[e("ver_notoken"),_("a",{className:Ce({"text-blue-500 hover:underline font-medium":!H,"text-gray-500 pointer-events-none font-medium":H}),href:"#resend-token",onClick:U,children:[" ",e("ver_resend")]})]})}),h(K,{when:C>0,children:_("div",{children:[e("ver_resendReq")," ",C," ",e("ver_resendReq2"),"."]})})]})]})]})]})})]})})})},Kpe=function(){const{t}=ct(),e=Xr(),n=[{path:"/profile",name:t("prof_manage")},{path:"/profile/password",name:t("prof_changePass")},{path:"/profile/2fa",name:t("prof_2fa")}],r={"/profile":t("prof_manage"),"/profile/password":t("prof_changePass"),"/profile/2fa":t("prof_2fa")},a=n.map(i=>({label:i.name,value:i.path,href:i.path}));return h("div",{className:"min-h-page flex flex-col bg-white dark:bg-gray-900",children:h("div",{className:"w-full flex flex-grow bg-slate-50 dark:bg-slate-800 ",children:_("div",{className:"w-full p-2 lg:p-10 md:p-4 mx-auto flex flex-col md:flex-row gap-4 gap-y-2 grow-0 h-full",children:[_("div",{className:"hidden md:block w-full h-fit lg:w-1/5 md:w-1/4 space-y-4",children:[h("div",{className:"bg-white dark:bg-slate-900 rounded-md overflow-hidden",children:n.map((i,s)=>{const{name:o,path:l}=i;let u="text-gray-600 dark:text-gray-400";return e.pathname===l&&(u="font-medium bg-blue-50 text-blue-500 dark:bg-blue-500 dark:text-white"),h(Nt,{to:l,children:h("p",{className:Ce("py-4 px-4",u),children:o})},s)})}),h("button",{className:"w-full py-4 px-4 text-left text-red-500 dark:text-red-400 bg-white dark:bg-slate-900 rounded-md overflow-hidden",onClick:Gf,children:t("log_logout")})]}),_(zi,{items:[...a,{label:h("hr",{className:"border-gray-500"}),value:"",disabled:!0,className:"!cursor-default hover:!bg-transparent !px-4"},{label:t("log_logout"),value:"logout",onClick:Gf,className:"!text-red-500 dark:!text-red-400"}],outerClassname:"md:hidden",className:"border border-gray-300 dark:border-slate-700 w-full text-left px-4 py-3 rounded flex items-center justify-between dark:text-gray-300 dark:bg-slate-900 ",dropClassName:"w-full",children:[h("div",{children:r[e.pathname]}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),h("div",{className:"w-full lg:w-4/5 md:w-3/4 space-y-4",children:h(av,{})})]})})})},nb=t=>{const{t:e}=ct(),{loading:n=!1,message:r=e("gen_saving"),children:a,className:i,disabled:s,...o}=t;return _("button",{className:Ce(i,"capitalize h-12 px-8 bg-blue-500 disabled:bg-gray-500 text-white rounded flex items-center justify-center md:w-fit w-full"),disabled:n||s,"aria-pressed":n,...o,children:[_(K,{when:n,children:[h(Za,{className:"!h-5 !w-5"})," ",r]}),h(K,{when:!n,children:a})]})},$z=["application/acrobat","application/x-pdf","applications/vnd.pdf","text/pdf","text/x-pdf","application/pdf"],Xpe=["application/x-compress","application/x-compressed","application/x-zip-compressed","application/zip","multipart/x-zip","application/x-zip"],Qpe=["application/x-png","application/png","image/png"],Zpe=["application/jpg","application/x-jpg","image/jp_","image/jpe_","image/jpg","image/pipeg","image/pjpeg","image/vnd.swiftview-jpeg","image/x-xbitmap","image/jpeg"],Jpe=["application/x-bmp","application/x-win-bitmap","image/bmp","image/ms-bmp","image/x-bitmap","image/x-bmp","image/x-ms-bmp","image/x-win-bitmap","image/x-windows-bmp","image/x-xbitmap","application/bmp"],P1=["application/vnd.ms-excel","application/msexcel","application/x-msexcel","application/x-ms-excel","application/x-excel","application/x-dos_ms_excel","application/xls","application/x-xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],Oz=[...Qpe,...Zpe,...Jpe],j2=[...Oz,...$z,...Xpe];async function Jv(t,e){try{const n=new FormData;t.forEach(i=>{n.append("files",i)});const a=await(await fetch(`${kt}/files`,{method:"POST",body:n,credentials:"include"})).json();if(a&&typeof a=="object"&&a.hasOwnProperty("error")){const{error:i}=a;i.code===401&&hE()}return{result:a,error:""}}catch(n){return{result:null,error:Gd(n)}}}const eme=({getter:t,setter:e,defaultImg:n=md,className:r,flashState:a,disable:i})=>{const{t:s}=ct(),o=D.useRef(null),[l,u]=D.useState(!1),[c,d]=a||g0();async function f(p){var v,y,b,w;if(!((v=p.target.files)!=null&&v.length))return;u(!0);const{result:m,error:g}=await Jv([...p.target.files]);if(u(!1),!((b=(y=m==null?void 0:m.data)==null?void 0:y.items)!=null&&b.length)){d({...c,message:s(g||((w=m==null?void 0:m.error)==null?void 0:w.message)||"err_networkProblem"),type:"error"});return}e(m.data.items[0].url)}return _("div",{className:Ce("relative w-fit mx-auto",r),children:[h(K,{when:l,children:h("div",{className:"animate-pulse bg-gray-300 dark:bg-gray-800 object-cover w-24 h-24 rounded-full"})}),h(K,{when:!l,children:h("img",{className:"object-cover w-24 h-24 rounded-full",src:t||n})}),h("input",{ref:o,required:!0,type:"file",className:"absolute h-0 w-0",onChange:f,accept:Oz.join(",")}),h("button",{hidden:i,className:"absolute bottom-0 right-0 rounded-full bg-blue-200 dark:bg-blue-500 p-2 border border-blue-300 dark:boder-transparent",onClick:()=>{var p;return(p=o.current)==null?void 0:p.click()},children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-blue-500 dark:text-white",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})})]})},Vu=({getter:t,setter:e,placeholder:n,accept:r,className:a,disabled:i,loading:s,children:o,error:l,errorArgs:u})=>{const{t:c}=ct(),d=D.useRef(null),[f,p]=D.useState(!1);function m(b){b.preventDefault();const[w]=b.dataTransfer.files;e(w),p(!1)}function g(b){b.preventDefault(),!(!d.current||f)&&(d.current.click(),d.current.value="")}function v(b){if(!b.target.files)return;const[w]=b.target.files;e(w),p(!1)}let y="Drag n drop file here, or click to select file";return n&&(y=n),t&&(y=t.name),f&&(y="Drop the file here ..."),s&&(y="Uploading, please wait ..."),o?_("div",{className:Ce("aria-selected:relative",a),onDragEnter:()=>p(!0),onDragEnd:()=>p(!1),onDragOver:b=>b.preventDefault(),onDrop:m,"aria-selected":f,children:[o,h(K,{when:f,children:h("div",{className:"top-0 left-0 z-50 absolute w-full h-full bg-gray-800/80 p-5",onDragLeave:()=>p(!1),children:h("div",{className:"border-2 border-dashed h-full flex items-center justify-center text-gray-200 rounded",children:y})})})]}):_(St,{children:[h("div",{className:Ce("min-h-[6rem] p-3 text-center rounded cursor-pointer flex items-center justify-center border-2 border-dashed text-sm text-gray-400 dark:text-gray-400 aria-disabled:border-red-400 dark:aria-disabled:border-red-500",{"dark:border-gray-500":!f,"border-3 border-blue-300 dark:border-blue-500 bg-blue-100 !text-blue-600":f,"dark:bg-gray-700 pointer-events-none bg-blue-100 !text-blue-600 dark:!text-blue-300":s},a),onDragOver:b=>b.preventDefault(),onDragEnter:()=>s||i?null:p(!0),onDragEnd:()=>p(!1),onDragLeave:()=>p(!1),onDrop:m,onClick:g,"aria-disabled":!!l,children:y}),h("p",{className:"text-sm text-red-500 mt-2",hidden:!l,children:c(l||"",u)}),h("input",{ref:d,type:"file",className:"absolute h-0 w-0",onChange:v,accept:r==null?void 0:r.join(",")})]})},tme=()=>{const{t}=ct(),[e,n]=Ji(),[r,a]=D.useState(""),[i,s]=D.useState(""),[o,l]=D.useState(""),[u,c]=D.useState(""),[d,f]=D.useState(!1),[p,m]=D.useState(""),[g,v]=D.useState(""),[y,b]=D.useState(null),[w,x]=Pi(r),[k,S]=Pi(i),[E,I]=Pi(o),[C,R]=Pi(u),[z,H]=Pi(p),[U,q]=Pi(g),[Q,re]=Pi(y),[he,ae]=D.useState({}),se=D.useMemo(()=>{const ze={...he};return w&&delete ze.first_name,k&&delete ze.last_name,E&&delete ze.phone_number,C&&delete ze.profile_picture,z&&delete ze.github_url,U&&delete ze.linkedin_url,Q&&delete ze.cv_url,ze},[he,w,k,E,C]);D.useEffect(()=>{e&&(a(e.first_name),s(e.last_name||""),l(e.phone_number||""),c(e.profile_picture),v(e.github_url||""),m(e.linkedin_url||""),b(e.cv_url))},[e]);async function X(ze){var Ge;if(ze.preventDefault(),!e)return;x(),S(),I(),R(),H(),q(),re(),vse(),ae({}),f(!0);const{result:be,error:Ie}=await Ise({first_name:r,last_name:i,phone_number:o,profile_picture:u,github_url:g,linkedin_url:p,cv_url:y});if(f(!1),!(be!=null&&be.data)){if(be!=null&&be.error.errors){const at=qN(be.error.errors);ae(at)}Xe({message:t(Ie||((Ge=be==null?void 0:be.error)==null?void 0:Ge.message)||"err_networkProblem"),type:"error"});return}const Le={...e};Le.first_name=r,Le.last_name=i,Le.phone_number=be.data.phone_number,Le.profile_picture=u,Le.github_url=g,Le.linkedin_url=p,Le.cv_url=y,n(Le),await Wr(qi,Le),Xe({message:t("prof_editSuccess"),type:"success"})}const[ne,ke]=D.useState(!1);async function Oe(ze){var at,pe,de;ke(!0);const{result:be,error:Ie}=await Jv([ze]);if(ke(!1),!((pe=(at=be==null?void 0:be.data)==null?void 0:at.items)!=null&&pe.length)){Xe({message:t(Ie||((de=be==null?void 0:be.error)==null?void 0:de.message)||"err_networkProblem"),type:"error"});return}const{original_name:Le,url:Ge}=be.data.items[0];b({name:Le,url:Ge})}async function We(ze){if(!e)return;let be="";const Ie={...e};switch(ze){case"google":{if(e.google){const{error:Le,result:Ge}=await Pse();be=Le||(Ge==null?void 0:Ge.error.message)||"",Ie.google=null}else{window.location.href=`${kt}/s/connectGoogle`;return}break}case"facebook":{if(e!=null&&e.facebook){const{error:Le,result:Ge}=await Mse();be=Le||(Ge==null?void 0:Ge.error.message)||"",Ie.facebook=null}else{window.location.href=`${kt}/s/connectFacebook`;return}break}}if(be){Xe({message:t(be),type:"error"});return}n(Ie),await Wr(qi,Ie)}return h(Es,{title:t("prof_manage"),authenticated:!0,children:_("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8",children:[h("h2",{className:"font-medium text-2xl mb-4 dark:text-white",children:t("prof_manage")}),h(eme,{getter:u,setter:c,className:"mb-4"}),_("form",{onSubmit:X,className:"grid md:grid-cols-2 grid-cols-1 gap-4",children:[h("div",{children:h(qs,{getter:r,setter:a,title:t("gen_fname"),type:"text",required:!0,placeholder:"Jane/John",error:se.first_name})}),h("div",{children:h(qs,{getter:i||"",setter:s,title:t("gen_lname"),type:"text",placeholder:"Doe",error:se.last_name})}),_("div",{children:[h("label",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Email"}),_("div",{className:"w-full px-4 py-4 mt-1 text-gray-700 bg-gray-100 border border-1 rounded-md outline-none dark:bg-slate-900 dark:border-gray-700 dark:text-gray-400 flex justify-between items-center",children:[h("p",{className:" truncate",children:e==null?void 0:e.email}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 ",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})]})]}),h("div",{children:h(qs,{getter:o||"",setter:l,title:t("prof_mobileNum"),type:"tel",placeholder:"E.g. 0821..., +62821..",error:se.phone_number})}),h("div",{className:"border-b border-gray-200 dark:border-gray-800 md:col-span-2 py-2",children:h("h3",{className:"text-lg font-medium dark:text-white",children:t("prof_credentials")})}),h("div",{children:h(qs,{getter:p,setter:m,title:"LinkedIn",type:"text",placeholder:"https://www.linkedin.com/johndoe",error:se.linkedin_url})}),h("div",{children:h(qs,{getter:g,setter:v,title:"Github",type:"text",placeholder:"https://www.linkedin.com/johndoe",error:se.github_url})}),_("div",{className:"md:col-span-2",children:[h("p",{className:"font-medium mb-1 dark:text-white",children:"CV/Portfolio"}),h(Vu,{loading:ne,setter:Oe,className:"dark:bg-gray-800 text-base !text-gray-500 dark:!text-gray-200",accept:$z,placeholder:y!=null&&y.name?h("p",{children:y==null?void 0:y.name}):_("div",{children:[_("p",{className:"font-medium",children:["+ ",t("esi_uploadAnswer")]}),_("p",{children:[t("gen_maksimum")," 10MB."]})]}),error:se.cv_url})]}),h("div",{className:"border-b border-gray-200 dark:border-gray-800 md:col-span-2 py-2",children:h("h3",{className:"text-lg font-medium dark:text-white",children:t("prof_socialmed")})}),_("button",{type:"button",onClick:()=>We("google"),className:"flex items-center justify-center px-6 py-5 h-16 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[_("svg",{className:"w-6 h-6 mx-2",viewBox:"0 0 40 40",children:[h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.045 27.2142 24.3525 30 20 30C14.4775 30 10 25.5225 10 20C10 14.4775 14.4775 9.99999 20 9.99999C22.5492 9.99999 24.8683 10.9617 26.6342 12.5325L31.3483 7.81833C28.3717 5.04416 24.39 3.33333 20 3.33333C10.7958 3.33333 3.33335 10.7958 3.33335 20C3.33335 29.2042 10.7958 36.6667 20 36.6667C29.2042 36.6667 36.6667 29.2042 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#FFC107"}),h("path",{d:"M5.25497 12.2425L10.7308 16.2583C12.2125 12.59 15.8008 9.99999 20 9.99999C22.5491 9.99999 24.8683 10.9617 26.6341 12.5325L31.3483 7.81833C28.3716 5.04416 24.39 3.33333 20 3.33333C13.5983 3.33333 8.04663 6.94749 5.25497 12.2425Z",fill:"#FF3D00"}),h("path",{d:"M20 36.6667C24.305 36.6667 28.2167 35.0192 31.1742 32.34L26.0159 27.975C24.3425 29.2425 22.2625 30 20 30C15.665 30 11.9842 27.2359 10.5975 23.3784L5.16254 27.5659C7.92087 32.9634 13.5225 36.6667 20 36.6667Z",fill:"#4CAF50"}),h("path",{d:"M36.3425 16.7358H35V16.6667H20V23.3333H29.4192C28.7592 25.1975 27.56 26.805 26.0133 27.9758C26.0142 27.975 26.015 27.975 26.0158 27.9742L31.1742 32.3392C30.8092 32.6708 36.6667 28.3333 36.6667 20C36.6667 18.8825 36.5517 17.7917 36.3425 16.7358Z",fill:"#1976D2"})]}),h("span",{className:"mx-2 font-medium",children:t(e!=null&&e.google?"prof_disconnectGoogle":"prof_connectGoogle")})]}),_("button",{type:"button",onClick:()=>We("facebook"),className:"flex items-center justify-center px-6 py-5 h-16 text-gray-700 transition-colors duration-300 transform border rounded dark:border-gray-700 dark:text-gray-300 hover:bg-slate-50 dark:hover:bg-slate-600",children:[h("svg",{className:"fill-blue-500 w-6 h-6 mx-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:h("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"})}),h("span",{className:"mx-2 font-medium",children:t(e!=null&&e.facebook?"prof_disconnectFacebook":"prof_connectFacebook")})]}),h(nb,{loading:d,className:"capitalize",children:t("gen_save")})]})]})})},nme=()=>{const{t}=ct(),[e,n]=D.useState(""),[r,a]=D.useState(""),[i,s]=D.useState(!1),[o,l]=Pi(e),[u,c]=Pi(r),[d,f]=D.useState({}),p=D.useMemo(()=>{const g={...d};if(o&&delete g.oldpassword,u){const v=Pg(r);v.length&&(g.password=v.join(","))}return g},[d,o,u,r]);async function m(g){g.preventDefault(),l(),c(),f({}),s(!0);const{result:v}=await Cse(e,r,r);if(s(!1),!(v!=null&&v.data)){if(v!=null&&v.error.errors){const y=qN(v.error.errors);f(y)}Xe({message:t((v==null?void 0:v.error.message)||"err_networkProblem"),type:"error"});return}n(""),a(""),Xe({message:t("prof_changePassSuccess"),type:"success"})}return h(Es,{title:t("prof_changePass"),authenticated:!0,children:_("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8",children:[h("h2",{className:"font-medium text-2xl mb-4 dark:text-white",children:t("prof_changePass")}),_("form",{onSubmit:m,children:[_("div",{className:"grid grid-cols-1 gap-1.5 mb-4",children:[h("div",{children:h(Xf,{getter:e,setter:n,title:t("chp_oldPassword"),required:!0,placeholder:"Password ...",error:p.oldpassword})}),h("div",{children:h(Xf,{getter:r,setter:a,title:t("chp_newPassword"),required:!0,placeholder:"Password ...",error:p.password||p.repassword})})]}),h(nb,{disabled:!e||!r||Object.keys(p).length>0,loading:i,message:t("chp_changingPass"),className:"capitalize",children:t("prof_changePass")})]})]})})};var ew={},tw={};const rme={},ame=Object.freeze(Object.defineProperty({__proto__:null,default:rme},Symbol.toStringTag,{value:"Module"})),Lz=u5(ame);/**
 * @otplib/plugin-crypto
 *
 * @author Gerald Yeo <contact@fusedthought.com>
 * @version: 12.0.1
 * @license: MIT
 **/Object.defineProperty(tw,"__esModule",{value:!0});function ime(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Fz=ime(Lz);const sme=(t,e,n)=>Fz.createHmac(t,Buffer.from(e,"hex")).update(Buffer.from(n,"hex")).digest().toString("hex"),ome=(t,e)=>Fz.randomBytes(t).toString(e);tw.createDigest=sme;tw.createRandomBytes=ome;var nw={},ZE={},JE={},lme="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",MR=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function ume(t){var e=Math.floor(t.length/5);return t.length%5===0?e:e+1}JE.encode=function(t){Buffer.isBuffer(t)||(t=new Buffer(t));for(var e=0,n=0,r=0,a=0,i=new Buffer(ume(t)*8);e<t.length;){var s=t[e];r>3?(a=s&255>>r,r=(r+5)%8,a=a<<r|(e+1<t.length?t[e+1]:0)>>8-r,e++):(a=s>>8-(r+5)&31,r=(r+5)%8,r===0&&e++),i[n]=lme.charCodeAt(a),n++}for(e=n;e<i.length;e++)i[e]=61;return i};JE.decode=function(t){var e=0,n=0,r,a=0;Buffer.isBuffer(t)||(t=new Buffer(t));for(var i=new Buffer(Math.ceil(t.length*5/8)),s=0;s<t.length&&t[s]!==61;s++){var o=t[s]-48;if(o<MR.length)n=MR[o],e<=3?(e=(e+5)%8,e===0?(r|=n,i[a]=r,a++,r=0):r|=255&n<<8-e):(e=(e+5)%8,r|=255&n>>>e,i[a]=r,a++,r=255&n<<8-e);else throw new Error("Invalid input - it is not base32 encoded string")}return i.slice(0,a)};var Pz=JE;ZE.encode=Pz.encode;ZE.decode=Pz.decode;/**
 * @otplib/plugin-thirty-two
 *
 * @author Gerald Yeo <contact@fusedthought.com>
 * @version: 12.0.1
 * @license: MIT
 **/Object.defineProperty(nw,"__esModule",{value:!0});function cme(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Mz=cme(ZE);const dme=(t,e)=>Mz.decode(t).toString(e),hme=(t,e)=>Mz.encode(Buffer.from(t,e).toString("ascii")).toString().replace(/=/g,"");nw.keyDecoder=dme;nw.keyEncoder=hme;var Bz={};/**
 * @otplib/core
 *
 * @author Gerald Yeo <contact@fusedthought.com>
 * @version: 12.0.1
 * @license: MIT
 **/(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(pe){return Object.keys(pe).map(de=>pe[de])}(function(pe){pe.SHA1="sha1",pe.SHA256="sha256",pe.SHA512="sha512"})(t.HashAlgorithms||(t.HashAlgorithms={}));const n=e(t.HashAlgorithms);(function(pe){pe.ASCII="ascii",pe.BASE64="base64",pe.HEX="hex",pe.LATIN1="latin1",pe.UTF8="utf8"})(t.KeyEncodings||(t.KeyEncodings={}));const r=e(t.KeyEncodings);(function(pe){pe.HOTP="hotp",pe.TOTP="totp"})(t.Strategy||(t.Strategy={}));const a=e(t.Strategy),i=()=>{throw new Error("Please provide an options.createDigest implementation.")};function s(pe){return/^(\d+)$/.test(pe)}function o(pe,de,De){return pe.length>=de?pe:`${Array(de+1).join(De)}${pe}`.slice(-1*de)}function l(pe){const de=`otpauth://${pe.type}/{labelPrefix}:{accountName}?secret={secret}{query}`,De=[];if(a.indexOf(pe.type)<0)throw new Error(`Expecting options.type to be one of ${a.join(", ")}. Received ${pe.type}.`);if(pe.type==="hotp"){if(pe.counter==null||typeof pe.counter!="number")throw new Error('Expecting options.counter to be a number when options.type is "hotp".');De.push(`&counter=${pe.counter}`)}return pe.type==="totp"&&pe.step&&De.push(`&period=${pe.step}`),pe.digits&&De.push(`&digits=${pe.digits}`),pe.algorithm&&De.push(`&algorithm=${pe.algorithm.toUpperCase()}`),pe.issuer&&De.push(`&issuer=${encodeURIComponent(pe.issuer)}`),de.replace("{labelPrefix}",encodeURIComponent(pe.issuer||pe.accountName)).replace("{accountName}",encodeURIComponent(pe.accountName)).replace("{secret}",pe.secret).replace("{query}",De.join(""))}class u{constructor(de={}){this._defaultOptions=Object.freeze({...de}),this._options=Object.freeze({})}create(de={}){return new u(de)}clone(de={}){const De=this.create({...this._defaultOptions,...de});return De.options=this._options,De}get options(){return Object.freeze({...this._defaultOptions,...this._options})}set options(de){this._options=Object.freeze({...this._options,...de})}allOptions(){return this.options}resetOptions(){this._options=Object.freeze({})}}function c(pe){if(typeof pe.createDigest!="function")throw new Error("Expecting options.createDigest to be a function.");if(typeof pe.createHmacKey!="function")throw new Error("Expecting options.createHmacKey to be a function.");if(typeof pe.digits!="number")throw new Error("Expecting options.digits to be a number.");if(!pe.algorithm||n.indexOf(pe.algorithm)<0)throw new Error(`Expecting options.algorithm to be one of ${n.join(", ")}. Received ${pe.algorithm}.`);if(!pe.encoding||r.indexOf(pe.encoding)<0)throw new Error(`Expecting options.encoding to be one of ${r.join(", ")}. Received ${pe.encoding}.`)}const d=(pe,de,De)=>Buffer.from(de,De).toString("hex");function f(){return{algorithm:t.HashAlgorithms.SHA1,createHmacKey:d,createDigest:i,digits:6,encoding:t.KeyEncodings.ASCII}}function p(pe){const de={...f(),...pe};return c(de),Object.freeze(de)}function m(pe){const de=pe.toString(16);return o(de,16,"0")}function g(pe,de){const De=Buffer.from(pe,"hex"),nt=De[De.length-1]&15,$t=((De[nt]&127)<<24|(De[nt+1]&255)<<16|(De[nt+2]&255)<<8|De[nt+3]&255)%Math.pow(10,de);return o(String($t),de,"0")}function v(pe,de,De){const nt=m(de),Et=De.createHmacKey(De.algorithm,pe,De.encoding);return De.createDigest(De.algorithm,Et,nt)}function y(pe,de,De){const nt=De.digest||v(pe,de,De);return g(nt,De.digits)}function b(pe,de,De,nt){if(!s(pe))return!1;const Et=y(de,De,nt);return pe===Et}function w(pe,de,De,nt,Et){return l({algorithm:Et.algorithm,digits:Et.digits,type:t.Strategy.HOTP,accountName:pe,counter:nt,issuer:de,secret:De})}class x extends u{create(de={}){return new x(de)}allOptions(){return p(this.options)}generate(de,De){return y(de,De,this.allOptions())}check(de,De,nt){return b(de,De,nt,this.allOptions())}verify(de){if(typeof de!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(de.token,de.secret,de.counter)}keyuri(de,De,nt,Et){return w(de,De,nt,Et,this.allOptions())}}function k(pe){if(typeof pe=="number")return[Math.abs(pe),Math.abs(pe)];if(Array.isArray(pe)){const[de,De]=pe;if(typeof de=="number"&&typeof De=="number")return[Math.abs(de),Math.abs(De)]}throw new Error("Expecting options.window to be an number or [number, number].")}function S(pe){if(c(pe),k(pe.window),typeof pe.epoch!="number")throw new Error("Expecting options.epoch to be a number.");if(typeof pe.step!="number")throw new Error("Expecting options.step to be a number.")}const E=(pe,de,De)=>{const nt=pe.length,Et=Buffer.from(pe,de).toString("hex");if(nt<De){const $t=new Array(De-nt+1).join(Et);return Buffer.from($t,"hex").slice(0,De).toString("hex")}return Et},I=(pe,de,De)=>{switch(pe){case t.HashAlgorithms.SHA1:return E(de,De,20);case t.HashAlgorithms.SHA256:return E(de,De,32);case t.HashAlgorithms.SHA512:return E(de,De,64);default:throw new Error(`Expecting algorithm to be one of ${n.join(", ")}. Received ${pe}.`)}};function C(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:i,createHmacKey:I,digits:6,encoding:t.KeyEncodings.ASCII,epoch:Date.now(),step:30,window:0}}function R(pe){const de={...C(),...pe};return S(de),Object.freeze(de)}function z(pe,de){return Math.floor(pe/de/1e3)}function H(pe,de){const De=z(de.epoch,de.step);return y(pe,De,de)}function U(pe,de,De,nt){const Et=[];if(nt===0)return Et;for(let $t=1;$t<=nt;$t++){const yn=de*$t*De;Et.push(pe+yn)}return Et}function q(pe,de,De){const nt=k(De),Et=de*1e3;return{current:pe,past:U(pe,-1,Et,nt[0]),future:U(pe,1,Et,nt[1])}}function Q(pe,de,De){if(!s(pe))return!1;const nt=H(de,De);return pe===nt}function re(pe,de,De,nt){let Et=null;return pe.some(($t,yn)=>Q(de,De,{...nt,epoch:$t})?(Et=yn+1,!0):!1),Et}function he(pe,de,De){if(Q(pe,de,De))return 0;const nt=q(De.epoch,De.step,De.window),Et=re(nt.past,pe,de,De);return Et!==null?Et*-1:re(nt.future,pe,de,De)}function ae(pe,de){return Math.floor(pe/1e3)%de}function se(pe,de){return de-ae(pe,de)}function X(pe,de,De,nt){return l({algorithm:nt.algorithm,digits:nt.digits,step:nt.step,type:t.Strategy.TOTP,accountName:pe,issuer:de,secret:De})}class ne extends x{create(de={}){return new ne(de)}allOptions(){return R(this.options)}generate(de){return H(de,this.allOptions())}checkDelta(de,De){return he(de,De,this.allOptions())}check(de,De){return typeof this.checkDelta(de,De)=="number"}verify(de){if(typeof de!="object")throw new Error("Expecting argument 0 of verify to be an object");return this.check(de.token,de.secret)}timeRemaining(){const de=this.allOptions();return se(de.epoch,de.step)}timeUsed(){const de=this.allOptions();return ae(de.epoch,de.step)}keyuri(de,De,nt){return X(de,De,nt,this.allOptions())}}function ke(pe){if(S(pe),typeof pe.keyDecoder!="function")throw new Error("Expecting options.keyDecoder to be a function.");if(pe.keyEncoder&&typeof pe.keyEncoder!="function")throw new Error("Expecting options.keyEncoder to be a function.")}function Oe(){return{algorithm:t.HashAlgorithms.SHA1,createDigest:i,createHmacKey:I,digits:6,encoding:t.KeyEncodings.HEX,epoch:Date.now(),step:30,window:0}}function We(pe){const de={...Oe(),...pe};return ke(de),Object.freeze(de)}function ze(pe,de){return de.keyEncoder(pe,de.encoding)}function be(pe,de){return de.keyDecoder(pe,de.encoding)}function Ie(pe,de){const De=de.createRandomBytes(pe,de.encoding);return ze(De,de)}function Le(pe,de){return H(be(pe,de),de)}function Ge(pe,de,De){return he(pe,be(de,De),De)}class at extends ne{create(de={}){return new at(de)}allOptions(){return We(this.options)}generate(de){return Le(de,this.allOptions())}checkDelta(de,De){return Ge(de,De,this.allOptions())}encode(de){return ze(de,this.allOptions())}decode(de){return be(de,this.allOptions())}generateSecret(de=10){return Ie(de,this.allOptions())}}t.Authenticator=at,t.HASH_ALGORITHMS=n,t.HOTP=x,t.KEY_ENCODINGS=r,t.OTP=u,t.STRATEGY=a,t.TOTP=ne,t.authenticatorCheckWithWindow=Ge,t.authenticatorDecoder=be,t.authenticatorDefaultOptions=Oe,t.authenticatorEncoder=ze,t.authenticatorGenerateSecret=Ie,t.authenticatorOptionValidator=ke,t.authenticatorOptions=We,t.authenticatorToken=Le,t.createDigestPlaceholder=i,t.hotpCheck=b,t.hotpCounter=m,t.hotpCreateHmacKey=d,t.hotpDefaultOptions=f,t.hotpDigestToToken=g,t.hotpKeyuri=w,t.hotpOptions=p,t.hotpOptionsValidator=c,t.hotpToken=y,t.isTokenValid=s,t.keyuri=l,t.objectValues=e,t.padStart=o,t.totpCheck=Q,t.totpCheckByEpoch=re,t.totpCheckWithWindow=he,t.totpCounter=z,t.totpCreateHmacKey=I,t.totpDefaultOptions=C,t.totpEpochAvailable=q,t.totpKeyuri=X,t.totpOptions=R,t.totpOptionsValidator=S,t.totpPadSecret=E,t.totpTimeRemaining=se,t.totpTimeUsed=ae,t.totpToken=H})(Bz);/**
 * @otplib/preset-v11
 *
 * @author Gerald Yeo <contact@fusedthought.com>
 * @version: 12.0.1
 * @license: MIT
 **/Object.defineProperty(ew,"__esModule",{value:!0});var rb=tw,BR=nw,eT=Bz;function M1(t={}){if(!t||typeof t!="object")return{};const{epoch:e,...n}=t;return e===null?n:typeof e=="number"?{...t,epoch:t.epoch*1e3}:t}function mx(t={}){if(!t||typeof t!="object")return{};const{epoch:e,...n}=t;return e===null?n:typeof e=="number"?{...t,epoch:e/1e3}:t}function tT(t,e){class n extends t{constructor(a={}){super(M1({...e,...a})),console.warn(t.name,"initialised with v11.x adapter")}static get name(){return t.name}set options(a={}){console.warn(t.name,`.options setter will remove UNIX epoch if it is set to null.
 Do note that library versions above v11.x uses JavaScript epoch.`),super.options=M1(a)}get options(){return console.warn(t.name,`.options getter will remove epoch if it is set to null
 Do note that library versions above v11.x uses JavaScript epoch.`),mx(super.options)}get defaultOptions(){return console.warn(t.name,`.defaultOptions getter has been deprecated in favour of the .options getter

 The .options getter now returns the combined defaultOptions and options valuesinstead of setting options when adding defaultOptions.`),Object.freeze(mx(this._defaultOptions))}set defaultOptions(a){console.warn(t.name,".defaultOptions setter has been deprecated in favour of the .clone(defaultOptions) method"),this._defaultOptions=Object.freeze({...this._defaultOptions,...M1(a)})}get optionsAll(){return console.warn(t.name,`.optionsAll getter has been deprecated in favour of the .allOptions() method.
 That epoch returned here will be in Unix Epoch, while .allOptions() will return JavaScript epoch.
 Do note that library versions above v11.x uses JavaScript epoch.`),mx(this.allOptions())}allOptions(){return M1(super.allOptions())}getClass(){return n}verify(a){if(!a||typeof a!="object")return!1;try{return super.verify(a)}catch{return!1}}}return n.prototype[t.name]=n,n}const fme=tT(eT.HOTP,{}),pme=tT(eT.TOTP,{epoch:null,step:30,window:0}),mme=tT(eT.Authenticator,{encoding:"hex",epoch:null,step:30,window:0}),gme=new fme({createDigest:rb.createDigest}),yme=new pme({createDigest:rb.createDigest}),bme=new mme({createDigest:rb.createDigest,createRandomBytes:rb.createRandomBytes,keyEncoder:BR.keyEncoder,keyDecoder:BR.keyDecoder});var vme=ew.authenticator=bme;ew.hotp=gme;ew.totp=yme;var x0={},wme=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},zz={},Is={};let nT;const xme=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Is.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Is.getSymbolTotalCodewords=function(e){return xme[e]};Is.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Is.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');nT=e};Is.isKanjiModeEnabled=function(){return typeof nT<"u"};Is.toSJIS=function(e){return nT(e)};var rw={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,a){if(t.isValid(r))return r;try{return e(r)}catch{return a}}})(rw);function Uz(){this.buffer=[],this.length=0}Uz.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var _me=Uz;function _0(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}_0.prototype.set=function(t,e,n,r){const a=t*this.size+e;this.data[a]=n,r&&(this.reservedBit[a]=!0)};_0.prototype.get=function(t,e){return this.data[t*this.size+e]};_0.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};_0.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var kme=_0,jz={};(function(t){const e=Is.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,i=e(r),s=i===145?26:Math.ceil((i-13)/(2*a-2))*2,o=[i-7];for(let l=1;l<a-1;l++)o[l]=o[l-1]-s;return o.push(6),o.reverse()},t.getPositions=function(r){const a=[],i=t.getRowColCoords(r),s=i.length;for(let o=0;o<s;o++)for(let l=0;l<s;l++)o===0&&l===0||o===0&&l===s-1||o===s-1&&l===0||a.push([i[o],i[l]]);return a}})(jz);var Vz={};const Sme=Is.getSymbolSize,zR=7;Vz.getPositions=function(e){const n=Sme(e);return[[0,0],[n-zR,0],[0,n-zR]]};var Wz={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},t.from=function(a){return t.isValid(a)?parseInt(a,10):void 0},t.getPenaltyN1=function(a){const i=a.size;let s=0,o=0,l=0,u=null,c=null;for(let d=0;d<i;d++){o=l=0,u=c=null;for(let f=0;f<i;f++){let p=a.get(d,f);p===u?o++:(o>=5&&(s+=e.N1+(o-5)),u=p,o=1),p=a.get(f,d),p===c?l++:(l>=5&&(s+=e.N1+(l-5)),c=p,l=1)}o>=5&&(s+=e.N1+(o-5)),l>=5&&(s+=e.N1+(l-5))}return s},t.getPenaltyN2=function(a){const i=a.size;let s=0;for(let o=0;o<i-1;o++)for(let l=0;l<i-1;l++){const u=a.get(o,l)+a.get(o,l+1)+a.get(o+1,l)+a.get(o+1,l+1);(u===4||u===0)&&s++}return s*e.N2},t.getPenaltyN3=function(a){const i=a.size;let s=0,o=0,l=0;for(let u=0;u<i;u++){o=l=0;for(let c=0;c<i;c++)o=o<<1&2047|a.get(u,c),c>=10&&(o===1488||o===93)&&s++,l=l<<1&2047|a.get(c,u),c>=10&&(l===1488||l===93)&&s++}return s*e.N3},t.getPenaltyN4=function(a){let i=0;const s=a.data.length;for(let l=0;l<s;l++)i+=a.data[l];return Math.abs(Math.ceil(i*100/s/5)-10)*e.N4};function n(r,a,i){switch(r){case t.Patterns.PATTERN000:return(a+i)%2===0;case t.Patterns.PATTERN001:return a%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(a+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return a*i%2+a*i%3===0;case t.Patterns.PATTERN110:return(a*i%2+a*i%3)%2===0;case t.Patterns.PATTERN111:return(a*i%3+(a+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(a,i){const s=i.size;for(let o=0;o<s;o++)for(let l=0;l<s;l++)i.isReserved(l,o)||i.xor(l,o,n(a,l,o))},t.getBestMask=function(a,i){const s=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let u=0;u<s;u++){i(u),t.applyMask(u,a);const c=t.getPenaltyN1(a)+t.getPenaltyN2(a)+t.getPenaltyN3(a)+t.getPenaltyN4(a);t.applyMask(u,a),c<l&&(l=c,o=u)}return o}})(Wz);var aw={};const Wu=rw,B1=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],z1=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];aw.getBlocksCount=function(e,n){switch(n){case Wu.L:return B1[(e-1)*4+0];case Wu.M:return B1[(e-1)*4+1];case Wu.Q:return B1[(e-1)*4+2];case Wu.H:return B1[(e-1)*4+3];default:return}};aw.getTotalCodewordsCount=function(e,n){switch(n){case Wu.L:return z1[(e-1)*4+0];case Wu.M:return z1[(e-1)*4+1];case Wu.Q:return z1[(e-1)*4+2];case Wu.H:return z1[(e-1)*4+3];default:return}};var Gz={},iw={};const Hm=new Uint8Array(512),ab=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Hm[n]=e,ab[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Hm[n]=Hm[n-255]})();iw.log=function(e){if(e<1)throw new Error("log("+e+")");return ab[e]};iw.exp=function(e){return Hm[e]};iw.mul=function(e,n){return e===0||n===0?0:Hm[ab[e]+ab[n]]};(function(t){const e=iw;t.mul=function(r,a){const i=new Uint8Array(r.length+a.length-1);for(let s=0;s<r.length;s++)for(let o=0;o<a.length;o++)i[s+o]^=e.mul(r[s],a[o]);return i},t.mod=function(r,a){let i=new Uint8Array(r);for(;i.length-a.length>=0;){const s=i[0];for(let l=0;l<a.length;l++)i[l]^=e.mul(a[l],s);let o=0;for(;o<i.length&&i[o]===0;)o++;i=i.slice(o)}return i},t.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let i=0;i<r;i++)a=t.mul(a,new Uint8Array([1,e.exp(i)]));return a}})(Gz);const Hz=Gz;function rT(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}rT.prototype.initialize=function(e){this.degree=e,this.genPoly=Hz.generateECPolynomial(this.degree)};rT.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=Hz.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){const i=new Uint8Array(this.degree);return i.set(r,a),i}return r};var Nme=rT,qz={},Mc={},aT={};aT.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Rl={};const Yz="[0-9]+",Eme="[A-Z $%*+\\-./:]+";let Mg="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Mg=Mg.replace(/u/g,"\\u");const Tme="(?:(?![A-Z0-9 $%*+\\-./:]|"+Mg+`)(?:.|[\r
]))+`;Rl.KANJI=new RegExp(Mg,"g");Rl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Rl.BYTE=new RegExp(Tme,"g");Rl.NUMERIC=new RegExp(Yz,"g");Rl.ALPHANUMERIC=new RegExp(Eme,"g");const Cme=new RegExp("^"+Mg+"$"),Ime=new RegExp("^"+Yz+"$"),Ame=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Rl.testKanji=function(e){return Cme.test(e)};Rl.testNumeric=function(e){return Ime.test(e)};Rl.testAlphanumeric=function(e){return Ame.test(e)};(function(t){const e=aT,n=Rl;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,s){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(s))throw new Error("Invalid version: "+s);return s>=1&&s<10?i.ccBits[0]:s<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+a)}}t.from=function(i,s){if(t.isValid(i))return i;try{return r(i)}catch{return s}}})(Mc);(function(t){const e=Is,n=aw,r=rw,a=Mc,i=aT,s=7973,o=e.getBCHDigit(s);function l(f,p,m){for(let g=1;g<=40;g++)if(p<=t.getCapacity(g,m,f))return g}function u(f,p){return a.getCharCountIndicator(f,p)+4}function c(f,p){let m=0;return f.forEach(function(g){const v=u(g.mode,p);m+=v+g.getBitsLength()}),m}function d(f,p){for(let m=1;m<=40;m++)if(c(f,m)<=t.getCapacity(m,p,a.MIXED))return m}t.from=function(p,m){return i.isValid(p)?parseInt(p,10):m},t.getCapacity=function(p,m,g){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=a.BYTE);const v=e.getSymbolTotalCodewords(p),y=n.getTotalCodewordsCount(p,m),b=(v-y)*8;if(g===a.MIXED)return b;const w=b-u(g,p);switch(g){case a.NUMERIC:return Math.floor(w/10*3);case a.ALPHANUMERIC:return Math.floor(w/11*2);case a.KANJI:return Math.floor(w/13);case a.BYTE:default:return Math.floor(w/8)}},t.getBestVersionForData=function(p,m){let g;const v=r.from(m,r.M);if(Array.isArray(p)){if(p.length>1)return d(p,v);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),v)},t.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-o>=0;)m^=s<<e.getBCHDigit(m)-o;return p<<12|m}})(qz);var Kz={};const B4=Is,Xz=1335,Dme=21522,UR=B4.getBCHDigit(Xz);Kz.getEncodedBits=function(e,n){const r=e.bit<<3|n;let a=r<<10;for(;B4.getBCHDigit(a)-UR>=0;)a^=Xz<<B4.getBCHDigit(a)-UR;return(r<<10|a)^Dme};var Qz={};const Rme=Mc;function Qf(t){this.mode=Rme.NUMERIC,this.data=t.toString()}Qf.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Qf.prototype.getLength=function(){return this.data.length};Qf.prototype.getBitsLength=function(){return Qf.getBitsLength(this.data.length)};Qf.prototype.write=function(e){let n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),e.put(a,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),a=parseInt(r,10),e.put(a,i*3+1))};var $me=Qf;const Ome=Mc,gx=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Zf(t){this.mode=Ome.ALPHANUMERIC,this.data=t}Zf.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Zf.prototype.getLength=function(){return this.data.length};Zf.prototype.getBitsLength=function(){return Zf.getBitsLength(this.data.length)};Zf.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=gx.indexOf(this.data[n])*45;r+=gx.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(gx.indexOf(this.data[n]),6)};var Lme=Zf,Fme=function(e){for(var n=[],r=e.length,a=0;a<r;a++){var i=e.charCodeAt(a);if(i>=55296&&i<=56319&&r>a+1){var s=e.charCodeAt(a+1);s>=56320&&s<=57343&&(i=(i-55296)*1024+s-56320+65536,a+=1)}if(i<128){n.push(i);continue}if(i<2048){n.push(i>>6|192),n.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128);continue}if(i>=65536&&i<=1114111){n.push(i>>18|240),n.push(i>>12&63|128),n.push(i>>6&63|128),n.push(i&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Pme=Fme,Mme=Mc;function Jf(t){this.mode=Mme.BYTE,typeof t=="string"&&(t=Pme(t)),this.data=new Uint8Array(t)}Jf.getBitsLength=function(e){return e*8};Jf.prototype.getLength=function(){return this.data.length};Jf.prototype.getBitsLength=function(){return Jf.getBitsLength(this.data.length)};Jf.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var Bme=Jf;const zme=Mc,Ume=Is;function ep(t){this.mode=zme.KANJI,this.data=t}ep.getBitsLength=function(e){return e*13};ep.prototype.getLength=function(){return this.data.length};ep.prototype.getBitsLength=function(){return ep.getBitsLength(this.data.length)};ep.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=Ume.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var jme=ep,Zz={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,a){var i={},s={};s[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var l,u,c,d,f,p,m,g,v;!o.empty();){l=o.pop(),u=l.value,d=l.cost,f=n[u]||{};for(c in f)f.hasOwnProperty(c)&&(p=f[c],m=d+p,g=s[c],v=typeof s[c]>"u",(v||g>m)&&(s[c]=m,o.push(c,m),i[c]=u))}if(typeof a<"u"&&typeof s[a]>"u"){var y=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(y)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],i=r;i;)a.push(i),n[i],i=n[i];return a.reverse(),a},find_path:function(n,r,a){var i=e.single_source_shortest_paths(n,r,a);return e.extract_shortest_path_from_predecessor_list(i,a)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,a={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(Zz);var Vme=Zz.exports;(function(t){const e=Mc,n=$me,r=Lme,a=Bme,i=jme,s=Rl,o=Is,l=Vme;function u(y){return unescape(encodeURIComponent(y)).length}function c(y,b,w){const x=[];let k;for(;(k=y.exec(w))!==null;)x.push({data:k[0],index:k.index,mode:b,length:k[0].length});return x}function d(y){const b=c(s.NUMERIC,e.NUMERIC,y),w=c(s.ALPHANUMERIC,e.ALPHANUMERIC,y);let x,k;return o.isKanjiModeEnabled()?(x=c(s.BYTE,e.BYTE,y),k=c(s.KANJI,e.KANJI,y)):(x=c(s.BYTE_KANJI,e.BYTE,y),k=[]),b.concat(w,x,k).sort(function(E,I){return E.index-I.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function f(y,b){switch(b){case e.NUMERIC:return n.getBitsLength(y);case e.ALPHANUMERIC:return r.getBitsLength(y);case e.KANJI:return i.getBitsLength(y);case e.BYTE:return a.getBitsLength(y)}}function p(y){return y.reduce(function(b,w){const x=b.length-1>=0?b[b.length-1]:null;return x&&x.mode===w.mode?(b[b.length-1].data+=w.data,b):(b.push(w),b)},[])}function m(y){const b=[];for(let w=0;w<y.length;w++){const x=y[w];switch(x.mode){case e.NUMERIC:b.push([x,{data:x.data,mode:e.ALPHANUMERIC,length:x.length},{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.ALPHANUMERIC:b.push([x,{data:x.data,mode:e.BYTE,length:x.length}]);break;case e.KANJI:b.push([x,{data:x.data,mode:e.BYTE,length:u(x.data)}]);break;case e.BYTE:b.push([{data:x.data,mode:e.BYTE,length:u(x.data)}])}}return b}function g(y,b){const w={},x={start:{}};let k=["start"];for(let S=0;S<y.length;S++){const E=y[S],I=[];for(let C=0;C<E.length;C++){const R=E[C],z=""+S+C;I.push(z),w[z]={node:R,lastCount:0},x[z]={};for(let H=0;H<k.length;H++){const U=k[H];w[U]&&w[U].node.mode===R.mode?(x[U][z]=f(w[U].lastCount+R.length,R.mode)-f(w[U].lastCount,R.mode),w[U].lastCount+=R.length):(w[U]&&(w[U].lastCount=R.length),x[U][z]=f(R.length,R.mode)+4+e.getCharCountIndicator(R.mode,b))}}k=I}for(let S=0;S<k.length;S++)x[k[S]].end=0;return{map:x,table:w}}function v(y,b){let w;const x=e.getBestModeForData(y);if(w=e.from(b,x),w!==e.BYTE&&w.bit<x.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(w)+`.
 Suggested mode is: `+e.toString(x));switch(w===e.KANJI&&!o.isKanjiModeEnabled()&&(w=e.BYTE),w){case e.NUMERIC:return new n(y);case e.ALPHANUMERIC:return new r(y);case e.KANJI:return new i(y);case e.BYTE:return new a(y)}}t.fromArray=function(b){return b.reduce(function(w,x){return typeof x=="string"?w.push(v(x,null)):x.data&&w.push(v(x.data,x.mode)),w},[])},t.fromString=function(b,w){const x=d(b,o.isKanjiModeEnabled()),k=m(x),S=g(k,w),E=l.find_path(S.map,"start","end"),I=[];for(let C=1;C<E.length-1;C++)I.push(S.table[E[C]].node);return t.fromArray(p(I))},t.rawSplit=function(b){return t.fromArray(d(b,o.isKanjiModeEnabled()))}})(Qz);const sw=Is,yx=rw,Wme=_me,Gme=kme,Hme=jz,qme=Vz,z4=Wz,U4=aw,Yme=Nme,ib=qz,Kme=Kz,Xme=Mc,bx=Qz;function Qme(t,e){const n=t.size,r=qme.getPositions(e);for(let a=0;a<r.length;a++){const i=r[a][0],s=r[a][1];for(let o=-1;o<=7;o++)if(!(i+o<=-1||n<=i+o))for(let l=-1;l<=7;l++)s+l<=-1||n<=s+l||(o>=0&&o<=6&&(l===0||l===6)||l>=0&&l<=6&&(o===0||o===6)||o>=2&&o<=4&&l>=2&&l<=4?t.set(i+o,s+l,!0,!0):t.set(i+o,s+l,!1,!0))}}function Zme(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function Jme(t,e){const n=Hme.getPositions(e);for(let r=0;r<n.length;r++){const a=n[r][0],i=n[r][1];for(let s=-2;s<=2;s++)for(let o=-2;o<=2;o++)s===-2||s===2||o===-2||o===2||s===0&&o===0?t.set(a+s,i+o,!0,!0):t.set(a+s,i+o,!1,!0)}}function ege(t,e){const n=t.size,r=ib.getEncodedBits(e);let a,i,s;for(let o=0;o<18;o++)a=Math.floor(o/3),i=o%3+n-8-3,s=(r>>o&1)===1,t.set(a,i,s,!0),t.set(i,a,s,!0)}function vx(t,e,n){const r=t.size,a=Kme.getEncodedBits(e,n);let i,s;for(i=0;i<15;i++)s=(a>>i&1)===1,i<6?t.set(i,8,s,!0):i<8?t.set(i+1,8,s,!0):t.set(r-15+i,8,s,!0),i<8?t.set(8,r-i-1,s,!0):i<9?t.set(8,15-i-1+1,s,!0):t.set(8,15-i-1,s,!0);t.set(r-8,8,1,!0)}function tge(t,e){const n=t.size;let r=-1,a=n-1,i=7,s=0;for(let o=n-1;o>0;o-=2)for(o===6&&o--;;){for(let l=0;l<2;l++)if(!t.isReserved(a,o-l)){let u=!1;s<e.length&&(u=(e[s]>>>i&1)===1),t.set(a,o-l,u),i--,i===-1&&(s++,i=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function nge(t,e,n){const r=new Wme;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),Xme.getCharCountIndicator(l.mode,t)),l.write(r)});const a=sw.getSymbolTotalCodewords(t),i=U4.getTotalCodewordsCount(t,e),s=(a-i)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const o=(s-r.getLengthInBits())/8;for(let l=0;l<o;l++)r.put(l%2?17:236,8);return rge(r,t,e)}function rge(t,e,n){const r=sw.getSymbolTotalCodewords(e),a=U4.getTotalCodewordsCount(e,n),i=r-a,s=U4.getBlocksCount(e,n),o=r%s,l=s-o,u=Math.floor(r/s),c=Math.floor(i/s),d=c+1,f=u-c,p=new Yme(f);let m=0;const g=new Array(s),v=new Array(s);let y=0;const b=new Uint8Array(t.buffer);for(let E=0;E<s;E++){const I=E<l?c:d;g[E]=b.slice(m,m+I),v[E]=p.encode(g[E]),m+=I,y=Math.max(y,I)}const w=new Uint8Array(r);let x=0,k,S;for(k=0;k<y;k++)for(S=0;S<s;S++)k<g[S].length&&(w[x++]=g[S][k]);for(k=0;k<f;k++)for(S=0;S<s;S++)w[x++]=v[S][k];return w}function age(t,e,n,r){let a;if(Array.isArray(t))a=bx.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const c=bx.rawSplit(t);u=ib.getBestVersionForData(c,n)}a=bx.fromString(t,u||40)}else throw new Error("Invalid data");const i=ib.getBestVersionForData(a,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const s=nge(e,n,a),o=sw.getSymbolSize(e),l=new Gme(o);return Qme(l,e),Zme(l),Jme(l,e),vx(l,n,0),e>=7&&ege(l,e),tge(l,s),isNaN(r)&&(r=z4.getBestMask(l,vx.bind(null,l,n))),z4.applyMask(r,l),vx(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:a}}zz.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=yx.M,a,i;return typeof n<"u"&&(r=yx.from(n.errorCorrectionLevel,yx.M),a=ib.from(n.version),i=z4.from(n.maskPattern),n.toSJISFunc&&sw.setToSJISFunction(n.toSJISFunc)),age(e,a,r,i)};var Jz={},iT={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,s=r.scale||4;return{width:i,scale:i?4:s,margin:a,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},t.getImageWidth=function(r,a){const i=t.getScale(r,a);return Math.floor((r+a.margin*2)*i)},t.qrToImageData=function(r,a,i){const s=a.modules.size,o=a.modules.data,l=t.getScale(s,i),u=Math.floor((s+i.margin*2)*l),c=i.margin*l,d=[i.color.light,i.color.dark];for(let f=0;f<u;f++)for(let p=0;p<u;p++){let m=(f*u+p)*4,g=i.color.light;if(f>=c&&p>=c&&f<u-c&&p<u-c){const v=Math.floor((f-c)/l),y=Math.floor((p-c)/l);g=d[o[v*s+y]?1:0]}r[m++]=g.r,r[m++]=g.g,r[m++]=g.b,r[m]=g.a}}})(iT);(function(t){const e=iT;function n(a,i,s){a.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,s,o){let l=o,u=s;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),s||(u=r()),l=e.getOptions(l);const c=e.getImageWidth(i.modules.size,l),d=u.getContext("2d"),f=d.createImageData(c,c);return e.qrToImageData(f.data,i,l),n(d,u,c),d.putImageData(f,0,0),u},t.renderToDataURL=function(i,s,o){let l=o;typeof l>"u"&&(!s||!s.getContext)&&(l=s,s=void 0),l||(l={});const u=t.render(i,s,l),c=l.type||"image/png",d=l.rendererOpts||{};return u.toDataURL(c,d.quality)}})(Jz);var eU={};const ige=iT;function jR(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function wx(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function sge(t,e,n){let r="",a=0,i=!1,s=0;for(let o=0;o<t.length;o++){const l=Math.floor(o%e),u=Math.floor(o/e);!l&&!i&&(i=!0),t[o]?(s++,o>0&&l>0&&t[o-1]||(r+=i?wx("M",l+n,.5+u+n):wx("m",a,0),a=0,i=!1),l+1<e&&t[o+1]||(r+=wx("h",s),s=0)):a++}return r}eU.render=function(e,n,r){const a=ige.getOptions(n),i=e.modules.size,s=e.modules.data,o=i+a.margin*2,l=a.color.light.a?"<path "+jR(a.color.light,"fill")+' d="M0 0h'+o+"v"+o+'H0z"/>':"",u="<path "+jR(a.color.dark,"stroke")+' d="'+sge(s,i,a.margin)+'"/>',c='viewBox="0 0 '+o+" "+o+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+c+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,f),f};const oge=wme,j4=zz,tU=Jz,lge=eU;function sT(t,e,n,r,a){const i=[].slice.call(arguments,1),s=i.length,o=typeof i[s-1]=="function";if(!o&&!oge())throw new Error("Callback required as last argument");if(o){if(s<2)throw new Error("Too few arguments provided");s===2?(a=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const c=j4.create(n,r);l(t(c,e,r))}catch(c){u(c)}})}try{const l=j4.create(n,r);a(null,t(l,e,r))}catch(l){a(l)}}x0.create=j4.create;x0.toCanvas=sT.bind(null,tU.render);x0.toDataURL=sT.bind(null,tU.renderToDataURL);x0.toString=sT.bind(null,function(t,e,n){return lge.render(t,n)});const uge=t=>{const{t:e}=ct(),{children:n,className:r,disabled:a,placement:i,message:s=e("gen_areYouSure"),messageClass:o,onClick:l,arrowClass:u,wrapperClass:c,confirmClass:d,cancelClass:f,confirmText:p=e("gen_yes"),cancelText:m=e("gen_no"),buttonWrapperClass:g}=t,v=D.useRef(null),y=D.useRef(null),b=D.useRef(null),[w,x]=D.useState(!1);return D.useEffect(()=>{!v.current||!y.current||!b.current||$v(v.current,y.current,{placement:i,middleware:[Av(),BN(),Iv(10),cM({element:b.current})]}).then(({x:k,y:S,placement:E,middlewareData:I})=>{if(!(!v.current||!y.current||!b.current)&&(Object.assign(y.current.style,{left:`${k}px`,top:`${S}px`}),I.arrow&&b.current)){const{x:C,y:R}=I.arrow,z={left:C!=null?`${C}px`:"",top:R!=null?`${R}px`:""};Object.assign(b.current.style,Az(z,E,v.current.clientWidth,v.current.clientHeight,b.current.offsetWidth,b.current.offsetHeight))}})},[w,i]),h(St,{children:_(UN,{setter:x,className:Ce("relative"),children:[h("button",{ref:v,className:r,onClick:()=>x(!0),disabled:w||a,type:"button",children:n}),_(K,{when:w,children:[h("div",{ref:b,className:Ce("absolute z-10 h-0 w-0 border-x-[10px] border-x-transparent border-b-[20px] border-b-red-100 dark:border-b-red-800",u)}),_("div",{ref:y,className:Ce("absolute z-10 p-2 bg-red-100 dark:bg-red-800 text-gray-700 dark:text-white text-xs rounded",c),children:[h("p",{className:o,children:s}),_("div",{className:Ce("flex gap-1 justify-end mt-2",g),children:[h("button",{className:Ce("p-1 px-2 rounded bg-red-600 hover:bg-red-400/80 dark:bg-red-600 dark:hover:bg-red-700 text-white font-medium",d),onClick:()=>{x(!w),l()},type:"button",children:p}),h("button",{className:Ce("p-1 px-2 rounded bg-white dark:bg-slate-900 dark:hover:bg-slate-800 text-red-600 dark:text-white font-medium",f),onClick:()=>x(!w),type:"button",children:m})]})]})]})]})})},cge=()=>{const{t}=ct(),[e,n]=Ji(),[r,a]=D.useState(""),[i,s]=D.useState(""),[o,l]=D.useState(),[u,c]=D.useState(!1),d=D.useRef(null);async function f(){c(!0);const{result:R}=await Ase();if(!(R!=null&&R.data)){c(!1),Xe({message:t(`err_${(R==null?void 0:R.error.message)||"networkProblem"}`),type:"error"});return}const{user:z,service:H,secret:U}=R.data;a(U);const q=vme.keyuri(z,H,U);x0.toDataURL(q,(Q,re)=>{if(c(!1),Q)return Xe({message:t("tfa_generateQrError"),type:"error"});s(re)})}const[p,m]=D.useState(Do(6,"")),g=p.reduce((R,z)=>R||z==="",!1);async function v(){var U,q;if(!e)return;c(!0);const{result:R,error:z}=await Dse(r,p.join(""));if(c(!1),m(Do(6,"")),!(R!=null&&R.data)){(U=d.current)==null||U.focus(),Xe({message:t(z||((q=R==null?void 0:R.error)==null?void 0:q.message)||"err_networkProblem"),type:"error"});return}const H={...e};H.is2FAEnabled=!0,n(H),l(R.data.backup_codes),await Wr(qi,H),Xe({message:t("tfa_2faSuccess"),type:"success"})}const[y,b]=D.useState(!1),[w,x]=D.useState(!1);async function k(){var U,q;if(!e)return;c(!0);const{result:R,error:z}=await Rse(p.join(""),y);if(c(!1),m(Do(6,"")),!(R!=null&&R.data)){(U=d.current)==null||U.focus(),Xe({message:t(z||((q=R==null?void 0:R.error)==null?void 0:q.message)||"err_networkProblem"),type:"error"});return}x(!1);const H={...e,is2FAEnabled:!1};n(H),await Wr(qi,H)}const[S,E]=D.useState(!1);async function I(){if(!o)return;const R=document.createElement("a"),z=new Blob([o.join(`
`)],{type:"text/plain"});R.href=URL.createObjectURL(z),R.download="backupcodes.txt",R.click(),URL.revokeObjectURL(R.href)}async function C(){var U,q;const R=p.join("");if(!e||!R)return;c(!0);const{result:z,error:H}=await $se(R);if(c(!1),m(Do(6,"")),!(z!=null&&z.data)){(U=d.current)==null||U.focus(),Xe({message:t(H||((q=z==null?void 0:z.error)==null?void 0:q.message)||"err_networkProblem"),type:"error"});return}l(z.data.backup_codes),E(!1)}return h(Es,{title:t("prof_2fa"),authenticated:!0,children:_("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8",children:[_("div",{className:"flex flex-col items-start md:flex-row md:items-center",children:[_("h2",{className:"font-medium text-2xl mr-2 dark:text-white md:mb-0 mb-2",children:[t("prof_2fa")," (2FA)"]}),h(K,{when:!!(e!=null&&e.is2FAEnabled),children:h("p",{className:"py-1 px-4 rounded-full bg-blue-100 dark:bg-blue-600 text-sm font-medium text-blue-500 dark:text-white",children:t("gen_activated")})}),h(K,{when:!(e!=null&&e.is2FAEnabled),children:h("p",{className:"py-1 px-4 rounded-full bg-red-100 dark:bg-red-600 text-sm font-medium text-red-500 dark:text-white",children:t("gen_notActivated")})})]}),h(K,{when:!(e!=null&&e.is2FAEnabled),children:_("div",{className:"mt-2",children:[h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_inactiveMsg1")}),h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_inactiveMsg2")}),_("div",{className:"px-2 py-2 inline-flex mb-4 bg-blue-100 dark:bg-slate-800 rounded w-fit",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1 text-blue-600 dark:text-blue-400",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),_("p",{className:"font-medium text-sm text-gray-600 dark:text-gray-400 ",children:[t("tfa_availableIn1")," ",h(Nt,{to:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en",target:"_blank",className:"font-medium underline text-blue-600 dark:text-blue-400",children:t("tfa_availableIn2")})," & ",h(Nt,{to:"https://apps.apple.com/us/app/google-authenticator/id388497605",target:"_blank",className:"font-medium underline text-blue-600 dark:text-blue-400",children:t("tfa_availableIn3")})]})]}),h(K,{when:!i,children:h("button",{type:"button",className:"h-12 px-8 bg-blue-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full",onClick:f,disabled:u,children:t("tfa_activate")})}),_(K,{when:i!=="",children:[h("hr",{className:"border-gray-600 mb-2.5"}),_("div",{className:"flex flex-col items-center gap-2",children:[h("p",{className:"text-gray-600 dark:text-gray-400",children:t("tfa_activation1")}),h("img",{src:i,alt:"QR Code"}),_("p",{className:"text-gray-600 dark:text-gray-400",children:[t("tfa_activation2")," ",_("i",{className:"font-semibold",children:["Algobash (",e==null?void 0:e.email,")"]})," ",t("gen_here")]}),_("div",{className:"max-w-[24rem]",children:[h(Cd,{innerRef:d,getter:p,setter:m,inputHeight:"h-14"}),_(nb,{className:"!mt-5 capitalize !w-full",onClick:v,disabled:g,loading:u,message:t("gen_submitting"),children:[t("gen_submit")," ",t("gen_code")]})]})]})]})]})}),h(K,{when:!!(e!=null&&e.is2FAEnabled),children:_("div",{className:"mt-2",children:[h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_activated1")}),h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_activated2")}),_("div",{className:"px-2 py-2 inline-flex mb-4 bg-blue-100 dark:bg-slate-800 rounded w-fit",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1 text-blue-600 dark:text-blue-400",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),_("p",{className:"font-medium text-sm text-gray-600 dark:text-gray-400 ",children:[t("tfa_availableIn1")," ",h(Nt,{to:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en",target:"_blank",className:"font-medium underline text-blue-600 dark:text-blue-400",children:t("tfa_availableIn2")})," & ",h(Nt,{to:"https://apps.apple.com/us/app/google-authenticator/id388497605",target:"_blank",className:"font-medium underline text-blue-600 dark:text-blue-400",children:t("tfa_availableIn3")})]})]}),_(K,{when:o!==void 0,children:[h("hr",{className:"border-gray-600 mb-2.5"}),h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_backup")}),h("ul",{className:"list-disc list-inside text-gray-600 dark:text-gray-400 grid md:grid-cols-2 grid-cols-1 gap-x-0",children:o==null?void 0:o.map((R,z)=>h("li",{children:R},z))}),_("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:[h("button",{type:"button",className:"h-12 min-w-[150px] px-8 bg-blue-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full",onClick:()=>l(void 0),children:"OK"}),h("button",{type:"button",className:"h-12 min-w-[150px] px-8 bg-cyan-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full capitalize",onClick:I,children:t("gen_save")})]})]}),_(K,{when:w,children:[h("hr",{className:"border-gray-600 mb-2.5"}),h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_disable")}),_("div",{className:"max-w-[24rem] space-y-2",children:[h(Cd,{innerRef:d,getter:p,setter:m,inputHeight:"h-14"}),h(Fg,{getter:y,setter:b,label:"Use backup code ?",containerClass:"hidden"})]}),_("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:[h(uge,{className:"h-12 px-8 bg-blue-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full capitalize",onClick:k,message:t("tfa_disableConfirm"),wrapperClass:"w-[200%]",disabled:u||g,children:t("gen_submit")}),h("button",{type:"button",className:"h-12 px-8 bg-red-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full capitalize",onClick:()=>x(!1),children:t("gen_cancel")})]})]}),_(K,{when:S,children:[h("hr",{className:"border-gray-600 mb-2.5"}),h("p",{className:"text-gray-600 dark:text-gray-400",children:t("tfa_reset1")}),h("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:t("tfa_reset2")}),h("div",{className:"max-w-[24rem]",children:h(Cd,{innerRef:d,getter:p,setter:m,inputHeight:"h-14"})}),_("div",{className:"flex md:flex-row flex-col gap-2 mt-4",children:[h(nb,{type:"button",onClick:C,disabled:g,loading:u,message:t("gen_submitting"),className:"capitalize",children:t("gen_submit")}),h("button",{type:"button",className:"h-12 px-8 bg-red-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full capitalize",onClick:()=>E(!1),children:t("gen_cancel")})]})]}),h(K,{when:!o&&!w&&!S,children:_("div",{className:"flex md:flex-row flex-col gap-2",children:[h("button",{type:"button",className:"h-12 px-8 bg-blue-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full",onClick:()=>E(!0),children:t("tfa_reset")}),_("button",{type:"button",className:"h-12 px-8 bg-red-500 disabled:bg-gray-400 text-white rounded flex items-center justify-center md:w-fit w-full",onClick:()=>x(!0),children:[t("gen_deactivate")," 2FA"]})]})})]})})]})})},xx=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result.
*/


#include <vector>

using namespace std;

int solution(vector<int> prices, int k) {
  
}`,_x=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result.
*/


#include <iostream>
#include <string>
#include <sstream> 
#include <vector>
#include <fstream>
#include <nlohmann/json.hpp>

using json = nlohmann::json;
using namespace std;

int solution(std::vector<int> prices, int k);

// main() is where program execution begins.
int main(int argc, char *argv[]) {  

  // get file name
  char *head;
  head = argv[1];


  // get first input and convert to vector
  string stdin1;
  getline(cin, stdin1);   
  auto var1 = json::parse(stdin1);

  // get second input to integer
  string stdin2;
  getline(cin, stdin2);
  stringstream geek(stdin2); 
  int var2 = 0;
  geek >> var2;

  clock_t t0 = clock();
  int result = solution(var1,var2);
  cout << result;
  clock_t t1 = clock();


  // create test file
  ofstream MyFile(head);
  MyFile << result;
  MyFile.close();

  // create Meta file
  std::string headStr(head);
  ofstream MyFile1( headStr + "-META");
  std::string s = std::to_string(t0);
  std::string s2 = std::to_string(t1);
  MyFile1 << s + "\\n" + s2 ;
  MyFile1.close();

  return 0;
}
`,kx=`#include <iostream>
#include <string>
#include <sstream>
#include <vector>
#include <fstream>

using namespace std;

// main() is where program execution begins.
int main(int argc, char *argv[]) {  
  string input;

  while(std::getline(cin, input)){
    if (input.empty()) 
      break;
    
    cout << input << endl;
  }
}`,dge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


using System;
                    
public class Solution
{
  // O(nk) time | O(nk) space
  public static int solution(int[] prices, int k)
  {
    return -1;
  }
}`,hge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


using System;
using System.Text.Json;
using System.IO;
using System.Diagnostics;

class Program
{
  static void Main(string[] args)
  {
    // get file name
    string head = args[0];

    // get first stdin and turn it to list of int
    string std1 = Console.ReadLine();
    int[] var1 = JsonSerializer.Deserialize<int[]>(std1);

    // get second stdin and convert it to int
    int var2 = int.Parse(Console.ReadLine());

    // get result
    long t0 = Stopwatch.GetTimestamp();
    int result = Solution.solution(var1, var2);
    Console.Write(result);
    long t1 = Stopwatch.GetTimestamp();

    try
    {
      // Write the test
      StreamWriter sw = new StreamWriter(head);
      sw.WriteLine(result);
      sw.Close();

      // Write the meta
      StreamWriter metaFile = new StreamWriter(head + "-META");
      metaFile.WriteLine(t0 + "\\n" + t1);
      metaFile.Close();
    }
    catch (Exception e)
    {
      Console.WriteLine("Exception: " + e.Message);
    }
  }
}`,fge=`using System;
using System.IO; 

class Program
{
  static void Main(string[] args)
  {
    string input;
    while ((input = Console.ReadLine()) != null) {
      Console.WriteLine(input);
    }
  }
}`,pge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


import 'dart:math';
                    
int solution(List<int> prices, int k) {
  // Your code starts here.
  return -1;
}`,mge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


import 'dart:convert';
import 'dart:io';

import 'solution.dart';

void main(List<String> args) async {
  var head = args[0];

  var jsonVar0 = stdin.readLineSync(encoding: Encoding.getByName('utf-8'));
  var jsonVar1 = stdin.readLineSync(encoding: Encoding.getByName('utf-8'));

  List<int> var0 = List<int>.from(jsonDecode(jsonVar0));
  int var1 = jsonDecode(jsonVar1);

  Stopwatch stopwatch = new Stopwatch();
  stopwatch.start();
  var t0 = stopwatch.elapsedMicroseconds;
  var result = solution(var0, var1);
  print(result);
  var t1 = stopwatch.elapsedMicroseconds;

  var jsonResult = jsonEncode(result);

  final filename = head;
  await new File(filename).writeAsStringSync(jsonResult);

  // write meta file
  final metaFIle = '$head-META';
  await new File(metaFIle).writeAsStringSync('$t0\\n$t1');
}`,gge=`import 'dart:convert';
import 'dart:io';

void main(List<String> args) async {
  await for (final line in stdin.transform(utf8.decoder).transform(const LineSplitter())) {
    print(line);
  }
}`,yge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


package main

func Solution() {

}`,bge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


package main

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
	"os"
	"strconv"
	"strings"
	"time"
)

func main() {
	args := os.Args[1:]
	head := args[1]
	data, _ := ioutil.ReadAll(os.Stdin)
	body := strings.Split(string(data), "\\n")

	var matrix []int
	json.Unmarshal([]byte(body[0]), &matrix)
	i, _ := strconv.Atoi(body[1])

	t0 := time.Now().UnixNano()
	result := Solution(matrix, i)
	fmt.Print(result)
	t1 := time.Now().UnixNano()
	b, _ := json.Marshal(result)
	stringResult := string(b)


	f, _ := os.Create(head)
	defer f.Close()
	f.WriteString(stringResult)

	f1, _ := os.Create(head + "-META")
	defer f1.Close()
	f1.WriteString(strconv.FormatInt(t0, 10) + "\\n" + strconv.FormatInt(t1, 10))
}`,vge=`package main

import (
  "fmt"
  "os"
  "bufio"
)

func main() {
  var line string
  scanner := bufio.NewScanner(os.Stdin)
  for scanner.Scan() {
    line = scanner.Text()
    fmt.Println(line)
  }
}`,VR=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


public class Solution {
  public static solution() {
    // Your code starts here.
  }
}`,WR=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;
import java.io.*;
import java.lang.reflect.Type;
import java.util.*;
import java.util.concurrent.TimeUnit;

class Main {

  private static List<Integer> parseIntoListInt(String input) {
    Gson gson = new Gson();
    Type type = new TypeToken<ArrayList<Integer>>() {}.getType();
    List<Integer> result = gson.fromJson(input, type);
    return result;
  }

  private static int[] parseIntoArrayInt(String input) {
    List<Integer> list = parseIntoListInt(input);
    int[] array = list.stream().mapToInt(i -> i).toArray();
    return array;
  }

  public static void main(String args[]) {
    try {
      String head = args[0];
      List<String> body = new ArrayList<>();
      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
      while (br.ready()) {
        String line = br.readLine();
        body.add(line);
      }

      int[] arr = parseIntoArrayInt(body.get(0));
      int k = Integer.parseInt(body.get(1));

      double startTime = System.nanoTime();
      int result = Solution.solution(arr, k);
      System.out.print(result);
      double endTime = System.nanoTime();

      String stringResult = Integer.toString(result);

      FileWriter writer = new FileWriter(head);
      writer.write(stringResult);
      writer.close();

      // write the performance
      FileWriter metaFile = new FileWriter(head + "-META");
      metaFile.write(startTime + "\\n" + endTime);
      metaFile.close();
    } catch (IOException e) {
      System.out.println(e);
    }
  }
}`,GR=`import java.io.*;
import java.util.*;

class Main {
  public static void main(String args[]) {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    
    try {
      while (br.ready()) {
        String line = br.readLine();
        System.out.println(line);
      }
    } catch (IOException e) {
      System.out.println("Error !");
    }
  }
}`,wge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


function solution() {
  // Your solution starts here.
}

exports.solution = solution;`,xge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


const fs = require('fs');
const readline = require('readline');
const {  performance,} = require('perf_hooks');

const { solution } = require('./solution');

function main() {
  const stdin = [];

  const r1 = readline.createInterface({
    input: process.stdin,
  });

  r1.on('line', function(line) {
    stdin.push(line);
  })

  r1.on('close', function() {
    const head = process.argv.slice(2)[0];

    const var0 = JSON.parse(stdin[0]);
    const var1 = parseInt(stdin[1], 10);

    // get time 
    var t0 = performance.now();
    const result = solution(var0, var1);
    console.log(result)
    var t1 = performance.now();
    const stringResult = JSON.stringify(result);
    fs.writeFile(head, stringResult, () => {});
    fs.writeFile(head+'-META', t0+"\\n"+t1, () => {});
  })
}

main();`,_ge=`const readline = require('readline'); 

const r1 = readline.createInterface({
  input: process.stdin,
});

r1.on('line', function(line) {
  console.log(line);
})`,kge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


fun solution(prices: List<Int>, k: Int): Int {

  return -1
}
`,Sge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


import java.io.File
import kotlinx.serialization.json.Json
import kotlinx.serialization.decodeFromString
import kotlinx.serialization.encodeToString

fun main(args: Array<String>) {
  try {
    val head = args[0]

    val var0 = Json.decodeFromString<List<Int>>(readLine()!!)
    val var1 = readLine()!!.toInt()

    val startTime = System.nanoTime()
    val result = solution(var0, var1)
    val endTime = System.nanoTime()

    val stringResult = Json.encodeToString(result)
    File(head).writeText(stringResult)

    // write the performance
    File("$head-META").writeText("$startTime\\n$endTime")
  } catch (e: Exception) {
    println(e.message)
  }
}`,Nge=`fun main(args: Array<String>) {
  val input = generateSequence(::readLine)
  input.forEach {
    println("$it")
  }
}`,Ege=`<?php
/**
 * This is the default initial code.
 * You can modify the content here, or use our generator to create a templated result. 
 */


function solution() {
  // Your code starts here.
}
`,Tge=`<?php
/**
 * This is the default initial code.
 * You can modify the content here, or use our generator to create a templated result. 
 */


require ("solution.php");

$head = $argv[1];


$f = fopen( 'php://stdin', 'r' );

$lines = array();

while( $line = fgets( $f ) ) {
  array_push($lines, $line);
}

fclose( $f );

$var0 = json_decode($lines[0]);
$var1 =(int)$lines[1];

$start = microtime(true);
$result = solution($var0, $var1);
echo $result;
$end = microtime(true);

$elapsedTime = ($end - $start) * 1000;
    
$string_result = strval($result);
$file = fopen($head, "w");
fwrite($file, $string_result);
fclose($file);

// write the Meta file
$metaFile = fopen("$head-META", "w");
fwrite($metaFile, "$start\\n$end\\n$elapsedTime");
fclose($metaFile);
`,Cge=`<?php
$head = $argv[1];
$f = fopen('php://stdin', 'r');

while($line = fgets($f)) {
  echo $line;
}

fclose($f);
`,Ige=`# This is the default initial code.
# You can modify the content here, or use our generator to create a templated result. 
  

def solution():
  # Your solution starts here.
`,Age=`# This is the default initial code.
# You can modify the content here, or use our generator to create a templated result. 
  
  
import sys
import json
from solution import solution
import time

def main():
    data = sys.stdin.readlines()
    argv = sys.argv
    head = argv[1]

    var0 = json.loads(data[0])
    var1 = int(data[1])

    t0 = time.time()
    result = solution(var0, var1)
    print(result, end='')
    t1 = time.time()
    string_result = json.dumps(result, separators=(',',':'))
    with open(head, 'w') as f, open(head + "-META", 'w') as f1:
      f.write(string_result)
      f1.write(str(t0) + "\\n" + str(t1))
      f.close()
      f1.close()
      
main()`,Dge=`import sys 

stdin = sys.stdin.readlines()
for line in stdin:
  print(line, end="")`,Rge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/

def solution(prices, k)
  return -1
end`,$ge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/

require "json"
require "time"
require "./solution"

def main()
  head = ARGV[0]
  stdin = $stdin.read.split("\\n")

  var0 = JSON.parse(stdin[0])
  var1 = JSON.parse(stdin[1])

  t0 = Time.now.to_i
  result = solution(var0, var1)
  t1 = Time.now.to_i

  stringResult = JSON.generate(result)
  File.write(head, stringResult)
  File.write("#{head}-META", "#{t0}\\n#{t1}")
end

main()
`,Oge=`STDIN.each_line do |line|
puts line
end`,Lge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


class Solution {
  func solution(_ prices: [Int], _ k: Int) -> Int {
    // Your code starts here.
    return -1
  }
}`,Fge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/


import Foundation

let argv = CommandLine.arguments
let head = argv[1]

let decoder = JSONDecoder()
let encoder = JSONEncoder()

let jsonVar0 = readLine()!.data(using: .utf8)!
let var0 = try decoder.decode([Int].self, from: jsonVar0)

let jsonVar1 = readLine()!.data(using: .utf8)!
let var1 = try decoder.decode(Int.self, from: jsonVar1)

let start = DispatchTime.now()
let result = Solution().solution(var0, var1)
print(result, terminator:"")
let end = DispatchTime.now()

let nanoTime = end.uptimeNanoseconds - start.uptimeNanoseconds
let jsonResult = try encoder.encode(result)


let fileURL = URL(fileURLWithPath: head)
try jsonResult.write(to: fileURL)

// Write meta file
let metaURL = URL(fileURLWithPath: "\\(head)-META")
let metaText = "\\(start.uptimeNanoseconds)\\n\\(end.uptimeNanoseconds)" 
try metaText.write(to: metaURL, atomically: false, encoding: .utf8)`,Pge=`import Foundation

while let line = readLine() {
   print(line);
}`,Mge=`/**
* This is the default initial code.
* You can modify the content here, or use our generator to create a templated result. 
*/
 
 
const readline = require("readline");
const fs = require("fs");
const { performance } = require("perf_hooks");

import solution from './solution'

function main() {
  const stdin: any = [];

  const r1 = readline.createInterface({
    input: process.stdin,
  });

  r1.on("line", function (line: any) {
    stdin.push(line);
  });

  r1.on("close", function () {
    const head = process.argv.slice(2)[0];

    const var0 = JSON.parse(stdin[0]);
    const var1 = parseInt(stdin[1]);

    // get time
    var t0 = performance.now();
    const result = solution(var0, var1);
    var t1 = performance.now();
    const stringResult = JSON.stringify(result);
    process.stdout.write(stringResult);

    fs.writeFile(head, stringResult, () => { });
    fs.writeFile(head + "-META", t0 + "
" + t1, () => { });
  });
}

main();`,Bge=`const readline = require('readline'); 

function main() {
  const r1 = readline.createInterface({
    input: process.stdin,
  });

  r1.on('line', function(line) {
    stdin.push(line);
  })

  r1.on('close', function() {
    console.log('output');
  })
}

main();`,zge=`const readline = require('readline'); 

const r1 = readline.createInterface({
  input: process.stdin,
});

r1.on('line', function(line: string) {
  console.log(line);
})
 `,nU={javascript:{initCaseName:"javascriptInit",testCaseName:"javascriptTest",solutionName:"javascriptSolution",defaultInit:wge,defaultTest:xge,defaultManual:_ge,fileExtension:["js","jsx"],monacoLang:"javascript"},java:{initCaseName:"javaInit",testCaseName:"javaTest",solutionName:"javaSolution",defaultInit:VR,defaultTest:WR,defaultManual:GR,fileExtension:["java"],monacoLang:"java"},java8:{initCaseName:"java8Init",testCaseName:"java8Test",solutionName:"java8Solution",defaultInit:VR,defaultTest:WR,defaultManual:GR,fileExtension:[],monacoLang:"java"},php:{initCaseName:"phpInit",testCaseName:"phpTest",solutionName:"phpSolution",defaultInit:Ege,defaultTest:Tge,defaultManual:Cge,fileExtension:["php"],monacoLang:"php"},python:{initCaseName:"pythonInit",testCaseName:"pythonTest",solutionName:"pythonSolution",defaultInit:Ige,defaultTest:Age,defaultManual:Dge,fileExtension:["py"],monacoLang:"python"},go:{initCaseName:"golangInit",testCaseName:"golangTest",solutionName:"golangSolution",defaultInit:yge,defaultTest:bge,defaultManual:vge,fileExtension:["go"],monacoLang:"go"},dart:{initCaseName:"dartInit",testCaseName:"dartTest",solutionName:"dartSolution",defaultInit:pge,defaultTest:mge,defaultManual:gge,fileExtension:["dart"],monacoLang:"dart"},swift:{initCaseName:"swiftInit",testCaseName:"swiftTest",solutionName:"swiftSolution",defaultInit:Lge,defaultTest:Fge,defaultManual:Pge,fileExtension:["swift"],monacoLang:"swift"},cpp:{initCaseName:"cppInit",testCaseName:"cppTest",solutionName:"cppSolution",defaultInit:xx,defaultTest:_x,defaultManual:kx,fileExtension:["cpp"],monacoLang:"cpp"},cpp17:{initCaseName:"cpp17Init",testCaseName:"cpp17Test",solutionName:"cpp17Solution",defaultInit:xx,defaultTest:_x,defaultManual:kx,fileExtension:[],monacoLang:"cpp"},cpp11:{initCaseName:"cpp11Init",testCaseName:"cpp11Test",solutionName:"cpp11Solution",defaultInit:xx,defaultTest:_x,defaultManual:kx,fileExtension:[],monacoLang:"cpp"},cs:{initCaseName:"csInit",testCaseName:"csTest",solutionName:"csSolution",defaultInit:dge,defaultTest:hge,defaultManual:fge,fileExtension:["cs"],monacoLang:"csharp"},typescript:{initCaseName:"typescriptInit",testCaseName:"typescriptTest",solutionName:"typescriptSolution",defaultInit:Bge,defaultTest:Mge,defaultManual:zge,fileExtension:["ts","tsx"],monacoLang:"typescript"},kotlin:{initCaseName:"kotlinInit",testCaseName:"kotlinTest",solutionName:"kotlinSolution",defaultInit:kge,defaultTest:Sge,defaultManual:Nge,fileExtension:["kt"],monacoLang:"kotlin"},ruby:{initCaseName:"rubyInit",testCaseName:"rubyTest",solutionName:"rubySolution",defaultInit:Rge,defaultTest:$ge,defaultManual:Oge,fileExtension:["rb"],monacoLang:"ruby"}},Uge=["cpp17","cpp","cpp11","dart","cs","go","java","java8","javascript","kotlin","php","python","ruby","swift","typescript"],fze={...nU,css:{fileExtension:["css"]},scss:{fileExtension:["scss"]},json:{fileExtension:["json"]},sql:{fileExtension:["sql"]},html:{fileExtension:["html","vue"]},graphql:{fileExtension:["graphql","gql"]},shell:{fileExtension:["sh"]},yaml:{fileExtension:["yml","yaml"]},markdown:{fileExtension:["md"]},svg:{fileExtension:["svg"]}};function zh(t,e){const n={};return Object.entries(nU).forEach(([r,a])=>{switch(t){case"init":{e?n[r]=e[a.initCaseName]||a.defaultInit:n[r]=a.defaultInit;break}case"test":{e?n[r]=e[a.testCaseName]||a.defaultTest:n[r]=a.defaultTest;break}case"solution":{e?n[r]=e[a.solutionName]||a.defaultInit:n[r]=a.defaultInit;break}}}),n}function rU(t){return[...t].map(e=>e==="csharp"?"cs":e)}function HR(t){return Uge.includes(t)}function jge(t,e,n){const[r,a]=t,[i,s]=D.useState([]),o=D.useMemo(()=>!i[e]||!HR(r)?"":i[e].code[r],[i,r,e]),l=D.useCallback(c=>{if(!i[e]||!HR(r))return;const d=[...i];d[e].code[r]=c,d[e].lang=r,s(d)},[i,r,e]),u=D.useCallback(async(c,d,f)=>{if(!f){const m=await Sl(`CODING_${n}`);if(m!=null&&m.length)return}const p=[];c.forEach(m=>{const g=zh("init",m),v=rU(d).sort()[0];p.push({code:g,lang:v})}),s(p),a(p[e].lang)},[]);return D.useEffect(()=>{if(!n)return;async function c(){const f=await Sl(`CODING_${n}`);f&&(s(f),a(f[e].lang))}const d=setTimeout(c,10);return()=>clearTimeout(d)},[n]),D.useEffect(()=>{if(!n)return;async function c(){Wr(`CODING_${n}`,i)}const d=setTimeout(c,1e3);return()=>clearTimeout(d)},[i]),{code:o,setCode:l,setInitialData:u}}function qR(t){return t<1e3?`${t} ms`:`${Math.floor(t/1e3)} ${jN("gen_sec")}`}function Vge(t){const e=["Bytes","KB","MB","GB","TB"];if(t===0)return"0 Byte";const n=Math.floor(Math.log(t)/Math.log(1024));return Math.round(t/Math.pow(1024,n))+" "+e[n]}async function Wge(t){var n;const e=await Sl(qi);return Tt("DELETE",`${kt}/t/organizations/${(n=e==null?void 0:e.organization)==null?void 0:n.id}/modules/${t}`)}async function Gge(t){return Tt("GET",`${kt}/s/examevents/${t}/modules?sorts=module_order`)}async function Hge(t,e){return Tt("GET",`${kt}/s/examevents/${t}/modules/${e}`)}const qge=({enabled:t,videoRef:e,canvasRef:n,activeState:r,streamState:a,children:i})=>{const{moduleId:s}=Ko(),{t:o}=ct(),{assessment:l}=$l();Xr().pathname.includes("/test/");const[u,c]=D.useState(),[d,f]=a,[p,m]=r;async function g(){if(!(!e.current||!n.current)){if(!("mediaDevices"in navigator)||!("getUserMedia"in navigator.mediaDevices)){Xe({type:"error",message:o("err_cameraPermissionDenied")});return}try{const E=await navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",aspectRatio:1}});e.current.autoplay=!0,e.current.srcObject=E,f(E),s&&m(!0),E.getTracks()[0].onended=()=>{f(void 0),c(void 0),m(!1)}}catch(E){const I=Gd(E);Xe({type:"error",message:o(`err_webcam_${I}`)})}}}function v(){m(!0)}function y(){return new Promise(E=>{if(!e.current||!n.current){E(null);return}const{videoWidth:I,videoHeight:C}=e.current;n.current.width=I,n.current.height=C;const R=n.current.getContext("2d");if(!R){E(null);return}R.drawImage(e.current,0,0,I,C),n.current.toBlob(z=>E(z),"image/jpeg",1)})}function b(){x(3),c(void 0)}const[w,x]=D.useState(-1);if(D.useEffect(()=>{if(w>0){const E=setTimeout(()=>x(w-1),1e3);return()=>clearTimeout(E)}w===0&&y().then(E=>c(E||void 0))},[w]),D.useEffect(()=>()=>{d&&d.getTracks().forEach(E=>E.stop())},[d]),!t)return h(St,{children:i});if(!l)return _("div",{className:"animate-pulse min-h-[500px] h-[50vh] p-10 grid grid-cols-2 gap-5",children:[h("div",{className:"bg-gray-200 dark:bg-gray-900 col-span-2 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"})]});const k=(d==null?void 0:d.active)||!1;let S="";return w>0&&(S=`${w}`),w<0&&(S=o("asm_takePhoto")),w||(S=o("asm_retakePhoto")),_(St,{children:[h("div",{hidden:!p,children:i}),h("div",{hidden:p,children:h("div",{className:"bg-white dark:bg-slate-900 rounded-lg w-full px-2 lg:px-10 md:px-4 py-4 mx-auto gap-4",children:h("div",{className:"w-full lg:w-1/2 md:w-3/4 mx-auto ",children:_("div",{className:" p-4 md:p-8 text-center flex flex-col items-center  gap-4",children:[h("h1",{className:"font-medium text-2xl dark:text-white",children:l.name}),h("h3",{className:"font-medium text-lg dark:text-white",children:o("asm_webcamEnabler")}),_("div",{className:"text-center flex flex-col items-center gap-1",children:[h("p",{className:"dark:text-white opacity-80",children:o("asm_webcamGrantAcc")}),h("p",{className:"text-red-500 font-medium mb-2 underline",children:o("asm_webcamNotGranted")}),h("video",{className:"w-[300px] h-auto rounded mb-2",ref:e,hidden:!k||u!=null}),h("canvas",{className:"w-[300px] h-auto rounded mb-2",ref:n,hidden:!u}),h(K,{when:!k,children:_("button",{type:"button",onClick:g,className:"md:w-fit w-full h-14 px-8 bg-blue-500 enabled:hover:bg-blue-600 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",children:[_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),h("span",{className:"block",children:o("asm_enableCam")})]})}),_(K,{when:k,children:[_("button",{type:"button",onClick:b,disabled:w>0,className:"md:w-[300px] w-full h-14 px-8 bg-lime-600 enabled:hover:bg-lime-700 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",children:[_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),h("span",{className:"block",children:S})]}),h("p",{className:"dark:text-white opacity-80 mt-2",children:o("asm_takePhotoD1")})]}),h("p",{className:"dark:text-white opacity-80",children:o("asm_takePhotoD2")})]}),h(K,{when:u!=null,children:h("button",{onClick:v,className:"md:w-fit w-full h-14 px-20 bg-blue-500 hover:bg-blue-600 text-white rounded flex justify-center items-center gap-x-2",children:h("span",{className:"block",children:o("gen_next")})})})]})})})})]})},Yge=({enabled:t,videoRef:e,canvasRef:n,activeState:r,streamState:a,children:i})=>{const{t:s}=ct(),{assessment:o}=$l();Xr().pathname.includes("/test/");const[l,u]=a,[c,d]=r;async function f(){var w;if(!e.current||!n.current)return;if(!("mediaDevices"in navigator)||!("getDisplayMedia"in navigator.mediaDevices)){Xe({type:"error",message:s("err_cameraPermissionDenied")});return}const p=await navigator.mediaDevices.getDisplayMedia({video:{displaySurface:"monitor"},audio:!1}),m=p.getTracks()[0],g=((w=m.getSettings().displaySurface)==null?void 0:w.toLowerCase())||"",v=window.navigator.userAgent.toLowerCase();let y=!1;const b=m.label.toLowerCase();if(v.match(/chrome|chromium|crios/i)?y=g.includes("monitor")||b.includes("screen")||b==="":v.match(/firefox|fxios/i)?y=b.includes("monitor")||b.includes("hdmi")||b.includes("edp"):v.match(/safari/i)?y=b.includes("monitor")||b.includes("hdmi")||b.includes("edp")||b.includes("screen"):y=!0,!y){p.getTracks().forEach(x=>x.stop()),Xe({type:"warning",message:s("err_capturePermissionDenied")});return}e.current.autoplay=!0,e.current.srcObject=p,u(p),d(!0),p.getTracks()[0].onended=function(){u(void 0),d(!1)}}return D.useEffect(()=>()=>{l&&l.getTracks().forEach(p=>p.stop())},[l]),t?o?_(St,{children:[h("div",{hidden:!c,children:i}),h("div",{hidden:c,children:h("div",{className:"bg-white dark:bg-slate-900 rounded-lg w-full px-2 lg:px-10 md:px-4 py-4 mx-auto gap-4",children:h("div",{className:"w-full lg:w-1/2 md:w-3/4 mx-auto ",children:_("div",{className:"p-4 md:p-8 text-center flex flex-col items-center  gap-4",children:[h("h1",{className:"font-medium text-2xl dark:text-white",children:o.name}),h("h3",{className:"font-medium text-lg dark:text-white",children:s("asm_screenCaptEnabler")}),_("div",{className:"text-center flex flex-col items-center gap-1",children:[h("p",{className:"dark:text-white opacity-80",children:s("asm_pleaseGrant")}),h("p",{className:"text-red-500 font-medium mb-2 underline",children:s("asm_chooseScreen")}),h("p",{className:"text-red-500 font-medium mb-2 underline",children:s("asm_dontStopSharing")}),h("video",{className:"w-32 h-32 rounded",ref:e,hidden:!0}),h("canvas",{className:"w-32 h-32 rounded",ref:n,hidden:!0}),_("button",{type:"button",onClick:f,className:"md:w-fit w-full h-14 px-8 bg-blue-500 enabled:hover:bg-blue-600 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),h("span",{className:"block",children:s("asm_enableScreenCap")})]}),h("p",{className:"dark:text-white opacity-80",children:s("asm_screenShareD1")}),h("p",{className:"dark:text-white opacity-80",children:s("asm_screenShareD2")})]})]})})})})]}):_("div",{className:"animate-pulse min-h-[500px] h-[50vh] p-10 grid grid-cols-2 gap-5",children:[h("div",{className:"bg-gray-200 dark:bg-gray-900 col-span-2 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"})]}):h(St,{children:i})},YR=({title:t,onClick:e,className:n,titleClassName:r})=>nv.createPortal(h("div",{className:Ce("fixed z-10 w-max px-6 py-3 -translate-x-1/2 bg-gray-800 rounded-lg shadow-lg bottom-2 md:bottom-10 left-1/2 dark:shadow-none shadow-gray-200 dark:bg-gray-200",n),children:h("div",{className:Ce("text-sm md:text-md text-white dark:text-gray-800 font-medium aria-pressed:cursor-pointer",r),onClick:e,"aria-pressed":!!e,children:t})}),document.body),Kge=()=>{const{t}=ct(),[e,n]=D.useState(!1),[r,a]=D.useState(!1);return D.useEffect(()=>{function i(){n(!0)}function s(){n(!1)}return window.addEventListener("offline",i),window.addEventListener("online",s),()=>{window.removeEventListener("offline",i),window.removeEventListener("online",s)}},[]),D.useEffect(()=>{const i=setInterval(async()=>{const s=Date.now();try{await fetch("/images/reg-app-light.png",{cache:"no-cache"})}catch{n(!0)}const o=Date.now()-s;a(o>=1e3)},1e4);return()=>clearInterval(i)},[]),e?h("div",{className:"fixed inset-0",children:h(YR,{title:t("gen_noInternet"),className:"!bg-red-500",titleClassName:"!text-white"})}):h(K,{when:r,children:h(YR,{title:t("gen_slowInternet"),className:"!bg-yellow-400",titleClassName:"!text-white"})})},aU=D.createContext({setModules(){},setAssessments(){},setEnableWebcam(){},setEnableCapture(){},setAssessmentKey(){}}),Xge=60,Qge=()=>{const{t}=ct(),{eventId:e="",moduleId:n}=Ko(),[r,a]=D.useState(!1),[i,s]=D.useState(!1),[o,l]=D.useState();D.useEffect(()=>{async function q(){var se;const re=parseInt(e);if(!re)return;const{result:he,error:ae}=await Uce(re);if(!(he!=null&&he.data)){Xe({type:"error",message:t(ae||((se=he==null?void 0:he.error)==null?void 0:se.message)||"err_networkProblem")});return}l(he.data.exam_event_id)}const Q=setTimeout(q,100);return()=>clearTimeout(Q)},[e]);const[u,c]=D.useState(0),[d,f]=D.useState();D.useEffect(()=>{async function q(){var se;if(!o)return;const{result:re,error:he}=await Bce(o);if(!(re!=null&&re.data)){Xe({type:"error",message:t(he||((se=re==null?void 0:re.error)==null?void 0:se.message)||"err_networkProblem")});return}const ae={...re.data};re.data.max_submit_at&&(ae.init_max_submit_at=re.data.max_submit_at),f(ae),n&&(a(re.data.snapshot_enabled),s(re.data.capture_enabled))}const Q=setTimeout(q,100);return()=>clearTimeout(Q)},[o,u]);const[p,m]=D.useState(),[g]=lpe({variables:{eventId:parseInt(e)}});D.useEffect(()=>{async function q(){var ne;if(!o)return;const{result:re,error:he}=await Gge(o);if(!(re!=null&&re.data)){Xe({type:"error",message:t(he||((ne=re==null?void 0:re.error)==null?void 0:ne.message)||"err_networkProblem")});return}const{data:ae,error:se}=await g();if(!ae){let ke="err_networkProblem";se&&(ke=se.message),Xe({type:"error",message:t(ke)});return}[...re.data.items].forEach(ke=>{var We;const Oe=ae.allModule.find(ze=>ze.id===ke.id);Oe&&Oe&&((We=Oe.meta)==null?void 0:We.__typename)==="ModuleProgramming"&&(ke.enabled_lang=Oe.meta.languages)}),m(re.data.items)}const Q=setTimeout(q,100);return()=>clearTimeout(Q)},[o]);const v=Xr().pathname.includes("/test/"),[y,b]=D.useState(!1),[w,x]=D.useState(),k=D.useRef(null),S=D.useRef(null),[E,I]=D.useState(!1),[C,R]=D.useState(),z=D.useRef(null),H=D.useRef(null),[U]=Dpe();return D.useEffect(()=>{if(!r&&!i||r&&!y||i&&!E||!d||!v)return;async function q(){const re=await KR(z.current,H.current,i,"screen.jpg"),he=await KR(k.current,S.current,r,"snapshot.jpg");!re&&!he||U({variables:{input:{eventId:parseInt(e),screenImage:re,webcamImage:he}}})}const Q=setInterval(q,Xge*1e3);return()=>clearInterval(Q)},[v,d,r,i,y,E]),_(aU.Provider,{value:{modules:p,setModules:m,assessment:d,setAssessments:f,webcamStream:w,screenStream:C,setEnableWebcam:a,setEnableCapture:s,setAssessmentKey:c},children:[h(qge,{enabled:r,activeState:[y,b],videoRef:k,canvasRef:S,streamState:[w,x],children:h(Yge,{enabled:i,activeState:[E,I],videoRef:z,canvasRef:H,streamState:[C,R],children:h(Zge,{context:{enableWebcam:r,setEnableWebcam:a,enableCapture:i,setEnableCapture:s}})})}),h(Kge,{})]})};function $l(){return D.useContext(aU)}const Zge=t=>h(av,{...t});function Jge(){return RF()}async function KR(t,e,n,r){if(!n)return null;function a(){return!t||!e?null:new Promise(s=>{const o=e.getContext("2d");if(!o)return s(null);const{videoHeight:l,videoWidth:u}=t;e.height=l,e.width=u,o.drawImage(t,0,0,u,l),e.toBlob(c=>{s(c||null)},"image/jpeg",1)})}const i=await a();return i?new File([i],r,{type:"image/jpeg"}):null}const iU=({active:t,className:e,...n})=>{let r="text-gray-400 dark:text-gray-500 bg-gray-200 dark:bg-slate-700";return t&&(r="text-blue-600 bg-blue-100"),h("button",{...n,className:Ce("py-1 px-4 font-medium text-sm rounded-full",r,e)})};async function sU(t,e,n=1,r){var i;const a=await Sl(qi);return Tt("GET",`${kt}/t/organizations/${(i=a==null?void 0:a.organization)==null?void 0:i.id}/modules/${t}/questions?pageIndex=${e}&itemsPerPage=${n}`,void 0,void 0,r)}async function oU(t,e,n=1){return Tt("GET",`${kt}/t/modules/${t}/questions?pageIndex=${e}&itemsPerPage=${n}`)}async function Ol(t,e,n=1){return Tt("GET",`${kt}/s/modules/${t}/questions?pageIndex=${e}&itemsPerPage=${n}`)}const lU=({height:t="400px",title:e})=>h("div",{style:{height:t},className:Ce("bg-white dark:bg-[#1e1e1e] dark:text-white flex items-center justify-center animate-pulse"),children:e||""});var uU={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function b(w){return w instanceof l?new l(w.type,b(w.content),w.alias):Array.isArray(w)?w.map(b):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(b){return Object.prototype.toString.call(b).slice(8,-1)},objId:function(b){return b.__id||Object.defineProperty(b,"__id",{value:++i}),b.__id},clone:function b(w,x){x=x||{};var k,S;switch(o.util.type(w)){case"Object":if(S=o.util.objId(w),x[S])return x[S];k={},x[S]=k;for(var E in w)w.hasOwnProperty(E)&&(k[E]=b(w[E],x));return k;case"Array":return S=o.util.objId(w),x[S]?x[S]:(k=[],x[S]=k,w.forEach(function(I,C){k[C]=b(I,x)}),k);default:return w}},getLanguage:function(b){for(;b;){var w=a.exec(b.className);if(w)return w[1].toLowerCase();b=b.parentElement}return"none"},setLanguage:function(b,w){b.className=b.className.replace(RegExp(a,"gi"),""),b.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(k){var b=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(k.stack)||[])[1];if(b){var w=document.getElementsByTagName("script");for(var x in w)if(w[x].src==b)return w[x]}return null}},isActive:function(b,w,x){for(var k="no-"+w;b;){var S=b.classList;if(S.contains(w))return!0;if(S.contains(k))return!1;b=b.parentElement}return!!x}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(b,w){var x=o.util.clone(o.languages[b]);for(var k in w)x[k]=w[k];return x},insertBefore:function(b,w,x,k){k=k||o.languages;var S=k[b],E={};for(var I in S)if(S.hasOwnProperty(I)){if(I==w)for(var C in x)x.hasOwnProperty(C)&&(E[C]=x[C]);x.hasOwnProperty(I)||(E[I]=S[I])}var R=k[b];return k[b]=E,o.languages.DFS(o.languages,function(z,H){H===R&&z!=b&&(this[z]=E)}),E},DFS:function b(w,x,k,S){S=S||{};var E=o.util.objId;for(var I in w)if(w.hasOwnProperty(I)){x.call(w,I,w[I],k||I);var C=w[I],R=o.util.type(C);R==="Object"&&!S[E(C)]?(S[E(C)]=!0,b(C,x,null,S)):R==="Array"&&!S[E(C)]&&(S[E(C)]=!0,b(C,x,I,S))}}},plugins:{},highlightAll:function(b,w){o.highlightAllUnder(document,b,w)},highlightAllUnder:function(b,w,x){var k={callback:x,container:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",k),k.elements=Array.prototype.slice.apply(k.container.querySelectorAll(k.selector)),o.hooks.run("before-all-elements-highlight",k);for(var S=0,E;E=k.elements[S++];)o.highlightElement(E,w===!0,k.callback)},highlightElement:function(b,w,x){var k=o.util.getLanguage(b),S=o.languages[k];o.util.setLanguage(b,k);var E=b.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(E,k);var I=b.textContent,C={element:b,language:k,grammar:S,code:I};function R(H){C.highlightedCode=H,o.hooks.run("before-insert",C),C.element.innerHTML=C.highlightedCode,o.hooks.run("after-highlight",C),o.hooks.run("complete",C),x&&x.call(C.element)}if(o.hooks.run("before-sanity-check",C),E=C.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!C.code){o.hooks.run("complete",C),x&&x.call(C.element);return}if(o.hooks.run("before-highlight",C),!C.grammar){R(o.util.encode(C.code));return}if(w&&r.Worker){var z=new Worker(o.filename);z.onmessage=function(H){R(H.data)},z.postMessage(JSON.stringify({language:C.language,code:C.code,immediateClose:!0}))}else R(o.highlight(C.code,C.grammar,C.language))},highlight:function(b,w,x){var k={code:b,grammar:w,language:x};if(o.hooks.run("before-tokenize",k),!k.grammar)throw new Error('The language "'+k.language+'" has no grammar.');return k.tokens=o.tokenize(k.code,k.grammar),o.hooks.run("after-tokenize",k),l.stringify(o.util.encode(k.tokens),k.language)},tokenize:function(b,w){var x=w.rest;if(x){for(var k in x)w[k]=x[k];delete w.rest}var S=new d;return f(S,S.head,b),c(b,S,w,S.head,0),m(S)},hooks:{all:{},add:function(b,w){var x=o.hooks.all;x[b]=x[b]||[],x[b].push(w)},run:function(b,w){var x=o.hooks.all[b];if(!(!x||!x.length))for(var k=0,S;S=x[k++];)S(w)}},Token:l};r.Prism=o;function l(b,w,x,k){this.type=b,this.content=w,this.alias=x,this.length=(k||"").length|0}l.stringify=function b(w,x){if(typeof w=="string")return w;if(Array.isArray(w)){var k="";return w.forEach(function(R){k+=b(R,x)}),k}var S={type:w.type,content:b(w.content,x),tag:"span",classes:["token",w.type],attributes:{},language:x},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),o.hooks.run("wrap",S);var I="";for(var C in S.attributes)I+=" "+C+'="'+(S.attributes[C]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+I+">"+S.content+"</"+S.tag+">"};function u(b,w,x,k){b.lastIndex=w;var S=b.exec(x);if(S&&k&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function c(b,w,x,k,S,E){for(var I in x)if(!(!x.hasOwnProperty(I)||!x[I])){var C=x[I];C=Array.isArray(C)?C:[C];for(var R=0;R<C.length;++R){if(E&&E.cause==I+","+R)return;var z=C[R],H=z.inside,U=!!z.lookbehind,q=!!z.greedy,Q=z.alias;if(q&&!z.pattern.global){var re=z.pattern.toString().match(/[imsuy]*$/)[0];z.pattern=RegExp(z.pattern.source,re+"g")}for(var he=z.pattern||z,ae=k.next,se=S;ae!==w.tail&&!(E&&se>=E.reach);se+=ae.value.length,ae=ae.next){var X=ae.value;if(w.length>b.length)return;if(!(X instanceof l)){var ne=1,ke;if(q){if(ke=u(he,se,b,U),!ke||ke.index>=b.length)break;var be=ke.index,Oe=ke.index+ke[0].length,We=se;for(We+=ae.value.length;be>=We;)ae=ae.next,We+=ae.value.length;if(We-=ae.value.length,se=We,ae.value instanceof l)continue;for(var ze=ae;ze!==w.tail&&(We<Oe||typeof ze.value=="string");ze=ze.next)ne++,We+=ze.value.length;ne--,X=b.slice(se,We),ke.index-=se}else if(ke=u(he,0,X,U),!ke)continue;var be=ke.index,Ie=ke[0],Le=X.slice(0,be),Ge=X.slice(be+Ie.length),at=se+X.length;E&&at>E.reach&&(E.reach=at);var pe=ae.prev;Le&&(pe=f(w,pe,Le),se+=Le.length),p(w,pe,ne);var de=new l(I,H?o.tokenize(Ie,H):Ie,Q,Ie);if(ae=f(w,pe,de),Ge&&f(w,ae,Ge),ne>1){var De={cause:I+","+R,reach:at};c(b,w,x,ae.prev,se,De),E&&De.reach>E.reach&&(E.reach=De.reach)}}}}}}function d(){var b={value:null,prev:null,next:null},w={value:null,prev:b,next:null};b.next=w,this.head=b,this.tail=w,this.length=0}function f(b,w,x){var k=w.next,S={value:x,prev:w,next:k};return w.next=S,k.prev=S,b.length++,S}function p(b,w,x){for(var k=w.next,S=0;S<x&&k!==b.tail;S++)k=k.next;w.next=k,k.prev=w,b.length-=S}function m(b){for(var w=[],x=b.head.next;x!==b.tail;)w.push(x.value),x=x.next;return w}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(b){var w=JSON.parse(b.data),x=w.language,k=w.code,S=w.immediateClose;r.postMessage(o.highlight(k,o.languages[x],x)),S&&r.close()},!1)),o;var g=o.util.currentScript();g&&(o.filename=g.src,g.hasAttribute("data-manual")&&(o.manual=!0));function v(){o.manual||o.highlightAll()}if(!o.manual){var y=document.readyState;y==="loading"||y==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",v):window.requestAnimationFrame?window.requestAnimationFrame(v):window.setTimeout(v,16)}return o}(e);t.exports&&(t.exports=n),typeof vi<"u"&&(vi.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(a,i){var s={};s["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[i]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};o["language-"+i]={pattern:/[\s\S]+/,inside:n.languages[i]};var l={};l[a]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return a}),"i"),lookbehind:!0,greedy:!0,inside:o},n.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,a){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[a,"language-"+a],inside:n.languages[a]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,function(r){var a=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+a.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+a.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+a.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+a.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:a,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var i=r.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",a=function(g,v){return" Error "+g+" while fetching file: "+v},i=" Error: File does not exist or is empty",s={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},o="data-src-status",l="loading",u="loaded",c="failed",d="pre[data-src]:not(["+o+'="'+u+'"]):not(['+o+'="'+l+'"])';function f(g,v,y){var b=new XMLHttpRequest;b.open("GET",g,!0),b.onreadystatechange=function(){b.readyState==4&&(b.status<400&&b.responseText?v(b.responseText):b.status>=400?y(a(b.status,b.statusText)):y(i))},b.send(null)}function p(g){var v=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(g||"");if(v){var y=Number(v[1]),b=v[2],w=v[3];return b?w?[y,Number(w)]:[y,void 0]:[y,y]}}n.hooks.add("before-highlightall",function(g){g.selector+=", "+d}),n.hooks.add("before-sanity-check",function(g){var v=g.element;if(v.matches(d)){g.code="",v.setAttribute(o,l);var y=v.appendChild(document.createElement("CODE"));y.textContent=r;var b=v.getAttribute("data-src"),w=g.language;if(w==="none"){var x=(/\.(\w+)$/.exec(b)||[,"none"])[1];w=s[x]||x}n.util.setLanguage(y,w),n.util.setLanguage(v,w);var k=n.plugins.autoloader;k&&k.loadLanguages(w),f(b,function(S){v.setAttribute(o,u);var E=p(v.getAttribute("data-range"));if(E){var I=S.split(/\r\n?|\n/g),C=E[0],R=E[1]==null?I.length:E[1];C<0&&(C+=I.length),C=Math.max(0,Math.min(C-1,I.length)),R<0&&(R+=I.length),R=Math.max(0,Math.min(R,I.length)),S=I.slice(C,R).join(`
`),v.hasAttribute("data-start")||v.setAttribute("data-start",String(C+1))}y.textContent=S,n.highlightElement(y)},function(S){v.setAttribute(o,c),y.textContent=S})}}),n.plugins.fileHighlight={highlight:function(v){for(var y=(v||document).querySelectorAll(d),b=0,w;w=y[b++];)n.highlightElement(w)}};var m=!1;n.fileHighlight=function(){m||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),m=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(uU);var oT=uU.exports;const e0e=Bb(oT),t0e="_rtp_1ilxz_1",n0e="_prj_1ilxz_84",yd={rtp:t0e,prj:n0e},jo=t=>{const{title:e,status:n,content:r,isHidden:a,isOpen:i,prism:s,hideToggle:o=!1}=t,[l,u]=D.useState(()=>typeof i=="boolean"?!i:n==="correct"),{t:c}=ct(),[d]=Ov();D.useEffect(()=>{s&&!l&&oT.highlightAll()},[s,l]);let f="",p="",m="text-white",g;switch(n){case"correct":{f="border-lime-200",p="bg-lime-200",m="text-lime-700",g=_("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h("polyline",{points:"22 4 12 14.01 9 11.01"})]});break}case"wrong":{f="border-orange-200",p="bg-orange-200",m="text-orange-600",g=_("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("circle",{cx:"12",cy:"12",r:"10"}),h("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),h("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]});break}case"loading":{f="border-gray-200",p="bg-gray-200",m="text-gray-600",g=_("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"1",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("circle",{cx:"12",cy:"12",r:"10"}),h("polyline",{points:"8 12 12 16 16 12"}),h("line",{x1:"12",y1:"8",x2:"12",y2:"16"})]});break}default:{f="border-red-200",p="bg-red-200",m="text-red-600",g=_("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[h("circle",{cx:"12",cy:"12",r:"10"}),h("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),h("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]});break}}return _("div",{className:"text-gray-700 dark:text-white ",style:{fontSize:15+d},children:[_("button",{onClick:()=>i?null:u(!l),disabled:o,className:Ce("flex items-center w-full px-3 py-2.5 rounded-t-sm",p,m,{"rounded-b-sm":l,"hover:opacity-80 peer":!i&&!o,"cursor-default":i||o}),children:[g,_("p",{className:"font-semibold ml-2 mr-2",children:[e," : ",c(`tc_${n}`)]}),h(K,{when:!i&&!o,children:_("div",{className:"flex ml-auto",children:[h(K,{when:l,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})}),h(K,{when:!l,children:h("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"18 15 12 9 6 15"})})})]})})]}),h(K,{when:!l,children:_("div",{className:Ce("border-l-4 px-3 py-1 peer-hover:opacity-80",f),children:[h(K,{when:a,children:_("div",{className:"flex items-center mt-2",children:[h("span",{className:"mr-1 font-semibold",children:c("tc_hidden")}),_("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:18,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[h("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),h("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})]})}),h(K,{when:!a,children:h("div",{className:"space-y-1",children:Object.keys(r).map((v,y)=>{const b=r[v];let w=b;return typeof b=="string"&&b.startsWith("t_")&&(w=c(b.replaceAll("t_",""))),_("div",{hidden:!b,children:[_("p",{className:"font-semibold",children:[c(`tc_${v}`)," :"]}),w]},y)})})})]})})]})};function V4(t,e,n,r,a=!1){const{hidden:i,type:s,stdin:o,memAllocation:l,execDuration:u,execStart:c,execEnd:d,...f}=e;let p={...f};delete p.stderr;let m;if(!i&&n==="param"){const g=o.split(`
`);m=h("table",{className:"ml-2",children:h("tbody",{children:r.map((v,y)=>_("tr",{children:[h("td",{children:h("div",{className:"h-[5px] w-[5px] rounded-full dark:bg-white bg-slate-700 mr-0.5 mt-0.5"})}),h("td",{className:"font-semibold",children:v.name}),h("td",{className:"px-1",children:":"}),h("td",{children:g[y]})]},y))})}),p.input=m}return n==="stdin"&&f.expectedStdout&&(delete p.input,delete p.expectedOutput,p.stdin=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md bg-[#ebebeb] dark:bg-slate-700",children:o}),p.expectedStdout=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md bg-[#ebebeb] dark:bg-slate-700",children:f.expectedStdout})),f.stdout&&(p.stdout=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md bg-[#ebebeb] dark:bg-slate-700",children:f.stdout})),l&&(p.memAllocation=`${Vge(l)}`),typeof u=="number"?p.execDuration=qR(u):c&&d&&(p.execDuration=qR(c-d)),s!=="correct"&&s!=="wrong"&&(a||(p={}),f.stderr&&(p.error=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md text-red-500 bg-[#ebebeb] dark:bg-[#272822]",children:f.stderr})),f.stdout&&(p.stdout=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md text-red-500 bg-[#ebebeb] dark:bg-[#272822]",children:f.stderr||f.stdout}))),{status:s,title:`Test ${t}`,content:p,isHidden:i}}function cU(t,e){const{type:n,expectedOutput:r,actualOutput:a}=e,i={};function s(o){try{const l=JSON.parse(o);if(!Array.isArray(l))throw new Error("Not an array");const u=Object.keys(l[0]);return h("div",{className:"overflow-x-auto mt-1",children:_("table",{className:"table-auto w-full border-collapse",children:[h("thead",{children:h("tr",{children:u.map((c,d)=>h("th",{className:"text-center border border-gray-500",children:h("b",{children:c})},d))})}),h("tbody",{children:l.map((c,d)=>{const f=Object.values(c);return h("tr",{children:f.map((p,m)=>h("td",{className:"text-center border border-gray-500",children:p},m))},d)})})]})})}catch{return h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md bg-[#ebebeb] dark:bg-slate-700",children:o})}}return i.expectedOutput=s(r),i.actualOutput=s(a),{status:n,title:t,content:i,isHidden:!1}}function XR(t,e){const{errorInfo:n,status:r,operator:a,...i}=t;delete i.__typename;let s={...i},o="wrong";switch(delete s.isGrading,s.operator=`t_ex_${a}`,r){case Ka.Error:o="error";break;case Ka.Loading:o="loading";break;case Ka.NotPassed:o="wrong";break;case Ka.Passed:o="correct";break;case Ka.TestTimeout:o="execution_timeout";break}return{status:o,title:`Test ${e+1}`,content:s,isHidden:!1}}function QR(t,e){if(!t)return{status:"loading",title:`Test ${e+1}`,content:{},isHidden:!1,hideToggle:!0};const{__typename:n,request:r,name:a,status:i,...s}=t;let o={...s},l="wrong";switch(i){case Ka.Error:l="error";break;case Ka.Loading:l="loading";break;case Ka.NotPassed:l="wrong";break;case Ka.Passed:l="correct";break;case Ka.TestTimeout:l="execution_timeout";break}return o.path=r.path,{title:a,status:l,content:o,isHidden:!1,prism:!0}}function ZR(t,e){if(!t)return{status:"loading",title:`Test ${e+1}`,content:{},isHidden:!1,hideToggle:!0};const{__typename:n,request:r,name:a,status:i,...s}=t;let o={...s},l="wrong";switch(i){case Ka.Error:l="error";break;case Ka.Loading:l="loading";break;case Ka.NotPassed:l="wrong";break;case Ka.Passed:l="correct";break;case Ka.TestTimeout:l="execution_timeout";break}const{path:u,body:c,headers:d,method:f}=r;if(u&&(o.path=u),f&&(o.method=f),c)switch(c.__typename){case"TestCaseRest":{o.input=c.input;break}case"TestCaseGql":{o.query=c.query,c.variables&&(o.variables=JSON.stringify(c.variables,null,2));break}}return d&&(o.headers=JSON.stringify(d,null,2)),{title:a,status:l,content:o,isHidden:!1,prism:!0}}function r0e(t,e){const{type:n,message:r,stderr:a,...i}=t;let s={...i};if(delete s.execDuration,a){let o=a.replace(/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g,"");o.includes("\\n")&&(o=o.replaceAll("\\n",`
`)),s.error=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md text-red-500 bg-[#ebebeb] dark:bg-[#272822]",children:o})}return{status:n,title:`Test ${e+1} - ${r.testName}`,content:s,isHidden:!1,hideToggle:n==="correct"}}function a0e(t,e){const{type:n,message:r,expectedResult:a,actualResult:i,stderr:s,...o}=t;let l=n,u={};if(delete u.stderr,n==="failed"&&(l="wrong"),s&&(u.error=h("pre",{className:"py-1.5 px-3 overflow-auto rounded-md text-red-500 bg-[#ebebeb] dark:bg-[#272822]",children:s})),r){const{method:c,route:d}=r;u.request=_("div",{className:"flex items-center gap-2",children:[h("div",{className:"font-semibold",children:c}),h("div",{className:"font-medium text-sm p-0.5 px-1 rounded bg-slate-300 dark:bg-slate-700 text-sky-600 dark:text-sky-300",children:d})]})}if(a){let c,d="json";try{c=JSON.parse(a),c=JSON.stringify(c,null,2)}catch{c=a,d="html"}u.expectedOutput=h("div",{className:Ce(yd.rtp,"!p-0"),children:h("pre",{className:"language-"+d,"data-role":"codeBlock","data-info":d,children:h("code",{children:c})})})}if(i){let c,d="json";try{c=JSON.parse(i),c=JSON.stringify(c,null,2)}catch{c=i,d="html"}u.actualOutput=h("div",{className:Ce(yd.rtp,"!p-0"),children:h("pre",{className:"language-"+d,"data-role":"codeBlock","data-info":d,children:h("code",{children:c})})})}return u={...u,...o},{title:`Test ${e+1}`,status:l,content:u,isHidden:!1,prism:!0}}async function i0e(t,e,n){return Tt("POST",`${kt}/t/modules/${t}/programmingquestions/${e}/runCode`,{...n,completeTest:!0})}async function s0e(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/runCode`,{...n})}async function JR(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/submitCode`,{...n})}const o0e=D.lazy(()=>Pr(()=>import("./Monaco-b9e7a9f6.js").then(t=>t.M),["assets/Monaco-b9e7a9f6.js","assets/Monaco-ac9b8205.css"])),l0e=({children:t,className:e,disabled:n,enabledLang:r,moduleId:a,questionId:i,inputType:s,inputParams:o,languageTests:l,languageSolutions:u,setLanguageSolutions:c,onReset:d,onSuccess:f,noscroll:p})=>{const{t:m}=ct(),[g,v]=y0(),[y,b]=D.useState(!1);function w(){b(!y),v({...g,message:""})}const[x,k]=D.useState(r[0]),S=D.useMemo(()=>r.map(H=>({value:H,label:m(`pl_${H}`)})),[r]);D.useEffect(()=>{r.includes(x)||k(r[0])},[r]);const[E,I]=D.useState([]),[C,R]=D.useState(!1);async function z(){v({...g,message:""}),I([]),R(!0);const{result:H,error:U}=await i0e(a,i,{language:x,code:u[x],test:s==="param"?l[x]:void 0});if(R(!1),H!=null&&H.error){v({message:H.error.message,type:"error",url:""});return}if(!(H!=null&&H.data)||U){v({message:m("err_networkProblem"),type:"error",url:""});return}const q=H.data.map((Q,re)=>V4(re+1,Q,s,o));H.data.filter(Q=>Q.type==="correct").length===H.data.length&&f&&(f(),v({message:m("tc_allCorrect"),type:"success",url:"",onClick:w})),I(q)}return _(St,{children:[h("button",{disabled:n,className:e,onClick:w,children:t}),h(gu,{open:y,toggle:w,noscroll:p,children:_("div",{className:"large-modal p-4 md:p-8 text-left bg-white rounded-lg shadow-xl dark:bg-gray-800 w-full md:w-7/8 lg:w-3/4",children:[h("button",{className:"absolute right-3 top-2 dark:text-white h-10 w-10 flex justify-center items-center",type:"button",onClick:w,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),h(kl,{state:[g,v],className:"absolute z-10 top-0 left-0 w-full rounded-t-lg"}),_("div",{className:"space-y-3",children:[h("p",{className:"text-gray-700 dark:text-gray-100 font-medium text-center",children:m("gen_solution")}),_("div",{className:"flex items-center gap-x-2",children:[h("div",{className:"w-full",children:_(zi,{items:S,onClick:k,className:"h-[38px] w-full p-2 pl-3 flex justify-between items-center space-x-4 text-gray-700 dark:text-gray-100 bg-white dark:bg-slate-900 dark:hover:bg-slate-800 border border-gray-300 dark:border-gray-600 rounded",dropClassName:"w-full",itemsClassName:"text-left !p-2 !pl-3",children:[h("span",{className:"text-sm",children:m(`pl_${x}`)}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),h("button",{onClick:()=>d(x),className:"text-red-500 dark:hover:bg-slate-800 hover:bg-red-100 focus:outline-none p-2 bg-red-50 dark:bg-slate-900 border border-gray-300 dark:border-gray-600 rounded",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})}),_("button",{className:"border border-gray-300 dark:border-gray-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 text-sm font-medium p-2 px-4 rounded flex items-center md:ml-10 min-h-[38px]",onClick:z,disabled:C,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1 whitespace-nowrap hidden xs:block",children:"Run Test"})]})]}),h(D.Suspense,{fallback:h(lU,{height:300}),children:h(o0e,{getter:u[x],setter:H=>c({...u,[x]:H}),language:x,className:"border border-gray-300 dark:border-gray-700 overflow-hidden rounded-l",height:300,fontSize:14})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[300px] border border-gray-300 dark:border-gray-600 rounded-l dark:bg-gray-900",children:[_(K,{when:C,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),h(K,{when:!E.length&&!C,children:h("div",{className:"dark:text-white flex h-full w-full items-center justify-center text-sm",children:m("tc_resultShown")})}),E.map((H,U)=>D.createElement(jo,{...H,key:U}))]})]})]})})]})};async function e8(t,e,n){return Tt("POST",`${kt}/t/modules/${t}/sqlquestions/${e}/runCode`,n)}async function u0e(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/runCode`,{...n})}async function c0e(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/submitCode`,{...n})}const d0e=D.lazy(()=>Pr(()=>import("./Monaco-b9e7a9f6.js").then(t=>t.M),["assets/Monaco-b9e7a9f6.js","assets/Monaco-ac9b8205.css"])),Sx=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),h0e=({id:t,type:e,title:n,duration:r,job:a,category:i,description:s,isCompany:o=!1,isPremium:l=!1,refetch:u,openState:c})=>{var he,ae;const{t:d,lang:f}=ct(),[p,m]=c||D.useState(!1),[g,v]=D.useState(!0),[y,b]=D.useState(!0),[w,x]=D.useState(!1),[k,S]=y0(),[E]=Ji(),[I,{data:C,error:R}]=wpe({variables:{id:t}}),z=!C;D.useEffect(()=>{p&&I()},[p,I]),D.useEffect(()=>{if(!R)return;const[se]=bf(R.graphQLErrors).messages;se&&S({message:d(`err_${se}`),type:"error",url:""})},[R]);async function H(){if(!await Zd({message:d("gen_areYouSure"),title:d("mod_deleteModule"),loadOnConfirm:!0}))return;const{result:X}=await Wge(t);if(Hf(),X!=null&&X.data){m(!1),u&&u();return}if(X!=null&&X.error){S({message:X.error.message,type:"error",url:""});return}S({message:d("err_networkProblem"),type:"error",url:""})}const U=D.useMemo(()=>{if(!C)return!1;if(!Object.values(C).length)return!0;const se=C.viewModule.instruction;return Object.values(se).reduce((X,ne)=>X&&!ne,!0)},[C]);let q="",Q=[],re=[];switch((he=C==null?void 0:C.viewModule.meta)==null?void 0:he.__typename){case"ModuleProgramming":Q=C.viewModule.meta.languages;break;case"ModuleBackend":q=C.viewModule.meta.apiType,re=C.viewModule.meta.frameworks;break;case"ModuleFrontend":re=C.viewModule.meta.frameworks;break}return h(St,{children:h(gu,{open:p,toggle:()=>m(!p),children:_("div",{className:"large-modal relative p-4 md:p-8 w-full md:w-7/8 lg:w-3/4 text-left bg-white rounded-lg shadow-xl dark:bg-gray-900 border border-slate-700",children:[h(kl,{state:[k,S],className:"absolute z-10 top-0 left-0 w-full rounded-t-lg"}),_("div",{className:"mb-4",children:[_("div",{className:"flex items-center gap-x-2",children:[h(K,{when:!l,children:_(Nt,{to:`/modules/view/${e}?moduleId=${t}`,className:"rounded bg-orange-100 hover:bg-orange-200 text-orange-600 h-10 px-4 gap-x-2 flex justify-center items-center",children:[_("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:[h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),h("span",{className:"hidden md:block",children:d("mod_previewModule")})]})}),h(K,{when:l,children:h("p",{className:"px-4 py-2 bg-amber-100 text-amber-700 rounded text-sm",children:d("mod_premiumNotes")})}),_(K,{when:o,children:[h(K,{when:((ae=E==null?void 0:E.organization)==null?void 0:ae.is_internal_team)===!0,children:h(tb,{placement:"bottom",message:d("gen_edit"),noRelative:!0,children:h(Nt,{to:`/modules/edit/${e}?moduleId=${t}`,className:"h-10 w-10 flex justify-center items-center rounded text-gray-600 dark:text-white hover:text-blue-600 disabled:text-gray-400 dark:disabled:text-gray-600 bg-blue-50 dark:bg-slate-800 hover:bg-blue-100 hover:dark:bg-slate-700 disabled:bg-blue-50 disabled:dark:bg-slate-800",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})})})})}),h(tb,{placement:"bottom",message:d("gen_delete"),noRelative:!0,children:h("button",{type:"button",className:"h-10 w-10 flex justify-center items-center rounded text-red-600 dark:text-white hover:text-red-600 disabled:text-gray-400 dark:disabled:text-gray-600 bg-red-100 dark:bg-red-700 hover:bg-red-200 hover:dark:bg-red-700 disabled:bg-blue-50 disabled:dark:bg-slate-800",onClick:H,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})})]}),h(K,{when:e===pi.Programming,children:h(f0e,{moduleId:t,isCompany:o,setFlash:S,languages:Q})}),h(K,{when:e===pi.Sql,children:h(p0e,{moduleId:t,isCompany:o,setFlash:S,languages:Q})})]}),h("button",{onClick:()=>m(!1),className:"absolute right-3 top-3 dark:text-white h-10 w-10 flex justify-center items-center",type:"button",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),_("div",{className:"flex items-center gap-x-2 mb-4",children:[h("h1",{className:"text-2xl font-medium dark:text-white ",children:n}),h(K,{when:o,children:h("div",{className:"rounded-full bg-slate-100 dark:bg-slate-700 py-1 px-2 text-gray-600 dark:text-gray-200 text-xs",children:d("mod_companys")})})]}),_("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[_("div",{className:"rounded",children:[h("div",{className:"w-full flex items-center justify-between p-2 border-b border-gray-200",children:_("p",{className:"text-sm uppercase font-medium dark:text-white",children:[" ",d("mod_detail")]})}),h("table",{className:"table-auto w-full relative h-fit",children:_("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 dark:text-white",children:[_("tr",{className:"relative ",children:[h("td",{className:"text-xs uppercase p-2",children:d("gen_type")}),h("td",{children:_("div",{className:"flex items-center gap-x-2 p-2",children:[h(mE,{type:e}),h("p",{className:"text-sm",children:d(`mod_${e}`)})]})})]}),_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:d("gen_duration")}),h("td",{className:"text-sm p-2",children:_p(r,"minutes",f)})]}),_("tr",{children:[_("td",{className:"text-xs uppercase p-2",children:["# ",d("gen_questions")]}),_("td",{className:"text-sm p-2",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),_(K,{when:!z,children:[C==null?void 0:C.viewModule.questionCount," ",d("gen_questions")]})]})]}),_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:d("mod_difficulty")}),_("td",{className:"text-sm p-2 capitalize",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:(C==null?void 0:C.viewModule.difficulty)||d("mod_diff")})]})]}),_("tr",{hidden:!i,children:[h("td",{className:"text-xs uppercase p-2",children:d("mod_difficulty")}),h("td",{className:"text-sm p-2",children:i})]}),_("tr",{hidden:!a,children:[h("td",{className:"text-xs uppercase p-2",children:d("gen_suitable")}),h("td",{className:"text-sm p-2",children:a})]}),_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:d("gen_languages")}),_("td",{className:"text-sm  p-2",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:(C==null?void 0:C.viewModule.translations.map(se=>d(`gen_${se}`)).join(", "))||d("gen_en")})]})]}),h(K,{when:e===pi.Programming,children:_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:d("mod_programming")}),_("td",{className:"text-sm p-2",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:Q.map(se=>d(`pl_${se}`)).join(", ")})]})]})}),_(K,{when:e===pi.Backend,children:[_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:d("mod_APItype")}),_("td",{className:"text-sm p-2 uppercase",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:q})]})]}),_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:"Framework"}),_("td",{className:"text-sm p-2 capitalize",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:re.join(",")})]})]})]}),h(K,{when:e===pi.Frontend,children:_("tr",{children:[h("td",{className:"text-xs uppercase p-2",children:"Framework"}),_("td",{className:"text-sm p-2 capitalize",children:[h("div",{hidden:!z,className:"animate-pulse rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h(K,{when:!z,children:re.join(",")})]})]})})]})})]}),_("div",{className:"space-y-2",children:[_("div",{hidden:!s||z,className:"p-4 rounded bg-slate-50 dark:bg-slate-800",children:[_("button",{className:"w-full flex items-center justify-between p-2 border-b border-gray-200 dark:text-white",onClick:()=>v(!g),children:[_("p",{className:"text-sm uppercase font-medium",children:[" ",d("gen_description")]}),h($2,{open:g})]}),h(K,{when:g,children:h(D.Suspense,{fallback:h("div",{className:"flex justify-center h-20",children:h(Za,{})}),children:h(Sx,{content:s})})})]}),_("div",{hidden:U,className:"p-4 rounded bg-slate-50 dark:bg-slate-800",children:[_("div",{hidden:!z,className:"animate-pulse",children:[h("div",{className:"rounded h-9 w-full bg-gray-300 dark:bg-gray-700"}),h("hr",{className:"my-3"}),_("div",{className:"space-y-2",children:[h("div",{className:"rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h("div",{className:"rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h("div",{className:"rounded h-6 w-full bg-gray-300 dark:bg-gray-700"}),h("div",{className:"rounded h-6 w-5/12 bg-gray-300 dark:bg-gray-700"})]})]}),_(K,{when:!z,children:[_(K,{when:!!(C!=null&&C.viewModule.instruction.en),children:[_("button",{className:"w-full flex items-center justify-between p-2 border-b border-gray-200 dark:text-white",onClick:()=>b(!y),children:[_("p",{className:"text-sm uppercase font-medium",children:[" ",d("conf_instructions")," (EN)"]}),h($2,{open:y})]}),h(K,{when:y,children:h("div",{className:"mt-2 max-h-48 overflow-auto",children:h(D.Suspense,{fallback:h("div",{className:"flex justify-center h-20",children:h(Za,{})}),children:h(Sx,{content:(C==null?void 0:C.viewModule.instruction.en)||""})})})})]}),_(K,{when:!!(C!=null&&C.viewModule.instruction.id),children:[_("button",{className:"w-full flex items-center justify-between p-2 border-b border-gray-200 dark:text-white",onClick:()=>x(!w),children:[_("p",{className:"text-sm uppercase font-medium",children:[" ",d("conf_instructions")," (ID)"]}),h($2,{open:w})]}),h(K,{when:w,children:h("div",{className:"mt-2",children:h(D.Suspense,{fallback:h("div",{className:"flex justify-center h-20",children:h(Za,{})}),children:h(Sx,{content:(C==null?void 0:C.viewModule.instruction.id)||""})})})})]})]})]})]})]})]})})})},f0e=({moduleId:t,languages:e,isCompany:n,setFlash:r})=>{const{t:a}=ct(),[i,s]=D.useState(),[o,l]=D.useState(zh("test")),[u,c]=D.useState(zh("solution"));D.useEffect(()=>{async function f(){var y;const{result:m,error:g}=n?await sU(t,1):await oU(t,1);if(!(m!=null&&m.data)){r({type:"error",message:a(g||((y=m==null?void 0:m.error)==null?void 0:y.message)||"err_networkProblem"),url:""});return}const[v]=m.data.items;s(v),l(zh("test",v)),c(zh("solution",v))}const p=setTimeout(f,100);return()=>clearTimeout(p)},[t]);function d(f){const p=zh("solution",i),m={...u,[f]:p[f]};c(m)}return i?_(l0e,{className:"h-[40px] flex items-center gap-x-2 text-white text-sm font-medium hover:bg-lime-700 py-2 px-4 bg-lime-600 rounded disabled:bg-gray-300 dark:disabled:bg-gray-600",enabledLang:e,inputParams:i.inputParams,inputType:i.inputType,moduleId:t,questionId:i.id,onReset:d,languageTests:o,languageSolutions:u,setLanguageSolutions:c,noscroll:!0,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),a("tc_testSol")]}):null},p0e=({moduleId:t,isCompany:e,setFlash:n})=>{const{t:r}=ct(),[a,i]=y0(),[s,o]=D.useState();D.useEffect(()=>{async function b(){var E;const{result:x,error:k}=e?await sU(t,1):await oU(t,1);if(!(x!=null&&x.data)){n({type:"error",message:r(k||((E=x==null?void 0:x.error)==null?void 0:E.message)||"err_networkProblem"),url:""});return}const[S]=x.data.items;o(S)}const w=setTimeout(b,100);return()=>clearTimeout(w)},[t]);const[l,u]=D.useState(!1);function c(){u(!l)}const[d,f]=D.useState(""),[p,m]=D.useState([]),[g,v]=D.useState(!1);async function y(){var k;if(!s)return;if(!d){i({type:"warning",message:"Solution must not be empty !",url:""});return}const b=[e8(t,s.id,{code:d,isGrading:!1}),e8(t,s.id,{code:d,isGrading:!0})];m([]),v(!0);const w=await Promise.all(b);v(!1);const x=[];for(const{result:S,error:E}of w){if(!(S!=null&&S.data)){i({message:r(E||((k=S==null?void 0:S.error)==null?void 0:k.message)||"err_networkProblem"),type:"error",url:""});return}x.push(cU(x.length?"Grading Case":"Testing Case",S.data))}m(x)}return s?_(St,{children:[_("button",{className:"h-[40px] flex items-center gap-x-2 text-white text-sm font-medium hover:bg-lime-700 py-2 px-4 bg-lime-600 rounded disabled:bg-gray-300 dark:disabled:bg-gray-600",onClick:c,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),r("tc_testSol")]}),h(gu,{open:l,toggle:c,noscroll:!0,children:_("div",{className:"large-modal p-4 md:p-8 text-left bg-white rounded-lg shadow-xl dark:bg-gray-800 w-full md:w-7/8 lg:w-3/4",children:[h("button",{className:"absolute right-3 top-2 dark:text-white h-10 w-10 flex justify-center items-center",type:"button",onClick:c,children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),h(kl,{state:[a,i],className:"absolute z-10 top-0 left-0 w-full rounded-t-lg"}),_("div",{className:"space-y-3",children:[h("p",{className:"text-gray-700 dark:text-gray-100 font-medium text-center",children:r("gen_solution")}),_("button",{className:"border border-gray-300 dark:border-gray-600 disabled:bg-gray-300 dark:disabled:bg-gray-600 text-sm font-medium p-2 px-4 rounded flex items-center justify-center min-h-[38px] w-full",onClick:y,disabled:g,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1 whitespace-nowrap",children:r("tc_runTest")})]}),h(D.Suspense,{fallback:h(lU,{height:300}),children:h(d0e,{getter:d,setter:f,language:"sql",className:"border border-gray-300 dark:border-gray-700 overflow-hidden rounded-l",height:300,fontSize:14})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[300px] border border-gray-300 dark:border-gray-600 rounded-l dark:bg-gray-900",children:[_(K,{when:g,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),h(K,{when:!p.length&&!g,children:h("div",{className:"dark:text-white flex h-full w-full items-center justify-center",children:r("tc_resultShown")})}),p.map((b,w)=>D.createElement(jo,{...b,key:w}))]})]})]})})]}):null};async function lT(t){return Tt("GET",`${kt}/s/modules/${t}/submission`)}async function m0e(t,e){return Tt("POST",`${kt}/s/modules/${e}/start`,{classroom_id:0,event_id:t})}async function tp(t,e,n){const r={answers:e};return n&&(r.status="done"),Tt("PATCH",`${kt}/s/modules/${t}/submission`,r)}const g0e=({name:t,type:e,duration:n,questionCount:r,isRandom:a,languages:i,shuffleQuestion:s,status:o,sequential:l,id:u,clickable:c=!1,job:d,category:f,description:p,maxSubmitTime:m})=>{const{eventId:g}=Ko(),{t:v,lang:y}=ct(),[b,w]=D.useState(!1),[x,k]=D.useState(!1),S=a!=null||i!=null||s!=null,[E,I]=D.useState("");return D.useEffect(()=>{async function C(){if(!m||o!=="ongoing")return;const{result:z}=await lT(u);z!=null&&z.data.end_time&&(Hd(new Date(z.data.end_time),"<",new Date(m))?I(z.data.end_time):I(m))}const R=setTimeout(C,500);return()=>clearTimeout(R)},[m,o]),_(St,{children:[_("div",{className:"px-4 py-4 whitespace-nowrap bg-white dark:bg-slate-900 aria-selected:dark:bg-slate-800/70 aria-selected:bg-gray-100/70","aria-selected":o==="done",children:[_("div",{className:"flex items-start justify-between",children:[_("div",{className:"flex gap-x-2",children:[h("div",{children:h(mE,{type:e})}),_("div",{children:[h("button",{className:"text-gray-800 dark:text-white font-medium text-md enabled:hover:text-blue-500 dark:enabled:hover:text-blue-400",disabled:!c,onClick:()=>k(!0),children:t}),_("div",{className:"flex items-center gap-x-2",children:[_("div",{className:"flex items-center gap-x-1 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),h("p",{className:"text-sm",children:_p(n,"minutes",y)})]}),_("div",{className:"flex items-center gap-x-1 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})}),_("p",{className:"text-sm",children:[r," Qs"]})]})]})]})]}),_("div",{className:"flex gap-2 items-center",children:[h(K,{when:S,children:h("button",{className:"text-gray-400 dark:text-gray-300 focus:outline-none p-2 hover:bg-gray-100 hover:dark:bg-gray-800 rounded",onClick:()=>w(!b),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 aria-expanded:text-blue-500","aria-expanded":b,children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 010 3m0-3a1.5 1.5 0 000 3m0 9.75V10.5"})})})}),h(K,{when:o==="done",children:h("div",{className:"text-lime-600 dark:text-lime-500 focus:outline-none p-2 rounded",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})})}),_(K,{when:o==="ongoing",children:[_(K,{when:!l,children:[h(K,{when:!!E,children:h(Gy,{endTime:E,className:"!bg-emerald-600"})}),h("div",{className:"text-yellow-600 dark:text-yellow-500 focus:outline-none p-2 rounded",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-8 h-8",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})})})]}),h(K,{when:!!l,children:_(Nt,{to:`/assessments/${g}/modules/${u}/test/${e}`,className:"text-blue-600 dark:text-blue-400 focus:outline-none p-2 rounded flex items-center gap-2 font-medium text-sm bg-blue-50 dark:bg-slate-800",children:["Start Exam",h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})]})})]})]})]}),_(K,{when:b,children:[h(K,{when:i!=null,children:h("div",{className:"flex flex-wrap gap-2 mt-4",children:i==null?void 0:i.map((C,R)=>h(iU,{active:!0,className:"cursor-default",children:v(`pl_${C}`)},R))})}),_("div",{className:"flex gap-2 justify-start",children:[h(K,{when:a!=null,children:h(Fg,{getter:!!a,label:v("ca_randomChoice"),labelClass:"!text-gray-700 dark:!text-gray-300 text-sm",containerClass:"gap-2 mt-2",disabled:!0})}),h(K,{when:s!=null,children:h(Fg,{getter:!!s,label:v("ca_randomQuestion"),labelClass:"!text-gray-700 dark:!text-gray-300 text-sm",containerClass:"gap-2 mt-2",disabled:!0})})]})]})]}),h(K,{when:c,children:h(h0e,{id:u,category:f||"",description:p||"",duration:n,job:d||"",title:t,type:e,openState:[x,k],isCompany:!0})})]})};function ba(t){const e=localStorage.getItem(t);if(!e)return[];try{const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}}function ow(t,e){const[n,r]=D.useState(null);D.useEffect(()=>{const s=ba(t);if(!s.length)return;const o=s.find((l,u)=>u===e);o&&r(o.answer)},[t,e]);function a(s){r(s);const o=ba(t);o.length&&(o.splice(e,1,{...o[e],answer:s}),localStorage.setItem(t,JSON.stringify(o)))}function i(s){localStorage.setItem(t,JSON.stringify([...s]));const o=s.find((l,u)=>u===e);o&&r(o.answer)}return{value:n,update:a,init:i}}function k0(t,e){const[n,r]=D.useState();D.useEffect(()=>{const s=ba(t);if(!s.length)return;const o=s.find((l,u)=>u===e);o&&r(o)},[t,e]);function a(s){r(s);const o=ba(t);o.length&&s&&(o.splice(e,1,{...s,timeSpent:o[e].timeSpent}),localStorage.setItem(t,JSON.stringify(o)))}function i(s){localStorage.setItem(t,JSON.stringify([...s]));const o=s.find((l,u)=>u===e);o&&r(o)}return{value:n,update:a,init:i}}function y0e(t){try{const e=JSON.parse(t);return typeof e!="object"||!Array.isArray(e)?void 0:e}catch{return}}const b0e=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),v0e=()=>{var w;const t=ai(),{t:e,lang:n}=ct(),{eventId:r}=Ko(),{modules:a,assessment:i,setAssessments:s}=$l(),{enableWebcam:o,setEnableWebcam:l,enableCapture:u,setEnableCapture:c}=Jge(),[d,f]=D.useState(!1);async function p(){var C;if(!i||!a)return;const{capture_enabled:x,snapshot_enabled:k}=i;if(o!==k||u!==x){l(k),c(x);return}if(!await Zd({title:e("asm_startExam"),message:e("asm_startExamDesc"),loadOnConfirm:!0}))return;f(!0);const{result:E,error:I}=await zce(i.id);if(f(!1),Hf(),!(E!=null&&E.data)){Xe({type:"error",message:e(I||((C=E==null?void 0:E.error)==null?void 0:C.message)||"err_networkProblem")});return}Wr(`start_at_${r}`,new Date().toISOString()),s({...i,isJoined:!0,finished_at:null,max_submit_at:E.data.max_submit_before_margin,totalParticipant:i.totalParticipant+1}),t(`/assessments/${i.event_id}/modules/${a[0].id}`)}async function m(){var I;if(!i||!a||!await Zd({title:e("asm_finishExam"),message:e("asm_finishExamDesc"),loadOnConfirm:!0}))return;const k=a[a.length-1],{result:S}=await lT(k.id);if(!(S!=null&&S.data))return;const E=ba(`ASM_${S.data.id}`);if(E.length){{const{result:C,error:R}=await tp(k.id,E,!0);if(!(C!=null&&C.data)&&(C==null?void 0:C.error.code)!==400){Xe({message:e(R||((I=C==null?void 0:C.error)==null?void 0:I.message)||"err_networkProblem"),type:"error"});return}}Hf(),s({...i,status:"finished"})}}if(!i||!a)return _("div",{className:"animate-pulse min-h-[500px] h-[50vh] p-10 grid grid-cols-2 gap-5",children:[h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"})]});let g="";i.is_no_deadline?g=e("asm_noDeadline"):g=CM(new Date(i.end_time),"DD MMM `YY, HH:mm",n);let v="";i.status==="ongoing"?(v="active",i.max_submit_at&&(v="ongoing",Hd(new Date,">",new Date(i.max_submit_at))&&(v="expired")),i.finished_at&&(v="finished")):v="finished",v==="finished"&&i.is_course&&(v="ongoing");const y=(w=a.filter(x=>x.status!=="done")[0])==null?void 0:w.id,b=["finished","expired"].includes(v);return h(Es,{title:`Assessment - ${i.name}`,children:_("div",{className:"w-full px-2 lg:px-10 md:px-4 py-4 mx-auto grid grid-cols-6 gap-4",children:[_("div",{className:"flex flex-col lg:col-span-3 col-span-6 w-full h-fit gap-4",children:[h("div",{className:"w-full mx-auto ",children:_("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8 flex flex-col md:flex-row md:justify-between ",children:[_("div",{className:"flex flex-col gap-2 md:mb-0 mb-2",children:[h("h1",{className:"font-medium text-2xl dark:text-white",children:i.name}),h("div",{className:"flex md:flex-row flex-col flex-wrap items-start md:items-center md:divide-y-0 divide-y gap-x-8",children:_("div",{className:"flex flex-wrap flex-row gap-x-4 gap-y-2 md:py-0 py-2 px-0 md:w-fit w-full",children:[_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400 aria-disabled:text-red-500 aria-disabled:dark:text-red-500","aria-disabled":!b,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"})}),_("p",{className:"text-sm aria-disabled:font-medium","aria-disabled":!b,children:["~ ",g]})]}),_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),h("p",{className:"text-sm",children:_p(i.duration,"minutes",n)})]}),_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})}),_("p",{className:"text-sm",children:[i.questionCount," ",e("gen_questions")]})]})]})}),_("div",{className:"flex items-center gap-2",children:[h("img",{className:"object-cover w-8 h-8 rounded-md border-2 border-gray-200 dark:border-gray-800",src:i.creator.profile_picture,alt:"Org"}),h("p",{className:"text-md font-medium dark:text-white flex lg:grow-0 grow truncate text-ellipsis mr-auto",children:i.creator.first_name})]})]}),_("div",{className:"xs:flex md:flex-col justify-between items-end",children:[h(K,{when:v==="active",children:_("button",{onClick:p,className:"md:w-fit w-full h-12 px-4 bg-blue-500 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",disabled:d,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block",children:e("gen_start")})]})}),_(K,{when:v==="ongoing",children:[h(K,{when:!!y,children:_(Nt,{to:`/assessments/${i.event_id}/modules/${y}`,className:"w-fit h-12 px-4 bg-lime-600 text-white rounded flex justify-center items-center gap-x-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("span",{className:"block",children:e("gen_continue")})]})}),h(K,{when:!y,children:_("button",{onClick:m,className:"md:w-fit w-full h-12 px-4 bg-blue-500 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",disabled:d,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),h("span",{className:"block",children:e("gen_finish")})]})})]}),h(K,{when:v==="ongoing"&&!i.is_course,children:h(Gy,{endTime:i.max_submit_at||""})})]})]})}),_("div",{children:[h("div",{className:"bg-white dark:bg-slate-900 rounded-t-lg p-4 md:px-8 md:py-4",children:h("h3",{className:"text-lg font-medium dark:text-white",children:e("asm_listModules")})}),h("div",{className:"bg-white dark:bg-slate-900 rounded-lg-b px-0 py-0 md:px-8 md:py-4 overflow-x-auto",children:h("div",{className:"inline-block min-w-full align-middle ",children:h("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.map((x,k)=>h(g0e,{name:x.name,duration:x.duration,questionCount:x.questionCount,type:x.type,languages:x.enabled_lang,status:x.status,sequential:!i.is_module_sequence&&v==="ongoing",id:x.id,maxSubmitTime:i.max_submit_at},k))})})})]})]}),_("div",{className:"flex flex-col lg:col-span-3 col-span-6 w-full h-fit bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8 gap-4",children:[_("div",{className:"",children:[_("h3",{className:"text-lg font-medium dark:text-white mb-2",children:[" ",e("asm_introduction")," ",i.creator.first_name]}),h(b0e,{content:i.introduction,className:"!p-0 dark:!text-gray-300"})]}),h("hr",{}),_("div",{className:"",children:[_("h3",{className:"text-lg font-medium dark:text-white mb-2",children:[" ",e("asm_notesTitle")]}),_("ol",{className:" ml-6 dark:text-gray-300",children:[h("li",{className:"list-disc",children:e("asm_notesItem1")}),h("li",{className:"list-disc",children:e("asm_notesItem2")}),h("li",{className:"list-disc",children:e("asm_notesItem3")}),h("li",{className:"list-disc",children:e("asm_notesItem4")})]})]})]})]})})},dU=D.createContext({setModule:()=>null,setSubmission:()=>null}),w0e=()=>{const{moduleId:t=""}=Ko(),{assessment:e}=$l(),{t:n}=ct(),[r,a]=D.useState();D.useEffect(()=>{async function o(){var f;if(!e)return;a(void 0);const u=parseInt(t);if(!u){Xe({type:"error",message:n("err_errorNotFound")});return}const{result:c,error:d}=await Hge(e.id,u);if(!(c!=null&&c.data)){Xe({type:"error",message:n(d||((f=c==null?void 0:c.error)==null?void 0:f.message)||"err_networkProblem")});return}a(c.data)}const l=setTimeout(o,100);return()=>clearTimeout(l)},[e==null?void 0:e.id,t]);const[i,s]=D.useState();return D.useEffect(()=>{async function o(){s(void 0);const u=parseInt(t);if(!u)return;const{result:c}=await lT(u);if(!(c!=null&&c.data))return;const{id:d,answer_submission:f}=c.data;if(!localStorage.getItem(`ASM_${d}`)){const m=JSON.stringify(f);localStorage.setItem(`ASM_${d}`,m)}s(c.data)}const l=setTimeout(o,100);return()=>clearTimeout(l)},[t]),h(dU.Provider,{value:{module:r,setModule:a,submission:i,setSubmission:s},children:h(av,{})})};function uo(){return D.useContext(dU)}const x0e=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),hU=()=>{var x;const t=Xr(),e=ai(),{lang:n,t:r}=ct(),{modules:a,setModules:i,assessment:s}=$l(),{module:o,submission:l,setSubmission:u}=uo(),c=((x=a==null?void 0:a.filter(k=>k.status!=="done"&&k.id!==(o==null?void 0:o.id))[0])==null?void 0:x.id)||0,[d,f]=D.useState(!1);async function p(){var H;if(!(s!=null&&s.max_submit_at)||!o||!a){Xe({type:"error",message:"Invalid assessment data"});return}f(!0);const{result:k,error:S}=await m0e(s.event_id,o.id);if(f(!1),!(k!=null&&k.data)){Xe({type:"error",message:r(S||((H=k==null?void 0:k.error)==null?void 0:H.message)||"err_networkProblem")});return}const{id:E,answer_submission:I}=k.data,C=s.is_module_sequence?eoe(new Date,o.duration,"minutes").toISOString():s.max_submit_at.toString();u({id:E,answer_submission:I,end_time:C,status:"ongoing"});const R=a.map(U=>U.id===o.id?{...U,status:"ongoing"}:{...U});i(R);const z=JSON.stringify(I);localStorage.setItem(`ASM_${E}`,z),e(`${t.pathname}/test/${o.type}`)}function m(){if(!l||!o){Xe({type:"error",message:r("err_networkProblem")});return}const{id:k,answer_submission:S}=l;if(!localStorage.getItem(`ASM_${k}`)){const I=JSON.stringify(S);localStorage.setItem(`ASM_${k}`,I)}e(`${t.pathname}/test/${o.type}`)}const[g,v]=D.useState(new Date().toISOString());if(D.useEffect(()=>{const k=setInterval(()=>v(new Date().toISOString()),1e3);return()=>clearInterval(k)},[]),!s||!o)return h("div",{className:"animate-pulse min-h-[500px] h-[50vh] p-10 grid grid-cols-2 gap-5",children:h("div",{className:"bg-gray-200 dark:bg-gray-900 col-span-2 rounded"})});const y=Zk(g,s.max_submit_at||"",n,!0);let b=Zk(g,(l==null?void 0:l.end_time)||"",n,!0);y<b&&(b=y);let w=o.status;return s.is_course&&w==="done"&&(w="ongoing"),h(Es,{title:`${s.name} - ${o.name}`,children:h("div",{className:"w-full px-2 lg:px-10 md:px-4 py-4 mx-auto gap-4",children:h("div",{className:"w-full mx-auto ",children:h("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8 ",children:_("div",{className:"mx-auto w-full md:w-3/4 lg:w-1/2 flex flex-col items-center gap-4",children:[_("div",{className:"text-center",children:[h("h1",{className:"font-medium text-2xl dark:text-white",children:s.name}),h("h3",{className:"font-medium text-lg dark:text-white",children:o.name}),_("div",{className:"flex justify-center gap-2",children:[_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),h("p",{className:"text-sm",children:_p(o.duration,"minutes",n)})]}),_("div",{className:"flex items-center gap-x-2 text-gray-500 dark:text-gray-400",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"})}),_("p",{className:"text-sm",children:[o.totalQuestions," ",r("gen_questions")]})]})]})]}),h(K,{when:y!=="00:00:00",children:_("div",{className:"w-full mb-2",children:[_("h3",{className:"text-xl font-medium dark:text-white border-b-2 pb-1 mb-2 border-gray-100 dark:border-gray-800",children:[" ",r("test_remaining")]}),_("p",{className:"text-gray-600 dark:text-gray-400 py-1 px-4",children:[r("test_remainingExam")," : ",h("b",{children:y})]}),h(K,{when:!!b,children:_("p",{className:"text-gray-600 dark:text-gray-400 py-1 px-4",children:[r("test_remainingModule")," : ",h("b",{children:b})]})})]})}),_("div",{className:"space-y-1 w-full",children:[_("h3",{className:"text-xl font-medium dark:text-white border-b-2 pb-1 mb-2 border-gray-100 dark:border-gray-800",children:[" ",r("asm_introduction")," ",s.creator.first_name]}),h(x0e,{content:vr({en:o.introduction,id:o.introduction_id},n,o.enabled_translations),className:"py-2 px-4"})]}),h(K,{when:!l,children:h("button",{onClick:p,className:"md:w-fit w-full h-14 px-20 bg-blue-500 enabled:hover:bg-blue-600 disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2 disabeld:bg-gray-500",disabled:d,children:h("span",{className:"block",children:r("gen_start")})})}),_(K,{when:l!=null,children:[h(K,{when:w==="ongoing",children:h("button",{type:"button",className:"md:w-fit w-full h-14 px-20 bg-lime-600 text-white rounded flex justify-center items-center gap-x-2 font-medium hover:opacity-75",onClick:m,children:h("span",{className:"block",children:r("gen_continue")})})}),_(K,{when:w==="done",children:[_("p",{className:"font-medium border border-lime-600 bg-lime-50 dark:bg-gray-800 text-lime-600 dark:text-lime-400 px-4 py-4 rounded w-full text-center",children:[" ",r("test_moduleSubmitted")]}),h(K,{when:c>0,children:h(Nt,{to:`/assessments/${s.event_id}/modules/${c}`,className:"md:w-fit w-full h-14 px-20 bg-lime-600 text-white rounded flex justify-center items-center gap-x-2 font-medium hover:opacity-75",children:h("span",{className:"block",children:r("test_moduleNext")})})}),h(K,{when:!c,children:h(Nt,{to:`/assessments/${s.event_id}`,className:"md:w-fit w-full h-14 px-20 bg-blue-600 text-white rounded flex justify-center items-center gap-x-2 font-medium hover:opacity-75",children:h("span",{className:"block",children:r("test_backToAssessment")})})})]})]})]})})})})})};function _0e(t,e){const[n,r]=D.useState(new Date),a=t?new Date(t):new Date,i=e?new Date(e):new Date,s=a.getTime()-n.getTime(),o=i.getTime()-n.getTime();let l=i.getTime()<=a.getTime()?o:s;l<0&&(l=0);const u=Math.round(l/1e3),c=Math.round(u/60),d=Math.round(c/60),f=Math.round(d/24);let p="";return f&&(p+=`${f} H `),p+=new Date(l).toISOString().substring(11,19),D.useEffect(()=>{const m=setInterval(()=>{r(new Date)},1e3);return()=>{clearInterval(m)}},[t,e]),{countDown:p,minutes:c,days:f,endTimeLeft:s,maxSubmitLeft:o,diff:l}}function k0e(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}const fU=new Audio("/audio/beep.mp3"),pU=new Audio("/audio/beep.mp3");fU.loop=!1;pU.loop=!1;function S0e(t=0){[fU,pU][t%2].play()}var mU="3.4.1";function np(t,e){return new Promise(function(n){return setTimeout(n,t,e)})}function N0e(t,e){e===void 0&&(e=1/0);var n=window.requestIdleCallback;return n?new Promise(function(r){return n.call(window,function(){return r()},{timeout:e})}):np(Math.min(t,e))}function gU(t){return!!t&&typeof t.then=="function"}function t8(t,e){try{var n=t();gU(n)?n.then(function(r){return e(!0,r)},function(r){return e(!1,r)}):e(!0,n)}catch(r){e(!1,r)}}function n8(t,e,n){return n===void 0&&(n=16),$a(this,void 0,void 0,function(){var r,a,i;return ma(this,function(s){switch(s.label){case 0:r=Date.now(),a=0,s.label=1;case 1:return a<t.length?(e(t[a],a),i=Date.now(),i>=r+n?(r=i,[4,np(0)]):[3,3]):[3,4];case 2:s.sent(),s.label=3;case 3:return++a,[3,1];case 4:return[2]}})})}function lw(t){t.then(void 0,function(){})}function Su(t,e){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];var n=[0,0,0,0];return n[3]+=t[3]+e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]+e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]+e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]+e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Bs(t,e){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],e=[e[0]>>>16,e[0]&65535,e[1]>>>16,e[1]&65535];var n=[0,0,0,0];return n[3]+=t[3]*e[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=t[2]*e[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=t[3]*e[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=t[1]*e[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[2]*e[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=t[3]*e[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=t[0]*e[3]+t[1]*e[2]+t[2]*e[1]+t[3]*e[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Ih(t,e){return e%=64,e===32?[t[1],t[0]]:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e|t[0]>>>32-e]:(e-=32,[t[1]<<e|t[0]>>>32-e,t[0]<<e|t[1]>>>32-e])}function ls(t,e){return e%=64,e===0?t:e<32?[t[0]<<e|t[1]>>>32-e,t[1]<<e]:[t[1]<<e-32,0]}function ur(t,e){return[t[0]^e[0],t[1]^e[1]]}function r8(t){return t=ur(t,[0,t[0]>>>1]),t=Bs(t,[4283543511,3981806797]),t=ur(t,[0,t[0]>>>1]),t=Bs(t,[3301882366,444984403]),t=ur(t,[0,t[0]>>>1]),t}function E0e(t,e){t=t||"",e=e||0;var n=t.length%16,r=t.length-n,a=[0,e],i=[0,e],s=[0,0],o=[0,0],l=[2277735313,289559509],u=[1291169091,658871167],c;for(c=0;c<r;c=c+16)s=[t.charCodeAt(c+4)&255|(t.charCodeAt(c+5)&255)<<8|(t.charCodeAt(c+6)&255)<<16|(t.charCodeAt(c+7)&255)<<24,t.charCodeAt(c)&255|(t.charCodeAt(c+1)&255)<<8|(t.charCodeAt(c+2)&255)<<16|(t.charCodeAt(c+3)&255)<<24],o=[t.charCodeAt(c+12)&255|(t.charCodeAt(c+13)&255)<<8|(t.charCodeAt(c+14)&255)<<16|(t.charCodeAt(c+15)&255)<<24,t.charCodeAt(c+8)&255|(t.charCodeAt(c+9)&255)<<8|(t.charCodeAt(c+10)&255)<<16|(t.charCodeAt(c+11)&255)<<24],s=Bs(s,l),s=Ih(s,31),s=Bs(s,u),a=ur(a,s),a=Ih(a,27),a=Su(a,i),a=Su(Bs(a,[0,5]),[0,1390208809]),o=Bs(o,u),o=Ih(o,33),o=Bs(o,l),i=ur(i,o),i=Ih(i,31),i=Su(i,a),i=Su(Bs(i,[0,5]),[0,944331445]);switch(s=[0,0],o=[0,0],n){case 15:o=ur(o,ls([0,t.charCodeAt(c+14)],48));case 14:o=ur(o,ls([0,t.charCodeAt(c+13)],40));case 13:o=ur(o,ls([0,t.charCodeAt(c+12)],32));case 12:o=ur(o,ls([0,t.charCodeAt(c+11)],24));case 11:o=ur(o,ls([0,t.charCodeAt(c+10)],16));case 10:o=ur(o,ls([0,t.charCodeAt(c+9)],8));case 9:o=ur(o,[0,t.charCodeAt(c+8)]),o=Bs(o,u),o=Ih(o,33),o=Bs(o,l),i=ur(i,o);case 8:s=ur(s,ls([0,t.charCodeAt(c+7)],56));case 7:s=ur(s,ls([0,t.charCodeAt(c+6)],48));case 6:s=ur(s,ls([0,t.charCodeAt(c+5)],40));case 5:s=ur(s,ls([0,t.charCodeAt(c+4)],32));case 4:s=ur(s,ls([0,t.charCodeAt(c+3)],24));case 3:s=ur(s,ls([0,t.charCodeAt(c+2)],16));case 2:s=ur(s,ls([0,t.charCodeAt(c+1)],8));case 1:s=ur(s,[0,t.charCodeAt(c)]),s=Bs(s,l),s=Ih(s,31),s=Bs(s,u),a=ur(a,s)}return a=ur(a,[0,t.length]),i=ur(i,[0,t.length]),a=Su(a,i),i=Su(i,a),a=r8(a),i=r8(i),a=Su(a,i),i=Su(i,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}function T0e(t){var e;return Ee({name:t.name,message:t.message,stack:(e=t.stack)===null||e===void 0?void 0:e.split(`
`)},t)}function C0e(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return!0;return!1}function I0e(t,e){return!C0e(t,e)}function uT(t){return parseInt(t)}function ko(t){return parseFloat(t)}function jl(t,e){return typeof t=="number"&&isNaN(t)?e:t}function Xo(t){return t.reduce(function(e,n){return e+(n?1:0)},0)}function yU(t,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(t/e)*e;var n=1/e;return Math.round(t*n)/n}function A0e(t){for(var e,n,r="Unexpected syntax '".concat(t,"'"),a=/^\s*([a-z-]*)(.*)$/i.exec(t),i=a[1]||void 0,s={},o=/([.:#][\w-]+|\[.+?\])/gi,l=function(f,p){s[f]=s[f]||[],s[f].push(p)};;){var u=o.exec(a[2]);if(!u)break;var c=u[0];switch(c[0]){case".":l("class",c.slice(1));break;case"#":l("id",c.slice(1));break;case"[":{var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(c);if(d)l(d[1],(n=(e=d[4])!==null&&e!==void 0?e:d[5])!==null&&n!==void 0?n:"");else throw new Error(r);break}default:throw new Error(r)}}return[i,s]}function a8(t){return t&&typeof t=="object"&&"message"in t?t:{message:t}}function D0e(t){return typeof t!="function"}function R0e(t,e){var n=new Promise(function(r){var a=Date.now();t8(t.bind(null,e),function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var o=Date.now()-a;if(!i[0])return r(function(){return{error:a8(i[1]),duration:o}});var l=i[1];if(D0e(l))return r(function(){return{value:l,duration:o}});r(function(){return new Promise(function(u){var c=Date.now();t8(l,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var p=o+Date.now()-c;if(!d[0])return u({error:a8(d[1]),duration:p});u({value:d[1],duration:p})})})})})});return lw(n),function(){return n.then(function(a){return a()})}}function $0e(t,e,n){var r=Object.keys(t).filter(function(i){return I0e(n,i)}),a=Array(r.length);return n8(r,function(i,s){a[s]=R0e(t[i],e)}),function(){return $a(this,void 0,void 0,function(){var s,o,l,u,c,d,f;return ma(this,function(p){switch(p.label){case 0:for(s={},o=0,l=r;o<l.length;o++)u=l[o],s[u]=void 0;c=Array(r.length),d=function(){var m;return ma(this,function(g){switch(g.label){case 0:return m=!0,[4,n8(r,function(v,y){if(!c[y])if(a[y]){var b=a[y]().then(function(w){return s[v]=w});lw(b),c[y]=b}else m=!1})];case 1:return g.sent(),m?[2,"break"]:[4,np(1)];case 2:return g.sent(),[2]}})},p.label=1;case 1:return[5,d()];case 2:if(f=p.sent(),f==="break")return[3,4];p.label=3;case 3:return[3,1];case 4:return[4,Promise.all(c)];case 5:return p.sent(),[2,s]}})})}}function bU(){var t=window,e=navigator;return Xo(["MSCSSMatrix"in t,"msSetImmediate"in t,"msIndexedDB"in t,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function O0e(){var t=window,e=navigator;return Xo(["msWriteProfilerMark"in t,"MSStream"in t,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!bU()}function cT(){var t=window,e=navigator;return Xo(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,e.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in t,"BatteryManager"in t,"webkitMediaStream"in t,"webkitSpeechGrammar"in t])>=5}function S0(){var t=window,e=navigator;return Xo(["ApplePayError"in t,"CSSPrimitiveValue"in t,"Counter"in t,e.vendor.indexOf("Apple")===0,"getStorageUpdates"in e,"WebKitMediaKeys"in t])>=4}function dT(){var t=window;return Xo(["safari"in t,!("DeviceMotionEvent"in t),!("ongestureend"in t),!("standalone"in navigator)])>=3}function L0e(){var t,e,n=window;return Xo(["buildID"in navigator,"MozAppearance"in((e=(t=document.documentElement)===null||t===void 0?void 0:t.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function F0e(){var t=window;return Xo([!("MediaSettingsRange"in t),"RTCEncodedAudioFrame"in t,""+t.Intl=="[object Intl]",""+t.Reflect=="[object Reflect]"])>=3}function P0e(){var t=window;return Xo(["DOMRectList"in t,"RTCPeerConnectionIceEvent"in t,"SVGGeometryElement"in t,"ontransitioncancel"in t])>=3}function M0e(){if(navigator.platform==="iPad")return!0;var t=screen,e=t.width/t.height;return Xo(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function B0e(){var t=document;return t.fullscreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||null}function z0e(){var t=document;return(t.exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t)}function vU(){var t=cT(),e=L0e();if(!t&&!e)return!1;var n=window;return Xo(["onorientationchange"in n,"orientation"in n,t&&!("SharedWorker"in n),e&&/android/i.test(navigator.appVersion)])>=2}function U0e(){var t=window,e=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!e)return-2;if(j0e())return-1;var n=4500,r=5e3,a=new e(1,r,44100),i=a.createOscillator();i.type="triangle",i.frequency.value=1e4;var s=a.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.25,i.connect(s),s.connect(a.destination),i.start(0);var o=V0e(a),l=o[0],u=o[1],c=l.then(function(d){return W0e(d.getChannelData(0).subarray(n))},function(d){if(d.name==="timeout"||d.name==="suspended")return-3;throw d});return lw(c),function(){return u(),c}}function j0e(){return S0()&&!dT()&&!P0e()}function V0e(t){var e=3,n=500,r=500,a=5e3,i=function(){},s=new Promise(function(o,l){var u=!1,c=0,d=0;t.oncomplete=function(m){return o(m.renderedBuffer)};var f=function(){setTimeout(function(){return l(i8("timeout"))},Math.min(r,d+a-Date.now()))},p=function(){try{var m=t.startRendering();switch(gU(m)&&lw(m),t.state){case"running":d=Date.now(),u&&f();break;case"suspended":document.hidden||c++,u&&c>=e?l(i8("suspended")):setTimeout(p,n);break}}catch(g){l(g)}};p(),i=function(){u||(u=!0,d>0&&f())}});return[s,i]}function W0e(t){for(var e=0,n=0;n<t.length;++n)e+=Math.abs(t[n]);return e}function i8(t){var e=new Error(t);return e.name=t,e}function wU(t,e,n){var r,a,i;return n===void 0&&(n=50),$a(this,void 0,void 0,function(){var s,o;return ma(this,function(l){switch(l.label){case 0:s=document,l.label=1;case 1:return s.body?[3,3]:[4,np(n)];case 2:return l.sent(),[3,1];case 3:o=s.createElement("iframe"),l.label=4;case 4:return l.trys.push([4,,10,11]),[4,new Promise(function(u,c){var d=!1,f=function(){d=!0,u()},p=function(v){d=!0,c(v)};o.onload=f,o.onerror=p;var m=o.style;m.setProperty("display","block","important"),m.position="absolute",m.top="0",m.left="0",m.visibility="hidden",e&&"srcdoc"in o?o.srcdoc=e:o.src="about:blank",s.body.appendChild(o);var g=function(){var v,y;d||(((y=(v=o.contentWindow)===null||v===void 0?void 0:v.document)===null||y===void 0?void 0:y.readyState)==="complete"?f():setTimeout(g,10))};g()})];case 5:l.sent(),l.label=6;case 6:return!((a=(r=o.contentWindow)===null||r===void 0?void 0:r.document)===null||a===void 0)&&a.body?[3,8]:[4,np(n)];case 7:return l.sent(),[3,6];case 8:return[4,t(o,o.contentWindow)];case 9:return[2,l.sent()];case 10:return(i=o.parentNode)===null||i===void 0||i.removeChild(o),[7];case 11:return[2]}})})}function G0e(t){for(var e=A0e(t),n=e[0],r=e[1],a=document.createElement(n??"div"),i=0,s=Object.keys(r);i<s.length;i++){var o=s[i],l=r[o].join(" ");o==="style"?H0e(a.style,l):a.setAttribute(o,l)}return a}function H0e(t,e){for(var n=0,r=e.split(";");n<r.length;n++){var a=r[n],i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(i){var s=i[1],o=i[2],l=i[4];t.setProperty(s,o,l||"")}}}var q0e="mmMwWLliI0O&1",Y0e="48px",Ah=["monospace","sans-serif","serif"],s8=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function K0e(){return wU(function(t,e){var n=e.document,r=n.body;r.style.fontSize=Y0e;var a=n.createElement("div"),i={},s={},o=function(g){var v=n.createElement("span"),y=v.style;return y.position="absolute",y.top="0",y.left="0",y.fontFamily=g,v.textContent=q0e,a.appendChild(v),v},l=function(g,v){return o("'".concat(g,"',").concat(v))},u=function(){return Ah.map(o)},c=function(){for(var g={},v=function(x){g[x]=Ah.map(function(k){return l(x,k)})},y=0,b=s8;y<b.length;y++){var w=b[y];v(w)}return g},d=function(g){return Ah.some(function(v,y){return g[y].offsetWidth!==i[v]||g[y].offsetHeight!==s[v]})},f=u(),p=c();r.appendChild(a);for(var m=0;m<Ah.length;m++)i[Ah[m]]=f[m].offsetWidth,s[Ah[m]]=f[m].offsetHeight;return s8.filter(function(g){return d(p[g])})})}function X0e(){var t=navigator.plugins;if(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];if(r){for(var a=[],i=0;i<r.length;++i){var s=r[i];a.push({type:s.type,suffixes:s.suffixes})}e.push({name:r.name,description:r.description,mimeTypes:a})}}return e}}function Q0e(){var t=!1,e,n,r=Z0e(),a=r[0],i=r[1];if(!J0e(a,i))e=n="";else{t=e1e(i),t1e(a,i);var s=Nx(a),o=Nx(a);s!==o?e=n="unstable":(n=s,n1e(a,i),e=Nx(a))}return{winding:t,geometry:e,text:n}}function Z0e(){var t=document.createElement("canvas");return t.width=1,t.height=1,[t,t.getContext("2d")]}function J0e(t,e){return!!(e&&t.toDataURL)}function e1e(t){return t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")}function t1e(t,e){t.width=240,t.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));e.fillText(n,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(n,4,45)}function n1e(t,e){t.width=122,t.height=110,e.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],i=a[0],s=a[1],o=a[2];e.fillStyle=i,e.beginPath(),e.arc(s,o,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function Nx(t){return t.toDataURL()}function r1e(){var t=navigator,e=0,n;t.maxTouchPoints!==void 0?e=uT(t.maxTouchPoints):t.msMaxTouchPoints!==void 0&&(e=t.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var r="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:n,touchStart:r}}function a1e(){return navigator.oscpu}function i1e(){var t=navigator,e=[],n=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(n!==void 0&&e.push([n]),Array.isArray(t.languages))cT()&&F0e()||e.push(t.languages);else if(typeof t.languages=="string"){var r=t.languages;r&&e.push(r.split(","))}return e}function s1e(){return window.screen.colorDepth}function o1e(){return jl(ko(navigator.deviceMemory),void 0)}function l1e(){var t=screen,e=function(r){return jl(uT(r),null)},n=[e(t.width),e(t.height)];return n.sort().reverse(),n}var u1e=2500,c1e=10,V2,Ex;function d1e(){if(Ex===void 0){var t=function(){var e=W4();G4(e)?Ex=setTimeout(t,u1e):(V2=e,Ex=void 0)};t()}}function h1e(){var t=this;return d1e(),function(){return $a(t,void 0,void 0,function(){var e;return ma(this,function(n){switch(n.label){case 0:return e=W4(),G4(e)?V2?[2,Jd([],V2,!0)]:B0e()?[4,z0e()]:[3,2]:[3,2];case 1:n.sent(),e=W4(),n.label=2;case 2:return G4(e)||(V2=e),[2,e]}})})}}function f1e(){var t=this,e=h1e();return function(){return $a(t,void 0,void 0,function(){var n,r;return ma(this,function(a){switch(a.label){case 0:return[4,e()];case 1:return n=a.sent(),r=function(i){return i===null?null:yU(i,c1e)},[2,[r(n[0]),r(n[1]),r(n[2]),r(n[3])]]}})})}}function W4(){var t=screen;return[jl(ko(t.availTop),null),jl(ko(t.width)-ko(t.availWidth)-jl(ko(t.availLeft),0),null),jl(ko(t.height)-ko(t.availHeight)-jl(ko(t.availTop),0),null),jl(ko(t.availLeft),null)]}function G4(t){for(var e=0;e<4;++e)if(t[e])return!1;return!0}function p1e(){return jl(uT(navigator.hardwareConcurrency),void 0)}function m1e(){var t,e=(t=window.Intl)===null||t===void 0?void 0:t.DateTimeFormat;if(e){var n=new e().resolvedOptions().timeZone;if(n)return n}var r=-g1e();return"UTC".concat(r>=0?"+":"").concat(Math.abs(r))}function g1e(){var t=new Date().getFullYear();return Math.max(ko(new Date(t,0,1).getTimezoneOffset()),ko(new Date(t,6,1).getTimezoneOffset()))}function y1e(){try{return!!window.sessionStorage}catch{return!0}}function b1e(){try{return!!window.localStorage}catch{return!0}}function v1e(){if(!(bU()||O0e()))try{return!!window.indexedDB}catch{return!0}}function w1e(){return!!window.openDatabase}function x1e(){return navigator.cpuClass}function _1e(){var t=navigator.platform;return t==="MacIntel"&&S0()&&!dT()?M0e()?"iPad":"iPhone":t}function k1e(){return navigator.vendor||""}function S1e(){for(var t=[],e=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<n.length;e++){var r=n[e],a=window[r];a&&typeof a=="object"&&t.push(r)}return t.sort()}function N1e(){var t=document;try{t.cookie="cookietest=1; SameSite=Strict;";var e=t.cookie.indexOf("cookietest=")!==-1;return t.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function E1e(){var t=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",t("YVt0aXRsZT0iN25hZ2EgcG9rZXIiIGld"),'[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",t("Lmlvc0Fkc2lvc0Fkcy1sYXlvdXQ="),".quangcao",t("W2hyZWZePSJodHRwczovL3I4OC52bi8iXQ=="),t("W2hyZWZePSJodHRwczovL3piZXQudm4vIl0=")],adBlockFinland:[".mainostila",t("LnNwb25zb3JpdA=="),".ylamainos",t("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",t("I2FkMl9pbmxpbmU=")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",t("LmhlYWRlci1ibG9ja2VkLWFk"),t("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:[".BetterJsPopOverlay",t("I2FkXzMwMFgyNTA="),t("I2Jhbm5lcmZsb2F0MjI="),t("I2FkLWJhbm5lcg=="),t("I2NhbXBhaWduLWJhbm5lcg==")],adGuardChinese:[t("LlppX2FkX2FfSA=="),t("YVtocmVmKj0iL29kMDA1LmNvbSJd"),t("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),".qq_nr_lad","#widget-quan"],adGuardFrench:[t("I2Jsb2NrLXZpZXdzLWFkcy1zaWRlYmFyLWJsb2NrLWJsb2Nr"),"#pavePub",t("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv"],adGuardGerman:[t("LmJhbm5lcml0ZW13ZXJidW5nX2hlYWRfMQ=="),t("LmJveHN0YXJ0d2VyYnVuZw=="),t("LndlcmJ1bmcz"),t("YVtocmVmXj0iaHR0cDovL3d3dy5laXMuZGUvaW5kZXgucGh0bWw/cmVmaWQ9Il0="),t("YVtocmVmXj0iaHR0cHM6Ly93d3cudGlwaWNvLmNvbS8/YWZmaWxpYXRlSWQ9Il0=")],adGuardJapanese:["#kauli_yad_1",t("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),t("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),t("LmFkZ29vZ2xl"),t("LmFkX3JlZ3VsYXIz")],adGuardMobile:[t("YW1wLWF1dG8tYWRz"),t("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",t("I2FkX2ludmlld19hcmVh")],adGuardRussian:[t("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),t("LnJlY2xhbWE="),'div[id^="smi2adblock"]',t("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),t("I2FkX3NxdWFyZQ==")],adGuardSocial:[t("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),t("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",t("W2hyZWZePSJodHRwOi8vYWRzLmdsaXNwYS5jb20vIl0=")],adGuardTrackingProtection:["#qoo-counter",t("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),t("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),t("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",t("I3Jla2xhbWk="),t("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),t("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),t("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[t("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers",t("I25ld0Fk")],easyList:[t("I0FEX0NPTlRST0xfMjg="),t("LnNlY29uZC1wb3N0LWFkcy13cmFwcGVy"),".universalboxADVBOX03",t("LmFkdmVydGlzZW1lbnQtNzI4eDkw"),t("LnNxdWFyZV9hZHM=")],easyListChina:[t("YVtocmVmKj0iLndlbnNpeHVldGFuZy5jb20vIl0="),t("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),t("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box"],easyListCookie:["#AdaCompliance.app-notice",".text-center.rgpd",".panel--cookie",".js-cookies-andromeda",".elxtr-consent"],easyListCzechSlovak:["#onlajny-stickers",t("I3Jla2xhbW5pLWJveA=="),t("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",t("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[t("I2FkdmVydGVudGll"),t("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",t("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:[t("I0FkX1dpbjJkYXk="),t("I3dlcmJ1bmdzYm94MzAw"),t("YVtocmVmXj0iaHR0cDovL3d3dy5yb3RsaWNodGthcnRlaS5jb20vP3NjPSJd"),t("I3dlcmJ1bmdfd2lkZXNreXNjcmFwZXJfc2NyZWVu"),t("YVtocmVmXj0iaHR0cDovL2xhbmRpbmcucGFya3BsYXR6a2FydGVpLmNvbS8/YWc9Il0=")],easyListItaly:[t("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",t("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[t("LnJla2xhbW9zX3RhcnBhcw=="),t("LnJla2xhbW9zX251b3JvZG9z"),t("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),t("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),t("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[t("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:[t("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),t("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",t("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[t("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),t("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),t("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",t("LmFkX19tYWlu"),t("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:[t("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[t("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),t("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[t("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),t("I2xpdmVyZUFkV3JhcHBlcg=="),t("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),t("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[t("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",t("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),t("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),t("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[t("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),t("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),t("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",t("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),t("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),t("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),t("ZGl2I3NrYXBpZWNfYWQ=")],ro:[t("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),'a[href^="/magazin/"]',t("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),t("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),t("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd")],ruAd:[t("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),t("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),t("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",t("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),t("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",t("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function T1e(t){var e=t===void 0?{}:t,n=e.debug;return $a(this,void 0,void 0,function(){var r,a,i,s,o,l;return ma(this,function(u){switch(u.label){case 0:return C1e()?(r=E1e(),a=Object.keys(r),i=(l=[]).concat.apply(l,a.map(function(c){return r[c]})),[4,I1e(i)]):[2,void 0];case 1:return s=u.sent(),n&&A1e(r,s),o=a.filter(function(c){var d=r[c],f=Xo(d.map(function(p){return s[p]}));return f>d.length*.6}),o.sort(),[2,o]}})})}function C1e(){return S0()||vU()}function I1e(t){var e;return $a(this,void 0,void 0,function(){var n,r,a,i,l,s,o,l;return ma(this,function(u){switch(u.label){case 0:for(n=document,r=n.createElement("div"),a=new Array(t.length),i={},o8(r),l=0;l<t.length;++l)s=G0e(t[l]),o=n.createElement("div"),o8(o),o.appendChild(s),r.appendChild(o),a[l]=s;u.label=1;case 1:return n.body?[3,3]:[4,np(50)];case 2:return u.sent(),[3,1];case 3:n.body.appendChild(r);try{for(l=0;l<t.length;++l)a[l].offsetParent||(i[t[l]]=!0)}finally{(e=r.parentNode)===null||e===void 0||e.removeChild(r)}return[2,i]}})})}function o8(t){t.style.setProperty("display","block","important")}function A1e(t,e){for(var n="DOM blockers debug:\n```",r=0,a=Object.keys(t);r<a.length;r++){var i=a[r];n+=`
`.concat(i,":");for(var s=0,o=t[i];s<o.length;s++){var l=o[s];n+=`
  `.concat(e[l]?"":""," ").concat(l)}}console.log("".concat(n,"\n```"))}function D1e(){for(var t=0,e=["rec2020","p3","srgb"];t<e.length;t++){var n=e[t];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function R1e(){if(l8("inverted"))return!0;if(l8("none"))return!1}function l8(t){return matchMedia("(inverted-colors: ".concat(t,")")).matches}function $1e(){if(u8("active"))return!0;if(u8("none"))return!1}function u8(t){return matchMedia("(forced-colors: ".concat(t,")")).matches}var O1e=100;function L1e(){if(matchMedia("(min-monochrome: 0)").matches){for(var t=0;t<=O1e;++t)if(matchMedia("(max-monochrome: ".concat(t,")")).matches)return t;throw new Error("Too high value")}}function F1e(){if(Dh("no-preference"))return 0;if(Dh("high")||Dh("more"))return 1;if(Dh("low")||Dh("less"))return-1;if(Dh("forced"))return 10}function Dh(t){return matchMedia("(prefers-contrast: ".concat(t,")")).matches}function P1e(){if(c8("reduce"))return!0;if(c8("no-preference"))return!1}function c8(t){return matchMedia("(prefers-reduced-motion: ".concat(t,")")).matches}function M1e(){if(d8("high"))return!0;if(d8("standard"))return!1}function d8(t){return matchMedia("(dynamic-range: ".concat(t,")")).matches}var _n=Math,hi=function(){return 0};function B1e(){var t=_n.acos||hi,e=_n.acosh||hi,n=_n.asin||hi,r=_n.asinh||hi,a=_n.atanh||hi,i=_n.atan||hi,s=_n.sin||hi,o=_n.sinh||hi,l=_n.cos||hi,u=_n.cosh||hi,c=_n.tan||hi,d=_n.tanh||hi,f=_n.exp||hi,p=_n.expm1||hi,m=_n.log1p||hi,g=function(I){return _n.pow(_n.PI,I)},v=function(I){return _n.log(I+_n.sqrt(I*I-1))},y=function(I){return _n.log(I+_n.sqrt(I*I+1))},b=function(I){return _n.log((1+I)/(1-I))/2},w=function(I){return _n.exp(I)-1/_n.exp(I)/2},x=function(I){return(_n.exp(I)+1/_n.exp(I))/2},k=function(I){return _n.exp(I)-1},S=function(I){return(_n.exp(2*I)-1)/(_n.exp(2*I)+1)},E=function(I){return _n.log(1+I)};return{acos:t(.12312423423423424),acosh:e(1e308),acoshPf:v(1e154),asin:n(.12312423423423424),asinh:r(1),asinhPf:y(1),atanh:a(.5),atanhPf:b(.5),atan:i(.5),sin:s(-1e300),sinh:o(1),sinhPf:w(1),cos:l(10.000000000123),cosh:u(1),coshPf:x(1),tan:c(-1e300),tanh:d(1),tanhPf:S(1),exp:f(1),expm1:p(1),expm1Pf:k(1),log1p:m(10),log1pPf:E(10),powPI:g(-100)}}var z1e="mmMwWLliI0fiflO&1",Tx={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function U1e(){return j1e(function(t,e){for(var n={},r={},a=0,i=Object.keys(Tx);a<i.length;a++){var s=i[a],o=Tx[s],l=o[0],u=l===void 0?{}:l,c=o[1],d=c===void 0?z1e:c,f=t.createElement("span");f.textContent=d,f.style.whiteSpace="nowrap";for(var p=0,m=Object.keys(u);p<m.length;p++){var g=m[p],v=u[g];v!==void 0&&(f.style[g]=v)}n[s]=f,e.appendChild(t.createElement("br")),e.appendChild(f)}for(var y=0,b=Object.keys(Tx);y<b.length;y++){var s=b[y];r[s]=n[s].getBoundingClientRect().width}return r})}function j1e(t,e){return e===void 0&&(e=4e3),wU(function(n,r){var a=r.document,i=a.body,s=i.style;s.width="".concat(e,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",cT()?i.style.zoom="".concat(1/r.devicePixelRatio):S0()&&(i.style.zoom="reset");var o=a.createElement("div");return o.textContent=Jd([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),i.appendChild(o),t(a,i)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function V1e(){var t,e=document.createElement("canvas"),n=(t=e.getContext("webgl"))!==null&&t!==void 0?t:e.getContext("experimental-webgl");if(n&&"getExtension"in n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r)return{vendor:(n.getParameter(r.UNMASKED_VENDOR_WEBGL)||"").toString(),renderer:(n.getParameter(r.UNMASKED_RENDERER_WEBGL)||"").toString()}}}function W1e(){return navigator.pdfViewerEnabled}function G1e(){var t=new Float32Array(1),e=new Uint8Array(t.buffer);return t[0]=1/0,t[0]=t[0]-t[0],e[3]}var H1e={fonts:K0e,domBlockers:T1e,fontPreferences:U1e,audio:U0e,screenFrame:f1e,osCpu:a1e,languages:i1e,colorDepth:s1e,deviceMemory:o1e,screenResolution:l1e,hardwareConcurrency:p1e,timezone:m1e,sessionStorage:y1e,localStorage:b1e,indexedDB:v1e,openDatabase:w1e,cpuClass:x1e,platform:_1e,plugins:X0e,canvas:Q0e,touchSupport:r1e,vendor:k1e,vendorFlavors:S1e,cookiesEnabled:N1e,colorGamut:D1e,invertedColors:R1e,forcedColors:$1e,monochrome:L1e,contrast:F1e,reducedMotion:P1e,hdr:M1e,math:B1e,videoCard:V1e,pdfViewerEnabled:W1e,architecture:G1e};function q1e(t){return $0e(H1e,t,[])}var Y1e="$ if upgrade to Pro: https://fpjs.dev/pro";function K1e(t){var e=X1e(t),n=Q1e(e);return{score:e,comment:Y1e.replace(/\$/g,"".concat(n))}}function X1e(t){if(vU())return .4;if(S0())return dT()?.5:.3;var e=t.platform.value||"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function Q1e(t){return yU(.99+.01*t,1e-4)}function Z1e(t){for(var e="",n=0,r=Object.keys(t).sort();n<r.length;n++){var a=r[n],i=t[a],s=i.error?"error":JSON.stringify(i.value);e+="".concat(e?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(s)}return e}function xU(t){return JSON.stringify(t,function(e,n){return n instanceof Error?T0e(n):n},2)}function _U(t){return E0e(Z1e(t))}function J1e(t){var e,n=K1e(t);return{get visitorId(){return e===void 0&&(e=_U(this.components)),e},set visitorId(r){e=r},confidence:n,components:t,version:mU}}function e2e(t){return t===void 0&&(t=50),N0e(t,t*2)}function t2e(t,e){var n=Date.now();return{get:function(r){return $a(this,void 0,void 0,function(){var a,i,s;return ma(this,function(o){switch(o.label){case 0:return a=Date.now(),[4,t()];case 1:return i=o.sent(),s=J1e(i),(e||r!=null&&r.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(a-n,`
visitorId: `).concat(s.visitorId,`
components: `).concat(xU(i),"\n```")),[2,s]}})})}}}function n2e(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var t=new XMLHttpRequest;t.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(mU,"/npm-monitoring"),!0),t.send()}catch(e){console.error(e)}}function r2e(t){var e=t===void 0?{}:t,n=e.delayFallback,r=e.debug,a=e.monitoring,i=a===void 0?!0:a;return $a(this,void 0,void 0,function(){var s;return ma(this,function(o){switch(o.label){case 0:return i&&n2e(),[4,e2e(n)];case 1:return o.sent(),s=q1e({debug:r}),[2,t2e(s,r)]}})})}var a2e={load:r2e,hashComponents:_U,componentsToDebugString:xU};const i2e=a2e.load();async function kU(){try{return(await(await i2e).get()).visitorId}catch{return}}const s2e={copy:0,cut:1,paste:2},o2e=({prevent:t,disabled:e})=>{if(e)return null;const[n]=ape();return D.useEffect(()=>{const r={};async function a(i){t&&i.preventDefault();const s=s2e[i.type];s!=null&&(r[i.type]&&clearTimeout(r[i.type]),r[i.type]=setTimeout(async()=>{const o=await kU();await n({context:{headers:{fp:o}},variables:{event:s}})},500))}return window.addEventListener("copy",a),()=>{for(const i in r){const s=r[i];s&&clearTimeout(s)}window.removeEventListener("copy",a)}},[]),null},l2e=5,u2e=()=>{const{t}=ct(),[e]=npe(),[n,r]=D.useState(!1);return D.useEffect(()=>{let a;async function i(){a&&clearInterval(a);const l=await kU();e({context:l?{headers:{fp:l}}:void 0}).catch(()=>console.error("Failed sending log data"))}function s(){r(!0),a&&clearInterval(a);let l=0;a=setInterval(function(){l===l2e?i():l+=1},1e3)}function o(){r(!1),a&&clearInterval(a)}return document.documentElement.addEventListener("mouseleave",s),document.documentElement.addEventListener("mouseenter",o),()=>{a&&clearInterval(a),document.documentElement.removeEventListener("mouseleave",s),document.documentElement.removeEventListener("mouseenter",o)}},[e]),n?nv.createPortal(_("div",{className:"text-white bg-[#000000b0] dark:bg-[#00000072] absolute z-[100] w-screen h-screen flex flex-col items-center justify-center backdrop-blur-sm top-0 left-0 text-sm",children:[h("div",{children:t("test_leaving")}),h("div",{children:t("test_leavingDesc")})]}),document.body):null},Cx=5,c2e=[pi.Interview],d2e=[pi.Interview],h2e=()=>{var ze;const t=ai(),{t:e}=ct(),{assessment:n,setAssessments:r,modules:a,setModules:i,screenStream:s,webcamStream:o,setEnableWebcam:l,setEnableCapture:u}=$l(),{module:c,setModule:d,submission:f}=uo(),[p,m]=D.useState(0),[g,v]=D.useState(""),[y,b]=D.useState([]),[w,x]=lo("questionId",1),k=ba(`ASM_${f==null?void 0:f.id}`),S=Math.floor((w-1)/Cx),E=((ze=a==null?void 0:a.filter(be=>be.status!=="done"&&be.id!==(c==null?void 0:c.id))[0])==null?void 0:ze.id)||0,I=D.useCallback(async function(be,Ie){var Et;if(!f||!c||!a||!n)return;let Le="test_submitModule",Ge="test_submitModuleDesc";if(be&&(Le="test_timeUp",Ge="test_timeUpDesc",(Ie||!E)&&(Ge="test_finishDesc")),!await Zd({title:e(Le),message:e(Ge),loadOnConfirm:!0,alert:be})&&!be)return;const pe=ba(`ASM_${f.id}`);if(!pe.length)return;const{result:de,error:De}=await tp(c.id,pe,!0);if(!(de!=null&&de.data)&&(de==null?void 0:de.error.code)!==400){Xe({message:e(De||((Et=de==null?void 0:de.error)==null?void 0:Et.message)||"err_networkProblem"),type:"error"});return}Hf();const nt=a.map($t=>$t.id===c.id?{...$t,status:"done"}:{...$t});if(i(nt),d(void 0),Ie||!E){const $t={...n};return $t.finished_at=new Date().toISOString(),r($t),s&&(l(!1),s.getTracks().forEach(yn=>yn.stop())),o&&(u(!1),o.getTracks().forEach(yn=>yn.stop())),t(`/assessments/${n.event_id}/finish`)}if(n.is_module_sequence)t(`/assessments/${n.event_id}/modules/${E}`);else{tu({title:e("test_submitted"),message:e("test_gotoNextModule")});const $t=a.find(yn=>yn.id===E);t(`/assessments/${n.event_id}/modules/${E}/test/${$t==null?void 0:$t.type}`)}},[f,c,a,n,E,o,s]);D.useEffect(()=>{if(c!=null&&c.enabled_lang){const be=rU(c.enabled_lang).sort().map(Ie=>({value:Ie,label:e(`pl_${Ie}`)}));b(be),be.length>0&&v(be[0].value)}else b([])},[c]),D.useEffect(()=>{if(!c||c2e.includes(c.type)||!f)return;const be=w-1,Ie=`ASM_${f.id}`,Le=setInterval(()=>{const Ge=ba(Ie);Ge.length&&(Ge.splice(be,1,{...Ge[be],timeSpent:Ge[be].timeSpent+1}),localStorage.setItem(Ie,JSON.stringify(Ge)),Ge[be].timeSpent%10===0&&c&&tp(c.id,Ge))},1e3);return()=>clearInterval(Le)},[w,c,f]);const{countDown:C,minutes:R,endTimeLeft:z,maxSubmitLeft:H,diff:U}=_0e(f==null?void 0:f.end_time,(n==null?void 0:n.max_submit_at)||""),q=D.useRef(!1);D.useEffect(()=>{if(!(!f||f.status==="done"||q.current||n!=null&&n.is_course)){if(H<0){q.current=!0,I(!0,!0);return}if(n!=null&&n.is_module_sequence&&z<0){q.current=!0,I(!0,!1);return}}},[n==null?void 0:n.is_course,z,H,I]);const Q=D.useRef(!1);D.useEffect(()=>{async function be(){if(!f||!n||f.status==="done"||Q.current||n!=null&&n.is_course)return;if(await Sl(`timer_${f.id}`)){Q.current=!0;return}if(n!=null&&n.is_module_sequence){if(H>=18e4&&z>=18e4)return}else if(H>=18e4)return;Q.current=!0,Wr(`timer_${f.id}`,!0),Xe({type:"warning",message:e("test_3minleft")})}const Ie=setTimeout(be,100);return()=>clearTimeout(Ie)},[n==null?void 0:n.is_course,z,H]);const[re,he]=mh("tab","description"),[ae,se]=D.useState([]);if(!c||!a||!n||!f)return _("div",{className:"min-h-page w-full bg-white dark:bg-gray-900",children:[h("div",{className:"w-full px-2 py-2 bg-slate-50 dark:bg-slate-800 dark:border-gray-800 border-b-2 border-gray-200",children:_("div",{className:"animate-pulse flex justify-between items-center flex-wrap gap-2",children:[_("div",{className:"flex space-x-2 w-full md:w-auto",children:[h("div",{className:"h-[40px] w-[160px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[120px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"md:hidden h-[40px] flex-1 bg-gray-300 rounded dark:bg-gray-600"})]}),h("div",{className:"hidden lg:block h-[40px] w-1/3 bg-gray-300 rounded dark:bg-gray-600"}),_("div",{className:"flex space-x-2 w-full md:w-auto",children:[h("div",{className:"h-[40px] w-[120px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[120px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"md:hidden h-[40px] flex-1 bg-gray-300 rounded dark:bg-gray-600"})]})]})}),h(h8,{context:{language:[g,v],totalQuestions:p,setTotalQuestions:m,submissionId:0,onClickFinishModule:I,setNavs:se,diff:U}})]});if(f.status==="done"&&!n.is_course)return h(hU,{});const X=d2e.includes(c.type),ne=a.map(be=>be.status==="done"?{value:be.id,label:_("div",{className:"flex items-center gap-1",children:[h("div",{children:be.name}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5 text-lime-600 dark:text-lime-500",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})]}),className:"!text-base !bg-blue-50 dark:!bg-slate-700 cursor-auto",disabled:!0}:{value:be.id,label:be.name,href:`/assessments/${n.event_id}/modules/${be.id}/test/${be.type}`}),ke=Do(p||1,0).map((be,Ie)=>({label:`${e("gen_question")} ${Ie+1}`,value:Ie+1}));let Oe=!1;(["choice","weighted"].includes(c.type)||p>1)&&(Oe=!0);let We=0;return Oe&&(We+=1),ae.length>0&&(We+=1),y.length>0&&(We+=1),h(Es,{title:`${n.name} - ${c.name}`,children:_("div",{className:"flex flex-col min-h-test w-full bg-white dark:bg-gray-900",children:[_("div",{className:"relative w-full px-2 py-2 mx-auto flex flex-col md:flex-row justify-between md:items-center bg-slate-50 dark:bg-slate-800 dark:border-gray-800 border-b border-gray-200 scroll-round gap-2",children:[_("div",{className:"flex justify-between items-center space-x-2 ",children:[h(K,{when:n.is_module_sequence,children:h("div",{className:"xl:w-[250px] h-10 px-4 flex justify-between items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2",title:c.name,children:h("p",{className:"font-medium text-lg dark:text-white line-clamp-1 text-ellipsis",children:c.name})})}),h(K,{when:!n.is_module_sequence,children:_(zi,{items:ne,className:"h-10 px-4 flex justify-between items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2",offset:{mainAxis:10},placement:"bottom-start",dropClassName:"min-w-full",itemsClassName:"text-left !px-4",children:[h("p",{className:"font-medium text-lg dark:text-white line-clamp-1 text-ellipsis ",children:c.name}),h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),h(K,{when:!n.is_course,children:h("div",{className:Ce("h-10 px-3 text-lg text-white font-medium flex items-center justify-center rounded",{"bg-rose-600":R<5,"bg-emerald-600":R>=5}),children:C})}),_("button",{type:"button",onClick:()=>I(),hidden:E>0,className:"text-md bg-rose-600 text-white font-medium py-2 px-4 rounded md:hidden",children:[h("span",{className:"hidden lg:block",children:e("test_endtest")}),h("span",{className:"lg:hidden",children:e("gen_finish")})]}),_("button",{type:"button",onClick:()=>I(),hidden:!E,className:"text-md bg-blue-600 text-white font-medium py-2 px-4 rounded md:hidden",children:[h("span",{className:"hidden lg:block",children:e("test_nextModule")}),h("span",{className:"lg:hidden",children:e("gen_finish")})]})]}),_("div",{className:Ce("md:flex grid gap-2",{"grid-cols-1":We<=1,"grid-cols-2":We===2,"grid-cols-[auto_minmax(0,1fr)_minmax(0,1fr)]":We===3}),children:[_(K,{when:Oe,children:[h(K,{when:!X,children:_(zi,{items:ke,onClick:x,className:"flex h-10 px-4 justify-between items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2 whitespace-nowrap w-full",offset:{mainAxis:10},placement:"bottom-start",dropClassName:"min-w-full",itemsClassName:"text-left !px-4",outerClassname:"xl:hidden",children:[_("p",{className:"font-medium text-md dark:text-white truncate",children:[_("span",{className:"hidden md:block",children:[e("gen_question")," ",w]}),_("span",{className:"md:hidden",children:[e(We===3?"gen_qs":"gen_question")," ",w]})]}),h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"shrink-0 dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),h(K,{when:X,children:h("div",{className:"flex h-10 px-4 justify-center items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2 whitespace-nowrap w-full",children:_("p",{className:"font-medium text-md dark:text-white truncate",children:[_("span",{className:"hidden md:block",children:[e("gen_question")," ",w]}),_("span",{className:"md:hidden",children:[e(We===3?"gen_qs":"gen_question")," ",w]})]})})})]}),h(K,{when:y.length>0,children:_(zi,{items:y,onClick:v,className:"flex h-10 px-4 justify-between items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2 whitespace-nowrap md:w-[125px] xl:w-auto w-full",offset:{mainAxis:10},dropClassName:"min-w-full",itemsClassName:"text-left !px-4",children:[h("p",{className:"font-medium text-md dark:text-white truncate",children:e(`pl_${g}`)}),h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"shrink-0 dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),h(K,{when:ae.length>0,children:_(zi,{items:ae,onClick:he,className:"flex h-10 px-4 justify-between items-center rounded dark:border-gray-600 border-2 border-gray-150 space-x-2 whitespace-nowrap w-full",offset:{mainAxis:10},placement:"bottom-end",dropClassName:"min-w-full",itemsClassName:"text-left !px-4",outerClassname:"md:hidden",children:[h("p",{className:"font-medium text-md dark:text-white truncate capitalize",children:e(`gen_${re}`)}),h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"shrink-0 dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]})}),_("button",{type:"button",onClick:()=>I(),"aria-hidden":E>0,className:"w-full text-md bg-rose-600 text-white font-medium py-2 px-4 rounded hidden md:block aria-hidden:hidden whitespace-nowrap",children:[h("span",{className:"hidden lg:block",children:e("test_endtest")}),h("span",{className:"lg:hidden",children:e("gen_finish")})]}),_("button",{type:"button",onClick:()=>I(),"aria-hidden":!E,className:"w-full text-md bg-blue-600 text-white font-medium py-2 px-4 rounded hidden md:block aria-hidden:hidden whitespace-nowrap",children:[h("span",{className:"hidden lg:block",children:e("test_nextModule")}),h("span",{className:"lg:hidden",children:e("gen_finish")})]})]}),h(K,{when:Oe&&!X,children:_("div",{className:"flex sm:hidden gap-2",children:[h("button",{type:"button",onClick:()=>x(w-1),disabled:w===1,className:`h-10 px-2 rounded flex justify-center items-center flex-1 w-auto 
                dark:bg-white text-gray-800 enabled:hover:bg-gray-200 enabled:font-medium border border-gray-300
                disabled:text-gray-500 disabled:dark:bg-gray-900 disabled:dark:text-gray-400 disabled:cursor-not-allowed disabled:border-transparent`,children:e("gen_previous")}),h("button",{type:"button",onClick:()=>x(w+1),disabled:w>=p,className:`h-10 px-2 rounded flex justify-center items-center flex-1 w-auto border border-lime-600 dark:border-lime-700
                bg-lime-600 text-white hover:bg-lime-700 dark:hover:text-white enabled:font-medium
                disabled:text-gray-500 disabled:dark:bg-gray-900 disabled:dark:text-gray-400 disabled:cursor-not-allowed disabled:border-transparent dark:disabled:border-transparent`,children:e("gen_next")})]})}),h("div",{"aria-hidden":!Oe,className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 hidden xl:block aria-hidden:hidden",children:_("div",{className:"flex justify-center items-center space-x-2",children:[_(K,{when:!X,children:[h(K,{when:p>5,children:h("button",{type:"button",onClick:()=>x(1),disabled:w===1,className:`h-10 w-10 flex justify-center items-center rounded-sm
                  bg-white dark:bg-gray-800 dark:text-gray-200 enabled:hover:bg-blue-50 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white enabled:font-medium
                  disabled:text-gray-500 disabled:cursor-not-allowed disabled:dark:bg-gray-900 disabled:dark:text-gray-400`,children:h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.75 19.5l-7.5-7.5 7.5-7.5m-6 15L5.25 12l7.5-7.5"})})})}),h("button",{type:"button",onClick:()=>x(w-1),disabled:w===1,className:`h-10 px-4 rounded-sm flex justify-center items-center flex-1 w-auto 
                  bg-white text-gray-800 enabled:hover:bg-blue-50 dark:enabled:hover:bg-gray-300 enabled:font-medium
                  disabled:text-gray-500 disabled:dark:bg-gray-900 disabled:dark:text-gray-400 disabled:cursor-not-allowed`,children:e("gen_previous")})]}),Do(Cx,0).map((be,Ie)=>{var at;Ie=Ie+1+S*Cx;let Le="font-medium flex justify-center items-center h-10 w-10 bg-white rounded-sm dark:bg-gray-800 dark:text-gray-200 enabled:hover:bg-blue-100 dark:enabled:hover:bg-gray-700 dark:enabled:hover:text-white";const Ge=(at=k[Ie-1])==null?void 0:at.answer;return Array.isArray(Ge)?Ge.length&&(Le="font-bold flex justify-center items-center h-10 w-10 bg-emerald-500 text-white rounded-sm enabled:hover:bg-emerald-600"):Ge!=null&&(Le="font-bold flex justify-center items-center h-10 w-10 bg-emerald-500 text-white rounded-sm enabled:hover:bg-emerald-600"),w===Ie&&(Le="font-bold border-b-[7px] border-b-transparent border-t-[7px] border-t-blue-500 border-x-[20px] border-x-transparent flex justify-center items-center h-10 w-10 rounded-sm bg-white text-blue-700 enabled:hover:bg-blue-100 dark:enabled:hover:bg-slate-100 pointer-events-none"),Ie>p?null:h("button",{className:Le,type:"button",disabled:w===Ie||X,onClick:()=>x(Ie),children:Ie},Ie)}),_(K,{when:!X,children:[h("button",{type:"button",onClick:()=>x(w+1),disabled:w>=p,className:`h-10 px-4 rounded-sm flex justify-center items-center flex-1 w-auto
                bg-lime-600 text-white hover:bg-lime-700 dark:hover:text-white enabled:font-medium
                disabled:text-gray-500 disabled:bg-transparent disabled:dark:bg-gray-900 disabled:dark:text-gray-400 disabled:cursor-not-allowed`,children:e("gen_next")}),h(K,{when:p>5,children:h("button",{type:"button",onClick:()=>x(p),disabled:w>=p,className:`h-10 w-10 flex justify-center items-center rounded-sm
                    bg-white dark:bg-gray-800 dark:text-gray-200 enabled:font-medium enabled:hover:bg-blue-50 dark:enabled:hover:bg-gray-700 dark:enabled:hover:text-white
                    disabled:text-gray-500 disabled:cursor-not-allowed disabled:dark:bg-gray-900 disabled:dark:text-gray-400`,children:h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})})})})]})]})})]}),h(h8,{context:{language:[g,v],totalQuestions:p,setTotalQuestions:m,submissionId:f.id,onClickFinishModule:I,setNavs:se,diff:U}}),h(u2e,{}),h(o2e,{})]})})},h8=t=>h(av,{...t});function Ll(){return RF()}const f2e="_resizer_15clo_1",p2e="_handle_15clo_8",m2e="_coding_15clo_13",g2e="_n_15clo_21",y2e="_s_15clo_21",b2e="_resizing_15clo_27",v2e="_e_15clo_37",w2e="_w_15clo_37",im={resizer:f2e,handle:p2e,coding:m2e,n:g2e,s:y2e,resizing:b2e,e:v2e,w:w2e};function x2e(t,e){let n;function r(...a){n&&clearTimeout(n),n=setTimeout(()=>t(...a),e)}return r}const Ma=t=>{const{initSize:e,direction:n,className:r,children:a,codingTest:i,noOverFlow:s,onClickContainer:o,onResize:l,afterResize:u,resizerClass:c}=t,[d,f]=D.useState(e),[p,m]=D.useState(null),g={position:"relative"};switch(n){case"n":case"s":g.height=d;break;case"e":case"w":g.width=d;break}function v(x){const k={init:d,pos:0};switch(n){case"n":case"s":k.pos=x.clientY;break;case"e":case"w":k.pos=x.clientX;break}window.document.body.classList.add("scrolling"),m(k)}function y(x){p&&(m(null),f8(!0)),u&&u(p)}function b(x){if(p){const{init:k,pos:S}=p;let E=k;switch(n){case"n":E=k-(x.clientY-S);break;case"s":E=k+x.clientY-S;break;case"e":E=k-S+x.clientX;break;case"w":{E=k-(x.clientX-S);break}}f8(),f(E),l&&l(E)}}function w(x){x.preventDefault()}return h("div",{style:g,className:r,onClick:o,children:_("div",{className:Ce("w-full h-full",{"overflow-auto":!s&&!p,"overflow-hidden":p}),children:[a,h("div",{className:Ce(im.resizer,im[n],{[im.resizing]:p},c),onMouseDown:v,onMouseUp:y,onMouseMove:b,onMouseLeave:y,onDragStart:w,draggable:!1,children:h("div",{className:Ce(im.handle,{[im.coding]:i}),onDragStart:w,draggable:!1})})]})})},_2e=t=>{window.dispatchEvent(new Event("resize")),t&&window.document.body.classList.remove("scrolling")},f8=x2e(_2e,100),zn=t=>{const[e,n]=D.useState(!1);function r(a,i){console.error("component error : "),console.error(a,i),n(!0)}return e?h(St,{children:t.fallback}):h(D.Fragment,{children:D.Children.map(t.children,a=>D.isValidElement(a)?D.cloneElement(a,{props:{onError:r}}):a)})};/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function H4(t,e){return H4=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},H4(t,e)}function k2e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W2(t,e,n){return k2e()?W2=Reflect.construct:W2=function(a,i,s){var o=[null];o.push.apply(o,i);var l=Function.bind.apply(a,o),u=new l;return s&&H4(u,s.prototype),u},W2.apply(null,arguments)}function S2e(t,e){return E2e(t)||C2e(t,e)||hT(t,e)||A2e()}function wo(t){return N2e(t)||T2e(t)||hT(t)||I2e()}function N2e(t){if(Array.isArray(t))return q4(t)}function E2e(t){if(Array.isArray(t))return t}function T2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],a=!0,i=!1,s,o;try{for(n=n.call(t);!(a=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));a=!0);}catch(l){i=!0,o=l}finally{try{!a&&n.return!=null&&n.return()}finally{if(i)throw o}}return r}}function hT(t,e){if(t){if(typeof t=="string")return q4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q4(t,e)}}function q4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=hT(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,o;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return i=l.done,l},e:function(l){s=!0,o=l},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}}}var SU=Object.entries,p8=Object.setPrototypeOf,R2e=Object.isFrozen,$2e=Object.getPrototypeOf,O2e=Object.getOwnPropertyDescriptor,ki=Object.freeze,Vo=Object.seal,L2e=Object.create,NU=typeof Reflect<"u"&&Reflect,Y4=NU.apply,K4=NU.construct;Y4||(Y4=function(e,n,r){return e.apply(n,r)});ki||(ki=function(e){return e});Vo||(Vo=function(e){return e});K4||(K4=function(e,n){return W2(e,wo(n))});var F2e=io(Array.prototype.forEach),m8=io(Array.prototype.pop),sm=io(Array.prototype.push),G2=io(String.prototype.toLowerCase),Ix=io(String.prototype.toString),P2e=io(String.prototype.match),vo=io(String.prototype.replace),M2e=io(String.prototype.indexOf),B2e=io(String.prototype.trim),us=io(RegExp.prototype.test),Ax=z2e(TypeError);function io(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Y4(t,e,r)}}function z2e(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return K4(t,n)}}function Kt(t,e,n){n=n||G2,p8&&p8(t,null);for(var r=e.length;r--;){var a=e[r];if(typeof a=="string"){var i=n(a);i!==a&&(R2e(e)||(e[r]=i),a=i)}t[a]=!0}return t}function Rh(t){var e=L2e(null),n=D2e(SU(t)),r;try{for(n.s();!(r=n.n()).done;){var a=S2e(r.value,2),i=a[0],s=a[1];e[i]=s}}catch(o){n.e(o)}finally{n.f()}return e}function U1(t,e){for(;t!==null;){var n=O2e(t,e);if(n){if(n.get)return io(n.get);if(typeof n.value=="function")return io(n.value)}t=$2e(t)}function r(a){return console.warn("fallback value for",a),null}return r}var g8=ki(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Dx=ki(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Rx=ki(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),U2e=ki(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$x=ki(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),j2e=ki(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y8=ki(["#text"]),b8=ki(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ox=ki(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),v8=ki(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),j1=ki(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),V2e=Vo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W2e=Vo(/<%[\w\W]*|[\w\W]*%>/gm),G2e=Vo(/\${[\w\W]*}/gm),H2e=Vo(/^data-[\-\w.\u00B7-\uFFFF]/),q2e=Vo(/^aria-[\-\w]+$/),Y2e=Vo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K2e=Vo(/^(?:\w+script|data):/i),X2e=Vo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q2e=Vo(/^html$/i),Z2e=function(){return typeof window>"u"?null:window},J2e=function(e,n){if(bd(e)!=="object"||typeof e.createPolicy!="function")return null;var r=null,a="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(a)&&(r=n.currentScript.getAttribute(a));var i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML:function(o){return o},createScriptURL:function(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function EU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Z2e(),e=function(ye){return EU(ye)};if(e.version="3.0.1",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,r=t.document,a=t.DocumentFragment,i=t.HTMLTemplateElement,s=t.Node,o=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,c=u===void 0?t.NamedNodeMap||t.MozNamedAttrMap:u,d=t.HTMLFormElement,f=t.DOMParser,p=t.trustedTypes,m=o.prototype,g=U1(m,"cloneNode"),v=U1(m,"nextSibling"),y=U1(m,"childNodes"),b=U1(m,"parentNode");if(typeof i=="function"){var w=r.createElement("template");w.content&&w.content.ownerDocument&&(r=w.content.ownerDocument)}var x=J2e(p,n),k=x?x.createHTML(""):"",S=r,E=S.implementation,I=S.createNodeIterator,C=S.createDocumentFragment,R=S.getElementsByTagName,z=n.importNode,H={};e.isSupported=typeof SU=="function"&&typeof b=="function"&&E&&typeof E.createHTMLDocument<"u";var U=V2e,q=W2e,Q=G2e,re=H2e,he=q2e,ae=K2e,se=X2e,X=Y2e,ne=null,ke=Kt({},[].concat(wo(g8),wo(Dx),wo(Rx),wo($x),wo(y8))),Oe=null,We=Kt({},[].concat(wo(b8),wo(Ox),wo(v8),wo(j1))),ze=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Ie=null,Le=!0,Ge=!0,at=!1,pe=!0,de=!1,De=!1,nt=!1,Et=!1,$t=!1,yn=!1,sr=!1,Ar=!0,za=!1,or="user-content-",Ai=!0,li=!1,Qr={},Mr=null,Pn=Kt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ns=null,Br=Kt({},["audio","video","img","source","image","track"]),Di=null,tl=Kt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Os="http://www.w3.org/1998/Math/MathML",ui="http://www.w3.org/2000/svg",Ea="http://www.w3.org/1999/xhtml",Qt=Ea,vn=!1,Dn=null,Gt=Kt({},[Os,ui,Ea],Ix),ca,Ht=["application/xhtml+xml","text/html"],qt="text/html",Rn,zr=null,Sr=r.createElement("form"),Lt=function(ye){return ye instanceof RegExp||ye instanceof Function},mo=function(ye){zr&&zr===ye||((!ye||bd(ye)!=="object")&&(ye={}),ye=Rh(ye),ca=Ht.indexOf(ye.PARSER_MEDIA_TYPE)===-1?ca=qt:ca=ye.PARSER_MEDIA_TYPE,Rn=ca==="application/xhtml+xml"?Ix:G2,ne="ALLOWED_TAGS"in ye?Kt({},ye.ALLOWED_TAGS,Rn):ke,Oe="ALLOWED_ATTR"in ye?Kt({},ye.ALLOWED_ATTR,Rn):We,Dn="ALLOWED_NAMESPACES"in ye?Kt({},ye.ALLOWED_NAMESPACES,Ix):Gt,Di="ADD_URI_SAFE_ATTR"in ye?Kt(Rh(tl),ye.ADD_URI_SAFE_ATTR,Rn):tl,ns="ADD_DATA_URI_TAGS"in ye?Kt(Rh(Br),ye.ADD_DATA_URI_TAGS,Rn):Br,Mr="FORBID_CONTENTS"in ye?Kt({},ye.FORBID_CONTENTS,Rn):Pn,be="FORBID_TAGS"in ye?Kt({},ye.FORBID_TAGS,Rn):{},Ie="FORBID_ATTR"in ye?Kt({},ye.FORBID_ATTR,Rn):{},Qr="USE_PROFILES"in ye?ye.USE_PROFILES:!1,Le=ye.ALLOW_ARIA_ATTR!==!1,Ge=ye.ALLOW_DATA_ATTR!==!1,at=ye.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=ye.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=ye.SAFE_FOR_TEMPLATES||!1,De=ye.WHOLE_DOCUMENT||!1,$t=ye.RETURN_DOM||!1,yn=ye.RETURN_DOM_FRAGMENT||!1,sr=ye.RETURN_TRUSTED_TYPE||!1,Et=ye.FORCE_BODY||!1,Ar=ye.SANITIZE_DOM!==!1,za=ye.SANITIZE_NAMED_PROPS||!1,Ai=ye.KEEP_CONTENT!==!1,li=ye.IN_PLACE||!1,X=ye.ALLOWED_URI_REGEXP||X,Qt=ye.NAMESPACE||Ea,ze=ye.CUSTOM_ELEMENT_HANDLING||{},ye.CUSTOM_ELEMENT_HANDLING&&Lt(ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ze.tagNameCheck=ye.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&Lt(ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ze.attributeNameCheck=ye.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ye.CUSTOM_ELEMENT_HANDLING&&typeof ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ze.allowCustomizedBuiltInElements=ye.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(Ge=!1),yn&&($t=!0),Qr&&(ne=Kt({},wo(y8)),Oe=[],Qr.html===!0&&(Kt(ne,g8),Kt(Oe,b8)),Qr.svg===!0&&(Kt(ne,Dx),Kt(Oe,Ox),Kt(Oe,j1)),Qr.svgFilters===!0&&(Kt(ne,Rx),Kt(Oe,Ox),Kt(Oe,j1)),Qr.mathMl===!0&&(Kt(ne,$x),Kt(Oe,v8),Kt(Oe,j1))),ye.ADD_TAGS&&(ne===ke&&(ne=Rh(ne)),Kt(ne,ye.ADD_TAGS,Rn)),ye.ADD_ATTR&&(Oe===We&&(Oe=Rh(Oe)),Kt(Oe,ye.ADD_ATTR,Rn)),ye.ADD_URI_SAFE_ATTR&&Kt(Di,ye.ADD_URI_SAFE_ATTR,Rn),ye.FORBID_CONTENTS&&(Mr===Pn&&(Mr=Rh(Mr)),Kt(Mr,ye.FORBID_CONTENTS,Rn)),Ai&&(ne["#text"]=!0),De&&Kt(ne,["html","head","body"]),ne.table&&(Kt(ne,["tbody"]),delete be.tbody),ki&&ki(ye),zr=ye)},rs=Kt({},["mi","mo","mn","ms","mtext"]),Ua=Kt({},["foreignobject","desc","title","annotation-xml"]),jn=Kt({},["title","style","font","a","script"]),Dr=Kt({},Dx);Kt(Dr,Rx),Kt(Dr,U2e);var Ls=Kt({},$x);Kt(Ls,j2e);var Zr=function(ye){var Ve=b(ye);(!Ve||!Ve.tagName)&&(Ve={namespaceURI:Qt,tagName:"template"});var st=G2(ye.tagName),an=G2(Ve.tagName);return Dn[ye.namespaceURI]?ye.namespaceURI===ui?Ve.namespaceURI===Ea?st==="svg":Ve.namespaceURI===Os?st==="svg"&&(an==="annotation-xml"||rs[an]):!!Dr[st]:ye.namespaceURI===Os?Ve.namespaceURI===Ea?st==="math":Ve.namespaceURI===ui?st==="math"&&Ua[an]:!!Ls[st]:ye.namespaceURI===Ea?Ve.namespaceURI===ui&&!Ua[an]||Ve.namespaceURI===Os&&!rs[an]?!1:!Ls[st]&&(jn[st]||!Dr[st]):!!(ca==="application/xhtml+xml"&&Dn[ye.namespaceURI]):!1},Ur=function(ye){sm(e.removed,{element:ye});try{ye.parentNode.removeChild(ye)}catch{ye.remove()}},Ri=function(ye,Ve){try{sm(e.removed,{attribute:Ve.getAttributeNode(ye),from:Ve})}catch{sm(e.removed,{attribute:null,from:Ve})}if(Ve.removeAttribute(ye),ye==="is"&&!Oe[ye])if($t||yn)try{Ur(Ve)}catch{}else try{Ve.setAttribute(ye,"")}catch{}},wu=function(ye){var Ve,st;if(Et)ye="<remove></remove>"+ye;else{var an=P2e(ye,/^[\r\n\t ]+/);st=an&&an[0]}ca==="application/xhtml+xml"&&Qt===Ea&&(ye='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ye+"</body></html>");var Vn=x?x.createHTML(ye):ye;if(Qt===Ea)try{Ve=new f().parseFromString(Vn,ca)}catch{}if(!Ve||!Ve.documentElement){Ve=E.createDocument(Qt,"template",null);try{Ve.documentElement.innerHTML=vn?k:Vn}catch{}}var ea=Ve.body||Ve.documentElement;return ye&&st&&ea.insertBefore(r.createTextNode(st),ea.childNodes[0]||null),Qt===Ea?R.call(Ve,De?"html":"body")[0]:De?Ve.documentElement:ea},lr=function(ye){return I.call(ye.ownerDocument||ye,ye,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},$i=function(ye){return ye instanceof d&&(typeof ye.nodeName!="string"||typeof ye.textContent!="string"||typeof ye.removeChild!="function"||!(ye.attributes instanceof c)||typeof ye.removeAttribute!="function"||typeof ye.setAttribute!="function"||typeof ye.namespaceURI!="string"||typeof ye.insertBefore!="function"||typeof ye.hasChildNodes!="function")},as=function(ye){return bd(s)==="object"?ye instanceof s:ye&&bd(ye)==="object"&&typeof ye.nodeType=="number"&&typeof ye.nodeName=="string"},Jr=function(ye,Ve,st){H[ye]&&F2e(H[ye],function(an){an.call(e,Ve,st,zr)})},Fl=function(ye){var Ve;if(Jr("beforeSanitizeElements",ye,null),$i(ye))return Ur(ye),!0;var st=Rn(ye.nodeName);if(Jr("uponSanitizeElement",ye,{tagName:st,allowedTags:ne}),ye.hasChildNodes()&&!as(ye.firstElementChild)&&(!as(ye.content)||!as(ye.content.firstElementChild))&&us(/<[/\w]/g,ye.innerHTML)&&us(/<[/\w]/g,ye.textContent))return Ur(ye),!0;if(!ne[st]||be[st]){if(!be[st]&&nl(st)&&(ze.tagNameCheck instanceof RegExp&&us(ze.tagNameCheck,st)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(st)))return!1;if(Ai&&!Mr[st]){var an=b(ye)||ye.parentNode,Vn=y(ye)||ye.childNodes;if(Vn&&an)for(var ea=Vn.length,Wn=ea-1;Wn>=0;--Wn)an.insertBefore(g(Vn[Wn],!0),v(ye))}return Ur(ye),!0}return ye instanceof o&&!Zr(ye)||(st==="noscript"||st==="noembed")&&us(/<\/no(script|embed)/i,ye.innerHTML)?(Ur(ye),!0):(de&&ye.nodeType===3&&(Ve=ye.textContent,Ve=vo(Ve,U," "),Ve=vo(Ve,q," "),Ve=vo(Ve,Q," "),ye.textContent!==Ve&&(sm(e.removed,{element:ye.cloneNode()}),ye.textContent=Ve)),Jr("afterSanitizeElements",ye,null),!1)},is=function(ye,Ve,st){if(Ar&&(Ve==="id"||Ve==="name")&&(st in r||st in Sr))return!1;if(!(Ge&&!Ie[Ve]&&us(re,Ve))){if(!(Le&&us(he,Ve))){if(!Oe[Ve]||Ie[Ve]){if(!(nl(ye)&&(ze.tagNameCheck instanceof RegExp&&us(ze.tagNameCheck,ye)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(ye))&&(ze.attributeNameCheck instanceof RegExp&&us(ze.attributeNameCheck,Ve)||ze.attributeNameCheck instanceof Function&&ze.attributeNameCheck(Ve))||Ve==="is"&&ze.allowCustomizedBuiltInElements&&(ze.tagNameCheck instanceof RegExp&&us(ze.tagNameCheck,st)||ze.tagNameCheck instanceof Function&&ze.tagNameCheck(st))))return!1}else if(!Di[Ve]){if(!us(X,vo(st,se,""))){if(!((Ve==="src"||Ve==="xlink:href"||Ve==="href")&&ye!=="script"&&M2e(st,"data:")===0&&ns[ye])){if(!(at&&!us(ae,vo(st,se,"")))){if(st)return!1}}}}}}return!0},nl=function(ye){return ye.indexOf("-")>0},go=function(ye){var Ve,st,an,Vn;Jr("beforeSanitizeAttributes",ye,null);var ea=ye.attributes;if(ea){var Wn={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Oe};for(Vn=ea.length;Vn--;){Ve=ea[Vn];var Rr=Ve,ci=Rr.name,ss=Rr.namespaceURI;if(st=ci==="value"?Ve.value:B2e(Ve.value),an=Rn(ci),Wn.attrName=an,Wn.attrValue=st,Wn.keepAttr=!0,Wn.forceKeepAttr=void 0,Jr("uponSanitizeAttribute",ye,Wn),st=Wn.attrValue,!Wn.forceKeepAttr&&(Ri(ci,ye),!!Wn.keepAttr)){if(!pe&&us(/\/>/i,st)){Ri(ci,ye);continue}de&&(st=vo(st,U," "),st=vo(st,q," "),st=vo(st,Q," "));var os=Rn(ye.nodeName);if(is(os,an,st)){if(za&&(an==="id"||an==="name")&&(Ri(ci,ye),st=or+st),x&&bd(p)==="object"&&typeof p.getAttributeType=="function"&&!ss)switch(p.getAttributeType(os,an)){case"TrustedHTML":st=x.createHTML(st);break;case"TrustedScriptURL":st=x.createScriptURL(st);break}try{ss?ye.setAttributeNS(ss,ci,st):ye.setAttribute(ci,st),m8(e.removed)}catch{}}}}Jr("afterSanitizeAttributes",ye,null)}},Pl=function _t(ye){var Ve,st=lr(ye);for(Jr("beforeSanitizeShadowDOM",ye,null);Ve=st.nextNode();)Jr("uponSanitizeShadowNode",Ve,null),!Fl(Ve)&&(Ve.content instanceof a&&_t(Ve.content),go(Ve));Jr("afterSanitizeShadowDOM",ye,null)};return e.sanitize=function(_t){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve,st,an,Vn;if(vn=!_t,vn&&(_t="<!-->"),typeof _t!="string"&&!as(_t)){if(typeof _t.toString!="function")throw Ax("toString is not a function");if(_t=_t.toString(),typeof _t!="string")throw Ax("dirty is not a string, aborting")}if(!e.isSupported)return _t;if(nt||mo(ye),e.removed=[],typeof _t=="string"&&(li=!1),li){if(_t.nodeName){var ea=Rn(_t.nodeName);if(!ne[ea]||be[ea])throw Ax("root node is forbidden and cannot be sanitized in-place")}}else if(_t instanceof s)Ve=wu("<!---->"),st=Ve.ownerDocument.importNode(_t,!0),st.nodeType===1&&st.nodeName==="BODY"||st.nodeName==="HTML"?Ve=st:Ve.appendChild(st);else{if(!$t&&!de&&!De&&_t.indexOf("<")===-1)return x&&sr?x.createHTML(_t):_t;if(Ve=wu(_t),!Ve)return $t?null:sr?k:""}Ve&&Et&&Ur(Ve.firstChild);for(var Wn=lr(li?_t:Ve);an=Wn.nextNode();)Fl(an)||(an.content instanceof a&&Pl(an.content),go(an));if(li)return _t;if($t){if(yn)for(Vn=C.call(Ve.ownerDocument);Ve.firstChild;)Vn.appendChild(Ve.firstChild);else Vn=Ve;return(Oe.shadowroot||Oe.shadowrootmod)&&(Vn=z.call(n,Vn,!0)),Vn}var Rr=De?Ve.outerHTML:Ve.innerHTML;return De&&ne["!doctype"]&&Ve.ownerDocument&&Ve.ownerDocument.doctype&&Ve.ownerDocument.doctype.name&&us(Q2e,Ve.ownerDocument.doctype.name)&&(Rr="<!DOCTYPE "+Ve.ownerDocument.doctype.name+`>
`+Rr),de&&(Rr=vo(Rr,U," "),Rr=vo(Rr,q," "),Rr=vo(Rr,Q," ")),x&&sr?x.createHTML(Rr):Rr},e.setConfig=function(_t){mo(_t),nt=!0},e.clearConfig=function(){zr=null,nt=!1},e.isValidAttribute=function(_t,ye,Ve){zr||mo({});var st=Rn(_t),an=Rn(ye);return is(st,an,Ve)},e.addHook=function(_t,ye){typeof ye=="function"&&(H[_t]=H[_t]||[],sm(H[_t],ye))},e.removeHook=function(_t){if(H[_t])return m8(H[_t])},e.removeHooks=function(_t){H[_t]&&(H[_t]=[])},e.removeAllHooks=function(){H={}},e}var eye=EU();const tye="data:text/css;base64,Y29kZVtjbGFzcyo9bGFuZ3VhZ2UtXSxwcmVbY2xhc3MqPWxhbmd1YWdlLV17Y29sb3I6IzAwMDtiYWNrZ3JvdW5kOjAgMDt0ZXh0LXNoYWRvdzowIDFweCAjZmZmO2ZvbnQtZmFtaWx5OkNvbnNvbGFzLE1vbmFjbywnQW5kYWxlIE1vbm8nLCdVYnVudHUgTW9ubycsbW9ub3NwYWNlO2ZvbnQtc2l6ZToxZW07dGV4dC1hbGlnbjpsZWZ0O3doaXRlLXNwYWNlOnByZTt3b3JkLXNwYWNpbmc6bm9ybWFsO3dvcmQtYnJlYWs6bm9ybWFsO3dvcmQtd3JhcDpub3JtYWw7bGluZS1oZWlnaHQ6MS41Oy1tb3otdGFiLXNpemU6NDstby10YWItc2l6ZTo0O3RhYi1zaXplOjQ7LXdlYmtpdC1oeXBoZW5zOm5vbmU7LW1vei1oeXBoZW5zOm5vbmU7LW1zLWh5cGhlbnM6bm9uZTtoeXBoZW5zOm5vbmV9Y29kZVtjbGFzcyo9bGFuZ3VhZ2UtXSA6Oi1tb3otc2VsZWN0aW9uLGNvZGVbY2xhc3MqPWxhbmd1YWdlLV06Oi1tb3otc2VsZWN0aW9uLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXSA6Oi1tb3otc2VsZWN0aW9uLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXTo6LW1vei1zZWxlY3Rpb257dGV4dC1zaGFkb3c6bm9uZTtiYWNrZ3JvdW5kOiNiM2Q0ZmN9Y29kZVtjbGFzcyo9bGFuZ3VhZ2UtXSA6OnNlbGVjdGlvbixjb2RlW2NsYXNzKj1sYW5ndWFnZS1dOjpzZWxlY3Rpb24scHJlW2NsYXNzKj1sYW5ndWFnZS1dIDo6c2VsZWN0aW9uLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXTo6c2VsZWN0aW9ue3RleHQtc2hhZG93Om5vbmU7YmFja2dyb3VuZDojYjNkNGZjfUBtZWRpYSBwcmludHtjb2RlW2NsYXNzKj1sYW5ndWFnZS1dLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXXt0ZXh0LXNoYWRvdzpub25lfX1wcmVbY2xhc3MqPWxhbmd1YWdlLV17cGFkZGluZzoxZW07bWFyZ2luOi41ZW0gMDtvdmVyZmxvdzphdXRvfTpub3QocHJlKT5jb2RlW2NsYXNzKj1sYW5ndWFnZS1dLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXXtiYWNrZ3JvdW5kOiNmNWYyZjB9Om5vdChwcmUpPmNvZGVbY2xhc3MqPWxhbmd1YWdlLV17cGFkZGluZzouMWVtO2JvcmRlci1yYWRpdXM6LjNlbTt3aGl0ZS1zcGFjZTpub3JtYWx9LnRva2VuLmNkYXRhLC50b2tlbi5jb21tZW50LC50b2tlbi5kb2N0eXBlLC50b2tlbi5wcm9sb2d7Y29sb3I6IzcwODA5MH0udG9rZW4ucHVuY3R1YXRpb257Y29sb3I6Izk5OX0udG9rZW4ubmFtZXNwYWNle29wYWNpdHk6Ljd9LnRva2VuLmJvb2xlYW4sLnRva2VuLmNvbnN0YW50LC50b2tlbi5kZWxldGVkLC50b2tlbi5udW1iZXIsLnRva2VuLnByb3BlcnR5LC50b2tlbi5zeW1ib2wsLnRva2VuLnRhZ3tjb2xvcjojOTA1fS50b2tlbi5hdHRyLW5hbWUsLnRva2VuLmJ1aWx0aW4sLnRva2VuLmNoYXIsLnRva2VuLmluc2VydGVkLC50b2tlbi5zZWxlY3RvciwudG9rZW4uc3RyaW5ne2NvbG9yOiM2OTB9Lmxhbmd1YWdlLWNzcyAudG9rZW4uc3RyaW5nLC5zdHlsZSAudG9rZW4uc3RyaW5nLC50b2tlbi5lbnRpdHksLnRva2VuLm9wZXJhdG9yLC50b2tlbi51cmx7Y29sb3I6IzlhNmUzYTtiYWNrZ3JvdW5kOmhzbGEoMCwwJSwxMDAlLC41KX0udG9rZW4uYXRydWxlLC50b2tlbi5hdHRyLXZhbHVlLC50b2tlbi5rZXl3b3Jke2NvbG9yOiMwN2F9LnRva2VuLmNsYXNzLW5hbWUsLnRva2VuLmZ1bmN0aW9ue2NvbG9yOiNkZDRhNjh9LnRva2VuLmltcG9ydGFudCwudG9rZW4ucmVnZXgsLnRva2VuLnZhcmlhYmxle2NvbG9yOiNlOTB9LnRva2VuLmJvbGQsLnRva2VuLmltcG9ydGFudHtmb250LXdlaWdodDo3MDB9LnRva2VuLml0YWxpY3tmb250LXN0eWxlOml0YWxpY30udG9rZW4uZW50aXR5e2N1cnNvcjpoZWxwfQ==",nye="data:text/css;base64,Y29kZVtjbGFzcyo9bGFuZ3VhZ2UtXSxwcmVbY2xhc3MqPWxhbmd1YWdlLV17Y29sb3I6I2Y4ZjhmMjtiYWNrZ3JvdW5kOjAgMDt0ZXh0LXNoYWRvdzowIDFweCByZ2JhKDAsMCwwLC4zKTtmb250LWZhbWlseTpDb25zb2xhcyxNb25hY28sJ0FuZGFsZSBNb25vJywnVWJ1bnR1IE1vbm8nLG1vbm9zcGFjZTtmb250LXNpemU6MWVtO3RleHQtYWxpZ246bGVmdDt3aGl0ZS1zcGFjZTpwcmU7d29yZC1zcGFjaW5nOm5vcm1hbDt3b3JkLWJyZWFrOm5vcm1hbDt3b3JkLXdyYXA6bm9ybWFsO2xpbmUtaGVpZ2h0OjEuNTstbW96LXRhYi1zaXplOjQ7LW8tdGFiLXNpemU6NDt0YWItc2l6ZTo0Oy13ZWJraXQtaHlwaGVuczpub25lOy1tb3otaHlwaGVuczpub25lOy1tcy1oeXBoZW5zOm5vbmU7aHlwaGVuczpub25lfXByZVtjbGFzcyo9bGFuZ3VhZ2UtXXtwYWRkaW5nOjFlbTttYXJnaW46LjVlbSAwO292ZXJmbG93OmF1dG87Ym9yZGVyLXJhZGl1czouM2VtfTpub3QocHJlKT5jb2RlW2NsYXNzKj1sYW5ndWFnZS1dLHByZVtjbGFzcyo9bGFuZ3VhZ2UtXXtiYWNrZ3JvdW5kOiMyNzI4MjJ9Om5vdChwcmUpPmNvZGVbY2xhc3MqPWxhbmd1YWdlLV17cGFkZGluZzouMWVtO2JvcmRlci1yYWRpdXM6LjNlbTt3aGl0ZS1zcGFjZTpub3JtYWx9LnRva2VuLmNkYXRhLC50b2tlbi5jb21tZW50LC50b2tlbi5kb2N0eXBlLC50b2tlbi5wcm9sb2d7Y29sb3I6IzgyOTJhMn0udG9rZW4ucHVuY3R1YXRpb257Y29sb3I6I2Y4ZjhmMn0udG9rZW4ubmFtZXNwYWNle29wYWNpdHk6Ljd9LnRva2VuLmNvbnN0YW50LC50b2tlbi5kZWxldGVkLC50b2tlbi5wcm9wZXJ0eSwudG9rZW4uc3ltYm9sLC50b2tlbi50YWd7Y29sb3I6I2Y5MjY3Mn0udG9rZW4uYm9vbGVhbiwudG9rZW4ubnVtYmVye2NvbG9yOiNhZTgxZmZ9LnRva2VuLmF0dHItbmFtZSwudG9rZW4uYnVpbHRpbiwudG9rZW4uY2hhciwudG9rZW4uaW5zZXJ0ZWQsLnRva2VuLnNlbGVjdG9yLC50b2tlbi5zdHJpbmd7Y29sb3I6I2E2ZTIyZX0ubGFuZ3VhZ2UtY3NzIC50b2tlbi5zdHJpbmcsLnN0eWxlIC50b2tlbi5zdHJpbmcsLnRva2VuLmVudGl0eSwudG9rZW4ub3BlcmF0b3IsLnRva2VuLnVybCwudG9rZW4udmFyaWFibGV7Y29sb3I6I2Y4ZjhmMn0udG9rZW4uYXRydWxlLC50b2tlbi5hdHRyLXZhbHVlLC50b2tlbi5jbGFzcy1uYW1lLC50b2tlbi5mdW5jdGlvbntjb2xvcjojZTZkYjc0fS50b2tlbi5rZXl3b3Jke2NvbG9yOiM2NmQ5ZWZ9LnRva2VuLmltcG9ydGFudCwudG9rZW4ucmVnZXh7Y29sb3I6I2ZkOTcxZn0udG9rZW4uYm9sZCwudG9rZW4uaW1wb3J0YW50e2ZvbnQtd2VpZ2h0OjcwMH0udG9rZW4uaXRhbGlje2ZvbnQtc3R5bGU6aXRhbGljfS50b2tlbi5lbnRpdHl7Y3Vyc29yOmhlbHB9";Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean;(function(t){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(Prism);(function(t){function e(se,X){return se.replace(/<<(\d+)>>/g,function(ne,ke){return"(?:"+X[+ke]+")"})}function n(se,X,ne){return RegExp(e(se,X),ne||"")}function r(se,X){for(var ne=0;ne<X;ne++)se=se.replace(/<<self>>/g,function(){return"(?:"+se+")"});return se.replace(/<<self>>/g,"[^\\s\\S]")}var a={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function i(se){return"\\b(?:"+se.trim().replace(/ /g,"|")+")\\b"}var s=i(a.typeDeclaration),o=RegExp(i(a.type+" "+a.typeDeclaration+" "+a.contextual+" "+a.other)),l=i(a.typeDeclaration+" "+a.contextual+" "+a.other),u=i(a.type+" "+a.typeDeclaration+" "+a.other),c=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),d=r(/\((?:[^()]|<<self>>)*\)/.source,2),f=/@?\b[A-Za-z_]\w*\b/.source,p=e(/<<0>>(?:\s*<<1>>)?/.source,[f,c]),m=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[l,p]),g=/\[\s*(?:,\s*)*\]/.source,v=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[m,g]),y=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[c,d,g]),b=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[y]),w=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[b,m,g]),x={keyword:o,punctuation:/[<>()?,.:[\]]/},k=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,S=/"(?:\\.|[^\\"\r\n])*"/.source,E=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[E]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[m]),lookbehind:!0,inside:x},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[f,w]),lookbehind:!0,inside:x},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[f]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[s,p]),lookbehind:!0,inside:x},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[m]),lookbehind:!0,inside:x},{pattern:n(/(\bwhere\s+)<<0>>/.source,[f]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:x},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[w,u,f]),inside:x}],keyword:o,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[f]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[f]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[d]),lookbehind:!0,alias:"class-name",inside:x},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[w,m]),inside:x,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[w]),lookbehind:!0,inside:x,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[f,c]),inside:{function:n(/^<<0>>/.source,[f]),generic:{pattern:RegExp(c),alias:"class-name",inside:x}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[s,p,f,w,o.source,d,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[p,d]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:o,"class-name":{pattern:RegExp(w),greedy:!0,inside:x},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var I=S+"|"+k,C=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[I]),R=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),z=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,H=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[m,R]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[z,H]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[z]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[R]),inside:t.languages.csharp},"class-name":{pattern:RegExp(m),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var U=/:[^}\r\n]+/.source,q=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[C]),2),Q=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[q,U]),re=r(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[I]),2),he=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[re,U]);function ae(se,X){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[se]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[X,U]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Q]),lookbehind:!0,greedy:!0,inside:ae(Q,q)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[he]),lookbehind:!0,greedy:!0,inside:ae(he,re)}],char:{pattern:RegExp(k),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp})(Prism);(function(t){var e=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],n=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};t.languages.dart=t.languages.extend("clike",{"class-name":[r,{pattern:RegExp(n+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:r.inside}],keyword:e,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),t.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.dart}}},string:/[\s\S]+/}},string:void 0}),t.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),t.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"];(function(t){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:e,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism);(function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin})(Prism);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript})(Prism);(function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/};Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python;(function(t){function e(n,r){return"___"+n.toUpperCase()+r+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,a,i){if(n.language===r){var s=n.tokenStack=[];n.code=n.code.replace(a,function(o){if(typeof i=="function"&&!i(o))return o;for(var l=s.length,u;n.code.indexOf(u=e(r,l))!==-1;)++l;return s[l]=o,u}),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language!==r||!n.tokenStack)return;n.grammar=t.languages[r];var a=0,i=Object.keys(n.tokenStack);function s(o){for(var l=0;l<o.length&&!(a>=i.length);l++){var u=o[l];if(typeof u=="string"||u.content&&typeof u.content=="string"){var c=i[a],d=n.tokenStack[c],f=typeof u=="string"?u:u.content,p=e(r,c),m=f.indexOf(p);if(m>-1){++a;var g=f.substring(0,m),v=new t.Token(r,t.tokenize(d,n.grammar),"language-"+r,d),y=f.substring(m+p.length),b=[];g&&b.push.apply(b,s([g])),b.push(v),y&&b.push.apply(b,s([y])),typeof u=="string"?o.splice.apply(o,[l,1].concat(b)):u.content=b}}else u.content&&s(u.content)}return o}s(n.tokens)}}})})(Prism);(function(t){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,a=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,i=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:a,punctuation:i};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},o=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];t.languages.insertBefore("php","variable",{string:o,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:o,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:a,punctuation:i}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(l){if(/<\?/.test(l.code)){var u=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;t.languages["markup-templating"].buildPlaceholders(l,"php",u)}}),t.hooks.add("after-tokenize",function(l){t.languages["markup-templating"].tokenizePlaceholders(l,"php")})})(Prism);(function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby})(Prism);Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/};Prism.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=Prism.languages.swift});(function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var a=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],i=r.variable[1].inside,s=0;s<a.length;s++)i[a[s]]=t.languages.bash[a[s]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(Prism);(function(){if(typeof Prism<"u"&&typeof document<"u"){var t="line-numbers",e=/\n(?!$)/g,n=Prism.plugins.lineNumbers={getLine:function(i,s){if(i.tagName==="PRE"&&i.classList.contains(t)){var o=i.querySelector(".line-numbers-rows");if(o){var l=parseInt(i.getAttribute("data-start"),10)||1,u=l+(o.children.length-1);s<l&&(s=l),s>u&&(s=u);var c=s-l;return o.children[c]}}},resize:function(i){a([i])},assumeViewportIndependence:!0},r=void 0;window.addEventListener("resize",function(){n.assumeViewportIndependence&&r===window.innerWidth||(r=window.innerWidth,a(Array.prototype.slice.call(document.querySelectorAll("pre.line-numbers"))))}),Prism.hooks.add("complete",function(i){if(i.code){var s=i.element,o=s.parentNode;if(o&&/pre/i.test(o.nodeName)&&!s.querySelector(".line-numbers-rows")&&Prism.util.isActive(s,t)){s.classList.remove(t),o.classList.add(t);var l,u=i.code.match(e),c=u?u.length+1:1,d=new Array(c+1).join("<span></span>");(l=document.createElement("span")).setAttribute("aria-hidden","true"),l.className="line-numbers-rows",l.innerHTML=d,o.hasAttribute("data-start")&&(o.style.counterReset="linenumber "+(parseInt(o.getAttribute("data-start"),10)-1)),i.element.appendChild(l),a([o]),Prism.hooks.run("line-numbers",i)}}}),Prism.hooks.add("line-numbers",function(i){i.plugins=i.plugins||{},i.plugins.lineNumbers=!0})}function a(i){if((i=i.filter(function(o){var l,u=(l=o,l?window.getComputedStyle?getComputedStyle(l):l.currentStyle||null:null)["white-space"];return u==="pre-wrap"||u==="pre-line"})).length!=0){var s=i.map(function(o){var l=o.querySelector("code"),u=o.querySelector(".line-numbers-rows");if(l&&u){var c=o.querySelector(".line-numbers-sizer"),d=l.textContent.split(e);c||((c=document.createElement("span")).className="line-numbers-sizer",l.appendChild(c)),c.innerHTML="0",c.style.display="block";var f=c.getBoundingClientRect().height;return c.innerHTML="",{element:o,lines:d,lineHeights:[],oneLinerHeight:f,sizer:c}}}).filter(Boolean);s.forEach(function(o){var l=o.sizer,u=o.lines,c=o.lineHeights,d=o.oneLinerHeight;c[u.length-1]=void 0,u.forEach(function(f,p){if(f&&f.length>1){var m=l.appendChild(document.createElement("span"));m.style.display="block",m.textContent=f}else c[p]=d})}),s.forEach(function(o){for(var l=o.sizer,u=o.lineHeights,c=0,d=0;d<u.length;d++)u[d]===void 0&&(u[d]=l.children[c++].getBoundingClientRect().height)}),s.forEach(function(o){var l=o.sizer,u=o.element.querySelector(".line-numbers-rows");l.style.display="none",l.innerHTML="",o.lineHeights.forEach(function(c,d){u.children[d].style.height=c+"px"})})}}})();(function(){if(typeof Prism<"u"&&typeof document<"u"){var t=[],e={},n=function(){};Prism.plugins.toolbar={};var r=Prism.plugins.toolbar.registerButton=function(i,s){var o;o=typeof s=="function"?s:function(l){var u;return typeof s.onClick=="function"?((u=document.createElement("button")).type="button",u.addEventListener("click",function(){s.onClick.call(this,l)})):typeof s.url=="string"?(u=document.createElement("a")).href=s.url:u=document.createElement("span"),s.className&&u.classList.add(s.className),u.textContent=s.text,u},i in e?console.warn('There is a button with the key "'+i+'" registered already.'):t.push(e[i]=o)},a=Prism.plugins.toolbar.hook=function(i){var s=i.element.parentNode;if(s&&/pre/i.test(s.nodeName)&&!s.parentNode.classList.contains("code-toolbar")){var o=document.createElement("div");o.classList.add("code-toolbar"),s.parentNode.insertBefore(o,s),o.appendChild(s);var l=document.createElement("div");l.classList.add("toolbar");var u=t,c=function(d){for(;d;){var f=d.getAttribute("data-toolbar-order");if(f!=null)return(f=f.trim()).length?f.split(/\s*,\s*/g):[];d=d.parentElement}}(i.element);c&&(u=c.map(function(d){return e[d]||n})),u.forEach(function(d){var f=d(i);if(f){var p=document.createElement("div");p.classList.add("toolbar-item"),p.appendChild(f),l.appendChild(p)}}),o.appendChild(l)}};r("label",function(i){var s=i.element.parentNode;if(s&&/pre/i.test(s.nodeName)&&s.hasAttribute("data-label")){var o,l,u=s.getAttribute("data-label");try{l=document.querySelector("template#"+u)}catch{}return l?o=l.content:(s.hasAttribute("data-url")?(o=document.createElement("a")).href=s.getAttribute("data-url"):o=document.createElement("span"),o.textContent=u),o}}),Prism.hooks.add("complete",a)}})();(function(){function t(e){var n=document.createElement("textarea");n.value=e.getText(),n.style.top="0",n.style.left="0",n.style.position="fixed",document.body.appendChild(n),n.focus(),n.select();try{var r=document.execCommand("copy");setTimeout(function(){r?e.success():e.error()},1)}catch(a){setTimeout(function(){e.error(a)},1)}document.body.removeChild(n)}typeof Prism<"u"&&typeof document<"u"&&(Prism.plugins.toolbar?Prism.plugins.toolbar.registerButton("copy-to-clipboard",function(e){var n=e.element,r=function(l){var u={copy:"Copy","copy-error":"Press Ctrl+C to copy","copy-success":"Copied!","copy-timeout":5e3};for(var c in u){for(var d="data-prismjs-"+c,f=l;f&&!f.hasAttribute(d);)f=f.parentElement;f&&(u[c]=f.getAttribute(d))}return u}(n),a=document.createElement("button");a.className="copy-to-clipboard-button",a.setAttribute("type","button");var i=document.createElement("span");return a.appendChild(i),o("copy"),function(l,u){l.addEventListener("click",function(){(function(c){navigator.clipboard?navigator.clipboard.writeText(c.getText()).then(c.success,function(){t(c)}):t(c)})(u)})}(a,{getText:function(){return n.textContent},success:function(){o("copy-success"),s()},error:function(){o("copy-error"),setTimeout(function(){(function(l){window.getSelection().selectAllChildren(l)})(n)},1),s()}}),a;function s(){setTimeout(function(){o("copy")},r["copy-timeout"])}function o(l){i.textContent=r[l],a.setAttribute("data-copy-state",l)}}):console.warn("Copy to Clipboard plugin loaded before Toolbar plugin."))})();const rye=({content:t,sanitize:e,className:n})=>{const r=D.useRef(null),[a]=Ov(),[i]=ph(),{lang:s}=ct();return D.useEffect(()=>{const o=document.getElementById("prism-css");o instanceof HTMLLinkElement&&(o.href=i?nye:tye)},[i]),D.useEffect(()=>{e0e.highlightAll()},[s]),D.useEffect(()=>{let o;const l=document.getElementById("mathjax-js");l instanceof HTMLScriptElement&&!l.src&&(l.type="text/javascript",l.src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js");function u(c){if(c<=0){console.error("Failed initializing MathJax");return}if(!window.MathJax||!window.MathJax.typesetPromise){o=setTimeout(()=>u(c-1),1e3);return}window.MathJax.typesetPromise()}return u(5),()=>clearTimeout(o)},[]),h("div",{ref:r,className:Ce(yd.rtp,"line-numbers",n),style:{fontSize:a+16},dangerouslySetInnerHTML:{__html:e?eye.sanitize(t):t}})},sb=rye;function aye(t,e){let{choices:n,choices_id:r,correct_answer:a}=e;switch(t){case"choice":return n=n,n.map((i,s)=>({label:i,label_id:r?r[s]:"",point:s===a?"1":"0"}));case"weighted":return n=n,n.map(i=>{var s;return{...i,point:((s=i.point)==null?void 0:s.toString())||""}})}return[]}const TU=100,CU=5,iye=1,N0=5,H2=5,w8=()=>{const{t,lang:e}=ct(),{module:n}=uo(),{submissionId:r,setTotalQuestions:a}=Ll(),[i,s]=D.useState(""),[o]=lo("questionId",1),[l,u]=D.useState(),c=l==null?void 0:l.find((v,y)=>y+1===o),[d,f]=D.useState([]),p=d==null?void 0:d.find((v,y)=>y+1===o);D.useEffect(()=>{async function v(){var S;if(!(n!=null&&n.id))return;const{result:b,error:w}=await Ol(n.id,1,TU);if(!(b!=null&&b.data)){Xe({message:t(w||((S=b==null?void 0:b.error)==null?void 0:S.message)||"err_networkProblem"),type:"error"});return}s(b.data.kind),u(b.data.items),a(b.data.totalItems);const k=[...b.data.items].map(E=>aye(n.type,E).map((I,C)=>({...I,point:C.toString()})));if(n.random_choice){const E=k.map(I=>k0e(I).map(C=>({...C,point:I.indexOf(C).toString()})));f(E)}else f(k)}const y=setTimeout(v,100);return()=>clearTimeout(y)},[n==null?void 0:n.id]);const{update:m,value:g}=ow(`ASM_${r}`,o-1);return D.useEffect(()=>{if(g===null)return;const v=`ASM_${r}`,y=setTimeout(()=>{const b=ba(v);!b.length||!n||tp(n.id,b)},1500);return()=>clearInterval(y)},[o]),!n||!c||!p?_(St,{children:[h("div",{className:"md:hidden flex-1 animate-pulse",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"hidden md:flex h-test",children:[h("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"grow flex flex-col min-w-0 p-5 space-y-3 animate-pulse",children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"})]})]})]}):_(St,{children:[_("div",{className:"md:hidden w-full h-full",children:[h(K,{when:!!c.picture_url,children:h("div",{className:"p-4 pb-0",children:h("img",{src:c.picture_url,alt:"Question",className:"mx-auto"},c.id)})}),h(zn,{fallback:h(V1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(V1,{title:t("test_loadDescription")}),children:h(sb,{content:vr({en:c.description,id:c.description_id},e,n.enabled_translations)})})}),h("hr",{className:"border-gray-200 dark:border-slate-700"}),h("div",{className:"grow p-4 space-y-4",children:p.map((v,y)=>{const b=parseInt(v.point);return _("label",{className:Ce("flex items-start p-4 text-left rounded border dark:border-gray-600 border-gray-300 font-medium text-gray-900 space-x-2 text-md",{"dark:text-gray-300 cursor-pointer":b!==g,"bg-blue-100 dark:text-gray-900 ring-2 ring-blue-400":b===g}),children:[h("input",{id:`check-${y}`,type:"radio",checked:b===g,onChange:()=>m(b),className:"mt-0.5 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),_("div",{className:"font-semibold uppercase",children:[String.fromCharCode(65+y),"."]}),h("div",{children:vr({en:v.label,id:v.label_id},e,n.enabled_translations)})]},y)})})]}),_("div",{className:"hidden md:flex h-test",children:[_(Ma,{direction:"e",initSize:window.innerWidth/2,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:[h(K,{when:!!c.picture_url,children:h("div",{className:"p-4 pb-0",children:h("img",{src:c.picture_url,alt:"Question",className:"mx-auto"},c.id)})}),h(zn,{fallback:h(V1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(V1,{title:t("test_loadDescription")}),children:h(sb,{content:vr({en:c.description,id:c.description_id},e,n.enabled_translations)})})})]}),h("div",{className:"grow p-4 space-y-4",children:p.map((v,y)=>{const b=parseInt(v.point);return _("label",{className:Ce("flex items-start p-4 text-left rounded border dark:border-gray-600 border-gray-300 font-medium text-gray-900 space-x-2 text-md",{"dark:text-gray-300 cursor-pointer":b!==g,"bg-blue-100 dark:text-gray-900 ring-2 ring-blue-400":b===g}),children:[h("input",{id:`check-${y}`,type:"radio",checked:b===g,onChange:()=>m(b),className:"mt-0.5 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),_("div",{className:"font-semibold uppercase",children:[String.fromCharCode(65+y),"."]}),h("div",{children:vr({en:v.label,id:v.label_id},e,n.enabled_translations)})]},y)})})]})]})},V1=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),x8=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),_8=D.lazy(()=>Pr(()=>import("./Monaco-b9e7a9f6.js").then(t=>t.M),["assets/Monaco-b9e7a9f6.js","assets/Monaco-ac9b8205.css"])),k8=5,sye=function(){const{t,lang:e}=ct(),{module:n}=uo(),{assessment:r}=$l(),{submissionId:a,language:[i,s],setTotalQuestions:o,setNavs:l}=Ll(),[u]=mh("tab","description");D.useEffect(()=>{l([{label:t("gen_description"),value:"description",className:"capitalize"},{label:t("gen_code"),value:"code",className:"capitalize"},{label:t("gen_testCase"),value:"testCase",className:"capitalize"}])},[t]),D.useEffect(()=>{window.innerWidth<768&&Xe({type:"warning",message:t("test_mobile"),keep:!0})},[]);const[c,d]=lo("questionId",1),{code:f,setCode:p,setInitialData:m}=jge([i,s],c-1,a),{value:g,update:v}=k0(`ASM_${a}`,c-1),[y,b]=D.useState(),w=y==null?void 0:y.find((U,q)=>c===q+1);D.useEffect(()=>{async function U(){var he;if(!(n!=null&&n.id))return;const{result:Q,error:re}=await Ol(n.id,1,N0);if(!(Q!=null&&Q.data)){Xe({message:t(re||((he=Q==null?void 0:Q.error)==null?void 0:he.message)||"err_networkProblem"),type:"error"});return}b(Q.data.items),o(Q.data.totalItems),m(Q.data.items,n.enabled_lang||[])}const q=setTimeout(U,100);return()=>clearTimeout(q)},[n==null?void 0:n.id]);const[x,k]=D.useState([]),[S,E]=D.useState(!1);async function I(){var ne,ke;if(!n||!w||!g)return;g&&v({...g,answer:{code:f,language:i}}),k([]),E(!0);const{result:U,error:q}=await s0e(n.id,a,{language:i,code:f,questionId:w.id});if(!(U!=null&&U.data)){Xe({message:t(q||((ne=U==null?void 0:U.error)==null?void 0:ne.message)||"err_networkProblem"),type:"error"}),E(!1);return}const Q=ba(`ASM_${a}`);if(!U.data.reduce((Oe,We)=>Oe&&We.type==="correct",!0)||!Q.length){E(!1);const Oe=U.data.map((We,ze)=>V4(ze+1,We,w.inputType,w.inputParams));k(Oe);return}{const{result:Oe,error:We}=await JR(n.id,a,{code:f,language:i,questionId:w.id,timeSpent:g.timeSpent});if(!(Oe!=null&&Oe.data)){Xe({message:t(We||((ke=Oe==null?void 0:Oe.error)==null?void 0:ke.message)||"err_networkProblem"),type:"error"});return}v({...g,submitted:!0,answer:{code:f,language:i}})}let he=t("test_tcPass"),ae;Q.findIndex((Oe,We)=>We!==c-1&&!Oe.submitted)>=0?(he+=t("test_tcNextQuestion"),ae=()=>d(c+1)):he+=t("test_tcNextModule"),Xe({type:"success",message:he,onClick:ae}),E(!1);const X=U.data.map((Oe,We)=>V4(We+1,Oe,w.inputType,w.inputParams));k(X)}async function C(){var Q;if(!n||!w||!g)return;k([]),E(!0);const{result:U,error:q}=await JR(n.id,a,{code:f,language:i,questionId:w.id,timeSpent:g.timeSpent});if(E(!1),!(U!=null&&U.data)){Xe({message:t(q||((Q=U==null?void 0:U.error)==null?void 0:Q.message)||"err_networkProblem"),type:"error"});return}tu({title:t("test_solutionSubmitted"),message:t("test_solutionSubmittedDesc")}),v({...g,submitted:!0,answer:{code:f,language:i}})}D.useEffect(()=>{k([])},[c]);const[R,z]=D.useState(k8),[H]=Iz();return D.useEffect(()=>{async function U(){if(!(!r||!n||!(w!=null&&w.id)||!a)){if(R>0){z(R-1);return}await H({variables:{input:{code:f,language:i,questionId:(w==null?void 0:w.id)||0,submissionId:a,capturedAt:new Date().toISOString()}}}),z(k8)}}const q=setTimeout(U,1e3);return()=>clearTimeout(q)},[R,r,n,w==null?void 0:w.id,a,H]),!n||!y?_(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow bg-white dark:bg-[#1e1e1e]"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]}):w?_(St,{children:[_("div",{className:"md:hidden flex-1 flex",children:[h(K,{when:u==="description",children:_("div",{className:"w-full",children:[_("p",{className:"py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white italic",children:[t("tc_maxMemory")," : ",_("b",{children:[w.max_memory," MB"]}),h("br",{}),t("tc_maxRuntime")," : ",_("b",{children:[w.max_runtime," ms"]})]}),h(zn,{fallback:h(G1,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(G1,{title:"Loading description, please wait ..."}),children:h(x8,{className:"overflow-auto",content:vr({en:w.description,id:w.description_id||""},e,n.enabled_translations)})})})]})}),h(K,{when:u==="code",children:h(zn,{fallback:h(W1,{title:"Failed loading editor, please refresh!"}),children:h(D.Suspense,{fallback:h(W1,{title:"Loading editor, please wait ..."}),children:h(_8,{setter:p,getter:f,language:i,height:"1",className:"flex-1 grow shrink-0 bg-white dark:bg-[#1e1e1e]"})})})}),_("div",{hidden:u!=="testCase",className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 w-full",children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3",children:[_("div",{className:"flex gap-2",children:[_("button",{className:"flex-1 dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center justify-center disabled:opacity-60 hover:opacity-80",onClick:I,disabled:S,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("tc_runTest")})]}),_("button",{className:"flex-1 dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center justify-center disabled:opacity-60 hover:opacity-80",onClick:C,disabled:S,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("test_submitCode")})]})]}),h(K,{when:x.length>0,children:_("div",{className:"flex dark:text-white space-x-2 mt-2",children:[_("span",{children:[t("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[x.filter(U=>U.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[x.filter(U=>U.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[x.filter(U=>U.status!=="wrong"&&U.status!=="correct").length," ",t("tc_error")]})]})})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto"),children:[_(K,{when:S,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),x.map((U,q)=>h(jo,{...U},q))]})]})]}),_("div",{className:"hidden md:flex h-test",children:[_(Ma,{direction:"e",initSize:700,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:[_("p",{className:"py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white italic",children:[t("tc_maxMemory")," : ",_("b",{children:[w.max_memory," MB"]})," , ",t("tc_maxRuntime")," : ",_("b",{children:[w.max_runtime," ms"]})]}),h(zn,{fallback:h(G1,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(G1,{title:"Loading description, please wait ..."}),children:h(x8,{content:vr({en:w.description,id:w.description_id||""},e,n.enabled_translations)})})})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h(zn,{fallback:h(W1,{title:"Failed loading editor, please refresh!"}),children:h(D.Suspense,{fallback:h(W1,{title:"Loading editor, please wait ..."}),children:h(_8,{setter:p,getter:f,language:i,height:"0",className:"grow bg-white dark:bg-[#1e1e1e]"})})}),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[h(K,{when:x.length>0,children:_("div",{className:"flex dark:text-white space-x-2",children:[_("span",{className:"font-medium",children:[t("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[x.filter(U=>U.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[x.filter(U=>U.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[x.filter(U=>U.status!=="wrong"&&U.status!=="correct").length," ",t("tc_error")]})]})}),_("button",{className:"ml-auto dark:border-gray-600 border-2 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:I,disabled:S,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("tc_runTest")})]}),_("button",{className:"text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80 bg-sky-500",onClick:C,disabled:S,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm text-white ml-1",children:t("test_submitCode")})]})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:S,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),h(K,{when:!x.length&&!S,children:_("div",{className:"dark:text-white text-sm h-full w-full flex flex-col items-center justify-center text-center",children:[_(K,{when:(g==null?void 0:g.submitted)===!0,children:[t("test_prSubmitted")," ",h("br",{})]}),t("test_resultShown")]})}),x.map((U,q)=>h(jo,{...U},q))]})]})]})]})]}):h("div",{className:"p-5",children:_("div",{className:"flex flex-col justify-center md:items-center p-5 min-h-[300px] rounded-md bg-gray-200 dark:bg-slate-800 text-gray-500",children:[h("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:t("test_noQuestion")}),h("p",{className:"text-sm",children:t("test_noQuestion2")}),h("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:_(Nt,{to:`/modules/edit/${n.type}`,className:"px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("p",{children:t("mod_addQuestion")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})})]})})},W1=t=>h("div",{className:"grow bg-white dark:bg-[#1e1e1e] dark:text-white flex items-center justify-center",children:t.title}),G1=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),S8=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),N8=D.lazy(()=>Pr(()=>import("./Monaco-b9e7a9f6.js").then(t=>t.M),["assets/Monaco-b9e7a9f6.js","assets/Monaco-ac9b8205.css"])),E8=5,oye=function(){const{t,lang:e}=ct(),{module:n}=uo(),{assessment:r}=$l(),{submissionId:a,setTotalQuestions:i,setNavs:s}=Ll(),[o]=lo("questionId",1);D.useEffect(()=>{window.innerWidth<768&&Xe({type:"warning",message:t("test_mobile"),keep:!0})},[]);const[l]=mh("tab","description");D.useEffect(()=>{s([{label:t("gen_description"),value:"description",className:"capitalize"},{label:t("gen_code"),value:"code",className:"capitalize"},{label:t("gen_testCase"),value:"testCase",className:"capitalize"}])},[t]);const{value:u,update:c}=k0(`ASM_${a}`,o-1);function d(I){u&&c({...u,answer:I})}const[f,p]=D.useState(),m=f==null?void 0:f.find((I,C)=>o===C+1);D.useEffect(()=>{async function I(){var H;if(!(n!=null&&n.id))return;const{result:R,error:z}=await Ol(n.id,1,N0);if(!(R!=null&&R.data)){Xe({message:t(z||((H=R==null?void 0:R.error)==null?void 0:H.message)||"err_networkProblem"),type:"error"});return}p(R.data.items),i(R.data.totalItems)}const C=setTimeout(I,100);return()=>clearTimeout(C)},[n==null?void 0:n.id]);const[g,v]=D.useState([]),[y,b]=D.useState(!1);async function w(){var z;if(!n||!m)return;if(!(u!=null&&u.answer)){tu({title:"Empty Answer",message:"Your answer is still empty, please fill your answer before submitting!"});return}v([]),b(!0);const{result:I,error:C}=await u0e(n.id,a,{code:u.answer,questionId:m.id});if(b(!1),!(I!=null&&I.data)){Xe({message:t(C||((z=I==null?void 0:I.error)==null?void 0:z.message)||"err_networkProblem"),type:"error"});return}const R=cU("Testing Case",I.data);v([R])}async function x(){var R;if(!n||!m||!u)return;if(!(u!=null&&u.answer)){tu({title:"Empty Answer",message:"Your answer is still empty, please fill your answer before submitting!"});return}v([]),b(!0);const{result:I,error:C}=await c0e(n.id,a,{code:u.answer,questionId:m.id,timeSpent:u.timeSpent});if(b(!1),!(I!=null&&I.data)){Xe({message:t(C||((R=I==null?void 0:I.error)==null?void 0:R.message)||"err_networkProblem"),type:"error"});return}tu({title:t("test_solutionSubmitted"),message:t("test_solutionSubmittedDesc")}),c({...u,submitted:!0})}D.useEffect(()=>{v([])},[o]);const[k,S]=D.useState(E8),[E]=Iz();return D.useEffect(()=>{async function I(){if(!(!r||!n||!(m!=null&&m.id)||!a)){if(k>0){S(k-1);return}await E({variables:{input:{code:(u==null?void 0:u.answer)||"",language:"sql",questionId:(m==null?void 0:m.id)||0,submissionId:a,capturedAt:new Date().toISOString()}}}),S(E8)}}const C=setTimeout(I,1e3);return()=>clearTimeout(C)},[k,r,n,m==null?void 0:m.id,a,E]),!n||!f?_(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow bg-white dark:bg-[#1e1e1e]"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]}):m?_(St,{children:[_("div",{className:"md:hidden flex-1 flex",children:[h(K,{when:l==="description",children:h(zn,{fallback:h(q1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(q1,{title:t("test_loadDescription")}),children:h(S8,{className:"overflow-auto",content:vr({en:m.description,id:m.description_id||""},e,n.enabled_translations)})})})}),h(K,{when:l==="code",children:h(zn,{fallback:h(H1,{title:"Failed loading editor, please refresh!"}),children:h(D.Suspense,{fallback:h(H1,{title:"Loading editor, please wait ..."}),children:h(N8,{setter:d,getter:(u==null?void 0:u.answer)||"",language:"sql",height:"1",className:"flex-1 grow shrink-0 bg-white dark:bg-[#1e1e1e]"})})})}),_("div",{hidden:l!=="testCase",className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 w-full",children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3",children:[_("div",{className:"flex gap-2",children:[_("button",{className:"flex-1 dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center justify-center disabled:opacity-60 hover:opacity-80",onClick:w,disabled:y,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("tc_runTest")})]}),_("button",{className:"flex-1 dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center justify-center disabled:opacity-60 hover:opacity-80",onClick:x,disabled:y,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("test_submitCode")})]})]}),h(K,{when:g.length>0,children:_("div",{className:"flex dark:text-white space-x-2 mt-2",children:[_("span",{children:[t("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[g.filter(I=>I.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[g.filter(I=>I.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[g.filter(I=>I.status!=="wrong"&&I.status!=="correct").length," ",t("tc_error")]})]})})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto"),children:[_(K,{when:y,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),g.map((I,C)=>h(jo,{...I},C))]})]})]}),_("div",{className:"hidden md:flex h-test",children:[h(Ma,{direction:"e",initSize:700,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:h(zn,{fallback:h(q1,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(q1,{title:"Loading description, please wait ..."}),children:h(S8,{content:vr({en:m.description,id:m.description_id||""},e,n.enabled_translations)})})})}),_("div",{className:"grow flex flex-col min-w-0",children:[h(zn,{fallback:h(H1,{title:"Failed loading editor, please refresh!"}),children:h(D.Suspense,{fallback:h(H1,{title:"Loading editor, please wait ..."}),children:h(N8,{setter:d,getter:(u==null?void 0:u.answer)||"",language:"sql",height:"0",className:"grow bg-white dark:bg-[#1e1e1e]"})})}),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[h(K,{when:g.length>0,children:_("div",{className:"flex dark:text-white space-x-2",children:[_("span",{className:"font-medium",children:[t("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[g.filter(I=>I.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[g.filter(I=>I.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[g.filter(I=>I.status!=="wrong"&&I.status!=="correct").length," ",t("tc_error")]})]})}),_("button",{className:"ml-auto dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:w,disabled:y,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("tc_runTest")})]}),_("button",{className:"text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80 bg-sky-500",onClick:x,disabled:y,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm text-white ml-1",children:t("test_submitCode")})]})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:y,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),g.map((I,C)=>h(jo,{...I},C))]})]})]})]})]}):h("div",{className:"p-5",children:_("div",{className:"flex flex-col justify-center md:items-center p-5 min-h-[300px] rounded-md bg-gray-200 dark:bg-slate-800 text-gray-500",children:[h("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:t("test_noQuestion")}),h("p",{className:"text-sm",children:t("test_noQuestion2")}),h("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:_(Nt,{to:`/modules/edit/${n.type}`,className:"px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("p",{children:t("mod_addQuestion")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})})]})})},H1=t=>h("div",{className:"grow bg-white dark:bg-[#1e1e1e] dark:text-white flex items-center justify-center",children:t.title}),q1=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title});function lye(t,e){switch(t.label){case"exErrMissingSheetGrading":case"exErrMissingSheetSubmission":return`${e(t.label)} '${t.param}' ${e(t.label+"2")}`;default:return`${e(t.label)}`}}const uye="_spreadsheet_1h989_1",cye="_disable_rowcol_1h989_11",dye="_disable_cells_1h989_17",T8={spreadsheet:uye,disable_rowcol:cye,disable_cells:dye},hye=D.lazy(()=>Pr(()=>import("./Spreadsheet-a909603a.js"),["assets/Spreadsheet-a909603a.js","assets/Spreadsheet-9be53530.css"])),C8=t=>{const{className:e="h-[300px]",loading:n}=t;return n?h("div",{className:Ce("flex items-center justify-center",T8.spreadsheet,e),children:"Loading spreadsheet ..."}):h(D.Suspense,{fallback:h("div",{className:Ce("flex items-center justify-center",T8.spreadsheet,e),children:"Loading spreadsheet ..."}),children:h(hye,{...t})})},fye=["ABS","ACCRINT","ACCRINTM","ACOS","ACOSH","ACOT","ACOTH","ADDRESS","AGGREGATE","AMORDEGRC","AMORLINC","AND","ARABIC","ASIN","ASINH","ATAN","ATAN2","ATANH","AVEDEV","AVERAGE","AVERAGEA","AVERAGEIF","AVERAGEIFS","BASE","BESSELI","BESSELJ","BESSELK","BESSELY","BETADIST","BETA.DIST","BETAINV","BETA.INV","BIN2DEC","BIN2HEX","BIN2OCT","BINOMDIST","BINOM.DIST","BINOM.DIST.RANGE","BINOM.INV","BITAND","BITLSHIFT","BITOR","BITRSHIFT","BITXOR","CEILING","CEILING.MATH","CEILING.PRECISE","CHAR","CHIDIST","CHIINV","CHITEST","CHISQ.DIST","CHISQ.DIST.RT","CHISQ.INV","CHISQ.INV.RT","CHISQ.TEST","CHOOSE","CLEAN","CODE","COLUMN","COLUMNS","COMBIN","COMBINA","COMPLEX","CONCAT","CONCATENATE","CONFIDENCE","CONFIDENCE.NORM","CONFIDENCE.T","CONVERT","CORREL","COS","COSH","COT","COTH","COUNT","COUNTA","COUNTBLANK","COUNTIF","COUNTIFS","COUPDAYBS","COUPDAYS","COUPDAYSNC","COUPNCD","COUPNUM","COUPPCD","COVAR","COVARIANCE.P","COVARIANCE.S","CRITBINOM","CSC","CSCH","CUMIPMT","CUMPRINC","DATE","DATEDIF","DATEVALUE","DAVERAGE","DAY","DAYS","DAYS360","DB","DCOUNT","DCOUNTA","DDB","DEC2BIN","DEC2HEX","DEC2OCT","DECIMAL","DEGREES","DELTA","DEVSQ","DGET","DISC","DMAX","DMIN","DOLLARDE","DOLLARFR","DPRODUCT","DSTDEV","DSTDEVP","DSUM","DURATION","DVAR","DVARP","EFFECT","EDATE","ENCODEURL","EOMONTH","ERF","ERF.PRECISE","ERFC","ERFC.PRECISE","ERROR.TYPE","EUROCONVERT","EVEN","EXACT","EXP","EXPON.DIST","EXPONDIST","FACT","FACTDOUBLE","FALSE","F.DIST","F.DIST.RT","FDIST","FIND","FINDB","F.INV","F.INV.RT","FINV","FISHER","FISHERINV","FIXED","FLOOR","FLOOR.MATH","FLOOR.PRECISE","FORMULATEXT","F.TEST","FTEST","FV","FVSCHEDULE","GAMMA","GAMMA.DIST","GAMMADIST","GAMMA.INV","GAMMAINV","GAMMALN","GAMMALN.PRECISE","GAUSS","GCD","GEOMEAN","GESTEP","GROWTH","HARMEAN","HEX2BIN","HEX2DEC","HEX2OCT","HLOOKUP","HOUR","HYPERLINK","HYPGEOM.DIST","HYPGEOMDIST","IF","IFERROR","IFNA","IFS","IMABS","IMAGINARY","IMARGUMENT","IMCONJUGATE","IMCOS","IMCOSH","IMCOT","IMCSC","IMCSCH","IMDIV","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMREAL","IMSEC","IMSECH","IMSIN","IMSINH","IMSQRT","IMSUB","IMSUM","IMTAN","INDEX","INDIRECT","INT","INTRATE","IPMT","IRR","ISBLANK","ISERR","ISERROR","ISEVEN","ISFORMULA","ISLOGICAL","ISNA","ISNONTEXT","ISNUMBER","ISODD","ISREF","ISTEXT","ISO.CEILING","ISOWEEKNUM","ISPMT","KURT","LARGE","LCM","LEFT","LEFTB","LEN","LENB","LN","LOG","LOG10","LOGINV","LOGNORM.DIST","LOGNORMDIST","LOGNORM.INV","LOOKUP","LOWER","MATCH","MAX","MAXA","MAXIFS","MDETERM","MDURATION","MEDIAN","MID","MIDB","MIN","MINA","MINIFS","MINUTE","MINVERSE","MIRR","MMULT","MOD","MODE","MODE.MULT","MODE.SNGL","MONTH","MROUND","MULTINOMIAL","MUNIT","N","NA","NEGBINOM.DIST","NEGBINOMDIST","NETWORKDAYS","NETWORKDAYS.INTL","NOMINAL","NORM.DIST","NORMDIST","NORM.INV","NORMINV","NORM.S.DIST","NORMSDIST","NORM.S.INV","NORMSINV","NOT","NOW","NPER","NPV","OCT2BIN","OCT2DEC","OCT2HEX","ODD","ODDFPRICE","OR","PDURATION","PEARSON","PERCENTILE.EXC","PERCENTILE.INC","PERCENTILE","PERCENTRANK.EXC","PERCENTRANK.INC","PERCENTRANK","PERMUT","PERMUTATIONA","PHI","PI","PMT","POISSON.DIST","POISSON","POWER","PPMT","PRICE","PRICEDISC","PRICEMAT","PRODUCT","PROPER","PV","QUARTILE","QUARTILE.EXC","QUARTILE.INC","QUOTIENT","RADIANS","RAND","RANDBETWEEN","RANK","RANK.EQ","RATE","RECEIVED","REPLACE","REPLACEB","REPT","RIGHT","RIGHTB","ROMAN","ROUND","ROUNDDOWN","ROUNDUP","ROW","ROWS","RRI","RSQ","SEC","SECH","SECOND","SERIESSUM","SHEET","SHEETS","SIGN","SIN","SINH","SKEW","SKEW.P","SLN","SLOPE","SMALL","SQRT","SQRTPI","STANDARDIZE","STDEV","STDEV.P","STDEV.S","STDEVA","STDEVP","STDEVPA","STEYX","SUBSTITUTE","SUBTOTAL","SUM","SUMIF","SUMIFS","SUMPRODUCT","SUMSQ","SUMX2MY2","SUMX2PY2","SUMXMY2","SWITCH","SYD","T","TAN","TANH","TBILLEQ","TBILLPRICE","TBILLYIELD","T.DIST","T.DIST.2T","T.DIST.RT","TDIST","TEXTJOIN","TIME","TIMEVALUE","T.INV","T.INV.2T","TINV","TODAY","TRANSPOSE","TREND","TRIM","TRIMMEAN","TRUE","TRUNC","T.TEST","TTEST","TYPE","UNICHAR","UNICODE","UPPER","VALUE","VAR","VAR.P","VAR.S","VARA","VARP","VARPA","VDB","VLOOKUP","WEEKDAY","WEEKNUM","WEIBULL","WEIBULL.DIST","WORKDAY","WORKDAY.INTL","XIRR","XLOOKUP","XNPV","XOR","YEAR","YEARFRAC","YIELD","YIELDDISC","YIELDMAT","Z.TEST","ZTEST"],I8=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),pye=function(){const{t,lang:e}=ct(),{module:n}=uo(),{submissionId:r,setTotalQuestions:a,setNavs:i}=Ll(),[s]=lo("questionId",1),[o,l]=D.useState();D.useEffect(()=>{window.innerWidth<768&&Xe({type:"warning",message:t("test_mobile"),keep:!0})},[]);const[u,c]=mh("tab","description");D.useEffect(()=>{i([{label:t("gen_description"),value:"description"},{label:t("gen_sheet"),value:"sheet"},{label:t("gen_testCase"),value:"testCase"}])},[t]);const{value:d,update:f}=k0(`ASM_${r}`,s-1),[p,m]=D.useState(),g=p==null?void 0:p.find((se,X)=>s===X+1);D.useEffect(()=>{async function se(){var Oe;if(!(n!=null&&n.id))return;const{result:ne,error:ke}=await Ol(n.id,1,N0);if(!(ne!=null&&ne.data)){Xe({message:t(ke||((Oe=ne==null?void 0:ne.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}m(ne.data.items),a(ne.data.totalItems)}const X=setTimeout(se,100);return()=>clearTimeout(X)},[n==null?void 0:n.id]);const[v,{data:y}]=$pe();D.useEffect(()=>{!n||!g||v({variables:{id:g.id,moduleId:n.id}})},[n,g]);const[b,w]=D.useState(null),[x,k]=D.useState([]),[S,{loading:E}]=Lpe(),[I,{loading:C}]=Ppe();async function R(se){if(!g||!n)return;k([]);const{data:X,errors:ne}=await S({variables:{file:se,submissionId:r,questionId:g.id}});if(ne){const[ze]=bf(ne).messages;Xe({message:t(ze),type:"error"});return}if(!X){Xe({message:t("err_errorInternal"),type:"error"});return}const{tests:ke,content:Oe,errorInfo:We}=X.testSpreadsheet;if(We){const ze=lye(We,t);Xe({message:ze,type:"error"});return}l(se),w(Oe),k(ke.map(XR))}async function z(){if(!g||!n||!o)return;k([]);const{data:se,errors:X}=await I({variables:{file:o,submissionId:r,questionId:g.id}});if(X){const[ke]=bf(X).messages;Xe({message:t(ke),type:"error"});return}if(!se){Xe({message:t("err_errorInternal"),type:"error"});return}const{tests:ne}=se.gradeSpreadsheet;k(ne.map(XR)),Wr(`sp_${r}`,b),Xe({type:"success",message:t("test_solutionSubmittedDesc")}),d&&f({...d,submitted:!0})}const[H,U]=D.useState(!1),[q,Q]=D.useState(""),re=D.useRef(null),he=D.useMemo(()=>{let se=[...fye];return q.split(" ").forEach(X=>{se=se.filter(ne=>ne.includes(X.trim().toUpperCase()))}),se},[q]);D.useEffect(()=>{H&&setTimeout(()=>{var se;(se=re.current)==null||se.focus()},50)},[H]);function ae(se=!1){w(null),k([]),se&&c("sheet")}return D.useEffect(()=>{async function se(){const ne=await Sl(`sp_${r}`);ne&&w(ne)}const X=setTimeout(se,500);return()=>clearTimeout(X)},[r]),!n||!p?_(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow bg-white dark:bg-[#1e1e1e]"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]}):g?_(St,{children:[_("div",{className:"md:hidden flex-1 flex",children:[h(K,{when:u==="description",children:h(zn,{fallback:h(Y1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(Y1,{title:t("test_loadDescription")}),children:h(I8,{className:"overflow-auto",content:vr({en:g.description,id:g.description_id||""},e,n.enabled_translations)})})})}),h(K,{when:u==="sheet",children:_("div",{className:"grow flex flex-col",children:[_("div",{className:"px-3 py-1.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white flex items-center gap-2",children:[_("p",{className:"hidden xs:block mr-auto",children:[h("span",{className:"lg:block hidden",children:t("ex_spreadsheetView")}),h("span",{className:"lg:hidden",children:t("ex_spreadsheetViewSm")})]}),h(K,{when:!!y,children:_(Nt,{to:(y==null?void 0:y.viewSpreadsheetQuestion.testingFile.fileUrl)||"",target:"_blank",className:"flex items-center text-sm px-4 py-1.5 gap-1.5 bg-emerald-600 rounded hover:bg-emerald-700 text-white",children:[_("p",{children:[h("span",{className:"lg:block hidden",children:t("ex_downloadSample")}),h("span",{className:"lg:hidden",children:t("ex_downloadSampleSm")})]}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})]})}),_("button",{onClick:()=>U(!H),className:"flex items-center text-sm px-4 py-1.5 gap-1.5 border border-emerald-600 dark:border-emerald-400 rounded hover:opacity-75 dark:text-emerald-400 text-emerald-600",children:[_("p",{children:[h("span",{className:"lg:block hidden",children:t("ex_formulaGuide")}),h("span",{className:"lg:hidden",children:t("ex_formulaGuideSm")})]}),_("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeWidth:1.5,viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),h("path",{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2"}),h("path",{d:"M5 12h6"}),h("path",{d:"M15 12l6 6"}),h("path",{d:"M15 18l6 -6"})]})]}),h(K,{when:b!==null,children:_("button",{onClick:()=>ae(!0),className:"flex items-center text-sm px-4 py-1.5 gap-1.5 border border-rose-600 dark:border-rose-500 rounded hover:opacity-75 dark:text-rose-500 text-rose-600",children:[h("p",{children:t("gen_reset")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})]})})]}),h(K,{when:!b,children:h("div",{className:"bg-white dark:bg-[#1e1e1e] dark:text-white p-5 flex-grow",children:h(Vu,{setter:R,className:"h-full",accept:P1,placeholder:_(St,{children:[h(K,{when:E,children:h(Za,{})}),h(K,{when:!E,children:_("div",{children:[h("p",{children:t("ex_upload")}),h("p",{children:t("ex_dnd")})]})})]})})})}),h(K,{when:b!==null,children:h(Vu,{setter:R,className:"h-full aria-selected:overflow-hidden",accept:P1,children:h(C8,{data:b||[],className:"h-full"})})})]})}),_("div",{hidden:u!=="testCase",className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 w-full",children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3",children:[h(K,{when:b!==null,children:_("div",{className:"flex mb-2 gap-2",children:[_("button",{onClick:()=>ae(!0),className:"flex-1 flex justify-center items-center text-sm px-4 py-1.5 gap-1.5 border border-rose-600 dark:border-rose-500 rounded hover:opacity-75 dark:text-rose-500 text-rose-600",children:[h("p",{children:t("gen_reset")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})]}),_("button",{className:"flex-1 text-sm font-medium py-2 px-4 rounded flex items-center justify-center disabled:opacity-60 hover:opacity-80 bg-sky-500",onClick:z,disabled:C,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm text-white ml-1 capitalize",children:t("gen_submit")})]})]})}),_("div",{className:"flex dark:text-white space-x-2",children:[h("span",{children:t("tc_testOutput")}),_(K,{when:x.length>0,children:[h("span",{children:":"}),_("span",{className:"text-lime-600 font-semibold",children:[x.filter(se=>se.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[x.filter(se=>se.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[x.filter(se=>se.status!=="wrong"&&se.status!=="correct").length," ",t("tc_error")]})]})]})]}),h("div",{className:Ce("p-3 space-y-4 overflow-auto"),children:x.map((se,X)=>h(jo,{...se},X))})]})]}),_("div",{className:"hidden md:flex h-test",children:[h(Ma,{direction:"e",initSize:window.innerWidth/2,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",afterResize:()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize"))},200)},children:h(zn,{fallback:h(Y1,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(Y1,{title:"Loading description, please wait ..."}),children:h(I8,{content:vr({en:g.description,id:g.description_id||""},e,n.enabled_translations)})})})}),_("div",{className:"grow flex flex-col min-w-0",children:[_("div",{className:"grow flex flex-col",children:[_("div",{className:"px-3 py-1.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white flex items-center gap-2",children:[_("p",{className:"mr-auto",children:[h("span",{className:"xl:block hidden",children:t("ex_spreadsheetView")}),h("span",{className:"xl:hidden",children:t("ex_spreadsheetViewSm")})]}),h(K,{when:!!y,children:_(Nt,{to:(y==null?void 0:y.viewSpreadsheetQuestion.testingFile.fileUrl)||"",target:"_blank",className:"flex items-center text-sm px-4 py-1.5 gap-1.5 bg-emerald-600 rounded hover:bg-emerald-700 text-white border border-emerald-600 hover:border-emerald-700",children:[_("p",{children:[h("span",{className:"xl:block hidden",children:t("ex_downloadSample")}),h("span",{className:"xl:hidden",children:t("ex_downloadSampleSm")})]}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})]})}),_("button",{onClick:()=>U(!H),className:"flex items-center text-sm px-4 py-1.5 gap-1.5 border border-emerald-600 dark:border-emerald-400 rounded hover:opacity-75 dark:text-emerald-400 text-emerald-600",children:[_("p",{children:[h("span",{className:"xl:block hidden",children:t("ex_formulaGuide")}),h("span",{className:"xl:hidden",children:t("ex_formulaGuideSm")})]}),_("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",strokeWidth:1.5,viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:[h("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),h("path",{d:"M3 19a2 2 0 0 0 2 2c2 0 2 -4 3 -9s1 -9 3 -9a2 2 0 0 1 2 2"}),h("path",{d:"M5 12h6"}),h("path",{d:"M15 12l6 6"}),h("path",{d:"M15 18l6 -6"})]})]}),h(K,{when:b!==null,children:_("button",{onClick:()=>ae(),className:"flex items-center text-sm px-4 py-1.5 gap-1.5 border border-rose-600 dark:border-rose-500 rounded hover:opacity-75 dark:text-rose-500 text-rose-600",children:[h("p",{children:t("gen_reset")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})]})})]}),h(K,{when:!b,children:h("div",{className:"bg-white dark:bg-[#1e1e1e] dark:text-white p-5 flex-grow",children:h(Vu,{setter:R,className:"h-full",accept:P1,placeholder:_(St,{children:[h(K,{when:E||C,children:h(Za,{})}),h(K,{when:!(E||C),children:_("div",{children:[h("p",{children:t("ex_upload")}),h("p",{children:t("ex_dnd")})]})})]})})})}),h(K,{when:b!==null,children:h(Vu,{setter:R,className:"h-full aria-selected:overflow-hidden",accept:P1,children:h(C8,{data:b||[],className:"h-full"})})})]}),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[_("div",{className:"flex dark:text-white space-x-2",children:[h("span",{className:"font-medium ",children:t("tc_testOutput")}),_(K,{when:x.length>0,children:[h("span",{children:":"}),_("span",{className:"text-lime-600 font-semibold",children:[x.filter(se=>se.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[x.filter(se=>se.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[x.filter(se=>se.status!=="wrong"&&se.status!=="correct").length," ",t("tc_error")]})]})]}),h(K,{when:o!=null,children:_("button",{className:"text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80 bg-sky-500 ml-auto",onClick:z,disabled:C,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm text-white ml-1 capitalize",children:t("gen_submit")})]})})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:C||E,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),_(K,{when:!(C||E),children:[h(K,{when:!x.length,children:_("div",{className:"dark:text-white text-sm h-full w-full flex flex-col items-center justify-center text-center",children:[_(K,{when:(d==null?void 0:d.submitted)===!0,children:[t("test_exSubmitted")," ",h("br",{})]}),t("test_resultShown")]})}),x.map((se,X)=>h(jo,{...se},X))]})]})]})]})]}),h(gu,{open:H,toggle:()=>U(!H),children:_("div",{className:"relative p-4 m-5 md:p-8 w-full md:w-8/12 xl:w-1/2 rounded-lg shadow-xl text-left bg-white dark:bg-gray-900 border border-slate-700",children:[_("div",{className:"flex items-center justify-between mb-4",children:[h("h3",{className:"text-2xl dark:text-white",children:t("ex_formulaGuide")}),h("button",{className:"dark:text-white h-10 w-10 flex justify-center items-center",onClick:()=>U(!1),children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),h(QN,{getter:q,setter:Q}),h("div",{className:"max-h-[500px] h-[60vh] overflow-auto my-3",children:h("div",{className:"flex justify-center items-start flex-wrap gap-2",children:he.map((se,X)=>h(iU,{active:!1,className:"!text-gray-400 cursor-default",children:se},X))})}),h("button",{onClick:()=>U(!H),className:"bg-blue-600 w-full text-white py-2 rounded-sm",children:"OK"})]})})]}):h("div",{className:"p-5",children:_("div",{className:"flex flex-col justify-center md:items-center p-5 min-h-[300px] rounded-md bg-gray-200 dark:bg-slate-800 text-gray-500",children:[h("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:t("test_noQuestion")}),h("p",{className:"text-sm",children:t("test_noQuestion2")}),h("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:_(Nt,{to:`/modules/edit/${n.type}`,className:"px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("p",{children:t("mod_addQuestion")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})})]})})},Y1=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),mye=D.lazy(()=>Pr(()=>import("./RichText-47dea8ff.js"),[])),A8=t=>h(zn,{fallback:h(D8,{title:"TinyMCE Error!"}),children:h(D.Suspense,{fallback:h(D8,{title:"Loading TinyMCE"}),children:h(mye,{...t})})}),D8=t=>h("div",{className:"h-[400px] w-auto flex items-center justify-center dark:text-white",children:t.title}),gye=D.lazy(()=>Pr(()=>import("./Whiteboard-c02124a8.js"),[])),R8=t=>{const{className:e}=t;return h(zn,{fallback:h("div",{className:Ce("flex items-center justify-center",e),children:"Failed Loading Whiboard!"}),children:h(D.Suspense,{fallback:h("div",{className:Ce("flex items-center justify-center dark:text-white",e),children:"Loading whiteboard ..."}),children:h(gye,{...t})})})},$8=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[]));let Lx;const yye=function(){const{t,lang:e}=ct(),{module:n}=uo(),{submissionId:r,setTotalQuestions:a,setNavs:i}=Ll(),[s]=lo("questionId",1),[o,l]=D.useState(),u=o==null?void 0:o.find((C,R)=>R+1===s);D.useEffect(()=>{async function C(){var U;if(!(n!=null&&n.id))return;const{result:z,error:H}=await Ol(n.id,1,CU);if(!(z!=null&&z.data)){Xe({message:t(H||((U=z==null?void 0:z.error)==null?void 0:U.message)||"err_networkProblem"),type:"error"});return}l(z.data.items),a(z.data.totalItems)}const R=setTimeout(C,100);return()=>clearTimeout(R)},[n==null?void 0:n.id]);const[c,d]=mh("tab","description");D.useEffect(()=>{const C=[{label:t("gen_description"),value:"description"}];u&&(u.is_paragraph&&C.push({label:t("gen_paragraph"),value:"paragraph"}),u.is_upload&&C.push({label:t("gen_files"),value:"files"}),u.is_whiteboard&&C.push({label:t("gen_whiteboard"),value:"whiteboard"})),i(C)},[t,u]),D.useEffect(()=>{c!=="description"&&d("description")},[s]),D.useEffect(()=>{if(p===null)return;const C=`ASM_${r}`,R=setTimeout(()=>{const z=ba(C);!z.length||!n||tp(n.id,z)},1e3);return()=>clearInterval(R)},[s]);const{update:f,value:p}=ow(`ASM_${r}`,s-1),m=(p==null?void 0:p.paragraph)||"",g=(p==null?void 0:p.files)||[],v=y0e(m);function y(C){const R={paragraph:m,files:g};R.paragraph=C,f({...R})}const[b,w]=D.useState(!1);async function x(C){var he,ae,se;if(C.size/1048576>=10){Xe({message:t("err_uploadLimit",{max:"10MB"}),type:"error"});return}w(!0);const{result:z,error:H}=await Jv([C]);if(w(!1),!((ae=(he=z==null?void 0:z.data)==null?void 0:he.items)!=null&&ae.length)){Xe({message:t(H||((se=z==null?void 0:z.error)==null?void 0:se.message)||"err_networkProblem"),type:"error"});return}const{original_name:U,mimetype:q,url:Q}=z.data.items[0],re={name:U,type:q,url:Q};f({paragraph:m,files:[...g,re]})}function k(C){f({paragraph:m,files:g.filter((R,z)=>z!==C)})}function S(C,R){const z=[...g];z.splice(C,1,{...R}),f({paragraph:m,files:z})}const E=D.useRef("");function I(C){const R=JSON.stringify(C);E.current!==R&&(Lx&&clearTimeout(Lx),Lx=setTimeout(()=>{f({paragraph:JSON.stringify(C),files:g}),E.current=R},300))}return!n||!o?_(St,{children:[h("div",{className:"md:hidden flex-1 animate-pulse",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"hidden md:flex h-test",children:[h("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"grow flex flex-col min-w-0 p-5 space-y-3 animate-pulse",children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"})]})]})]}):u?_(St,{children:[_("div",{className:"md:hidden flex-1 flex",children:[h(K,{when:c==="description",children:h(zn,{fallback:h(K1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(K1,{title:t("test_loadDescription")}),children:h($8,{className:"overflow-auto",content:vr({en:u.description,id:u.description_id},e,n.enabled_translations)})})})}),h(K,{when:c==="paragraph",children:_("div",{className:"p-4 flex-1 grow",children:[_("h3",{className:"dark:text-white mb-2 font-medium",children:[t("esi_essayAnswer")," :"]}),h(A8,{getter:m,setter:C=>y(C),resize:!1,height:"95%",essayTest:!0})]})}),h(K,{when:c==="files",children:_("div",{className:"p-4 w-full",children:[_("h3",{className:" dark:text-white mb-2 font-medium",children:[t("esi_uploadAnswer")," : "]}),h(K,{when:g.length<H2,children:h(Vu,{setter:x,className:"!min-h-[60px]",accept:j2,placeholder:t("esi_uploadPl"),loading:b})}),_("div",{className:"space-y-4 mt-4",children:[g.map((C,R)=>h(Fx,{data:C,index:R,onDelete:k,onEdit:S},R)),h(K,{when:b,children:h(q2,{})})]})]})}),h(K,{when:c==="whiteboard",children:h("div",{className:"flex-1 grow",children:h(R8,{className:"w-full h-full",onChange:I,initialData:v})})})]}),_("div",{className:"hidden md:flex h-test",children:[_(Ma,{direction:"e",initSize:window.innerWidth/2,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:[h(K,{when:!!u.picture_url,children:h("div",{className:"p-4 pb-0",children:h("img",{src:u.picture_url,alt:"Question",className:"mx-auto"},u.id)})}),h(zn,{fallback:h(K1,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(K1,{title:t("test_loadDescription")}),children:h($8,{content:vr({en:u.description,id:u.description_id},e,n.enabled_translations)})})})]}),_("div",{className:"grow flex flex-col overflow-y-hidden",children:[h(K,{when:u.is_paragraph,children:_("div",{className:"p-4 pb-12 grow",children:[_("h3",{className:"dark:text-white mb-2",children:[t("esi_essayAnswer")," :"]}),h(A8,{getter:m,setter:C=>y(C),resize:!1,height:"100%",essayTest:!0})]})}),h(K,{when:!u.is_paragraph&&u.is_upload,children:_("div",{className:"p-4 grow overflow-y-auto",children:[_("h3",{className:" dark:text-white mb-2",children:[t("esi_uploadAnswer"),": "]}),h("p",{className:"mb-2 text-gray-400 dark:text-gray-500 text-xs italic",children:t("esi_uploadNotes")}),h(K,{when:g.length<H2,children:h(Vu,{setter:x,className:"!min-h-[60px]",accept:j2,placeholder:t("esi_uploadPl"),loading:b})}),_("div",{className:"space-y-4 mt-4",children:[g.map((C,R)=>h(Fx,{data:C,index:R,onDelete:k,onEdit:S},R)),h(K,{when:b,children:h(q2,{})})]})]})}),h(K,{when:u.is_paragraph&&u.is_upload,children:h(Ma,{className:"dark:border-gray-800 border-t-2 border-gray-200 shrink-0",direction:"n",initSize:300,codingTest:!0,children:_("div",{className:"p-4",children:[_("h3",{className:"font-medium dark:text-white mb-2",children:[t("esi_uploadAnswer"),": "]}),h("p",{className:"mb-2 text-gray-400 dark:text-gray-500 text-xs italic",children:t("esi_uploadNotes")}),h(K,{when:g.length<H2,children:h(Vu,{setter:x,className:"!min-h-[60px]",accept:j2,placeholder:t("esi_uploadPl"),loading:b})}),_("div",{className:"space-y-4 mt-4",children:[g.map((C,R)=>h(Fx,{data:C,index:R,onDelete:k,onEdit:S},R)),h(K,{when:b,children:h(q2,{})})]})]})})}),h(K,{when:u.is_whiteboard,children:h("div",{className:"grow",children:h(R8,{className:"w-full h-full",onChange:I,initialData:v})})})]})]})]}):h("div",{className:"p-5",children:_("div",{className:"flex flex-col justify-center md:items-center p-5 min-h-[300px] rounded-md bg-gray-200 dark:bg-slate-800 text-gray-500",children:[h("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:t("test_noQuestion")}),h("p",{className:"text-sm",children:t("test_noQuestion2")}),h("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:_(Nt,{to:`/modules/edit/${n.type}`,className:"px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("p",{children:t("mod_addQuestion")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})})]})})},Fx=({index:t,data:e,onEdit:n,onDelete:r})=>{const{t:a}=ct(),i=D.useRef(null),[s,o]=D.useState(!1),{name:l,type:u,url:c}=e;async function d(p){var k,S,E,I;if(!((k=p.target.files)!=null&&k.length))return;const[m]=p.target.files;if(m.size/(1024*1024)>=10){Xe({message:a("err_uploadLimit",{max:"10MB"}),type:"error"});return}o(!0);const{result:v,error:y}=await Jv([m]);if(o(!1),!((E=(S=v==null?void 0:v.data)==null?void 0:S.items)!=null&&E.length)){Xe({message:a(y||((I=v==null?void 0:v.error)==null?void 0:I.message)||"err_networkProblem"),type:"error"});return}const{original_name:b,mimetype:w,url:x}=v.data.items[0];n(t,{name:b,type:w,url:x})}if(s)return h(q2,{});let f;return u.includes("image")&&(f=h("div",{className:"w-20 h-20 rounded flex items-center justify-center bg-gray-300 dark:bg-slate-600",style:{backgroundImage:`url(${c})`,backgroundPosition:"center",backgroundSize:"cover"}})),u.includes("pdf")&&(f=h("div",{className:"w-20 h-20 rounded flex items-center justify-center bg-gray-300 dark:bg-slate-600",children:_("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"h-12 w-12",children:[h("path",{d:"M5.523 12.424c.14-.082.293-.162.459-.238a7.878 7.878 0 0 1-.45.606c-.28.337-.498.516-.635.572a.266.266 0 0 1-.035.012.282.282 0 0 1-.026-.044c-.056-.11-.054-.216.04-.36.106-.165.319-.354.647-.548zm2.455-1.647c-.119.025-.237.05-.356.078a21.148 21.148 0 0 0 .5-1.05 12.045 12.045 0 0 0 .51.858c-.217.032-.436.07-.654.114zm2.525.939a3.881 3.881 0 0 1-.435-.41c.228.005.434.022.612.054.317.057.466.147.518.209a.095.095 0 0 1 .026.064.436.436 0 0 1-.06.2.307.307 0 0 1-.094.124.107.107 0 0 1-.069.015c-.09-.003-.258-.066-.498-.256zM8.278 6.97c-.04.244-.108.524-.2.829a4.86 4.86 0 0 1-.089-.346c-.076-.353-.087-.63-.046-.822.038-.177.11-.248.196-.283a.517.517 0 0 1 .145-.04c.013.03.028.092.032.198.005.122-.007.277-.038.465z"}),h("path",{fillRule:"evenodd",d:"M4 0h5.293A1 1 0 0 1 10 .293L13.707 4a1 1 0 0 1 .293.707V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm5.5 1.5v2a1 1 0 0 0 1 1h2l-3-3zM4.165 13.668c.09.18.23.343.438.419.207.075.412.04.58-.03.318-.13.635-.436.926-.786.333-.401.683-.927 1.021-1.51a11.651 11.651 0 0 1 1.997-.406c.3.383.61.713.91.95.28.22.603.403.934.417a.856.856 0 0 0 .51-.138c.155-.101.27-.247.354-.416.09-.181.145-.37.138-.563a.844.844 0 0 0-.2-.518c-.226-.27-.596-.4-.96-.465a5.76 5.76 0 0 0-1.335-.05 10.954 10.954 0 0 1-.98-1.686c.25-.66.437-1.284.52-1.794.036-.218.055-.426.048-.614a1.238 1.238 0 0 0-.127-.538.7.7 0 0 0-.477-.365c-.202-.043-.41 0-.601.077-.377.15-.576.47-.651.823-.073.34-.04.736.046 1.136.088.406.238.848.43 1.295a19.697 19.697 0 0 1-1.062 2.227 7.662 7.662 0 0 0-1.482.645c-.37.22-.699.48-.897.787-.21.326-.275.714-.08 1.103z"})]})})),u.includes("zip")&&(f=h("div",{className:"w-20 h-20 rounded flex items-center justify-center bg-gray-300 dark:bg-slate-600",children:_("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",className:"h-12 w-12",children:[h("path",{d:"M5.5 9.438V8.5h1v.938a1 1 0 0 0 .03.243l.4 1.598-.93.62-.93-.62.4-1.598a1 1 0 0 0 .03-.243z"}),h("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zm-4-.5V2h-1V1H6v1h1v1H6v1h1v1H6v1h1v1H5.5V6h-1V5h1V4h-1V3h1zm0 4.5h1a1 1 0 0 1 1 1v.938l.4 1.599a1 1 0 0 1-.416 1.074l-.93.62a1 1 0 0 1-1.109 0l-.93-.62a1 1 0 0 1-.415-1.074l.4-1.599V8.5a1 1 0 0 1 1-1z"})]})})),_("div",{className:"flex gap-3 rounded p-3 bg-gray-50 dark:bg-slate-800 dark:text-white",children:[f,_("div",{className:"flex-1 min-w-0 flex flex-col",children:[_("h3",{className:"font-medium text-sm mt-2",children:["File ",t+1,"/",H2]}),h(Nt,{to:c,target:"_blank",className:"break-words line-clamp-2 text-gray-600 dark:text-gray-400 text-sm",children:l}),_("div",{className:"flex gap-2 mt-auto ml-auto",children:[_("button",{disabled:s,className:"flex gap-1 items-center p-2 px-3 dark:text-white text-blue-600 bg-white dark:bg-gray-900 rounded hover:-translate-y-1 transition duration-300 ease-in-out text-sm",onClick:()=>{var p;return(p=i.current)==null?void 0:p.click()},children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})}),a("gen_edit")]}),_("button",{disabled:s,onClick:()=>r(t),className:"flex gap-1 items-center p-2 px-3 text-white bg-red-600 rounded hover:-translate-y-1 transition duration-300 ease-in-out text-sm",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),a("gen_delete")]})]})]}),h("input",{ref:i,required:!0,type:"file",className:"absolute h-0 w-0",onChange:d,accept:j2.join(",")})]})},K1=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),q2=()=>_("div",{className:"flex gap-3 rounded p-3 bg-gray-50 dark:bg-slate-800 dark:text-white animate-pulse",children:[h("div",{className:"w-32 h-32 rounded bg-gray-300 dark:bg-slate-600"}),_("div",{className:"flex-1 min-w-0 flex flex-col gap-2",children:[h("p",{className:"w-2/12 h-4 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-3 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-7/12 h-3 bg-gray-300 rounded-lg dark:bg-gray-600"}),_("div",{className:"flex gap-2 w-full justify-end mt-auto",children:[h("div",{className:"w-2/12 h-10 bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"w-[20%] h-10 bg-gray-300 rounded dark:bg-gray-600"})]})]})]});async function bye(t,e){let n=GN;n.startsWith("http")||(n=window.location.protocol+"//"+window.location.host+n);const r=`${n}/s/submission/${t}/interviewquestions/${e}/startRecord`;return new WebSocket(EM(r),"video")}const X4=({stream:t,className:e})=>{const n=D.useRef(0),[r,a]=D.useState(0);D.useEffect(()=>{if(t){const s=new AudioContext,o=s.createAnalyser();s.createMediaStreamSource(t).connect(o);const u=new Float32Array(o.fftSize),c=()=>{o.getFloatTimeDomainData(u);let d=0;for(const m of u)d+=m*m;const f=Math.sqrt(d/u.length)*1e3,p=f>80?5:f>60?4:f>40?3:f>20?2:f>10?1:0;n.current!==p&&(a(p),n.current=p),window.requestAnimationFrame(c)};window.requestAnimationFrame(c)}return()=>{n.current=0,a(0)}},[t]);const i="w-[5px] bg-gray-400 rounded mx-[1.5px]";return _("div",{className:Ce("flex justify-center items-end",e),children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"})}),_("div",{className:"flex items-end",children:[h("div",{className:Ce(i,"h-2",{"bg-green-600":r>=1})}),h("div",{className:Ce(i,"h-3",{"bg-green-600":r>=2})}),h("div",{className:Ce(i,"h-4",{"bg-green-600":r>=3})}),h("div",{className:Ce(i,"h-5",{"bg-green-600":r>=4})}),h("div",{className:Ce(i,"h-6",{"bg-green-600":r>=5})})]})]})},vye=["video/mp4",'video/webm; codecs="vp8,opus"'];function O8(t,e=2e3){return new Promise(n=>setTimeout(()=>n(t),e))}(function(){var t;function e(T){var $=0;return function(){return $<T.length?{done:!1,value:T[$++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,$,O){return T==Array.prototype||T==Object.prototype||(T[$]=O.value),T};function r(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof vi=="object"&&vi];for(var $=0;$<T.length;++$){var O=T[$];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var a=r(this);function i(T,$){if($)e:{var O=a;T=T.split(".");for(var G=0;G<T.length-1;G++){var ce=T[G];if(!(ce in O))break e;O=O[ce]}T=T[T.length-1],G=O[T],$=$(G),$!=G&&$!=null&&n(O,T,{configurable:!0,writable:!0,value:$})}}i("Symbol",function(T){function $(we){if(this instanceof $)throw new TypeError("Symbol is not a constructor");return new O(G+(we||"")+"_"+ce++,we)}function O(we,ge){this.g=we,n(this,"description",{configurable:!0,writable:!0,value:ge})}if(T)return T;O.prototype.toString=function(){return this.g};var G="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ce=0;return $}),i("Symbol.iterator",function(T){if(T)return T;T=Symbol("Symbol.iterator");for(var $="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),O=0;O<$.length;O++){var G=a[$[O]];typeof G=="function"&&typeof G.prototype[T]!="function"&&n(G.prototype,T,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return T});function s(T){return T={next:T},T[Symbol.iterator]=function(){return this},T}function o(T){var $=typeof Symbol<"u"&&Symbol.iterator&&T[Symbol.iterator];return $?$.call(T):{next:e(T)}}function l(T){if(!(T instanceof Array)){T=o(T);for(var $,O=[];!($=T.next()).done;)O.push($.value);T=O}return T}var u=typeof Object.create=="function"?Object.create:function(T){function $(){}return $.prototype=T,new $},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var d;e:{var f={a:!0},p={};try{p.__proto__=f,d=p.a;break e}catch{}d=!1}c=d?function(T,$){if(T.__proto__=$,T.__proto__!==$)throw new TypeError(T+" is not extensible");return T}:null}var m=c;function g(T,$){if(T.prototype=u($.prototype),T.prototype.constructor=T,m)m(T,$);else for(var O in $)if(O!="prototype")if(Object.defineProperties){var G=Object.getOwnPropertyDescriptor($,O);G&&Object.defineProperty(T,O,G)}else T[O]=$[O];T.ea=$.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function y(T){if(T.l)throw new TypeError("Generator is already running");T.l=!0}v.prototype.o=function(T){this.h=T};function b(T,$){T.j={U:$,V:!0},T.g=T.m||T.s}v.prototype.return=function(T){this.j={return:T},this.g=this.s};function w(T,$,O){return T.g=O,{value:$}}function x(T){this.g=new v,this.h=T}function k(T,$){y(T.g);var O=T.g.i;return O?S(T,"return"in O?O.return:function(G){return{value:G,done:!0}},$,T.g.return):(T.g.return($),E(T))}function S(T,$,O,G){try{var ce=$.call(T.g.i,O);if(!(ce instanceof Object))throw new TypeError("Iterator result "+ce+" is not an object");if(!ce.done)return T.g.l=!1,ce;var we=ce.value}catch(ge){return T.g.i=null,b(T.g,ge),E(T)}return T.g.i=null,G.call(T.g,we),E(T)}function E(T){for(;T.g.g;)try{var $=T.h(T.g);if($)return T.g.l=!1,{value:$.value,done:!1}}catch(O){T.g.h=void 0,b(T.g,O)}if(T.g.l=!1,T.g.j){if($=T.g.j,T.g.j=null,$.V)throw $.U;return{value:$.return,done:!0}}return{value:void 0,done:!0}}function I(T){this.next=function($){return y(T.g),T.g.i?$=S(T,T.g.i.next,$,T.g.o):(T.g.o($),$=E(T)),$},this.throw=function($){return y(T.g),T.g.i?$=S(T,T.g.i.throw,$,T.g.o):(b(T.g,$),$=E(T)),$},this.return=function($){return k(T,$)},this[Symbol.iterator]=function(){return this}}function C(T,$){return $=new I(new x($)),m&&T.prototype&&m($,T.prototype),$}function R(T,$){T instanceof String&&(T+="");var O=0,G=!1,ce={next:function(){if(!G&&O<T.length){var we=O++;return{value:$(we,T[we]),done:!1}}return G=!0,{done:!0,value:void 0}}};return ce[Symbol.iterator]=function(){return ce},ce}var z=typeof Object.assign=="function"?Object.assign:function(T,$){for(var O=1;O<arguments.length;O++){var G=arguments[O];if(G)for(var ce in G)Object.prototype.hasOwnProperty.call(G,ce)&&(T[ce]=G[ce])}return T};i("Object.assign",function(T){return T||z}),i("Promise",function(T){function $(ge){this.h=0,this.i=void 0,this.g=[],this.o=!1;var xe=this.j();try{ge(xe.resolve,xe.reject)}catch(Pe){xe.reject(Pe)}}function O(){this.g=null}function G(ge){return ge instanceof $?ge:new $(function(xe){xe(ge)})}if(T)return T;O.prototype.h=function(ge){if(this.g==null){this.g=[];var xe=this;this.i(function(){xe.l()})}this.g.push(ge)};var ce=a.setTimeout;O.prototype.i=function(ge){ce(ge,0)},O.prototype.l=function(){for(;this.g&&this.g.length;){var ge=this.g;this.g=[];for(var xe=0;xe<ge.length;++xe){var Pe=ge[xe];ge[xe]=null;try{Pe()}catch(Ke){this.j(Ke)}}}this.g=null},O.prototype.j=function(ge){this.i(function(){throw ge})},$.prototype.j=function(){function ge(Ke){return function(It){Pe||(Pe=!0,Ke.call(xe,It))}}var xe=this,Pe=!1;return{resolve:ge(this.C),reject:ge(this.l)}},$.prototype.C=function(ge){if(ge===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ge instanceof $)this.F(ge);else{e:switch(typeof ge){case"object":var xe=ge!=null;break e;case"function":xe=!0;break e;default:xe=!1}xe?this.u(ge):this.m(ge)}},$.prototype.u=function(ge){var xe=void 0;try{xe=ge.then}catch(Pe){this.l(Pe);return}typeof xe=="function"?this.G(xe,ge):this.m(ge)},$.prototype.l=function(ge){this.s(2,ge)},$.prototype.m=function(ge){this.s(1,ge)},$.prototype.s=function(ge,xe){if(this.h!=0)throw Error("Cannot settle("+ge+", "+xe+"): Promise already settled in state"+this.h);this.h=ge,this.i=xe,this.h===2&&this.D(),this.A()},$.prototype.D=function(){var ge=this;ce(function(){if(ge.B()){var xe=a.console;typeof xe<"u"&&xe.error(ge.i)}},1)},$.prototype.B=function(){if(this.o)return!1;var ge=a.CustomEvent,xe=a.Event,Pe=a.dispatchEvent;return typeof Pe>"u"?!0:(typeof ge=="function"?ge=new ge("unhandledrejection",{cancelable:!0}):typeof xe=="function"?ge=new xe("unhandledrejection",{cancelable:!0}):(ge=a.document.createEvent("CustomEvent"),ge.initCustomEvent("unhandledrejection",!1,!0,ge)),ge.promise=this,ge.reason=this.i,Pe(ge))},$.prototype.A=function(){if(this.g!=null){for(var ge=0;ge<this.g.length;++ge)we.h(this.g[ge]);this.g=null}};var we=new O;return $.prototype.F=function(ge){var xe=this.j();ge.J(xe.resolve,xe.reject)},$.prototype.G=function(ge,xe){var Pe=this.j();try{ge.call(xe,Pe.resolve,Pe.reject)}catch(Ke){Pe.reject(Ke)}},$.prototype.then=function(ge,xe){function Pe(Yt,Pt){return typeof Yt=="function"?function(vt){try{Ke(Yt(vt))}catch(N){It(N)}}:Pt}var Ke,It,Ut=new $(function(Yt,Pt){Ke=Yt,It=Pt});return this.J(Pe(ge,Ke),Pe(xe,It)),Ut},$.prototype.catch=function(ge){return this.then(void 0,ge)},$.prototype.J=function(ge,xe){function Pe(){switch(Ke.h){case 1:ge(Ke.i);break;case 2:xe(Ke.i);break;default:throw Error("Unexpected state: "+Ke.h)}}var Ke=this;this.g==null?we.h(Pe):this.g.push(Pe),this.o=!0},$.resolve=G,$.reject=function(ge){return new $(function(xe,Pe){Pe(ge)})},$.race=function(ge){return new $(function(xe,Pe){for(var Ke=o(ge),It=Ke.next();!It.done;It=Ke.next())G(It.value).J(xe,Pe)})},$.all=function(ge){var xe=o(ge),Pe=xe.next();return Pe.done?G([]):new $(function(Ke,It){function Ut(vt){return function(N){Yt[vt]=N,Pt--,Pt==0&&Ke(Yt)}}var Yt=[],Pt=0;do Yt.push(void 0),Pt++,G(Pe.value).J(Ut(Yt.length-1),It),Pe=xe.next();while(!Pe.done)})},$}),i("Object.is",function(T){return T||function($,O){return $===O?$!==0||1/$===1/O:$!==$&&O!==O}}),i("Array.prototype.includes",function(T){return T||function($,O){var G=this;G instanceof String&&(G=String(G));var ce=G.length;for(O=O||0,0>O&&(O=Math.max(O+ce,0));O<ce;O++){var we=G[O];if(we===$||Object.is(we,$))return!0}return!1}}),i("String.prototype.includes",function(T){return T||function($,O){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if($ instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf($,O||0)!==-1}}),i("Array.prototype.keys",function(T){return T||function(){return R(this,function($){return $})}});var H=this||self;function U(T,$){T=T.split(".");var O=H;T[0]in O||typeof O.execScript>"u"||O.execScript("var "+T[0]);for(var G;T.length&&(G=T.shift());)T.length||$===void 0?O[G]&&O[G]!==Object.prototype[G]?O=O[G]:O=O[G]={}:O[G]=$}function q(T,$){return $=String.fromCharCode.apply(null,$),T==null?$:T+$}var Q,re=typeof TextDecoder<"u",he,ae=typeof TextEncoder<"u";function se(T){if(ae)T=(he||(he=new TextEncoder)).encode(T);else{var $=void 0;$=$===void 0?!1:$;for(var O=0,G=new Uint8Array(3*T.length),ce=0;ce<T.length;ce++){var we=T.charCodeAt(ce);if(128>we)G[O++]=we;else{if(2048>we)G[O++]=we>>6|192;else{if(55296<=we&&57343>=we){if(56319>=we&&ce<T.length){var ge=T.charCodeAt(++ce);if(56320<=ge&&57343>=ge){we=1024*(we-55296)+ge-56320+65536,G[O++]=we>>18|240,G[O++]=we>>12&63|128,G[O++]=we>>6&63|128,G[O++]=we&63|128;continue}else ce--}if($)throw Error("Found an unpaired surrogate");we=65533}G[O++]=we>>12|224,G[O++]=we>>6&63|128}G[O++]=we&63|128}}T=G.subarray(0,O)}return T}var X={},ne=null;function ke(T,$){$===void 0&&($=0),ze(),$=X[$];for(var O=Array(Math.floor(T.length/3)),G=$[64]||"",ce=0,we=0;ce<T.length-2;ce+=3){var ge=T[ce],xe=T[ce+1],Pe=T[ce+2],Ke=$[ge>>2];ge=$[(ge&3)<<4|xe>>4],xe=$[(xe&15)<<2|Pe>>6],Pe=$[Pe&63],O[we++]=Ke+ge+xe+Pe}switch(Ke=0,Pe=G,T.length-ce){case 2:Ke=T[ce+1],Pe=$[(Ke&15)<<2]||G;case 1:T=T[ce],O[we]=$[T>>2]+$[(T&3)<<4|Ke>>4]+Pe+G}return O.join("")}function Oe(T){var $=T.length,O=3*$/4;O%3?O=Math.floor(O):"=.".indexOf(T[$-1])!=-1&&(O="=.".indexOf(T[$-2])!=-1?O-2:O-1);var G=new Uint8Array(O),ce=0;return We(T,function(we){G[ce++]=we}),G.subarray(0,ce)}function We(T,$){function O(Pe){for(;G<T.length;){var Ke=T.charAt(G++),It=ne[Ke];if(It!=null)return It;if(!/^[\s\xa0]*$/.test(Ke))throw Error("Unknown base64 encoding at char: "+Ke)}return Pe}ze();for(var G=0;;){var ce=O(-1),we=O(0),ge=O(64),xe=O(64);if(xe===64&&ce===-1)break;$(ce<<2|we>>4),ge!=64&&($(we<<4&240|ge>>2),xe!=64&&$(ge<<6&192|xe))}}function ze(){if(!ne){ne={};for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),$=["+/=","+/","-_=","-_.","-_"],O=0;5>O;O++){var G=T.concat($[O].split(""));X[O]=G;for(var ce=0;ce<G.length;ce++){var we=G[ce];ne[we]===void 0&&(ne[we]=ce)}}}}var be=typeof Uint8Array.prototype.slice=="function",Ie;function Le(T,$,O){return $===O?Ie||(Ie=new Uint8Array(0)):be?T.slice($,O):new Uint8Array(T.subarray($,O))}var Ge=0,at=0;function pe(T,$){$=$===void 0?{}:$,$=$.v===void 0?!1:$.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=$,T&&de(this,T)}function de(T,$){$=$.constructor===Uint8Array?$:$.constructor===ArrayBuffer?new Uint8Array($):$.constructor===Array?new Uint8Array($):$.constructor===String?Oe($):$ instanceof Uint8Array?new Uint8Array($.buffer,$.byteOffset,$.byteLength):new Uint8Array(0),T.h=$,T.l=0,T.j=T.h.length,T.g=T.l}pe.prototype.reset=function(){this.g=this.l};function De(T){for(var $=128,O=0,G=0,ce=0;4>ce&&128<=$;ce++)$=T.h[T.g++],O|=($&127)<<7*ce;if(128<=$&&($=T.h[T.g++],O|=($&127)<<28,G|=($&127)>>4),128<=$)for(ce=0;5>ce&&128<=$;ce++)$=T.h[T.g++],G|=($&127)<<7*ce+3;if(128>$)return T=O>>>0,$=G>>>0,(G=$&2147483648)&&(T=~T+1>>>0,$=~$>>>0,T==0&&($=$+1>>>0)),T=4294967296*$+(T>>>0),G?-T:T;T.m=!0}pe.prototype.i=function(){var T=this.h,$=T[this.g],O=$&127;return 128>$?(this.g+=1,O):($=T[this.g+1],O|=($&127)<<7,128>$?(this.g+=2,O):($=T[this.g+2],O|=($&127)<<14,128>$?(this.g+=3,O):($=T[this.g+3],O|=($&127)<<21,128>$?(this.g+=4,O):($=T[this.g+4],O|=($&15)<<28,128>$?(this.g+=5,O>>>0):(this.g+=5,128<=T[this.g++]&&128<=T[this.g++]&&128<=T[this.g++]&&128<=T[this.g++]&&this.g++,O)))))},pe.prototype.o=function(){var T=this.h[this.g],$=this.h[this.g+1],O=this.h[this.g+2],G=this.h[this.g+3];return this.g+=4,O=(T<<0|$<<8|O<<16|G<<24)>>>0,T=2*(O>>31)+1,$=O>>>23&255,O&=8388607,$==255?O?NaN:1/0*T:$==0?T*Math.pow(2,-149)*O:T*Math.pow(2,$-150)*(O+Math.pow(2,23))};var nt=[];function Et(){this.g=new Uint8Array(64),this.h=0}Et.prototype.push=function(T){if(!(this.h+1<this.g.length)){var $=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set($)}this.g[this.h++]=T},Et.prototype.length=function(){return this.h},Et.prototype.end=function(){var T=this.g,$=this.h;return this.h=0,Le(T,0,$)};function $t(T,$){for(;127<$;)T.push($&127|128),$>>>=7;T.push($)}function yn(T){var $={},O=$.N===void 0?!1:$.N;this.o={v:$.v===void 0?!1:$.v},this.N=O,$=this.o,nt.length?(O=nt.pop(),$&&(O.v=$.v),T&&de(O,T),T=O):T=new pe(T,$),this.g=T,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}yn.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function sr(T){var $=T.g;if(($=$.g==$.j)||($=T.j)||($=T.g,$=$.m||0>$.g||$.g>$.j),$)return!1;T.m=T.g.g,$=T.g.i();var O=$&7;return O!=0&&O!=5&&O!=1&&O!=2&&O!=3&&O!=4?(T.j=!0,!1):(T.i=$,T.l=$>>>3,T.h=O,!0)}function Ar(T){switch(T.h){case 0:if(T.h!=0)Ar(T);else{for(T=T.g;T.h[T.g]&128;)T.g++;T.g++}break;case 1:T.h!=1?Ar(T):(T=T.g,T.g+=8);break;case 2:if(T.h!=2)Ar(T);else{var $=T.g.i();T=T.g,T.g+=$}break;case 5:T.h!=5?Ar(T):(T=T.g,T.g+=4);break;case 3:$=T.l;do{if(!sr(T)){T.j=!0;break}if(T.h==4){T.l!=$&&(T.j=!0);break}Ar(T)}while(1);break;default:T.j=!0}}function za(T,$,O){var G=T.g.j,ce=T.g.i(),we=T.g.g+ce;if(T.g.j=we,O($,T),O=we-T.g.g,O!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+ce+" bytes, instead read "+(ce-O)+" bytes, either the data ended unexpectedly or the message misreported its own length");return T.g.g=we,T.g.j=G,$}function or(T){return T.g.o()}function Ai(T){var $=T.g.i();T=T.g;var O=T.g;T.g+=$,T=T.h;var G;if(re)(G=Q)||(G=Q=new TextDecoder("utf-8",{fatal:!1})),G=G.decode(T.subarray(O,O+$));else{$=O+$;for(var ce=[],we=null,ge,xe,Pe;O<$;)ge=T[O++],128>ge?ce.push(ge):224>ge?O>=$?ce.push(65533):(xe=T[O++],194>ge||(xe&192)!==128?(O--,ce.push(65533)):ce.push((ge&31)<<6|xe&63)):240>ge?O>=$-1?ce.push(65533):(xe=T[O++],(xe&192)!==128||ge===224&&160>xe||ge===237&&160<=xe||((G=T[O++])&192)!==128?(O--,ce.push(65533)):ce.push((ge&15)<<12|(xe&63)<<6|G&63)):244>=ge?O>=$-2?ce.push(65533):(xe=T[O++],(xe&192)!==128||(ge<<28)+(xe-144)>>30||((G=T[O++])&192)!==128||((Pe=T[O++])&192)!==128?(O--,ce.push(65533)):(ge=(ge&7)<<18|(xe&63)<<12|(G&63)<<6|Pe&63,ge-=65536,ce.push((ge>>10&1023)+55296,(ge&1023)+56320))):ce.push(65533),8192<=ce.length&&(we=q(we,ce),ce.length=0);G=q(we,ce)}return G}function li(T,$,O){var G=T.g.i();for(G=T.g.g+G;T.g.g<G;)O.push($.call(T.g))}function Qr(T,$){T.h==2?li(T,pe.prototype.o,$):$.push(or(T))}function Mr(){this.h=[],this.i=0,this.g=new Et}function Pn(T,$){$.length!==0&&(T.h.push($),T.i+=$.length)}function ns(T){var $=T.i+T.g.length();if($===0)return new Uint8Array(0);$=new Uint8Array($);for(var O=T.h,G=O.length,ce=0,we=0;we<G;we++){var ge=O[we];ge.length!==0&&($.set(ge,ce),ce+=ge.length)}return O=T.g,G=O.h,G!==0&&($.set(O.g.subarray(0,G),ce),O.h=0),T.h=[$],$}function Br(T,$,O){if(O!=null){$t(T.g,8*$+5),T=T.g;var G=O;G=(O=0>G?1:0)?-G:G,G===0?0<1/G?Ge=at=0:(at=0,Ge=2147483648):isNaN(G)?(at=0,Ge=2147483647):34028234663852886e22<G?(at=0,Ge=(O<<31|2139095040)>>>0):11754943508222875e-54>G?(G=Math.round(G/Math.pow(2,-149)),at=0,Ge=(O<<31|G)>>>0):($=Math.floor(Math.log(G)/Math.LN2),G*=Math.pow(2,-$),G=Math.round(8388608*G),16777216<=G&&++$,at=0,Ge=(O<<31|$+127<<23|G&8388607)>>>0),O=Ge,T.push(O>>>0&255),T.push(O>>>8&255),T.push(O>>>16&255),T.push(O>>>24&255)}}var Di=typeof Uint8Array=="function";function tl(T,$,O){if(T!=null)return typeof T=="object"?Di&&T instanceof Uint8Array?O(T):Os(T,$,O):$(T)}function Os(T,$,O){if(Array.isArray(T)){for(var G=Array(T.length),ce=0;ce<T.length;ce++)G[ce]=tl(T[ce],$,O);return Array.isArray(T)&&T.W&&Qt(G),G}G={};for(ce in T)G[ce]=tl(T[ce],$,O);return G}function ui(T){return typeof T=="number"?isFinite(T)?T:String(T):T}var Ea={W:{value:!0,configurable:!0}};function Qt(T){return Array.isArray(T)&&!Object.isFrozen(T)&&Object.defineProperties(T,Ea),T}var vn;function Dn(T,$,O){var G=vn;vn=null,T||(T=G),G=this.constructor.ca,T||(T=G?[G]:[]),this.j=G?0:-1,this.m=this.g=null,this.h=T;e:{if(G=this.h.length,T=G-1,G&&(G=this.h[T],!(G===null||typeof G!="object"||Array.isArray(G)||Di&&G instanceof Uint8Array))){this.l=T-this.j,this.i=G;break e}$!==void 0&&-1<$?(this.l=Math.max($,T+1-this.j),this.i=null):this.l=Number.MAX_VALUE}if(O)for($=0;$<O.length;$++)T=O[$],T<this.l?(T+=this.j,(G=this.h[T])?Qt(G):this.h[T]=Gt):(ca(this),(G=this.i[T])?Qt(G):this.i[T]=Gt)}var Gt=Object.freeze(Qt([]));function ca(T){var $=T.l+T.j;T.h[$]||(T.i=T.h[$]={})}function Ht(T,$,O){return $===-1?null:O!==void 0&&O||$>=T.l?T.i?T.i[$]:void 0:T.h[$+T.j]}function qt(T,$){var O=O===void 0?!1:O,G=Ht(T,$,O);return G==null&&(G=Gt),G===Gt&&(G=Qt([]),Lt(T,$,G,O)),G}function Rn(T){var $=qt(T,3);if(T.m||(T.m={}),!T.m[3]){for(var O=0;O<$.length;O++)$[O]=+$[O];T.m[3]=!0}return $}function zr(T,$,O){return T=Ht(T,$),T??O}function Sr(T,$,O){return T=Ht(T,$),T=T==null?T:+T,T??(O===void 0?0:O)}function Lt(T,$,O,G){G!==void 0&&G||$>=T.l?(ca(T),T.i[$]=O):T.h[$+T.j]=O}function mo(T,$,O){if(O===-1)return null;if(T.g||(T.g={}),!T.g[O]){var G=Ht(T,O,!1);G&&(T.g[O]=new $(G))}return T.g[O]}function rs(T,$){T.g||(T.g={});var O=T.g[1];if(!O){var G=qt(T,1);O=[];for(var ce=0;ce<G.length;ce++)O[ce]=new $(G[ce]);T.g[1]=O}return O}function Ua(T,$,O){var G=G===void 0?!1:G;T.g||(T.g={});var ce=O&&Dr(O);T.g[$]=O,Lt(T,$,ce,G)}function jn(T,$,O,G){var ce=rs(T,O);$=$||new O,T=qt(T,1),G!=null?(ce.splice(G,0,$),T.splice(G,0,Dr($))):(ce.push($),T.push(Dr($)))}Dn.prototype.toJSON=function(){var T=Dr(this);return Os(T,ui,ke)};function Dr(T,$){if(T.g)for(var O in T.g){var G=T.g[O];if(Array.isArray(G))for(var ce=0;ce<G.length;ce++)G[ce]&&Dr(G[ce]);else G&&Dr(G)}return T.h}Dn.prototype.toString=function(){return Dr(this).toString()};function Ls(T,$){if(T=T.o){Pn($,$.g.end());for(var O=0;O<T.length;O++)Pn($,T[O])}}function Zr(T,$){if($.h==4)return!1;var O=$.m;return Ar($),$.N||($=Le($.g.h,O,$.g.g),(O=T.o)?O.push($):T.o=[$]),!0}function Ur(T){Dn.call(this,T,-1,wu)}g(Ur,Dn),Ur.prototype.getRows=function(){return Ht(this,1)},Ur.prototype.getCols=function(){return Ht(this,2)},Ur.prototype.getPackedDataList=function(){return Rn(this)},Ur.prototype.getLayout=function(){return zr(this,4,0)};function Ri(T,$){for(;sr($);)switch($.i){case 8:var O=$.g.i();Lt(T,1,O);break;case 16:O=$.g.i(),Lt(T,2,O);break;case 29:case 26:Qr($,T.getPackedDataList());break;case 32:O=De($.g),Lt(T,4,O);break;default:if(!Zr(T,$))return T}return T}var wu=[3];function lr(T,$){var O=void 0;return new(O||(O=Promise))(function(G,ce){function we(Pe){try{xe($.next(Pe))}catch(Ke){ce(Ke)}}function ge(Pe){try{xe($.throw(Pe))}catch(Ke){ce(Ke)}}function xe(Pe){Pe.done?G(Pe.value):new O(function(Ke){Ke(Pe.value)}).then(we,ge)}xe(($=$.apply(T,void 0)).next())})}function $i(T){Dn.call(this,T)}g($i,Dn);function as(T,$){for(;sr($);)switch($.i){case 8:var O=$.g.i();Lt(T,1,O);break;case 21:O=or($),Lt(T,2,O);break;case 26:O=Ai($),Lt(T,3,O);break;case 34:O=Ai($),Lt(T,4,O);break;default:if(!Zr(T,$))return T}return T}function Jr(T){Dn.call(this,T,-1,Fl)}g(Jr,Dn),Jr.prototype.addClassification=function(T,$){return jn(this,T,$i,$),this};var Fl=[1];function is(T){Dn.call(this,T)}g(is,Dn);function nl(T,$){for(;sr($);)switch($.i){case 13:var O=or($);Lt(T,1,O);break;case 21:O=or($),Lt(T,2,O);break;case 29:O=or($),Lt(T,3,O);break;case 37:O=or($),Lt(T,4,O);break;case 45:O=or($),Lt(T,5,O);break;default:if(!Zr(T,$))return T}return T}function go(T){Dn.call(this,T,-1,_t)}g(go,Dn);function Pl(T){e:{var $=new go;for(T=new yn(T);sr(T);)switch(T.i){case 10:var O=za(T,new is,nl);jn($,O,is,void 0);break;default:if(!Zr($,T))break e}}return $}var _t=[1];function ye(T){Dn.call(this,T)}g(ye,Dn);function Ve(T){Dn.call(this,T,-1,an)}g(Ve,Dn),Ve.prototype.getVertexType=function(){return zr(this,1,0)},Ve.prototype.getPrimitiveType=function(){return zr(this,2,0)},Ve.prototype.getVertexBufferList=function(){return Rn(this)},Ve.prototype.getIndexBufferList=function(){return qt(this,4)};function st(T,$){for(;sr($);)switch($.i){case 8:var O=De($.g);Lt(T,1,O);break;case 16:O=De($.g),Lt(T,2,O);break;case 29:case 26:Qr($,T.getVertexBufferList());break;case 32:case 34:O=$;var G=T.getIndexBufferList();O.h==2?li(O,pe.prototype.i,G):G.push(O.g.i());break;default:if(!Zr(T,$))return T}return T}var an=[3,4];function Vn(T){Dn.call(this,T)}g(Vn,Dn),Vn.prototype.getMesh=function(){return mo(this,Ve,1)},Vn.prototype.getPoseTransformMatrix=function(){return mo(this,Ur,2)};function ea(T){e:{var $=new Vn;for(T=new yn(T);sr(T);)switch(T.i){case 10:var O=za(T,new Ve,st);Ua($,1,O);break;case 18:O=za(T,new Ur,Ri),Ua($,2,O);break;default:if(!Zr($,T))break e}}return $}function Wn(T,$,O){if(O=T.createShader(O===0?T.VERTEX_SHADER:T.FRAGMENT_SHADER),T.shaderSource(O,$),T.compileShader(O),!T.getShaderParameter(O,T.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+T.getShaderInfoLog(O));return O}function Rr(T){return rs(T,$i).map(function($){return{index:zr($,1,0),Y:Sr($,2),label:Ht($,3)!=null?zr($,3,""):void 0,displayName:Ht($,4)!=null?zr($,4,""):void 0}})}function ci(T){return{x:Sr(T,1),y:Sr(T,2),z:Sr(T,3),visibility:Ht(T,4)!=null?Sr(T,4):void 0}}function ss(T,$){this.h=T,this.g=$,this.l=0}function os(T,$,O){return ta(T,$),typeof T.g.canvas.transferToImageBitmap=="function"?Promise.resolve(T.g.canvas.transferToImageBitmap()):O?Promise.resolve(T.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(T.g.canvas):(T.i===void 0&&(T.i=document.createElement("canvas")),new Promise(function(G){T.i.height=T.g.canvas.height,T.i.width=T.g.canvas.width,T.i.getContext("2d",{}).drawImage(T.g.canvas,0,0,T.g.canvas.width,T.g.canvas.height),G(T.i)}))}function ta(T,$){var O=T.g;if(T.m===void 0){var G=Wn(O,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ce=Wn(O,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),we=O.createProgram();if(O.attachShader(we,G),O.attachShader(we,ce),O.linkProgram(we),!O.getProgramParameter(we,O.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+O.getProgramInfoLog(we));G=T.m=we,O.useProgram(G),ce=O.getUniformLocation(G,"sampler0"),T.j={I:O.getAttribLocation(G,"aVertex"),H:O.getAttribLocation(G,"aTex"),da:ce},T.s=O.createBuffer(),O.bindBuffer(O.ARRAY_BUFFER,T.s),O.enableVertexAttribArray(T.j.I),O.vertexAttribPointer(T.j.I,2,O.FLOAT,!1,0,0),O.bufferData(O.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),O.STATIC_DRAW),O.bindBuffer(O.ARRAY_BUFFER,null),T.o=O.createBuffer(),O.bindBuffer(O.ARRAY_BUFFER,T.o),O.enableVertexAttribArray(T.j.H),O.vertexAttribPointer(T.j.H,2,O.FLOAT,!1,0,0),O.bufferData(O.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),O.STATIC_DRAW),O.bindBuffer(O.ARRAY_BUFFER,null),O.uniform1i(ce,0)}G=T.j,O.useProgram(T.m),O.canvas.width=$.width,O.canvas.height=$.height,O.viewport(0,0,$.width,$.height),O.activeTexture(O.TEXTURE0),T.h.bindTexture2d($.glName),O.enableVertexAttribArray(G.I),O.bindBuffer(O.ARRAY_BUFFER,T.s),O.vertexAttribPointer(G.I,2,O.FLOAT,!1,0,0),O.enableVertexAttribArray(G.H),O.bindBuffer(O.ARRAY_BUFFER,T.o),O.vertexAttribPointer(G.H,2,O.FLOAT,!1,0,0),O.bindFramebuffer(O.DRAW_FRAMEBUFFER?O.DRAW_FRAMEBUFFER:O.FRAMEBUFFER,null),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),O.colorMask(!0,!0,!0,!0),O.drawArrays(O.TRIANGLE_FAN,0,4),O.disableVertexAttribArray(G.I),O.disableVertexAttribArray(G.H),O.bindBuffer(O.ARRAY_BUFFER,null),T.h.bindTexture2d(0)}function jp(T){this.g=T}var Vp=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function Sh(T,$){return $+T}function xu(T,$){window[T]=$}function Ta(T){var $=document.createElement("script");return $.setAttribute("src",T),$.setAttribute("crossorigin","anonymous"),new Promise(function(O){$.addEventListener("load",function(){O()},!1),$.addEventListener("error",function(){O()},!1),document.body.appendChild($)})}function A(){return lr(this,function T(){return C(T,function($){switch($.g){case 1:return $.m=2,w($,WebAssembly.instantiate(Vp),4);case 4:$.g=3,$.m=0;break;case 2:return $.m=0,$.j=null,$.return(!1);case 3:return $.return(!0)}})})}function P(T){if(this.g=T,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=T&&T.locateFile||Sh,typeof window=="object")var $=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")$=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=$,T.options){$=o(Object.keys(T.options));for(var O=$.next();!O.done;O=$.next()){O=O.value;var G=T.options[O].default;G!==void 0&&(this.j[O]=typeof G=="function"?G():G)}}}t=P.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function M(T,$){return T.g.files===void 0?[]:typeof T.g.files=="function"?T.g.files($):T.g.files}function te(T){return lr(T,function $(){var O=this,G,ce,we,ge,xe,Pe,Ke,It,Ut,Yt,Pt;return C($,function(vt){switch(vt.g){case 1:return G=O,O.R?(ce=M(O,O.j),w(vt,A(),2)):vt.return();case 2:if(we=vt.h,typeof window=="object")return xu("createMediapipeSolutionsWasm",{locateFile:O.locateFile}),xu("createMediapipeSolutionsPackedAssets",{locateFile:O.locateFile}),Pe=ce.filter(function(N){return N.data!==void 0}),Ke=ce.filter(function(N){return N.data===void 0}),It=Promise.all(Pe.map(function(N){var F=_e(G,N.url);if(N.path!==void 0){var B=N.path;F=F.then(function(j){return G.overrideFile(B,j),Promise.resolve(j)})}return F})),Ut=Promise.all(Ke.map(function(N){return N.simd===void 0||N.simd&&we||!N.simd&&!we?Ta(G.locateFile(N.url,G.S)):Promise.resolve()})).then(function(){return lr(G,function N(){var F,B,j=this;return C(N,function(Z){if(Z.g==1)return F=window.createMediapipeSolutionsWasm,B=window.createMediapipeSolutionsPackedAssets,w(Z,F(B),2);j.h=Z.h,Z.g=0})})}),Yt=function(){return lr(G,function N(){var F=this;return C(N,function(B){return F.g.graph&&F.g.graph.url?B=w(B,_e(F,F.g.graph.url),0):(B.g=0,B=void 0),B})})}(),w(vt,Promise.all([Ut,It,Yt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return ge=ce.filter(function(N){return N.simd===void 0||N.simd&&we||!N.simd&&!we}).map(function(N){return G.locateFile(N.url,G.S)}),importScripts.apply(null,l(ge)),w(vt,createMediapipeSolutionsWasm(Module),6);case 6:O.h=vt.h,O.l=new OffscreenCanvas(1,1),O.h.canvas=O.l,xe=O.h.GL.createContext(O.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),O.h.GL.makeContextCurrent(xe),vt.g=4;break;case 7:if(O.l=document.createElement("canvas"),Pt=O.l.getContext("webgl2",{}),!Pt&&(Pt=O.l.getContext("webgl",{}),!Pt))return alert("Failed to create WebGL canvas context when passing video frame."),vt.return();O.D=Pt,O.h.canvas=O.l,O.h.createContext(O.l,!0,!0,{});case 4:O.i=new O.h.SolutionWasm,O.R=!1,vt.g=0}})})}function ve(T){return lr(T,function $(){var O=this,G,ce,we,ge,xe,Pe,Ke,It;return C($,function(Ut){if(Ut.g==1){if(O.g.graph&&O.g.graph.url&&O.P===O.g.graph.url)return Ut.return();if(O.o=!0,!O.g.graph||!O.g.graph.url){Ut.g=2;return}return O.P=O.g.graph.url,w(Ut,_e(O,O.g.graph.url),3)}for(Ut.g!=2&&(G=Ut.h,O.i.loadGraph(G)),ce=o(Object.keys(O.B)),we=ce.next();!we.done;we=ce.next())ge=we.value,O.i.overrideFile(ge,O.B[ge]);if(O.B={},O.g.listeners)for(xe=o(O.g.listeners),Pe=xe.next();!Pe.done;Pe=xe.next())Ke=Pe.value,ut(O,Ke);It=O.j,O.j={},O.setOptions(It),Ut.g=0})})}t.reset=function(){return lr(this,function T(){var $=this;return C(T,function(O){$.i&&($.i.reset(),$.m={},$.s={}),O.g=0})})},t.setOptions=function(T,$){var O=this;if($=$||this.g.options){for(var G=[],ce=[],we={},ge=o(Object.keys(T)),xe=ge.next();!xe.done;we={K:we.K,L:we.L},xe=ge.next()){var Pe=xe.value;Pe in this.j&&this.j[Pe]===T[Pe]||(this.j[Pe]=T[Pe],xe=$[Pe],xe!==void 0&&(xe.onChange&&(we.K=xe.onChange,we.L=T[Pe],G.push(function(Ke){return function(){return lr(O,function It(){var Ut,Yt=this;return C(It,function(Pt){if(Pt.g==1)return w(Pt,Ke.K(Ke.L),2);Ut=Pt.h,Ut===!0&&(Yt.o=!0),Pt.g=0})})}}(we))),xe.graphOptionXref&&(Pe={valueNumber:xe.type===1?T[Pe]:0,valueBoolean:xe.type===0?T[Pe]:!1,valueString:xe.type===2?T[Pe]:""},xe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),xe.graphOptionXref),Pe),ce.push(xe))))}(G.length!==0||ce.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(ce),this.u=(this.u===void 0?[]:this.u).concat(G))}};function Fe(T){return lr(T,function $(){var O=this,G,ce,we,ge,xe,Pe,Ke;return C($,function(It){switch(It.g){case 1:if(!O.o)return It.return();if(!O.u){It.g=2;break}G=o(O.u),ce=G.next();case 3:if(ce.done){It.g=5;break}return we=ce.value,w(It,we(),4);case 4:ce=G.next(),It.g=3;break;case 5:O.u=void 0;case 2:if(O.A){for(ge=new O.h.GraphOptionChangeRequestList,xe=o(O.A),Pe=xe.next();!Pe.done;Pe=xe.next())Ke=Pe.value,ge.push_back(Ke);O.i.changeOptions(ge),ge.delete(),O.A=void 0}O.o=!1,It.g=0}})})}t.initialize=function(){return lr(this,function T(){var $=this;return C(T,function(O){return O.g==1?w(O,te($),2):O.g!=3?w(O,ve($),3):w(O,Fe($),0)})})};function _e(T,$){return lr(T,function O(){var G=this,ce,we;return C(O,function(ge){return $ in G.F?ge.return(G.F[$]):(ce=G.locateFile($,""),we=fetch(ce).then(function(xe){return xe.arrayBuffer()}),G.F[$]=we,ge.return(we))})})}t.overrideFile=function(T,$){this.i?this.i.overrideFile(T,$):this.B[T]=$},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(T,$){return lr(this,function O(){var G=this,ce,we,ge,xe,Pe,Ke,It,Ut,Yt;return C(O,function(Pt){switch(Pt.g){case 1:return G.g.inputs?(ce=1e3*($??performance.now()),w(Pt,G.C,2)):Pt.return();case 2:return w(Pt,G.initialize(),3);case 3:for(we=new G.h.PacketDataList,ge=o(Object.keys(T)),xe=ge.next();!xe.done;xe=ge.next())if(Pe=xe.value,Ke=G.g.inputs[Pe]){e:{var vt=G,N=T[Pe];switch(Ke.type){case"video":var F=vt.m[Ke.stream];if(F||(F=new ss(vt.h,vt.D),vt.m[Ke.stream]=F),vt=F,vt.l===0&&(vt.l=vt.h.createTexture()),typeof HTMLVideoElement<"u"&&N instanceof HTMLVideoElement){var B=N.videoWidth;F=N.videoHeight}else typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement?(B=N.naturalWidth,F=N.naturalHeight):(B=N.width,F=N.height);F={glName:vt.l,width:B,height:F},B=vt.g,B.canvas.width=F.width,B.canvas.height=F.height,B.activeTexture(B.TEXTURE0),vt.h.bindTexture2d(vt.l),B.texImage2D(B.TEXTURE_2D,0,B.RGBA,B.RGBA,B.UNSIGNED_BYTE,N),vt.h.bindTexture2d(0),vt=F;break e;case"detections":for(F=vt.m[Ke.stream],F||(F=new jp(vt.h),vt.m[Ke.stream]=F),vt=F,vt.data||(vt.data=new vt.g.DetectionListData),vt.data.reset(N.length),F=0;F<N.length;++F){B=N[F];var j=vt.data,Z=j.setBoundingBox,Y=F,J=B.T,oe=new ye;Lt(oe,1,J.Z),Lt(oe,2,J.$),Lt(oe,3,J.height),Lt(oe,4,J.width),Lt(oe,5,J.rotation),Lt(oe,6,J.X);var Se=J=new Mr;Br(Se,1,Ht(oe,1)),Br(Se,2,Ht(oe,2)),Br(Se,3,Ht(oe,3)),Br(Se,4,Ht(oe,4)),Br(Se,5,Ht(oe,5));var $e=Ht(oe,6);if($e!=null&&$e!=null){$t(Se.g,48);var Be=Se.g,Ze=$e;$e=0>Ze,Ze=Math.abs(Ze);var et=Ze>>>0;for(Ze=Math.floor((Ze-et)/4294967296),Ze>>>=0,$e&&(Ze=~Ze>>>0,et=(~et>>>0)+1,4294967295<et&&(et=0,Ze++,4294967295<Ze&&(Ze=0))),Ge=et,at=Ze,$e=Ge,et=at;0<et||127<$e;)Be.push($e&127|128),$e=($e>>>7|et<<25)>>>0,et>>>=7;Be.push($e)}if(Ls(oe,Se),J=ns(J),Z.call(j,Y,J),B.O)for(j=0;j<B.O.length;++j)oe=B.O[j],Se=!!oe.visibility,Z=vt.data,Y=Z.addNormalizedLandmark,J=F,oe=Object.assign(Object.assign({},oe),{visibility:Se?oe.visibility:0}),Se=new is,Lt(Se,1,oe.x),Lt(Se,2,oe.y),Lt(Se,3,oe.z),oe.visibility&&Lt(Se,4,oe.visibility),Be=oe=new Mr,Br(Be,1,Ht(Se,1)),Br(Be,2,Ht(Se,2)),Br(Be,3,Ht(Se,3)),Br(Be,4,Ht(Se,4)),Br(Be,5,Ht(Se,5)),Ls(Se,Be),oe=ns(oe),Y.call(Z,J,oe);if(B.M)for(j=0;j<B.M.length;++j){if(Z=vt.data,Y=Z.addClassification,J=F,oe=B.M[j],Se=new $i,Lt(Se,2,oe.Y),oe.index&&Lt(Se,1,oe.index),oe.label&&Lt(Se,3,oe.label),oe.displayName&&Lt(Se,4,oe.displayName),Be=oe=new Mr,et=Ht(Se,1),et!=null&&et!=null)if($t(Be.g,8),$e=Be.g,0<=et)$t($e,et);else{for(Ze=0;9>Ze;Ze++)$e.push(et&127|128),et>>=7;$e.push(1)}Br(Be,2,Ht(Se,2)),$e=Ht(Se,3),$e!=null&&($e=se($e),$t(Be.g,26),$t(Be.g,$e.length),Pn(Be,Be.g.end()),Pn(Be,$e)),$e=Ht(Se,4),$e!=null&&($e=se($e),$t(Be.g,34),$t(Be.g,$e.length),Pn(Be,Be.g.end()),Pn(Be,$e)),Ls(Se,Be),oe=ns(oe),Y.call(Z,J,oe)}}vt=vt.data;break e;default:vt={}}}switch(It=vt,Ut=Ke.stream,Ke.type){case"video":we.pushTexture2d(Object.assign(Object.assign({},It),{stream:Ut,timestamp:ce}));break;case"detections":Yt=It,Yt.stream=Ut,Yt.timestamp=ce,we.pushDetectionList(Yt);break;default:throw Error("Unknown input config type: '"+Ke.type+"'")}}return G.i.send(we),w(Pt,G.C,4);case 4:we.delete(),Pt.g=0}})})};function Re(T,$,O){return lr(T,function G(){var ce,we,ge,xe,Pe,Ke,It=this,Ut,Yt,Pt,vt,N,F,B,j;return C(G,function(Z){switch(Z.g){case 1:if(!O)return Z.return($);for(ce={},we=0,ge=o(Object.keys(O)),xe=ge.next();!xe.done;xe=ge.next())Pe=xe.value,Ke=O[Pe],typeof Ke!="string"&&Ke.type==="texture"&&$[Ke.stream]!==void 0&&++we;1<we&&(It.G=!1),Ut=o(Object.keys(O)),xe=Ut.next();case 2:if(xe.done){Z.g=4;break}if(Yt=xe.value,Pt=O[Yt],typeof Pt=="string")return B=ce,j=Yt,w(Z,He(It,Yt,$[Pt]),14);if(vt=$[Pt.stream],Pt.type==="detection_list"){if(vt){for(var Y=vt.getRectList(),J=vt.getLandmarksList(),oe=vt.getClassificationsList(),Se=[],$e=0;$e<Y.size();++$e){var Be=Y.get($e);e:{var Ze=new ye;for(Be=new yn(Be);sr(Be);)switch(Be.i){case 13:var et=or(Be);Lt(Ze,1,et);break;case 21:et=or(Be),Lt(Ze,2,et);break;case 29:et=or(Be),Lt(Ze,3,et);break;case 37:et=or(Be),Lt(Ze,4,et);break;case 45:et=or(Be),Lt(Ze,5,et);break;case 48:et=De(Be.g),Lt(Ze,6,et);break;default:if(!Zr(Ze,Be))break e}}Ze={Z:Sr(Ze,1),$:Sr(Ze,2),height:Sr(Ze,3),width:Sr(Ze,4),rotation:Sr(Ze,5,0),X:zr(Ze,6,0)},Be=rs(Pl(J.get($e)),is).map(ci);var ot=oe.get($e);e:for(et=new Jr,ot=new yn(ot);sr(ot);)switch(ot.i){case 10:et.addClassification(za(ot,new $i,as));break;default:if(!Zr(et,ot))break e}Ze={T:Ze,O:Be,M:Rr(et)},Se.push(Ze)}Y=Se}else Y=[];ce[Yt]=Y,Z.g=7;break}if(Pt.type==="proto_list"){if(vt){for(Y=Array(vt.size()),J=0;J<vt.size();J++)Y[J]=vt.get(J);vt.delete()}else Y=[];ce[Yt]=Y,Z.g=7;break}if(vt===void 0){Z.g=3;break}if(Pt.type==="float_list"){ce[Yt]=vt,Z.g=7;break}if(Pt.type==="proto"){ce[Yt]=vt,Z.g=7;break}if(Pt.type!=="texture")throw Error("Unknown output config type: '"+Pt.type+"'");return N=It.s[Yt],N||(N=new ss(It.h,It.D),It.s[Yt]=N),w(Z,os(N,vt,It.G),13);case 13:F=Z.h,ce[Yt]=F;case 7:Pt.transform&&ce[Yt]&&(ce[Yt]=Pt.transform(ce[Yt])),Z.g=3;break;case 14:B[j]=Z.h;case 3:xe=Ut.next(),Z.g=2;break;case 4:return Z.return(ce)}})})}function He(T,$,O){return lr(T,function G(){var ce=this,we;return C(G,function(ge){return typeof O=="number"||O instanceof Uint8Array||O instanceof ce.h.Uint8BlobList?ge.return(O):O instanceof ce.h.Texture2dDataOut?(we=ce.s[$],we||(we=new ss(ce.h,ce.D),ce.s[$]=we),ge.return(os(we,O,ce.G))):ge.return(void 0)})})}function ut(T,$){for(var O=$.name||"$",G=[].concat(l($.wants)),ce=new T.h.StringList,we=o($.wants),ge=we.next();!ge.done;ge=we.next())ce.push_back(ge.value);we=T.h.PacketListener.implement({onResults:function(xe){for(var Pe={},Ke=0;Ke<$.wants.length;++Ke)Pe[G[Ke]]=xe.get(Ke);var It=T.listeners[O];It&&(T.C=Re(T,Pe,$.outs).then(function(Ut){Ut=It(Ut);for(var Yt=0;Yt<$.wants.length;++Yt){var Pt=Pe[G[Yt]];typeof Pt=="object"&&Pt.hasOwnProperty&&Pt.hasOwnProperty("delete")&&Pt.delete()}Ut&&(T.C=Ut)}))}}),T.i.attachMultiListener(ce,we),ce.delete()}t.onResults=function(T,$){this.listeners[$||"$"]=T},U("Solution",P),U("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function At(T){T=ea(T);var $=T.getMesh();if(!$)return T;var O=new Float32Array($.getVertexBufferList());$.getVertexBufferList=function(){return O};var G=new Uint32Array($.getIndexBufferList());return $.getIndexBufferList=function(){return G},T}var Zt={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(T){return T.map(At)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(T){return T.map(function($){return rs(Pl($),is).map(ci)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},Mt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Dt=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],ht=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Ct=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Ft=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Vt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],yr=[].concat(l(Mt),l(Dt),l(ht),l(Ct),l(Ft),l(Vt));function fn(T){T=T||{},T=Object.assign(Object.assign({},Zt),T),this.g=new P(T)}t=fn.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(T){this.g.onResults(T)},t.initialize=function(){return lr(this,function T(){var $=this;return C(T,function(O){return w(O,$.g.initialize(),0)})})},t.reset=function(){this.g.reset()},t.send=function(T){return lr(this,function $(){var O=this;return C($,function(G){return w(G,O.g.send(T),0)})})},t.setOptions=function(T){this.g.setOptions(T)},U("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),U("FaceMesh",fn),U("FACEMESH_LIPS",Mt),U("FACEMESH_LEFT_EYE",Dt),U("FACEMESH_LEFT_EYEBROW",ht),U("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),U("FACEMESH_RIGHT_EYE",Ct),U("FACEMESH_RIGHT_EYEBROW",Ft),U("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),U("FACEMESH_FACE_OVAL",Vt),U("FACEMESH_CONTOURS",yr),U("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),U("matrixDataToMatrix",function(T){for(var $=T.getCols(),O=T.getRows(),G=T.getPackedDataList(),ce=[],we=0;we<O;we++)ce.push(Array($));for(we=0;we<O;we++)for(var ge=0;ge<$;ge++){var xe=T.getLayout()===1?we*$+ge:ge*O+we;ce[we][ge]=G[xe]}return ce}),U("VERSION","0.4.1633559619")}).call(vi);var wye=FaceMesh;(function(){var t;function e(A){var P=0;return function(){return P<A.length?{done:!1,value:A[P++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,P,M){return A==Array.prototype||A==Object.prototype||(A[P]=M.value),A};function r(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof vi=="object"&&vi];for(var P=0;P<A.length;++P){var M=A[P];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var a=r(this);function i(A,P){if(P)e:{var M=a;A=A.split(".");for(var te=0;te<A.length-1;te++){var ve=A[te];if(!(ve in M))break e;M=M[ve]}A=A[A.length-1],te=M[A],P=P(te),P!=te&&P!=null&&n(M,A,{configurable:!0,writable:!0,value:P})}}i("Symbol",function(A){function P(Fe){if(this instanceof P)throw new TypeError("Symbol is not a constructor");return new M(te+(Fe||"")+"_"+ve++,Fe)}function M(Fe,_e){this.g=Fe,n(this,"description",{configurable:!0,writable:!0,value:_e})}if(A)return A;M.prototype.toString=function(){return this.g};var te="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",ve=0;return P}),i("Symbol.iterator",function(A){if(A)return A;A=Symbol("Symbol.iterator");for(var P="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),M=0;M<P.length;M++){var te=a[P[M]];typeof te=="function"&&typeof te.prototype[A]!="function"&&n(te.prototype,A,{configurable:!0,writable:!0,value:function(){return s(e(this))}})}return A});function s(A){return A={next:A},A[Symbol.iterator]=function(){return this},A}function o(A){var P=typeof Symbol<"u"&&Symbol.iterator&&A[Symbol.iterator];return P?P.call(A):{next:e(A)}}function l(A){if(!(A instanceof Array)){A=o(A);for(var P,M=[];!(P=A.next()).done;)M.push(P.value);A=M}return A}var u=typeof Object.create=="function"?Object.create:function(A){function P(){}return P.prototype=A,new P},c;if(typeof Object.setPrototypeOf=="function")c=Object.setPrototypeOf;else{var d;e:{var f={a:!0},p={};try{p.__proto__=f,d=p.a;break e}catch{}d=!1}c=d?function(A,P){if(A.__proto__=P,A.__proto__!==P)throw new TypeError(A+" is not extensible");return A}:null}var m=c;function g(A,P){if(A.prototype=u(P.prototype),A.prototype.constructor=A,m)m(A,P);else for(var M in P)if(M!="prototype")if(Object.defineProperties){var te=Object.getOwnPropertyDescriptor(P,M);te&&Object.defineProperty(A,M,te)}else A[M]=P[M];A.ea=P.prototype}function v(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function y(A){if(A.l)throw new TypeError("Generator is already running");A.l=!0}v.prototype.o=function(A){this.h=A};function b(A,P){A.j={U:P,V:!0},A.g=A.m||A.s}v.prototype.return=function(A){this.j={return:A},this.g=this.s};function w(A,P,M){return A.g=M,{value:P}}function x(A){this.g=new v,this.h=A}function k(A,P){y(A.g);var M=A.g.i;return M?S(A,"return"in M?M.return:function(te){return{value:te,done:!0}},P,A.g.return):(A.g.return(P),E(A))}function S(A,P,M,te){try{var ve=P.call(A.g.i,M);if(!(ve instanceof Object))throw new TypeError("Iterator result "+ve+" is not an object");if(!ve.done)return A.g.l=!1,ve;var Fe=ve.value}catch(_e){return A.g.i=null,b(A.g,_e),E(A)}return A.g.i=null,te.call(A.g,Fe),E(A)}function E(A){for(;A.g.g;)try{var P=A.h(A.g);if(P)return A.g.l=!1,{value:P.value,done:!1}}catch(M){A.g.h=void 0,b(A.g,M)}if(A.g.l=!1,A.g.j){if(P=A.g.j,A.g.j=null,P.V)throw P.U;return{value:P.return,done:!0}}return{value:void 0,done:!0}}function I(A){this.next=function(P){return y(A.g),A.g.i?P=S(A,A.g.i.next,P,A.g.o):(A.g.o(P),P=E(A)),P},this.throw=function(P){return y(A.g),A.g.i?P=S(A,A.g.i.throw,P,A.g.o):(b(A.g,P),P=E(A)),P},this.return=function(P){return k(A,P)},this[Symbol.iterator]=function(){return this}}function C(A,P){return P=new I(new x(P)),m&&A.prototype&&m(P,A.prototype),P}function R(A,P){A instanceof String&&(A+="");var M=0,te=!1,ve={next:function(){if(!te&&M<A.length){var Fe=M++;return{value:P(Fe,A[Fe]),done:!1}}return te=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}var z=typeof Object.assign=="function"?Object.assign:function(A,P){for(var M=1;M<arguments.length;M++){var te=arguments[M];if(te)for(var ve in te)Object.prototype.hasOwnProperty.call(te,ve)&&(A[ve]=te[ve])}return A};i("Object.assign",function(A){return A||z}),i("Promise",function(A){function P(_e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var Re=this.j();try{_e(Re.resolve,Re.reject)}catch(He){Re.reject(He)}}function M(){this.g=null}function te(_e){return _e instanceof P?_e:new P(function(Re){Re(_e)})}if(A)return A;M.prototype.h=function(_e){if(this.g==null){this.g=[];var Re=this;this.i(function(){Re.l()})}this.g.push(_e)};var ve=a.setTimeout;M.prototype.i=function(_e){ve(_e,0)},M.prototype.l=function(){for(;this.g&&this.g.length;){var _e=this.g;this.g=[];for(var Re=0;Re<_e.length;++Re){var He=_e[Re];_e[Re]=null;try{He()}catch(ut){this.j(ut)}}}this.g=null},M.prototype.j=function(_e){this.i(function(){throw _e})},P.prototype.j=function(){function _e(ut){return function(At){He||(He=!0,ut.call(Re,At))}}var Re=this,He=!1;return{resolve:_e(this.C),reject:_e(this.l)}},P.prototype.C=function(_e){if(_e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(_e instanceof P)this.F(_e);else{e:switch(typeof _e){case"object":var Re=_e!=null;break e;case"function":Re=!0;break e;default:Re=!1}Re?this.u(_e):this.m(_e)}},P.prototype.u=function(_e){var Re=void 0;try{Re=_e.then}catch(He){this.l(He);return}typeof Re=="function"?this.G(Re,_e):this.m(_e)},P.prototype.l=function(_e){this.s(2,_e)},P.prototype.m=function(_e){this.s(1,_e)},P.prototype.s=function(_e,Re){if(this.h!=0)throw Error("Cannot settle("+_e+", "+Re+"): Promise already settled in state"+this.h);this.h=_e,this.i=Re,this.h===2&&this.D(),this.A()},P.prototype.D=function(){var _e=this;ve(function(){if(_e.B()){var Re=a.console;typeof Re<"u"&&Re.error(_e.i)}},1)},P.prototype.B=function(){if(this.o)return!1;var _e=a.CustomEvent,Re=a.Event,He=a.dispatchEvent;return typeof He>"u"?!0:(typeof _e=="function"?_e=new _e("unhandledrejection",{cancelable:!0}):typeof Re=="function"?_e=new Re("unhandledrejection",{cancelable:!0}):(_e=a.document.createEvent("CustomEvent"),_e.initCustomEvent("unhandledrejection",!1,!0,_e)),_e.promise=this,_e.reason=this.i,He(_e))},P.prototype.A=function(){if(this.g!=null){for(var _e=0;_e<this.g.length;++_e)Fe.h(this.g[_e]);this.g=null}};var Fe=new M;return P.prototype.F=function(_e){var Re=this.j();_e.J(Re.resolve,Re.reject)},P.prototype.G=function(_e,Re){var He=this.j();try{_e.call(Re,He.resolve,He.reject)}catch(ut){He.reject(ut)}},P.prototype.then=function(_e,Re){function He(Mt,Dt){return typeof Mt=="function"?function(ht){try{ut(Mt(ht))}catch(Ct){At(Ct)}}:Dt}var ut,At,Zt=new P(function(Mt,Dt){ut=Mt,At=Dt});return this.J(He(_e,ut),He(Re,At)),Zt},P.prototype.catch=function(_e){return this.then(void 0,_e)},P.prototype.J=function(_e,Re){function He(){switch(ut.h){case 1:_e(ut.i);break;case 2:Re(ut.i);break;default:throw Error("Unexpected state: "+ut.h)}}var ut=this;this.g==null?Fe.h(He):this.g.push(He),this.o=!0},P.resolve=te,P.reject=function(_e){return new P(function(Re,He){He(_e)})},P.race=function(_e){return new P(function(Re,He){for(var ut=o(_e),At=ut.next();!At.done;At=ut.next())te(At.value).J(Re,He)})},P.all=function(_e){var Re=o(_e),He=Re.next();return He.done?te([]):new P(function(ut,At){function Zt(ht){return function(Ct){Mt[ht]=Ct,Dt--,Dt==0&&ut(Mt)}}var Mt=[],Dt=0;do Mt.push(void 0),Dt++,te(He.value).J(Zt(Mt.length-1),At),He=Re.next();while(!He.done)})},P}),i("Object.is",function(A){return A||function(P,M){return P===M?P!==0||1/P===1/M:P!==P&&M!==M}}),i("Array.prototype.includes",function(A){return A||function(P,M){var te=this;te instanceof String&&(te=String(te));var ve=te.length;for(M=M||0,0>M&&(M=Math.max(M+ve,0));M<ve;M++){var Fe=te[M];if(Fe===P||Object.is(Fe,P))return!0}return!1}}),i("String.prototype.includes",function(A){return A||function(P,M){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(P instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(P,M||0)!==-1}}),i("Array.prototype.keys",function(A){return A||function(){return R(this,function(P){return P})}});var H=this||self;function U(A,P){A=A.split(".");var M=H;A[0]in M||typeof M.execScript>"u"||M.execScript("var "+A[0]);for(var te;A.length&&(te=A.shift());)A.length||P===void 0?M[te]&&M[te]!==Object.prototype[te]?M=M[te]:M=M[te]={}:M[te]=P}function q(A,P){return P=String.fromCharCode.apply(null,P),A==null?P:A+P}var Q,re=typeof TextDecoder<"u",he,ae=typeof TextEncoder<"u";function se(A){if(ae)A=(he||(he=new TextEncoder)).encode(A);else{var P=void 0;P=P===void 0?!1:P;for(var M=0,te=new Uint8Array(3*A.length),ve=0;ve<A.length;ve++){var Fe=A.charCodeAt(ve);if(128>Fe)te[M++]=Fe;else{if(2048>Fe)te[M++]=Fe>>6|192;else{if(55296<=Fe&&57343>=Fe){if(56319>=Fe&&ve<A.length){var _e=A.charCodeAt(++ve);if(56320<=_e&&57343>=_e){Fe=1024*(Fe-55296)+_e-56320+65536,te[M++]=Fe>>18|240,te[M++]=Fe>>12&63|128,te[M++]=Fe>>6&63|128,te[M++]=Fe&63|128;continue}else ve--}if(P)throw Error("Found an unpaired surrogate");Fe=65533}te[M++]=Fe>>12|224,te[M++]=Fe>>6&63|128}te[M++]=Fe&63|128}}A=te.subarray(0,M)}return A}var X={},ne=null;function ke(A,P){P===void 0&&(P=0),ze(),P=X[P];for(var M=Array(Math.floor(A.length/3)),te=P[64]||"",ve=0,Fe=0;ve<A.length-2;ve+=3){var _e=A[ve],Re=A[ve+1],He=A[ve+2],ut=P[_e>>2];_e=P[(_e&3)<<4|Re>>4],Re=P[(Re&15)<<2|He>>6],He=P[He&63],M[Fe++]=ut+_e+Re+He}switch(ut=0,He=te,A.length-ve){case 2:ut=A[ve+1],He=P[(ut&15)<<2]||te;case 1:A=A[ve],M[Fe]=P[A>>2]+P[(A&3)<<4|ut>>4]+He+te}return M.join("")}function Oe(A){var P=A.length,M=3*P/4;M%3?M=Math.floor(M):"=.".indexOf(A[P-1])!=-1&&(M="=.".indexOf(A[P-2])!=-1?M-2:M-1);var te=new Uint8Array(M),ve=0;return We(A,function(Fe){te[ve++]=Fe}),te.subarray(0,ve)}function We(A,P){function M(He){for(;te<A.length;){var ut=A.charAt(te++),At=ne[ut];if(At!=null)return At;if(!/^[\s\xa0]*$/.test(ut))throw Error("Unknown base64 encoding at char: "+ut)}return He}ze();for(var te=0;;){var ve=M(-1),Fe=M(0),_e=M(64),Re=M(64);if(Re===64&&ve===-1)break;P(ve<<2|Fe>>4),_e!=64&&(P(Fe<<4&240|_e>>2),Re!=64&&P(_e<<6&192|Re))}}function ze(){if(!ne){ne={};for(var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),P=["+/=","+/","-_=","-_.","-_"],M=0;5>M;M++){var te=A.concat(P[M].split(""));X[M]=te;for(var ve=0;ve<te.length;ve++){var Fe=te[ve];ne[Fe]===void 0&&(ne[Fe]=ve)}}}}var be=typeof Uint8Array.prototype.slice=="function",Ie;function Le(A,P,M){return P===M?Ie||(Ie=new Uint8Array(0)):be?A.slice(P,M):new Uint8Array(A.subarray(P,M))}var Ge=0,at=0;function pe(A,P){P=P===void 0?{}:P,P=P.v===void 0?!1:P.v,this.h=null,this.g=this.i=this.j=0,this.l=!1,this.v=P,A&&de(this,A)}function de(A,P){P=P.constructor===Uint8Array?P:P.constructor===ArrayBuffer?new Uint8Array(P):P.constructor===Array?new Uint8Array(P):P.constructor===String?Oe(P):P instanceof Uint8Array?new Uint8Array(P.buffer,P.byteOffset,P.byteLength):new Uint8Array(0),A.h=P,A.j=0,A.i=A.h.length,A.g=A.j}pe.prototype.reset=function(){this.g=this.j};function De(A){var P=A.h,M=P[A.g],te=M&127;return 128>M?(A.g+=1,te):(M=P[A.g+1],te|=(M&127)<<7,128>M?(A.g+=2,te):(M=P[A.g+2],te|=(M&127)<<14,128>M?(A.g+=3,te):(M=P[A.g+3],te|=(M&127)<<21,128>M?(A.g+=4,te):(M=P[A.g+4],te|=(M&15)<<28,128>M?(A.g+=5,te>>>0):(A.g+=5,128<=P[A.g++]&&128<=P[A.g++]&&128<=P[A.g++]&&128<=P[A.g++]&&A.g++,te)))))}function nt(A){var P=A.h[A.g],M=A.h[A.g+1],te=A.h[A.g+2],ve=A.h[A.g+3];return A.g+=4,M=(P<<0|M<<8|te<<16|ve<<24)>>>0,A=2*(M>>31)+1,P=M>>>23&255,M&=8388607,P==255?M?NaN:1/0*A:P==0?A*Math.pow(2,-149)*M:A*Math.pow(2,P-150)*(M+Math.pow(2,23))}var Et=[];function $t(){this.g=new Uint8Array(64),this.h=0}$t.prototype.push=function(A){if(!(this.h+1<this.g.length)){var P=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(P)}this.g[this.h++]=A},$t.prototype.length=function(){return this.h},$t.prototype.end=function(){var A=this.g,P=this.h;return this.h=0,Le(A,0,P)};function yn(A,P){for(;127<P;)A.push(P&127|128),P>>>=7;A.push(P)}function sr(A){var P={},M=P.N===void 0?!1:P.N;this.o={v:P.v===void 0?!1:P.v},this.N=M,P=this.o,Et.length?(M=Et.pop(),P&&(M.v=P.v),A&&de(M,A),A=M):A=new pe(A,P),this.g=A,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}sr.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};function Ar(A){var P=A.g;if((P=P.g==P.i)||(P=A.j)||(P=A.g,P=P.l||0>P.g||P.g>P.i),P)return!1;A.m=A.g.g,P=De(A.g);var M=P&7;return M!=0&&M!=5&&M!=1&&M!=2&&M!=3&&M!=4?(A.j=!0,!1):(A.i=P,A.l=P>>>3,A.h=M,!0)}function za(A){switch(A.h){case 0:if(A.h!=0)za(A);else{for(A=A.g;A.h[A.g]&128;)A.g++;A.g++}break;case 1:A.h!=1?za(A):(A=A.g,A.g+=8);break;case 2:if(A.h!=2)za(A);else{var P=De(A.g);A=A.g,A.g+=P}break;case 5:A.h!=5?za(A):(A=A.g,A.g+=4);break;case 3:P=A.l;do{if(!Ar(A)){A.j=!0;break}if(A.h==4){A.l!=P&&(A.j=!0);break}za(A)}while(1);break;default:A.j=!0}}function or(A,P,M){var te=A.g.i,ve=De(A.g),Fe=A.g.g+ve;if(A.g.i=Fe,M(P,A),M=Fe-A.g.g,M!==0)throw Error("Message parsing ended unexpectedly. Expected to read "+ve+" bytes, instead read "+(ve-M)+" bytes, either the data ended unexpectedly or the message misreported its own length");return A.g.g=Fe,A.g.i=te,P}function Ai(A){var P=De(A.g);A=A.g;var M=A.g;A.g+=P,A=A.h;var te;if(re)(te=Q)||(te=Q=new TextDecoder("utf-8",{fatal:!1})),te=te.decode(A.subarray(M,M+P));else{P=M+P;for(var ve=[],Fe=null,_e,Re,He;M<P;)_e=A[M++],128>_e?ve.push(_e):224>_e?M>=P?ve.push(65533):(Re=A[M++],194>_e||(Re&192)!==128?(M--,ve.push(65533)):ve.push((_e&31)<<6|Re&63)):240>_e?M>=P-1?ve.push(65533):(Re=A[M++],(Re&192)!==128||_e===224&&160>Re||_e===237&&160<=Re||((te=A[M++])&192)!==128?(M--,ve.push(65533)):ve.push((_e&15)<<12|(Re&63)<<6|te&63)):244>=_e?M>=P-2?ve.push(65533):(Re=A[M++],(Re&192)!==128||(_e<<28)+(Re-144)>>30||((te=A[M++])&192)!==128||((He=A[M++])&192)!==128?(M--,ve.push(65533)):(_e=(_e&7)<<18|(Re&63)<<12|(te&63)<<6|He&63,_e-=65536,ve.push((_e>>10&1023)+55296,(_e&1023)+56320))):ve.push(65533),8192<=ve.length&&(Fe=q(Fe,ve),ve.length=0);te=q(Fe,ve)}return te}function li(){this.h=[],this.i=0,this.g=new $t}function Qr(A,P){P.length!==0&&(A.h.push(P),A.i+=P.length)}function Mr(A){var P=A.i+A.g.length();if(P===0)return new Uint8Array(0);P=new Uint8Array(P);for(var M=A.h,te=M.length,ve=0,Fe=0;Fe<te;Fe++){var _e=M[Fe];_e.length!==0&&(P.set(_e,ve),ve+=_e.length)}return M=A.g,te=M.h,te!==0&&(P.set(M.g.subarray(0,te),ve),M.h=0),A.h=[P],P}function Pn(A,P,M){if(M!=null){yn(A.g,8*P+5),A=A.g;var te=M;te=(M=0>te?1:0)?-te:te,te===0?0<1/te?Ge=at=0:(at=0,Ge=2147483648):isNaN(te)?(at=0,Ge=2147483647):34028234663852886e22<te?(at=0,Ge=(M<<31|2139095040)>>>0):11754943508222875e-54>te?(te=Math.round(te/Math.pow(2,-149)),at=0,Ge=(M<<31|te)>>>0):(P=Math.floor(Math.log(te)/Math.LN2),te*=Math.pow(2,-P),te=Math.round(8388608*te),16777216<=te&&++P,at=0,Ge=(M<<31|P+127<<23|te&8388607)>>>0),M=Ge,A.push(M>>>0&255),A.push(M>>>8&255),A.push(M>>>16&255),A.push(M>>>24&255)}}var ns=typeof Uint8Array=="function";function Br(A,P,M){if(A!=null)return typeof A=="object"?ns&&A instanceof Uint8Array?M(A):Di(A,P,M):P(A)}function Di(A,P,M){if(Array.isArray(A)){for(var te=Array(A.length),ve=0;ve<A.length;ve++)te[ve]=Br(A[ve],P,M);return Array.isArray(A)&&A.W&&ui(te),te}te={};for(ve in A)te[ve]=Br(A[ve],P,M);return te}function tl(A){return typeof A=="number"?isFinite(A)?A:String(A):A}var Os={W:{value:!0,configurable:!0}};function ui(A){return Array.isArray(A)&&!Object.isFrozen(A)&&Object.defineProperties(A,Os),A}var Ea;function Qt(A,P,M){var te=Ea;Ea=null,A||(A=te),te=this.constructor.ca,A||(A=te?[te]:[]),this.j=te?0:-1,this.i=null,this.g=A;e:{if(te=this.g.length,A=te-1,te&&(te=this.g[A],!(te===null||typeof te!="object"||Array.isArray(te)||ns&&te instanceof Uint8Array))){this.l=A-this.j,this.h=te;break e}P!==void 0&&-1<P?(this.l=Math.max(P,A+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(M)for(P=0;P<M.length;P++)A=M[P],A<this.l?(A+=this.j,(te=this.g[A])?ui(te):this.g[A]=vn):(Dn(this),(te=this.h[A])?ui(te):this.h[A]=vn)}var vn=Object.freeze(ui([]));function Dn(A){var P=A.l+A.j;A.g[P]||(A.h=A.g[P]={})}function Gt(A,P,M){return P===-1?null:M!==void 0&&M||P>=A.l?A.h?A.h[P]:void 0:A.g[P+A.j]}function ca(A){var P=P===void 0?!1:P,M=Gt(A,1,P);return M==null&&(M=vn),M===vn&&(M=ui([]),qt(A,1,M,P)),M}function Ht(A,P,M){return A=Gt(A,P),A=A==null?A:+A,A??(M===void 0?0:M)}function qt(A,P,M,te){te!==void 0&&te||P>=A.l?(Dn(A),A.h[P]=M):A.g[P+A.j]=M}function Rn(A,P){A.i||(A.i={});var M=A.i[1];if(!M){var te=ca(A);M=[];for(var ve=0;ve<te.length;ve++)M[ve]=new P(te[ve]);A.i[1]=M}return M}function zr(A,P,M,te){var ve=Rn(A,M);P=P||new M,A=ca(A),te!=null?(ve.splice(te,0,P),A.splice(te,0,Sr(P))):(ve.push(P),A.push(Sr(P)))}Qt.prototype.toJSON=function(){var A=Sr(this);return Di(A,tl,ke)};function Sr(A,P){if(A.i)for(var M in A.i){var te=A.i[M];if(Array.isArray(te))for(var ve=0;ve<te.length;ve++)te[ve]&&Sr(te[ve]);else te&&Sr(te)}return A.g}Qt.prototype.toString=function(){return Sr(this).toString()};function Lt(A,P){return A=Gt(A,P),A??0}function mo(A,P){return A=Gt(A,P),A??""}function rs(A,P){if(A=A.m){Qr(P,P.g.end());for(var M=0;M<A.length;M++)Qr(P,A[M])}}function Ua(A,P){if(P.h==4)return!1;var M=P.m;return za(P),P.N||(P=Le(P.g.h,M,P.g.g),(M=A.m)?M.push(P):A.m=[P]),!0}function jn(A,P){var M=void 0;return new(M||(M=Promise))(function(te,ve){function Fe(He){try{Re(P.next(He))}catch(ut){ve(ut)}}function _e(He){try{Re(P.throw(He))}catch(ut){ve(ut)}}function Re(He){He.done?te(He.value):new M(function(ut){ut(He.value)}).then(Fe,_e)}Re((P=P.apply(A,void 0)).next())})}function Dr(A){Qt.call(this,A)}g(Dr,Qt);function Ls(A,P){for(;Ar(P);)switch(P.i){case 8:var M=De(P.g);qt(A,1,M);break;case 21:M=nt(P.g),qt(A,2,M);break;case 26:M=Ai(P),qt(A,3,M);break;case 34:M=Ai(P),qt(A,4,M);break;default:if(!Ua(A,P))return A}return A}function Zr(A){Qt.call(this,A,-1,Ur)}g(Zr,Qt),Zr.prototype.addClassification=function(A,P){return zr(this,A,Dr,P),this};var Ur=[1];function Ri(A){Qt.call(this,A)}g(Ri,Qt);function wu(A,P){for(;Ar(P);)switch(P.i){case 13:var M=nt(P.g);qt(A,1,M);break;case 21:M=nt(P.g),qt(A,2,M);break;case 29:M=nt(P.g),qt(A,3,M);break;case 37:M=nt(P.g),qt(A,4,M);break;case 45:M=nt(P.g),qt(A,5,M);break;default:if(!Ua(A,P))return A}return A}function lr(A){Qt.call(this,A,-1,$i)}g(lr,Qt);var $i=[1];function as(A){Qt.call(this,A)}g(as,Qt);function Jr(A,P,M){if(M=A.createShader(M===0?A.VERTEX_SHADER:A.FRAGMENT_SHADER),A.shaderSource(M,P),A.compileShader(M),!A.getShaderParameter(M,A.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+A.getShaderInfoLog(M));return M}function Fl(A){return Rn(A,Dr).map(function(P){return{index:Lt(P,1),Y:Ht(P,2),label:Gt(P,3)!=null?mo(P,3):void 0,displayName:Gt(P,4)!=null?mo(P,4):void 0}})}function is(A){return{x:Ht(A,1),y:Ht(A,2),z:Ht(A,3),visibility:Gt(A,4)!=null?Ht(A,4):void 0}}function nl(A){e:{var P=new lr;for(A=new sr(A);Ar(A);)switch(A.i){case 10:var M=or(A,new Ri,wu);zr(P,M,Ri,void 0);break;default:if(!Ua(P,A))break e}}return Rn(P,Ri).map(is)}function go(A,P){this.h=A,this.g=P,this.l=0}function Pl(A,P,M){return _t(A,P),typeof A.g.canvas.transferToImageBitmap=="function"?Promise.resolve(A.g.canvas.transferToImageBitmap()):M?Promise.resolve(A.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(A.g.canvas):(A.i===void 0&&(A.i=document.createElement("canvas")),new Promise(function(te){A.i.height=A.g.canvas.height,A.i.width=A.g.canvas.width,A.i.getContext("2d",{}).drawImage(A.g.canvas,0,0,A.g.canvas.width,A.g.canvas.height),te(A.i)}))}function _t(A,P){var M=A.g;if(A.m===void 0){var te=Jr(M,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),ve=Jr(M,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Fe=M.createProgram();if(M.attachShader(Fe,te),M.attachShader(Fe,ve),M.linkProgram(Fe),!M.getProgramParameter(Fe,M.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+M.getProgramInfoLog(Fe));te=A.m=Fe,M.useProgram(te),ve=M.getUniformLocation(te,"sampler0"),A.j={I:M.getAttribLocation(te,"aVertex"),H:M.getAttribLocation(te,"aTex"),da:ve},A.s=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,A.s),M.enableVertexAttribArray(A.j.I),M.vertexAttribPointer(A.j.I,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),A.o=M.createBuffer(),M.bindBuffer(M.ARRAY_BUFFER,A.o),M.enableVertexAttribArray(A.j.H),M.vertexAttribPointer(A.j.H,2,M.FLOAT,!1,0,0),M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),M.STATIC_DRAW),M.bindBuffer(M.ARRAY_BUFFER,null),M.uniform1i(ve,0)}te=A.j,M.useProgram(A.m),M.canvas.width=P.width,M.canvas.height=P.height,M.viewport(0,0,P.width,P.height),M.activeTexture(M.TEXTURE0),A.h.bindTexture2d(P.glName),M.enableVertexAttribArray(te.I),M.bindBuffer(M.ARRAY_BUFFER,A.s),M.vertexAttribPointer(te.I,2,M.FLOAT,!1,0,0),M.enableVertexAttribArray(te.H),M.bindBuffer(M.ARRAY_BUFFER,A.o),M.vertexAttribPointer(te.H,2,M.FLOAT,!1,0,0),M.bindFramebuffer(M.DRAW_FRAMEBUFFER?M.DRAW_FRAMEBUFFER:M.FRAMEBUFFER,null),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.colorMask(!0,!0,!0,!0),M.drawArrays(M.TRIANGLE_FAN,0,4),M.disableVertexAttribArray(te.I),M.disableVertexAttribArray(te.H),M.bindBuffer(M.ARRAY_BUFFER,null),A.h.bindTexture2d(0)}function ye(A){this.g=A}var Ve=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function st(A,P){return P+A}function an(A,P){window[A]=P}function Vn(A){var P=document.createElement("script");return P.setAttribute("src",A),P.setAttribute("crossorigin","anonymous"),new Promise(function(M){P.addEventListener("load",function(){M()},!1),P.addEventListener("error",function(){M()},!1),document.body.appendChild(P)})}function ea(){return jn(this,function A(){return C(A,function(P){switch(P.g){case 1:return P.m=2,w(P,WebAssembly.instantiate(Ve),4);case 4:P.g=3,P.m=0;break;case 2:return P.m=0,P.j=null,P.return(!1);case 3:return P.return(!0)}})})}function Wn(A){if(this.g=A,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=A&&A.locateFile||st,typeof window=="object")var P=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")P=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.S=P,A.options){P=o(Object.keys(A.options));for(var M=P.next();!M.done;M=P.next()){M=M.value;var te=A.options[M].default;te!==void 0&&(this.j[M]=typeof te=="function"?te():te)}}}t=Wn.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function Rr(A,P){return A.g.files===void 0?[]:typeof A.g.files=="function"?A.g.files(P):A.g.files}function ci(A){return jn(A,function P(){var M=this,te,ve,Fe,_e,Re,He,ut,At,Zt,Mt,Dt;return C(P,function(ht){switch(ht.g){case 1:return te=M,M.R?(ve=Rr(M,M.j),w(ht,ea(),2)):ht.return();case 2:if(Fe=ht.h,typeof window=="object")return an("createMediapipeSolutionsWasm",{locateFile:M.locateFile}),an("createMediapipeSolutionsPackedAssets",{locateFile:M.locateFile}),He=ve.filter(function(Ct){return Ct.data!==void 0}),ut=ve.filter(function(Ct){return Ct.data===void 0}),At=Promise.all(He.map(function(Ct){var Ft=ta(te,Ct.url);if(Ct.path!==void 0){var Vt=Ct.path;Ft=Ft.then(function(yr){return te.overrideFile(Vt,yr),Promise.resolve(yr)})}return Ft})),Zt=Promise.all(ut.map(function(Ct){return Ct.simd===void 0||Ct.simd&&Fe||!Ct.simd&&!Fe?Vn(te.locateFile(Ct.url,te.S)):Promise.resolve()})).then(function(){return jn(te,function Ct(){var Ft,Vt,yr=this;return C(Ct,function(fn){if(fn.g==1)return Ft=window.createMediapipeSolutionsWasm,Vt=window.createMediapipeSolutionsPackedAssets,w(fn,Ft(Vt),2);yr.h=fn.h,fn.g=0})})}),Mt=function(){return jn(te,function Ct(){var Ft=this;return C(Ct,function(Vt){return Ft.g.graph&&Ft.g.graph.url?Vt=w(Vt,ta(Ft,Ft.g.graph.url),0):(Vt.g=0,Vt=void 0),Vt})})}(),w(ht,Promise.all([Zt,At,Mt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return _e=ve.filter(function(Ct){return Ct.simd===void 0||Ct.simd&&Fe||!Ct.simd&&!Fe}).map(function(Ct){return te.locateFile(Ct.url,te.S)}),importScripts.apply(null,l(_e)),w(ht,createMediapipeSolutionsWasm(Module),6);case 6:M.h=ht.h,M.l=new OffscreenCanvas(1,1),M.h.canvas=M.l,Re=M.h.GL.createContext(M.l,{antialias:!1,alpha:!1,ba:typeof WebGL2RenderingContext<"u"?2:1}),M.h.GL.makeContextCurrent(Re),ht.g=4;break;case 7:if(M.l=document.createElement("canvas"),Dt=M.l.getContext("webgl2",{}),!Dt&&(Dt=M.l.getContext("webgl",{}),!Dt))return alert("Failed to create WebGL canvas context when passing video frame."),ht.return();M.D=Dt,M.h.canvas=M.l,M.h.createContext(M.l,!0,!0,{});case 4:M.i=new M.h.SolutionWasm,M.R=!1,ht.g=0}})})}function ss(A){return jn(A,function P(){var M=this,te,ve,Fe,_e,Re,He,ut,At;return C(P,function(Zt){if(Zt.g==1){if(M.g.graph&&M.g.graph.url&&M.P===M.g.graph.url)return Zt.return();if(M.o=!0,!M.g.graph||!M.g.graph.url){Zt.g=2;return}return M.P=M.g.graph.url,w(Zt,ta(M,M.g.graph.url),3)}for(Zt.g!=2&&(te=Zt.h,M.i.loadGraph(te)),ve=o(Object.keys(M.B)),Fe=ve.next();!Fe.done;Fe=ve.next())_e=Fe.value,M.i.overrideFile(_e,M.B[_e]);if(M.B={},M.g.listeners)for(Re=o(M.g.listeners),He=Re.next();!He.done;He=Re.next())ut=He.value,Sh(M,ut);At=M.j,M.j={},M.setOptions(At),Zt.g=0})})}t.reset=function(){return jn(this,function A(){var P=this;return C(A,function(M){P.i&&(P.i.reset(),P.m={},P.s={}),M.g=0})})},t.setOptions=function(A,P){var M=this;if(P=P||this.g.options){for(var te=[],ve=[],Fe={},_e=o(Object.keys(A)),Re=_e.next();!Re.done;Fe={K:Fe.K,L:Fe.L},Re=_e.next()){var He=Re.value;He in this.j&&this.j[He]===A[He]||(this.j[He]=A[He],Re=P[He],Re!==void 0&&(Re.onChange&&(Fe.K=Re.onChange,Fe.L=A[He],te.push(function(ut){return function(){return jn(M,function At(){var Zt,Mt=this;return C(At,function(Dt){if(Dt.g==1)return w(Dt,ut.K(ut.L),2);Zt=Dt.h,Zt===!0&&(Mt.o=!0),Dt.g=0})})}}(Fe))),Re.graphOptionXref&&(He={valueNumber:Re.type===1?A[He]:0,valueBoolean:Re.type===0?A[He]:!1,valueString:Re.type===2?A[He]:""},Re=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Re.graphOptionXref),He),ve.push(Re))))}(te.length!==0||ve.length!==0)&&(this.o=!0,this.A=(this.A===void 0?[]:this.A).concat(ve),this.u=(this.u===void 0?[]:this.u).concat(te))}};function os(A){return jn(A,function P(){var M=this,te,ve,Fe,_e,Re,He,ut;return C(P,function(At){switch(At.g){case 1:if(!M.o)return At.return();if(!M.u){At.g=2;break}te=o(M.u),ve=te.next();case 3:if(ve.done){At.g=5;break}return Fe=ve.value,w(At,Fe(),4);case 4:ve=te.next(),At.g=3;break;case 5:M.u=void 0;case 2:if(M.A){for(_e=new M.h.GraphOptionChangeRequestList,Re=o(M.A),He=Re.next();!He.done;He=Re.next())ut=He.value,_e.push_back(ut);M.i.changeOptions(_e),_e.delete(),M.A=void 0}M.o=!1,At.g=0}})})}t.initialize=function(){return jn(this,function A(){var P=this;return C(A,function(M){return M.g==1?w(M,ci(P),2):M.g!=3?w(M,ss(P),3):w(M,os(P),0)})})};function ta(A,P){return jn(A,function M(){var te=this,ve,Fe;return C(M,function(_e){return P in te.F?_e.return(te.F[P]):(ve=te.locateFile(P,""),Fe=fetch(ve).then(function(Re){return Re.arrayBuffer()}),te.F[P]=Fe,_e.return(Fe))})})}t.overrideFile=function(A,P){this.i?this.i.overrideFile(A,P):this.B[A]=P},t.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},t.send=function(A,P){return jn(this,function M(){var te=this,ve,Fe,_e,Re,He,ut,At,Zt,Mt;return C(M,function(Dt){switch(Dt.g){case 1:return te.g.inputs?(ve=1e3*(P??performance.now()),w(Dt,te.C,2)):Dt.return();case 2:return w(Dt,te.initialize(),3);case 3:for(Fe=new te.h.PacketDataList,_e=o(Object.keys(A)),Re=_e.next();!Re.done;Re=_e.next())if(He=Re.value,ut=te.g.inputs[He]){e:{var ht=te,Ct=A[He];switch(ut.type){case"video":var Ft=ht.m[ut.stream];if(Ft||(Ft=new go(ht.h,ht.D),ht.m[ut.stream]=Ft),ht=Ft,ht.l===0&&(ht.l=ht.h.createTexture()),typeof HTMLVideoElement<"u"&&Ct instanceof HTMLVideoElement){var Vt=Ct.videoWidth;Ft=Ct.videoHeight}else typeof HTMLImageElement<"u"&&Ct instanceof HTMLImageElement?(Vt=Ct.naturalWidth,Ft=Ct.naturalHeight):(Vt=Ct.width,Ft=Ct.height);Ft={glName:ht.l,width:Vt,height:Ft},Vt=ht.g,Vt.canvas.width=Ft.width,Vt.canvas.height=Ft.height,Vt.activeTexture(Vt.TEXTURE0),ht.h.bindTexture2d(ht.l),Vt.texImage2D(Vt.TEXTURE_2D,0,Vt.RGBA,Vt.RGBA,Vt.UNSIGNED_BYTE,Ct),ht.h.bindTexture2d(0),ht=Ft;break e;case"detections":for(Ft=ht.m[ut.stream],Ft||(Ft=new ye(ht.h),ht.m[ut.stream]=Ft),ht=Ft,ht.data||(ht.data=new ht.g.DetectionListData),ht.data.reset(Ct.length),Ft=0;Ft<Ct.length;++Ft){Vt=Ct[Ft];var yr=ht.data,fn=yr.setBoundingBox,T=Ft,$=Vt.T,O=new as;qt(O,1,$.Z),qt(O,2,$.$),qt(O,3,$.height),qt(O,4,$.width),qt(O,5,$.rotation),qt(O,6,$.X);var G=$=new li;Pn(G,1,Gt(O,1)),Pn(G,2,Gt(O,2)),Pn(G,3,Gt(O,3)),Pn(G,4,Gt(O,4)),Pn(G,5,Gt(O,5));var ce=Gt(O,6);if(ce!=null&&ce!=null){yn(G.g,48);var we=G.g,ge=ce;ce=0>ge,ge=Math.abs(ge);var xe=ge>>>0;for(ge=Math.floor((ge-xe)/4294967296),ge>>>=0,ce&&(ge=~ge>>>0,xe=(~xe>>>0)+1,4294967295<xe&&(xe=0,ge++,4294967295<ge&&(ge=0))),Ge=xe,at=ge,ce=Ge,xe=at;0<xe||127<ce;)we.push(ce&127|128),ce=(ce>>>7|xe<<25)>>>0,xe>>>=7;we.push(ce)}if(rs(O,G),$=Mr($),fn.call(yr,T,$),Vt.O)for(yr=0;yr<Vt.O.length;++yr)O=Vt.O[yr],G=!!O.visibility,fn=ht.data,T=fn.addNormalizedLandmark,$=Ft,O=Object.assign(Object.assign({},O),{visibility:G?O.visibility:0}),G=new Ri,qt(G,1,O.x),qt(G,2,O.y),qt(G,3,O.z),O.visibility&&qt(G,4,O.visibility),we=O=new li,Pn(we,1,Gt(G,1)),Pn(we,2,Gt(G,2)),Pn(we,3,Gt(G,3)),Pn(we,4,Gt(G,4)),Pn(we,5,Gt(G,5)),rs(G,we),O=Mr(O),T.call(fn,$,O);if(Vt.M)for(yr=0;yr<Vt.M.length;++yr){if(fn=ht.data,T=fn.addClassification,$=Ft,O=Vt.M[yr],G=new Dr,qt(G,2,O.Y),O.index&&qt(G,1,O.index),O.label&&qt(G,3,O.label),O.displayName&&qt(G,4,O.displayName),we=O=new li,xe=Gt(G,1),xe!=null&&xe!=null)if(yn(we.g,8),ce=we.g,0<=xe)yn(ce,xe);else{for(ge=0;9>ge;ge++)ce.push(xe&127|128),xe>>=7;ce.push(1)}Pn(we,2,Gt(G,2)),ce=Gt(G,3),ce!=null&&(ce=se(ce),yn(we.g,26),yn(we.g,ce.length),Qr(we,we.g.end()),Qr(we,ce)),ce=Gt(G,4),ce!=null&&(ce=se(ce),yn(we.g,34),yn(we.g,ce.length),Qr(we,we.g.end()),Qr(we,ce)),rs(G,we),O=Mr(O),T.call(fn,$,O)}}ht=ht.data;break e;default:ht={}}}switch(At=ht,Zt=ut.stream,ut.type){case"video":Fe.pushTexture2d(Object.assign(Object.assign({},At),{stream:Zt,timestamp:ve}));break;case"detections":Mt=At,Mt.stream=Zt,Mt.timestamp=ve,Fe.pushDetectionList(Mt);break;default:throw Error("Unknown input config type: '"+ut.type+"'")}}return te.i.send(Fe),w(Dt,te.C,4);case 4:Fe.delete(),Dt.g=0}})})};function jp(A,P,M){return jn(A,function te(){var ve,Fe,_e,Re,He,ut,At=this,Zt,Mt,Dt,ht,Ct,Ft,Vt,yr;return C(te,function(fn){switch(fn.g){case 1:if(!M)return fn.return(P);for(ve={},Fe=0,_e=o(Object.keys(M)),Re=_e.next();!Re.done;Re=_e.next())He=Re.value,ut=M[He],typeof ut!="string"&&ut.type==="texture"&&P[ut.stream]!==void 0&&++Fe;1<Fe&&(At.G=!1),Zt=o(Object.keys(M)),Re=Zt.next();case 2:if(Re.done){fn.g=4;break}if(Mt=Re.value,Dt=M[Mt],typeof Dt=="string")return Vt=ve,yr=Mt,w(fn,Vp(At,Mt,P[Dt]),14);if(ht=P[Dt.stream],Dt.type==="detection_list"){if(ht){for(var T=ht.getRectList(),$=ht.getLandmarksList(),O=ht.getClassificationsList(),G=[],ce=0;ce<T.size();++ce){var we=T.get(ce);e:{var ge=new as;for(we=new sr(we);Ar(we);)switch(we.i){case 13:var xe=nt(we.g);qt(ge,1,xe);break;case 21:xe=nt(we.g),qt(ge,2,xe);break;case 29:xe=nt(we.g),qt(ge,3,xe);break;case 37:xe=nt(we.g),qt(ge,4,xe);break;case 45:xe=nt(we.g),qt(ge,5,xe);break;case 48:for(var Pe=we.g,Ke=128,It=0,Ut=xe=0;4>Ut&&128<=Ke;Ut++)Ke=Pe.h[Pe.g++],It|=(Ke&127)<<7*Ut;if(128<=Ke&&(Ke=Pe.h[Pe.g++],It|=(Ke&127)<<28,xe|=(Ke&127)>>4),128<=Ke)for(Ut=0;5>Ut&&128<=Ke;Ut++)Ke=Pe.h[Pe.g++],xe|=(Ke&127)<<7*Ut+3;128>Ke?(Pe=It>>>0,Ke=xe>>>0,(xe=Ke&2147483648)&&(Pe=~Pe+1>>>0,Ke=~Ke>>>0,Pe==0&&(Ke=Ke+1>>>0)),Pe=4294967296*Ke+(Pe>>>0),xe=xe?-Pe:Pe):(Pe.l=!0,xe=void 0),qt(ge,6,xe);break;default:if(!Ua(ge,we))break e}}ge={Z:Ht(ge,1),$:Ht(ge,2),height:Ht(ge,3),width:Ht(ge,4),rotation:Ht(ge,5,0),X:Lt(ge,6)},we=nl($.get(ce)),Pe=O.get(ce);e:for(xe=new Zr,Pe=new sr(Pe);Ar(Pe);)switch(Pe.i){case 10:xe.addClassification(or(Pe,new Dr,Ls));break;default:if(!Ua(xe,Pe))break e}ge={T:ge,O:we,M:Fl(xe)},G.push(ge)}T=G}else T=[];ve[Mt]=T,fn.g=7;break}if(Dt.type==="proto_list"){if(ht){for(T=Array(ht.size()),$=0;$<ht.size();$++)T[$]=ht.get($);ht.delete()}else T=[];ve[Mt]=T,fn.g=7;break}if(ht===void 0){fn.g=3;break}if(Dt.type==="float_list"){ve[Mt]=ht,fn.g=7;break}if(Dt.type==="proto"){ve[Mt]=ht,fn.g=7;break}if(Dt.type!=="texture")throw Error("Unknown output config type: '"+Dt.type+"'");return Ct=At.s[Mt],Ct||(Ct=new go(At.h,At.D),At.s[Mt]=Ct),w(fn,Pl(Ct,ht,At.G),13);case 13:Ft=fn.h,ve[Mt]=Ft;case 7:Dt.transform&&ve[Mt]&&(ve[Mt]=Dt.transform(ve[Mt])),fn.g=3;break;case 14:Vt[yr]=fn.h;case 3:Re=Zt.next(),fn.g=2;break;case 4:return fn.return(ve)}})})}function Vp(A,P,M){return jn(A,function te(){var ve=this,Fe;return C(te,function(_e){return typeof M=="number"||M instanceof Uint8Array||M instanceof ve.h.Uint8BlobList?_e.return(M):M instanceof ve.h.Texture2dDataOut?(Fe=ve.s[P],Fe||(Fe=new go(ve.h,ve.D),ve.s[P]=Fe),_e.return(Pl(Fe,M,ve.G))):_e.return(void 0)})})}function Sh(A,P){for(var M=P.name||"$",te=[].concat(l(P.wants)),ve=new A.h.StringList,Fe=o(P.wants),_e=Fe.next();!_e.done;_e=Fe.next())ve.push_back(_e.value);Fe=A.h.PacketListener.implement({onResults:function(Re){for(var He={},ut=0;ut<P.wants.length;++ut)He[te[ut]]=Re.get(ut);var At=A.listeners[M];At&&(A.C=jp(A,He,P.outs).then(function(Zt){Zt=At(Zt);for(var Mt=0;Mt<P.wants.length;++Mt){var Dt=He[te[Mt]];typeof Dt=="object"&&Dt.hasOwnProperty&&Dt.hasOwnProperty("delete")&&Dt.delete()}Zt&&(A.C=Zt)}))}}),A.i.attachMultiListener(ve,Fe),ve.delete()}t.onResults=function(A,P){this.listeners[P||"$"]=A},U("Solution",Wn),U("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});function xu(A){switch(A===void 0&&(A=0),A){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Ta(A){var P=this;A=A||{},this.g=new Wn({locateFile:A.locateFile,files:function(M){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:xu(M.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:nl},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:nl},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(M){return jn(P,function te(){var ve,Fe,_e=this,Re;return C(te,function(He){return He.g==1?(ve=xu(M),Fe="third_party/mediapipe/modules/pose_landmark/"+ve,w(He,ta(_e.g,ve),2)):(Re=He.h,_e.g.overrideFile(Fe,Re),He.return(!0))})})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}t=Ta.prototype,t.reset=function(){this.g.reset()},t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(A){this.g.onResults(A)},t.initialize=function(){return jn(this,function A(){var P=this;return C(A,function(M){return w(M,P.g.initialize(),0)})})},t.send=function(A,P){return jn(this,function M(){var te=this;return C(M,function(ve){return w(ve,te.g.send(A,P),0)})})},t.setOptions=function(A){this.g.setOptions(A)},U("Pose",Ta),U("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),U("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),U("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),U("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),U("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),U("VERSION","0.4.1633558788")}).call(vi);var xye=Pose;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _ye=1e-7,kye=1e-4;class Sye{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class IU{refCount(e){return cs("refCount")}incRef(e){return cs("incRef")}timerAvailable(){return!0}time(e){return cs("time")}read(e){return cs("read")}readSync(e){return cs("readSync")}readToGPU(e,n){return cs("readToGPU")}numDataIds(){return cs("numDataIds")}disposeData(e,n){return cs("disposeData")}write(e,n,r){return cs("write")}move(e,n,r,a,i){return cs("move")}memory(){return cs("memory")}floatPrecision(){return cs("floatPrecision")}epsilon(){return this.floatPrecision()===32?_ye:kye}dispose(){return cs("dispose")}}function cs(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nye(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Uh(t,e,n)}function ob(t,e,n){return Math.max(t,Math.min(e,n))}function fT(t){return t%2===0?t:t+1}function Uh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Eye(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function V(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function As(t,e,n=""){V(gn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function Np(t){V(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function rp(t,e=[],n=!1){if(e==null&&(e=[]),Array.isArray(t)||Nl(t)&&!n)for(let r=0;r<t.length;++r)rp(t[r],e,n);else e.push(t);return e}function Qe(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function gn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ap(t){return t%1===0}function Q4(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function xf(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function L8(t,e=a=>0,n,r=setTimeout){return new Promise((a,i)=>{let s=0;const o=()=>{if(t()){a();return}s++;const l=e(s);if(n!=null&&s>=n){i();return}r(o,l)};o()})}function Tye(t,e){let n=1,r=-1;for(let i=0;i<t.length;++i)if(t[i]>=0)n*=t[i];else if(t[i]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${i}`);r=i}else if(t[i]<0)throw Error(`Shapes can not be < 0. Found ${t[i]} at dim ${i}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const a=t.slice();return a[r]=e/n,a}function Zn(t,e){const n=e.length;return t=t==null?e.map((r,a)=>a):[].concat(t),V(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),V(t.every(r=>ap(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function Bc(t,e){const n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,i=e==null||a?null:Zn(e,t).sort();let s=0;for(let o=0;o<t.length;++o){if(i!=null){if(i[s]===o&&t[o]!==1)throw new Error(`Can't squeeze axis ${o} since its dim '${t[o]}' is not 1`);(i[s]==null||i[s]>o)&&t[o]===1&&(n.push(t[o]),r.push(o)),i[s]<=o&&s++}t[o]!==1&&(n.push(t[o]),r.push(o))}return{newShape:n,keptDims:r}}function cu(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else throw new Error(`Unknown data type ${t}`);return n}function bi(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Cye(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function Iye(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function Aye(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function Nl(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}function Z4(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function Dye(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function uw(t){return typeof t=="string"||t instanceof String}function Rye(t){return typeof t=="boolean"}function J4(t){return typeof t=="number"}function cw(t){return Array.isArray(t)?cw(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":J4(t)?"float32":uw(t)?"string":Rye(t)?"bool":"float32"}function eS(t){return!!(t&&t.constructor&&t.call&&t.apply)}function tS(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function _a(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function AU(t,e,n,r=!1){const a=new Array;if(e.length===1){const i=e[0]*(r?2:1);for(let s=0;s<i;s++)a[s]=n[t+s]}else{const i=e[0],s=e.slice(1),o=s.reduce((l,u)=>l*u)*(r?2:1);for(let l=0;l<i;l++)a[l]=AU(t+l*o,s,n,r)}return a}function nS(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((a,i)=>a*i)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return AU(0,t,e,n)}function DU(t,e){const n=Sc(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function Sc(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function RU(t){t.forEach(e=>{V(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function rS(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function pT(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}function ip(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F8="tfjsflags";class $ye{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Oye,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(Ne().getBool("IS_TEST")||Ne().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const a=this.urlFlags[e];Ne().getBool("IS_TEST")||Ne().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(ip(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);F8 in e&&e[F8].split(",").forEach(r=>{const[a,i]=r.split(":");this.urlFlags[a]=Fye(a,i)})}}function Oye(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(Lye(e,r[0],r[1]),r.join("="))),e}function Lye(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Fye(t,e){if(e=e.toLowerCase(),e==="true"||e==="false")return e==="true";if(`${+e}`===e)return+e;throw new Error(`Could not parse value flag value ${e} for flag ${t}.`)}function Ne(){return $U}let $U=null;function Pye(t){$U=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Px;function OU(){if(Px==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Px=t}return Px}function Mye(){const t=OU();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function mT(t,e){const n=Mye();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const gT="Abs",yT="Acos",bT="Acosh",dw="Add",vT="AddN",LU="All",FU="Any",wT="ArgMax",xT="ArgMin",_T="Asin",kT="Asinh",ST="Atan",NT="Atanh",ET="Atan2",TT="AvgPool",PU="AvgPoolGrad",CT="AvgPool3D",MU="AvgPool3DGrad",IT="BatchMatMul",AT="BatchToSpaceND",BU="Bincount",Bye="BroadcastTo",zU="BroadcastArgs",hw="Cast",DT="Ceil",RT="ClipByValue",UU="Complex",$T="ComplexAbs",OT="Concat",LT="Conv2D",jU="Conv2DBackpropFilter",FT="Conv2DBackpropInput",PT="Conv3D",VU="Conv3DBackpropFilterV2",WU="Conv3DBackpropInputV2",MT="Cos",BT="Cosh",GU="Cumprod",zT="Cumsum",HU="CropAndResize",qU="DenseBincount",YU="DepthToSpace",UT="DepthwiseConv2dNative",KU="DepthwiseConv2dNativeBackpropFilter",XU="DepthwiseConv2dNativeBackpropInput",QU="Diag",jT="Dilation2D",zye="Dilation2DBackpropInput",Uye="Dilation2DBackpropFilter",VT="RealDiv",ZU="Einsum",WT="Elu",JU="EluGrad",GT="Erf",ej="Equal",HT="Exp",qT="ExpandDims",YT="Expm1",tj="FFT",nj="Fill",rj="FlipLeftRight",KT="Floor",XT="FloorDiv",QT="FusedBatchNorm",ZT="GatherV2",aj="GatherNd",ij="Greater",JT="GreaterEqual",fw="Identity",sj="IFFT",oj="Imag",eC="IsFinite",tC="IsInf",nC="IsNan",rC="LeakyRelu",lj="Less",uj="LessEqual",cj="LinSpace",aC="Log",iC="Log1p",dj="LogicalAnd",hj="LogicalNot",fj="LogicalOr",jye="LogSoftmax",sC="LRN",pj="LRNGrad",oC="Max",lC="Maximum",uC="MaxPool",mj="MaxPoolGrad",cC="MaxPool3D",gj="MaxPool3DGrad",yj="MaxPoolWithArgmax",dC="Mean",hC="Min",fC="Minimum",pC="MirrorPad",mC="Mod",bj="Multinomial",gC="Multiply",yC="Neg",vj="NotEqual",wj="NonMaxSuppressionV3",xj="NonMaxSuppressionV4",_j="NonMaxSuppressionV5",bC="OnesLike",vC="OneHot",wC="Pack",xC="PadV2",_C="Pow",kC="Prelu",SC="Prod",kj="RaggedGather",Sj="RaggedTensorToTensor",Nj="Range",Ej="Real",NC="Reciprocal",EC="Relu",TC="Reshape",CC="ResizeNearestNeighbor",Tj="ResizeNearestNeighborGrad",IC="ResizeBilinear",Cj="ResizeBilinearGrad",AC="Relu6",DC="Reverse",RC="Round",$C="Rsqrt",Ij="ScatterNd",Aj="SearchSorted",OC="Select",LC="Selu",FC="Slice",PC="Sin",MC="Sinh",BC="Sign",zC="Sigmoid",UC="Softplus",jC="Sqrt",VC="Sum",WC="SpaceToBatchND",GC="SplitV",HC="Softmax",Dj="SparseFillEmptyRows",Rj="SparseReshape",$j="SparseSegmentMean",Oj="SparseSegmentSum",Lj="SparseToDense",qC="SquaredDifference",Fj="Square",Pj="StridedSlice",Mj="StringNGrams",Bj="StringSplit",zj="StringToHashBucketFast",YC="Sub",KC="Tan",XC="Tanh",pw="Tile",Uj="TopK",jj="Transform",qm="Transpose",Vj="Unique",QC="Unpack",ZC="UnsortedSegmentSum",JC="ZerosLike",e6="Step",aS="FromPixels",Wj="RotateWithOffset",iS="_FusedMatMul",sS="FusedConv2D",oS="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ys(...t){Ne().getBool("IS_TEST")||Ne().getBool("PROD")||console.warn(...t)}function Vye(...t){Ne().getBool("IS_TEST")||Ne().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lb=mT("kernelRegistry",()=>new Map),lS=mT("gradRegistry",()=>new Map);function uS(t,e){const n=Gj(t,e);return lb.get(n)}function P8(t){return lS.get(t)}function M8(t){const e=lb.entries(),n=[];for(;;){const{done:r,value:a}=e.next();if(r)break;const[i,s]=a,[o]=i.split("_");o===t&&n.push(s)}return n}function Wye(t){const{kernelName:e,backendName:n}=t,r=Gj(e,n);lb.has(r)&&Ys(`The kernel '${e}' for backend '${n}' is already registered`),lb.set(r,t)}function Gye(t){const{kernelName:e}=t;lS.has(e)&&Ne().getBool("DEBUG")&&Ys(`Overriding the gradient for '${e}'`),lS.set(e,t)}function Gj(t,e){return`${e}_${t}`}var Hj=Xn,Qs=null;try{Qs=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Xn(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Xn.prototype.__isLong__;Object.defineProperty(Xn.prototype,"__isLong__",{value:!0});function es(t){return(t&&t.__isLong__)===!0}Xn.isLong=es;var B8={},z8={};function gh(t,e){var n,r,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(r=z8[t],r)?r:(n=Qn(t,(t|0)<0?-1:0,!0),a&&(z8[t]=n),n)):(t|=0,(a=-128<=t&&t<128)&&(r=B8[t],r)?r:(n=Qn(t,t<0?-1:0,!1),a&&(B8[t]=n),n))}Xn.fromInt=gh;function Zs(t,e){if(isNaN(t))return e?vd:Js;if(e){if(t<0)return vd;if(t>=qj)return Xj}else{if(t<=-j8)return Ui;if(t+1>=j8)return Kj}return t<0?Zs(-t,e).neg():Qn(t%sp|0,t/sp|0,e)}Xn.fromNumber=Zs;function Qn(t,e,n){return new Xn(t,e,n)}Xn.fromBits=Qn;var ub=Math.pow;function t6(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return Js;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(r===0)return t6(t.substring(1),e,n).neg();for(var a=Zs(ub(n,8)),i=Js,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),l=parseInt(t.substring(s,s+o),n);if(o<8){var u=Zs(ub(n,o));i=i.mul(u).add(Zs(l))}else i=i.mul(a),i=i.add(Zs(l))}return i.unsigned=e,i}Xn.fromString=t6;function Qo(t,e){return typeof t=="number"?Zs(t,e):typeof t=="string"?t6(t,e):Qn(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Xn.fromValue=Qo;var U8=65536,Hye=1<<24,sp=U8*U8,qj=sp*sp,j8=qj/2,V8=gh(Hye),Js=gh(0);Xn.ZERO=Js;var vd=gh(0,!0);Xn.UZERO=vd;var lf=gh(1);Xn.ONE=lf;var Yj=gh(1,!0);Xn.UONE=Yj;var cS=gh(-1);Xn.NEG_ONE=cS;var Kj=Qn(-1,2147483647,!1);Xn.MAX_VALUE=Kj;var Xj=Qn(-1,-1,!0);Xn.MAX_UNSIGNED_VALUE=Xj;var Ui=Qn(0,-2147483648,!1);Xn.MIN_VALUE=Ui;var rt=Xn.prototype;rt.toInt=function(){return this.unsigned?this.low>>>0:this.low};rt.toNumber=function(){return this.unsigned?(this.high>>>0)*sp+(this.low>>>0):this.high*sp+(this.low>>>0)};rt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ui)){var n=Zs(e),r=this.div(n),a=r.mul(n).sub(this);return r.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=Zs(ub(e,6),this.unsigned),s=this,o="";;){var l=s.div(i),u=s.sub(l.mul(i)).toInt()>>>0,c=u.toString(e);if(s=l,s.isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}};rt.getHighBits=function(){return this.high};rt.getHighBitsUnsigned=function(){return this.high>>>0};rt.getLowBits=function(){return this.low};rt.getLowBitsUnsigned=function(){return this.low>>>0};rt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ui)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};rt.isZero=function(){return this.high===0&&this.low===0};rt.eqz=rt.isZero;rt.isNegative=function(){return!this.unsigned&&this.high<0};rt.isPositive=function(){return this.unsigned||this.high>=0};rt.isOdd=function(){return(this.low&1)===1};rt.isEven=function(){return(this.low&1)===0};rt.equals=function(e){return es(e)||(e=Qo(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};rt.eq=rt.equals;rt.notEquals=function(e){return!this.eq(e)};rt.neq=rt.notEquals;rt.ne=rt.notEquals;rt.lessThan=function(e){return this.comp(e)<0};rt.lt=rt.lessThan;rt.lessThanOrEqual=function(e){return this.comp(e)<=0};rt.lte=rt.lessThanOrEqual;rt.le=rt.lessThanOrEqual;rt.greaterThan=function(e){return this.comp(e)>0};rt.gt=rt.greaterThan;rt.greaterThanOrEqual=function(e){return this.comp(e)>=0};rt.gte=rt.greaterThanOrEqual;rt.ge=rt.greaterThanOrEqual;rt.compare=function(e){if(es(e)||(e=Qo(e)),this.eq(e))return 0;var n=this.isNegative(),r=e.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};rt.comp=rt.compare;rt.negate=function(){return!this.unsigned&&this.eq(Ui)?Ui:this.not().add(lf)};rt.neg=rt.negate;rt.add=function(e){es(e)||(e=Qo(e));var n=this.high>>>16,r=this.high&65535,a=this.low>>>16,i=this.low&65535,s=e.high>>>16,o=e.high&65535,l=e.low>>>16,u=e.low&65535,c=0,d=0,f=0,p=0;return p+=i+u,f+=p>>>16,p&=65535,f+=a+l,d+=f>>>16,f&=65535,d+=r+o,c+=d>>>16,d&=65535,c+=n+s,c&=65535,Qn(f<<16|p,c<<16|d,this.unsigned)};rt.subtract=function(e){return es(e)||(e=Qo(e)),this.add(e.neg())};rt.sub=rt.subtract;rt.multiply=function(e){if(this.isZero())return Js;if(es(e)||(e=Qo(e)),Qs){var n=Qs.mul(this.low,this.high,e.low,e.high);return Qn(n,Qs.get_high(),this.unsigned)}if(e.isZero())return Js;if(this.eq(Ui))return e.isOdd()?Ui:Js;if(e.eq(Ui))return this.isOdd()?Ui:Js;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(V8)&&e.lt(V8))return Zs(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,a=this.high&65535,i=this.low>>>16,s=this.low&65535,o=e.high>>>16,l=e.high&65535,u=e.low>>>16,c=e.low&65535,d=0,f=0,p=0,m=0;return m+=s*c,p+=m>>>16,m&=65535,p+=i*c,f+=p>>>16,p&=65535,p+=s*u,f+=p>>>16,p&=65535,f+=a*c,d+=f>>>16,f&=65535,f+=i*u,d+=f>>>16,f&=65535,f+=s*l,d+=f>>>16,f&=65535,d+=r*c+a*u+i*l+s*o,d&=65535,Qn(p<<16|m,d<<16|f,this.unsigned)};rt.mul=rt.multiply;rt.divide=function(e){if(es(e)||(e=Qo(e)),e.isZero())throw Error("division by zero");if(Qs){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?Qs.div_u:Qs.div_s)(this.low,this.high,e.low,e.high);return Qn(n,Qs.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?vd:Js;var r,a,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return vd;if(e.gt(this.shru(1)))return Yj;i=vd}else{if(this.eq(Ui)){if(e.eq(lf)||e.eq(cS))return Ui;if(e.eq(Ui))return lf;var s=this.shr(1);return r=s.div(e).shl(1),r.eq(Js)?e.isNegative()?lf:cS:(a=this.sub(e.mul(r)),i=r.add(a.div(e)),i)}else if(e.eq(Ui))return this.unsigned?vd:Js;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=Js}for(a=this;a.gte(e);){r=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),l=o<=48?1:ub(2,o-48),u=Zs(r),c=u.mul(e);c.isNegative()||c.gt(a);)r-=l,u=Zs(r,this.unsigned),c=u.mul(e);u.isZero()&&(u=lf),i=i.add(u),a=a.sub(c)}return i};rt.div=rt.divide;rt.modulo=function(e){if(es(e)||(e=Qo(e)),Qs){var n=(this.unsigned?Qs.rem_u:Qs.rem_s)(this.low,this.high,e.low,e.high);return Qn(n,Qs.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};rt.mod=rt.modulo;rt.rem=rt.modulo;rt.not=function(){return Qn(~this.low,~this.high,this.unsigned)};rt.and=function(e){return es(e)||(e=Qo(e)),Qn(this.low&e.low,this.high&e.high,this.unsigned)};rt.or=function(e){return es(e)||(e=Qo(e)),Qn(this.low|e.low,this.high|e.high,this.unsigned)};rt.xor=function(e){return es(e)||(e=Qo(e)),Qn(this.low^e.low,this.high^e.high,this.unsigned)};rt.shiftLeft=function(e){return es(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Qn(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Qn(0,this.low<<e-32,this.unsigned)};rt.shl=rt.shiftLeft;rt.shiftRight=function(e){return es(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Qn(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Qn(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};rt.shr=rt.shiftRight;rt.shiftRightUnsigned=function(e){if(es(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var r=this.low;return Qn(r>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Qn(n,0,this.unsigned):Qn(n>>>e-32,0,this.unsigned)};rt.shru=rt.shiftRightUnsigned;rt.shr_u=rt.shiftRightUnsigned;rt.toSigned=function(){return this.unsigned?Qn(this.low,this.high,!1):this};rt.toUnsigned=function(){return this.unsigned?this:Qn(this.low,this.high,!0)};rt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};rt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};rt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Xn.fromBytes=function(e,n,r){return r?Xn.fromBytesLE(e,n):Xn.fromBytesBE(e,n)};Xn.fromBytesLE=function(e,n){return new Xn(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Xn.fromBytesBE=function(e,n){return new Xn(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const Qj=Bb(Hj),qye=u9({__proto__:null,default:Qj},[Hj]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ld=Qj||qye;function mw(t){return ld.fromString(t,!0,16)}const Zj=mw("c3a5c85c97cb3127"),id=mw("b492b66fbe98f273"),Ya=mw("9ae16a3b2f90404f");function dS(t){return t.xor(t.shru(47))}function Jj(t,e,n){const r=t.slice(e,e+n);return ld.fromBytes(Array.from(r),!0,!0)}function Mn(t,e){return Jj(t,e,8)}function W8(t,e){return Jj(t,e,4)}function sa(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function uc(t,e,n=mw("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let a=e.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function Yye(t,e,n,r,a,i){a=a.add(t),i=sa(i.add(a).add(r),21);const s=a;return a=a.add(e),a=a.add(n),i=i.add(sa(a,44)),[a.add(r),i.add(s)]}function X1(t,e,n,r){return Yye(Mn(t,e),Mn(t,e+8),Mn(t,e+16),Mn(t,e+24),n,r)}function Kye(t,e=t.length){if(e>=8){const n=Ya.add(e*2),r=Mn(t,0).add(Ya),a=Mn(t,e-8),i=sa(a,37).mul(n).add(r),s=sa(r,25).add(a).mul(n);return uc(i,s,n)}if(e>=4){const n=Ya.add(e*2),r=W8(t,0);return uc(r.shl(3).add(e),W8(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],a=t[e-1],i=n+(r<<8),s=e+(a<<2);return dS(Ya.mul(i).xor(Zj.mul(s))).mul(Ya)}return Ya}function Xye(t,e=t.length){const n=Ya.add(e*2),r=Mn(t,0).mul(id),a=Mn(t,8),i=Mn(t,e-8).mul(n),s=Mn(t,e-16).mul(Ya);return uc(sa(r.add(a),43).add(sa(i,30)).add(s),r.add(sa(a.add(Ya),18)).add(i),n)}function Qye(t,e=t.length){const n=Ya.add(e*2),r=Mn(t,0).mul(Ya),a=Mn(t,8),i=Mn(t,e-8).mul(n),s=Mn(t,e-16).mul(Ya),o=sa(r.add(a),43).add(sa(i,30)).add(s),l=uc(o,r.add(sa(a.add(Ya),18)).add(i),n),u=Mn(t,16).mul(n),c=Mn(t,24),d=o.add(Mn(t,e-32)).mul(n),f=l.add(Mn(t,e-24)).mul(n);return uc(sa(u.add(c),43).add(sa(d,30)).add(f),u.add(sa(c.add(r),18)).add(d),n)}function Zye(t,e=t.length){const n=ld.fromNumber(81,!0);if(e<=32)return e<=16?Kye(t,e):Xye(t,e);if(e<=64)return Qye(t,e);let r=n,a=n.mul(id).add(113),i=dS(a.mul(Ya).add(113)).mul(Ya),s=[ld.UZERO,ld.UZERO],o=[ld.UZERO,ld.UZERO];r=r.mul(Ya).add(Mn(t,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do r=sa(r.add(a).add(s[0]).add(Mn(t,l+8)),37).mul(id),a=sa(a.add(s[1]).add(Mn(t,l+48)),42).mul(id),r=r.xor(o[1]),a=a.add(s[0]).add(Mn(t,l+40)),i=sa(i.add(o[0]),33).mul(id),s=X1(t,l,s[1].mul(id),r.add(o[0])),o=X1(t,l+32,i.add(o[1]),a.add(Mn(t,l+16))),[i,r]=[r,i],l+=64;while(l!==u);const d=id.add(i.and(255).shl(1));return l=c,o[0]=o[0].add(e-1&63),s[0]=s[0].add(o[0]),o[0]=o[0].add(s[0]),r=sa(r.add(a).add(s[0]).add(Mn(t,l+8)),37).mul(d),a=sa(a.add(s[1]).add(Mn(t,l+48)),42).mul(d),r=r.xor(o[1].mul(9)),a=a.add(s[0].mul(9).add(Mn(t,l+40))),i=sa(i.add(o[0]),33).mul(d),s=X1(t,l,s[1].mul(d),r.add(o[0])),o=X1(t,l+32,i.add(o[1]),a.add(Mn(t,l+16))),[i,r]=[r,i],uc(uc(s[0],o[0],d).add(dS(a).mul(Zj)).add(i),uc(s[1],o[1],d).add(r),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ep(t,e){return e==="string"?Rd(t):gw([t],e)}function Jye(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function gw(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=rp(t)),Ne().getBool("DEBUG")&&Cye(t,e),Jye(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function fs(){return Ne().platform.now()}function Rd(t,e="utf-8"){return e=e||"utf-8",Ne().platform.encode(t,e)}function op(t,e="utf-8"){return e=e||"utf-8",Ne().platform.decode(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ebe{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new nbe)}profileKernel(e,n,r){let a;const i=()=>{a=r()};let s;const o=fs();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(i);else{i();for(const u of a)u.dataSync();s=Promise.resolve({kernelMs:fs()-o})}if(Ne().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<a.length;u++){const c=a[u];c.data().then(d=>{tbe(d,c.dtype,e)})}return{kernelName:e,outputs:a,inputs:n,timeMs:s.then(u=>u.kernelMs),extraInfo:s.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:a,inputs:i,extraInfo:s}=e;r.forEach(o=>{Promise.all([o.data(),a,s]).then(l=>{this.logger.logKernelProfile(n,o,l[0],l[1],i,l[2])})})}}function tbe(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const a=t[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class nbe{logKernelProfile(e,n,r,a,i,s){const o=typeof a=="number"?xf(`${a}ms`,9):a.error,l=xf(e,25),u=n.rank,c=n.size,d=xf(n.shape.toString(),14);let f="";for(const p in i){const m=i[p];if(m!=null){const g=m.shape||n.shape,v=g.length;f+=`${p}: ${v}D ${v>0?g:""} `}}console.log(`%c${l}	%c${o}	%c${u}D ${d}	%c${c}	%c${f}	%c${s}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rbe(t,e,n){const r={},a={};for(let l=0;l<e.length;l++)r[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],c=u.inputs;for(const d in c){const f=c[d];let p=!1;for(let m=0;m<e.length;m++)if(r[f.id]){u.outputs.forEach(g=>r[g.id]=!0),p=!0,a[u.id]=!0;break}if(p)break}}const i={};i[n.id]=!0;const s={};for(let l=t.length-1;l>=0;l--){const u=t[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(i[u.outputs[d].id]){for(const f in c)i[c[f].id]=!0,s[u.id]=!0;break}}const o=[];for(let l=0;l<t.length;l++){const u=t[l];if(a[u.id]&&s[u.id]){const c={};for(const f in u.inputs){const p=u.inputs[f];r[p.id]&&(c[f]=p)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,o.push(d)}}return o}function abe(t,e,n,r){for(let a=e.length-1;a>=0;a--){const i=e[a],s=[];if(i.outputs.forEach(l=>{const u=t[l.id];u!=null?s.push(u):s.push(null)}),i.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const o=i.gradient(s);for(const l in i.inputs){if(!(l in o))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(o)}.`);const u=n(()=>o[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=i.inputs[l];if(!gn(u.shape,c.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=u;else{const d=t[c.id];t[c.id]=r(d,u),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G8=20,om=3,Mx=7;function ibe(t,e,n,r){const a=_a(e),i=sbe(t,e,n,a),s=e.length,o=Y2(t,e,n,a,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${s}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(o.map(u=>"    "+u).join(`
`)),l.join(`
`)}function sbe(t,e,n,r){const a=Qe(e),i=r[r.length-1],s=new Array(i).fill(0),o=e.length,l=n==="complex64"?xm(t):t;if(o>1)for(let u=0;u<a/i;u++){const c=u*i;for(let d=0;d<i;d++)s[d]=Math.max(s[d],wm(l[c+d],0,n).length)}return s}function wm(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(Mx))} + ${parseFloat(t[1].toFixed(Mx))}j`:uw(t)?r=`'${t}'`:n==="bool"?r=eV(t):r=parseFloat(t.toFixed(Mx)).toString(),xf(r,e)}function eV(t){return t===0?"false":"true"}function Y2(t,e,n,r,a,i=!0){const s=n==="complex64"?2:1,o=e[0],l=e.length;if(l===0){if(n==="complex64"){const g=xm(t);return[wm(g[0],0,n)]}return n==="bool"?[eV(t[0])]:[t[0].toString()]}if(l===1){if(o>G8){const v=om*s;let y=Array.from(t.slice(0,v)),b=Array.from(t.slice((o-om)*s,o*s));return n==="complex64"&&(y=xm(y),b=xm(b)),["["+y.map((w,x)=>wm(w,a[x],n)).join(", ")+", ..., "+b.map((w,x)=>wm(w,a[o-om+x],n)).join(", ")+"]"]}return["["+(n==="complex64"?xm(t):Array.from(t)).map((v,y)=>wm(v,a[y],n)).join(", ")+"]"]}const u=e.slice(1),c=r.slice(1),d=r[0]*s,f=[];if(o>G8){for(let g=0;g<om;g++){const v=g*d,y=v+d;f.push(...Y2(t.slice(v,y),u,n,c,a,!1))}f.push("...");for(let g=o-om;g<o;g++){const v=g*d,y=v+d;f.push(...Y2(t.slice(v,y),u,n,c,a,g===o-1))}}else for(let g=0;g<o;g++){const v=g*d,y=v+d;f.push(...Y2(t.slice(v,y),u,n,c,a,g===o-1))}const p=l===2?",":"";f[0]="["+f[0]+p;for(let g=1;g<f.length-1;g++)f[g]=" "+f[g]+p;let m=`,
`;for(let g=2;g<l;g++)m+=`
`;return f[f.length-1]=" "+f[f.length-1]+"]"+(i?"":m),f}function xm(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Bg{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=Qe(e),r!=null){const a=r.length;V(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||bi(n,this.size),this.strides=_a(e)}set(e,...n){n.length===0&&(n=[0]),V(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const i=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(i)}n++}let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=this.strides[a]*e[a];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Co().makeTensor(this.values,this.shape,this.dtype)}}let Co=null,jh=null;function obe(t){Co=t}function lbe(t){jh=t}class en{constructor(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Qe(e),this.strides=_a(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return jh.buffer(this.shape,this.dtype,e)}bufferSync(){return jh.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return nS(this.shape,e,this.dtype==="complex64")}arraySync(){return nS(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Co().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>op(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Co().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Co().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>op(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Co().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(Co().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return jh.print(this,e)}clone(){return this.throwIfDisposed(),jh.clone(this)}toString(e=!1){const n=this.dataSync();return ibe(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),jh.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Co().makeVariable(this,e,n,r)}}Object.defineProperty(en,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function ube(){return mT("Tensor",()=>en)}ube();class cb extends en{constructor(e,n,r,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!gn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Co().disposeTensor(this),this.dataId=e.dataId,Co().incRef(this,null)}dispose(){Co().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(cb,Symbol.hasInstance,{value:t=>t instanceof en&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var H8;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(H8||(H8={}));var hS;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(hS||(hS={}));var fS;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(fS||(fS={}));var pS;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(pS||(pS={}));var mS;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(mS||(mS={}));const cbe={float32:pS,int32:hS,bool:fS,complex64:mS};function El(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return cbe[t][e]}function n6(t){return El(t,"int32")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kr(t,e){if(t.dtype===e.dtype)return[t,e];const n=El(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function dbe(t,e){V(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function tV(t){const e=[];return nV(t,e,new Set),e}function nV(t,e,n){if(t==null)return;if(t instanceof en){e.push(t);return}if(!hbe(t))return;const r=t;for(const a in r){const i=r[a];n.has(i)||(n.add(i),nV(i,e,n))}}function hbe(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bx(t){return t.kernelName!=null}class q8{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class lp{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new q8}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(Ys(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new ebe(this.backendInstance),!0}setupRegisteredKernels(){M8(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){M8(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof IU)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,i=r.then(s=>a<this.pendingBackendInitId?!1:(this.registry[e]=s,this.pendingBackendInit=null,!0)).catch(s=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,Ys(`Initialization of backend ${e} failed`),Ys(s.stack||s.message)),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Ys(`Initialization of backend ${e} failed`),Ys(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:a,asyncInit:i}=this.initializeBackend(r);if(i||a)return{name:r,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),a=r.backend,i=this.readSync(n),s=a.refCount(n);a.disposeData(n,!0),r.backend=e,e.move(n,i,r.shape,r.dtype,s),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,n,r){e();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return lp.nextTensorId++}nextVariableId(){return lp.nextVariableId++}clone(e){const n=le.runKernel(fw,{x:e}),r={x:e},a=s=>({x:()=>{const o="float32",l={x:s},u={dtype:o};return le.runKernel(hw,l,u)}}),i=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,i,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(uS(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const a=this.backend.numDataIds();let i=0;r.forEach(l=>{i+=l.dtype==="complex64"?3:1});const s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=a-n-i-s;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const a=this.isTapeOn(),i=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let o;this.backendName==null&&this.backend;let l;const u=Bx(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Bx(e)){const{kernelName:m,inputs:g,attrs:v}=e;this.backendName==null&&this.backend;const y=uS(m,this.backendName);V(y!=null,()=>`Cannot find registered kernel '${m}' for backend '${this.backendName}'`),o=()=>{const b=this.backend.numDataIds();l=y.kernelFunc({inputs:g,attrs:v,backend:this.backend});const w=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(m,b,w);const x=w.map(k=>k.rank!=null?k:this.makeTensorFromTensorInfo(k));if(a){const k=this.getTensorsForGradient(m,g,x);r=this.saveTensorsForBackwardMode(k)}return x}}else{const{forwardFunc:m}=e,g=v=>{a&&(r=v.map(y=>this.keep(this.clone(y))))};o=()=>{const v=this.backend.numDataIds();l=this.tidy(()=>m(this.backend,g));const y=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,v,y),y}}const{inputs:c,attrs:d}=e,f=Bx(e)?null:e.backwardsFunc;let p;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=o():(p=this.profiler.profileKernel(u,c,()=>o()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),n=p.outputs)}),a&&this.addTapeNode(u,c,n,f,r,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(m=>c[m]!=null?c[m].shape:null),outputShapes:n.map(m=>m.shape),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const a=P8(e);if(a!=null){const i=a.inputsToSave||[],s=a.outputsToSave||[];let o;a.saveAllInputs?(V(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),o=Object.keys(n).map(u=>n[u])):o=i.map(u=>n[u]);const l=r.filter((u,c)=>s[c]);return o.concat(l)}return[]}makeTensor(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let i=e;r==="string"&&uw(e[0])&&(i=e.map(l=>Rd(l)));const s=a.write(i,n,r),o=new en(n,r,s,this.nextTensorId());if(this.trackTensor(o,a),r==="string"){const l=this.state.tensorInfo.get(s),u=Dye(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return o}makeTensorFromDataId(e,n,r,a){r=r||"float32";const i={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(i,a)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:a,dtype:i}=e,s=new en(a,i,r,this.nextTensorId());return this.trackTensor(s,n),s}makeVariable(e,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));const i=new cb(e,n,r,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*Z4(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof cb||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*Z4(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,a,i,s){const o={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:i},l=P8(e);l!=null&&(a=l.gradFunc),a!=null&&(o.gradient=u=>(u=u.map((c,d)=>{if(c==null){const f=r[d],p=Sc(f.size,f.dtype);return this.makeTensor(p,f.shape,f.dtype)}return c}),a(u.length>1?u:u[0],i,s))),this.state.activeTape.push(o)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=tV(e),r=new Set(n.map(i=>i.id));for(let i=0;i<this.state.activeScope.track.length;i++){const s=this.state.activeScope.track[i];!s.kept&&!r.has(s.id)&&s.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(i=>{!i.kept&&i.scopeId===a.id&&this.track(i)})}gradients(e,n,r,a=!1){if(V(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const i=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));V(i instanceof en,()=>"The result y returned by f() must be a tensor.");const s=rbe(this.state.activeTape,n,i);if(!a&&s.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const o={};o[i.id]=r??fbe(i.shape),abe(o,s,u=>this.tidy(u),pbe);const l=n.map(u=>o[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:i,grads:l}})}customGrad(e){return V(eS(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{V(n.every(o=>o instanceof en),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((o,l)=>{a[l]=o});const i=(o,l)=>(r=e(...n,l),V(r.value instanceof en,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),V(eS(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),s=(o,l)=>{const u=r.gradFunc(o,l),c=Array.isArray(u)?u:[u];V(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),V(c.every(f=>f instanceof en),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((f,p)=>{d[p]=()=>f}),d};return this.runKernelFunc({forwardFunc:i,backwardsFunc:s,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=fs(),r=await this.backend.time(e);return r.wallMs=fs()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new q8;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}lp.nextTensorId=0;lp.nextVariableId=0;function fbe(t){const e=DU(Qe(t),"float32");return le.makeTensor(e,t,"float32")}function rV(){const t=OU();if(t._tfengine==null){const e=new $ye(t);t._tfengine=new lp(e)}return Pye(t._tfengine.ENV),obe(()=>t._tfengine),t._tfengine}const le=rV();function pbe(t,e){const n={a:t,b:e};return le.runKernel(dw,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mbe(){return typeof navigator<"u"&&navigator!=null}function aV(t){if(t||mbe()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function iV(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ki=Ne();Ki.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Ki.registerFlag("IS_BROWSER",()=>iV());Ki.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Ki.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Ki.registerFlag("PROD",()=>!1);Ki.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Ki.getBool("DEBUG"));Ki.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Ki.registerFlag("IS_TEST",()=>!1);Ki.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>!0);Ki.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Ki.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);Ki.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Ki.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zc(t,e){let n=t;if(Nl(t))return e==="string"?[]:[t.length];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||Nl(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&Ne().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&sV(t,r,[]),r}function sV(t,e,n){if(n=n||[],!Array.isArray(t)&&!Nl(t)){V(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}V(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),V(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let a=0;a<t.length;++a)sV(t[a],r,n.concat(a))}function Y8(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function W(t,e,n,r="numeric"){if(t instanceof en)return Y8(r,t.dtype,e,n),t;let a=cw(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),Y8(r,a,e,n),t==null||!Nl(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const i=zc(t,a);!Nl(t)&&!Array.isArray(t)&&(t=[t]);const o=a!=="string"?gw(t,a):rp(t,[],!0);return le.makeTensor(o,i,a)}function db(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((i,s)=>W(i,`${e}[${s}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oV="__op";function ie(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+oV;const a=(...i)=>{le.startScope(n);try{const s=r(...i);return ip(s)&&console.error("Cannot return a Promise inside of tidy."),le.endScope(s),s}catch(s){throw le.endScope(null),s}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gbe(t,e){const n=W(t,"real","complex"),r=W(e,"imag","complex");As(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return le.runKernel(UU,a)}const Nc=ie({complex_:gbe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uc(t,e,n,r){if(r==null&&(r=cw(t)),r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Nl(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){RU(e);const a=Qe(e),i=Qe(n);V(a===i,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${i}`);for(let s=0;s<n.length;++s){const o=n[s],l=s===n.length-1?o!==Qe(e.slice(s)):!0;V(n[s]===e[s]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Nl(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?gw(t,r):rp(t,[],!0),le.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vl(t,e,n){const r=zc(t,n);return Uc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gS={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hb=4;async function yS(t,e){const n=[],r=[],a=Array.isArray(t)?t.map(s=>s.name):Object.keys(t);for(let s=0;s<a.length;++s){const o=a[s],l=Array.isArray(t)?t[s].tensor:t[o];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${o}': ${l.dtype}`);const u={name:o,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const f=await l.bytes(),p=f.reduce((v,y)=>v+y.length,0)+hb*f.length,m=new Uint8Array(p);let g=0;for(let v=0;v<f.length;v++){const y=f[v],b=new Uint8Array(new Uint32Array([y.length]).buffer);m.set(b,g),g+=hb,m.set(y,g),g+=y.length}d(m)});r.push(c)}else r.push(l.data());e!=null&&(u.group=e),n.push(u)}const i=await Promise.all(r);return{data:ybe(i),specs:n}}function r6(t,e){const n={};let r,a=0;for(const i of e){const s=i.name,o=i.dtype,l=i.shape,u=Qe(l);let c;if("quantization"in i){const d=i.quantization;if(d.dtype==="uint8"||d.dtype==="uint16"){if(!("min"in d&&"scale"in d))throw new Error(`Weight ${i.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else if(d.dtype==="float16"){if(o!=="float32")throw new Error(`Weight ${i.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${o}.`)}else throw new Error(`Weight ${i.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=gS[d.dtype],p=t.slice(a,a+u*f),m=d.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(o==="float32")if(d.dtype==="uint8"||d.dtype==="uint16"){c=new Float32Array(m.length);for(let g=0;g<m.length;g++){const v=m[g];c[g]=v*d.scale+d.min}}else if(d.dtype==="float16")r===void 0&&(r=kbe()),c=r(m);else throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);else if(o==="int32"){if(d.dtype!=="uint8"&&d.dtype!=="uint16")throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);c=new Int32Array(m.length);for(let g=0;g<m.length;g++){const v=m[g];c[g]=Math.round(v*d.scale+d.min)}}else throw new Error(`Unsupported dtype in weight '${s}': ${o}`);a+=u*f}else if(o==="string"){const d=Qe(i.shape);c=[];for(let f=0;f<d;f++){const p=new Uint32Array(t.slice(a,a+hb))[0];a+=hb;const m=new Uint8Array(t.slice(a,a+p));c.push(m),a+=p}}else{const d=gS[o],f=t.slice(a,a+u*d);if(o==="float32")c=new Float32Array(f);else if(o==="int32")c=new Int32Array(f);else if(o==="bool")c=new Uint8Array(f);else if(o==="complex64"){c=new Float32Array(f);const p=new Float32Array(c.length/2),m=new Float32Array(c.length/2);for(let y=0;y<p.length;y++)p[y]=c[y*2],m[y]=c[y*2+1];const g=vl(p,l,"float32"),v=vl(m,l,"float32");n[s]=Nc(g,v),g.dispose(),v.dispose()}else throw new Error(`Unsupported dtype in weight '${s}': ${o}`);a+=u*d}o!=="complex64"&&(n[s]=vl(c,l,o))}return n}function ybe(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(i=>{if(e+=i.byteLength,n.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${i.constructor.name}`)});const r=new Uint8Array(e);let a=0;return n.forEach(i=>{r.set(new Uint8Array(i.buffer),a),a+=i.byteLength}),r.buffer}const a6=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function K8(t){return a6?Buffer.byteLength(t):new Blob([t]).size}function bbe(t){if(a6)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,a=e.length;r<a;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function vbe(t){if(a6){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function yw(t){if(t.length===1)return t[0];let e=0;t.forEach(a=>{e+=a.byteLength});const n=new Uint8Array(e);let r=0;return t.forEach(a=>{n.set(new Uint8Array(a),r),r+=a.byteLength}),n.buffer}function X8(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function lV(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function uV(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),r}async function i6(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),uV(t,n,r)}function E0(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:K8(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:K8(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:t.weightData.byteLength}}function cV(t){const e=[];for(const n of t)e.push(...n.weights);return e}function wbe(){const t=n=>{let r=n<<13,a=0;for(;!(r&8388608);)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function xbe(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function _be(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function kbe(){const t=wbe(),e=xbe(),n=_be();return r=>{const a=new ArrayBuffer(4*r.length),i=new Uint32Array(a);for(let s=0;s<r.length;s++){const o=r[s],l=t[n[o>>10]+(o&1023)]+e[o>>10];i[s]=l}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cr{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return cr.instance==null&&(cr.instance=new cr),cr.instance}static registerSaveRouter(e){cr.getInstance().saveRouters.push(e)}static registerLoadRouter(e){cr.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return cr.getHandlers(e,"save")}static getLoadHandlers(e,n){return cr.getHandlers(e,"load",n)}static getHandlers(e,n,r){const a=[];return(n==="load"?cr.getInstance().loadRouters:cr.getInstance().saveRouters).forEach(s=>{const o=s(e,r);o!==null&&a.push(o)}),a}}const Sbe=t=>cr.registerSaveRouter(t),Nbe=t=>cr.registerLoadRouter(t),dV=t=>cr.getSaveHandlers(t),hV=(t,e)=>cr.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bS="tensorflowjs",vS=1,wd="models_store",Gu="model_info_store";function fV(){if(!Ne().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function wS(t){const e=t.result;e.createObjectStore(wd,{keyPath:"modelPath"}),e.createObjectStore(Gu,{keyPath:"modelPath"})}class rh{constructor(e){if(this.indexedDB=fV(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,a)=>{const i=this.indexedDB.open(bS,vS);i.onupgradeneeded=()=>wS(i),i.onsuccess=()=>{const s=i.result;if(n==null){const o=s.transaction(wd,"readonly"),u=o.objectStore(wd).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return s.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(u.result.modelArtifacts)},u.onerror=c=>(s.close(),a(u.error)),o.oncomplete=()=>s.close()}else{const o=E0(n),l=s.transaction(Gu,"readwrite");let u=l.objectStore(Gu);const c=u.put({modelPath:this.modelPath,modelArtifactsInfo:o});let d;c.onsuccess=()=>{d=s.transaction(wd,"readwrite");const p=d.objectStore(wd).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:o});p.onsuccess=()=>r({modelArtifactsInfo:o}),p.onerror=m=>{u=l.objectStore(Gu);const g=u.delete(this.modelPath);g.onsuccess=()=>(s.close(),a(p.error)),g.onerror=v=>(s.close(),a(p.error))}},c.onerror=f=>(s.close(),a(c.error)),l.oncomplete=()=>{d==null?s.close():d.oncomplete=()=>s.close()}}},i.onerror=s=>a(i.error)})}}rh.URL_SCHEME="indexeddb://";const pV=t=>Ne().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(rh.URL_SCHEME)?Ebe(t.slice(rh.URL_SCHEME.length)):null;cr.registerSaveRouter(pV);cr.registerLoadRouter(pV);function Ebe(t){return new rh(t)}function Tbe(t){return t.startsWith(rh.URL_SCHEME)?t.slice(rh.URL_SCHEME.length):t}class Cbe{constructor(){this.indexedDB=fV()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(bS,vS);r.onupgradeneeded=()=>wS(r),r.onsuccess=()=>{const a=r.result,i=a.transaction(Gu,"readonly"),o=i.objectStore(Gu).getAll();o.onsuccess=()=>{const l={};for(const u of o.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},o.onerror=l=>(a.close(),n(o.error)),i.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(e){return e=Tbe(e),new Promise((n,r)=>{const a=this.indexedDB.open(bS,vS);a.onupgradeneeded=()=>wS(a),a.onsuccess=()=>{const i=a.result,s=i.transaction(Gu,"readwrite"),o=s.objectStore(Gu),l=o.get(e);let u;l.onsuccess=()=>{if(l.result==null)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=o.delete(e),d=()=>{u=i.transaction(wd,"readwrite");const p=u.objectStore(wd).delete(e);p.onsuccess=()=>n(l.result.modelArtifactsInfo),p.onerror=m=>r(l.error)};c.onsuccess=d,c.onerror=f=>(d(),i.close(),r(l.error))}},l.onerror=c=>(i.close(),r(l.error)),s.oncomplete=()=>{u==null?i.close():u.oncomplete=()=>i.close()}},a.onerror=i=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hl="/",Vh="tensorflowjs_models",mV="info",Ibe="model_topology",Abe="weight_specs",Dbe="weight_data",Rbe="model_metadata";function gV(t){return{info:[Vh,t,mV].join(Hl),topology:[Vh,t,Ibe].join(Hl),weightSpecs:[Vh,t,Abe].join(Hl),weightData:[Vh,t,Dbe].join(Hl),modelMetadata:[Vh,t,Rbe].join(Hl)}}function yV(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function $be(t){const e=t.split(Hl);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Hl)}function Obe(t){return t.startsWith(ah.URL_SCHEME)?t.slice(ah.URL_SCHEME.length):t}class ah{constructor(e){if(!Ne().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=gV(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=E0(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,bbe(e.weightData));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:a}}catch{throw yV(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const i=this.LS.getItem(this.keys.modelMetadata);if(i!=null){const o=JSON.parse(i);n.format=o.format,n.generatedBy=o.generatedBy,n.convertedBy=o.convertedBy,o.signature!=null&&(n.signature=o.signature),o.userDefinedMetadata!=null&&(n.userDefinedMetadata=o.userDefinedMetadata),o.modelInitializer!=null&&(n.modelInitializer=o.modelInitializer),o.trainingConfig!=null&&(n.trainingConfig=o.trainingConfig)}const s=this.LS.getItem(this.keys.weightData);if(s==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=vbe(s),n}}ah.URL_SCHEME="localstorage://";const bV=t=>Ne().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ah.URL_SCHEME)?Lbe(t.slice(ah.URL_SCHEME.length)):null;cr.registerSaveRouter(bV);cr.registerLoadRouter(bV);function Lbe(t){return new ah(t)}class Fbe{constructor(){V(Ne().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),V(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Vh+Hl,r=Hl+mV;for(let a=0;a<this.LS.length;++a){const i=this.LS.key(a);if(i.startsWith(n)&&i.endsWith(r)){const s=$be(i);e[s]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){e=Obe(e);const n=gV(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return yV(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _f="://";class Ha{constructor(){this.managers={}}static getInstance(){return Ha.instance==null&&(Ha.instance=new Ha),Ha.instance}static registerManager(e,n){V(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(_f)&&(e=e.slice(0,e.indexOf(_f))),V(e.length>0,()=>"scheme must not be an empty string.");const r=Ha.getInstance();V(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=Ha.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(Ha.getInstance().managers)}}function K2(t){if(t.indexOf(_f)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Ha.getSchemes().join(",")}`);return{scheme:t.split(_f)[0],path:t.split(_f)[1]}}async function vV(t,e,n=!1){V(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=cr.getLoadHandlers(t);V(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),V(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const a=r[0],i=cr.getSaveHandlers(e);V(i.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),V(i.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const s=i[0],o=K2(t).scheme,l=K2(t).path,u=o===K2(t).scheme,c=await a.load();n&&u&&await Ha.getManager(o).removeModel(l);const d=await s.save(c);return n&&!u&&await Ha.getManager(o).removeModel(l),d.modelArtifactsInfo}async function Pbe(){const t=Ha.getSchemes(),e={};for(const n of t){const r=await Ha.getManager(n).listModels();for(const a in r){const i=n+_f+a;e[i]=r[a]}}return e}async function Mbe(t){const e=K2(t);return Ha.getManager(e.scheme).removeModel(e.path)}async function Bbe(t,e){return vV(t,e,!1)}async function zbe(t,e){return vV(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ube{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(!window||!Ne().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}}if(Ne().get("IS_BROWSER")){Ne().setPlatform("browser",new Ube);try{Ha.registerManager(ah.URL_SCHEME,new Fbe)}catch{}try{Ha.registerManager(rh.URL_SCHEME,new Cbe)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jbe={importFetch:()=>require("node-fetch")};let zx;class Vbe{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return Ne().global.fetch!=null?Ne().global.fetch(e,n):(zx==null&&(zx=jbe.importFetch()),zx(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}}Ne().get("IS_NODE")&&!Ne().get("IS_BROWSER")&&Ne().setPlatform("node",new Vbe);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gr(t,e="float32",n){return e=e||"float32",RU(t),new Bg(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wbe(t,e){const n=W(t,"x","cast");if(!Iye(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:e};return le.runKernel(hw,r,a)}const tt=ie({cast_:Wbe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gbe(t){const n={x:W(t,"x","clone","string_or_numeric")};return le.runKernel(fw,n)}const nu=ie({clone_:Gbe});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wV(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rV();const Hbe={buffer:gr,cast:tt,clone:nu,print:wV};lbe(Hbe);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qbe="model",Ybe=".json",Kbe=".weights.bin";function Q8(t){return new Promise(e=>setTimeout(e)).then(t)}class ih{constructor(e){if(!Ne().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(ih.URL_SCHEME)&&(e=e.slice(ih.URL_SCHEME.length)),(e==null||e.length===0)&&(e=qbe),this.modelJsonFileName=e+Ybe,this.weightDataFileName=e+Kbe}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=lV(e,r),i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),s=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(s.download=this.modelJsonFileName,s.href=i,await Q8(()=>s.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const o=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;o.download=this.weightDataFileName,o.href=n,await Q8(()=>o.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:E0(e)}}}}ih.URL_SCHEME="downloads://";class Xbe{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{const i=JSON.parse(a.target.result),s=i.modelTopology;if(s==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(i.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:s});return}const l=i6(i,u=>this.loadWeights(u));e(l)},r.onerror=a=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const s of e)n.push(...s.weights),r.push(...s.paths);const a=this.checkManifestAndWeightFiles(e),i=r.map(s=>this.loadWeightsFile(s,a[s]));return Promise.all(i).then(s=>[n,yw(s)])}loadWeightsFile(e,n){return new Promise((r,a)=>{const i=new FileReader;i.onload=s=>{const o=s.target.result;r(o)},i.onerror=s=>a(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(i=>X8(i.name)),a={};for(const i of e)i.paths.forEach(s=>{const o=X8(s);if(n.indexOf(o)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(n.push(o),r.indexOf(o)===-1)throw new Error(`Weight file with basename '${o}' is not provided.`);a[s]=this.weightsFiles[r.indexOf(o)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}const Qbe=t=>Ne().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(ih.URL_SCHEME)?Zbe(t.slice(ih.URL_SCHEME.length)):null;cr.registerSaveRouter(Qbe);function Zbe(t="model"){return new ih(t)}function Jbe(t){return new Xbe(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z8(t,e,n,r){s(t),n=n??0,r=r??1,o(n,r);let a=0;const i=l=>(l.then(u=>{const c=n+ ++a/t.length*(r-n);return e(c),u}),l);function s(l){V(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function o(l,u){V(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),V(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),V(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(i))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function xV(t,e){e==null&&(e={});const n=e.fetchFunc==null?Ne().platform.fetch:e.fetchFunc,r=t.map(d=>n(d,e.requestInit,{isBinary:!0})),a=0,i=.5,o=(e.onProgress==null?await Promise.all(r):await Z8(r,e.onProgress,a,i)).map(d=>d.arrayBuffer()),l=.5,u=1;return e.onProgress==null?await Promise.all(o):await Z8(o,e.onProgress,l,u)}async function eve(t,e="",n,r){return _V(s=>xV(s,{requestInit:r}))(t,e,n)}function _V(t){return async(e,n="",r)=>{const a=e.map(()=>!1),i={},s=r!=null?r.map(()=>!1):[],o=[];if(e.forEach((p,m)=>{let g=0;p.weights.forEach(v=>{const y="quantization"in v?v.quantization.dtype:v.dtype,b=gS[y]*Qe(v.shape),w=()=>{a[m]=!0,i[m]==null&&(i[m]=[]),i[m].push({manifestEntry:v,groupOffset:g,sizeBytes:b})};r!=null?r.forEach((x,k)=>{x===v.name&&(w(),s[k]=!0)}):w(),o.push(v.name),g+=b})}),!s.every(p=>p)){const p=r.filter((m,g)=>!s[g]);throw new Error(`Could not find weights in manifest with names: ${p.join(", ")}. 
Manifest JSON has weights with names: ${o.join(", ")}.`)}const l=a.reduce((p,m,g)=>(m&&p.push(g),p),[]),u=[];l.forEach(p=>{e[p].paths.forEach(m=>{const g=n+(n.endsWith("/")?"":"/")+m;u.push(g)})});const c=await t(u),d={};let f=0;return l.forEach(p=>{const m=e[p].paths.length;let g=0;for(let x=0;x<m;x++)g+=c[f+x].byteLength;const v=new ArrayBuffer(g),y=new Uint8Array(v);let b=0;for(let x=0;x<m;x++){const k=new Uint8Array(c[f+x]);y.set(k,b),b+=k.byteLength}i[p].forEach(x=>{const k=v.slice(x.groupOffset,x.groupOffset+x.sizeBytes),S=r6(k,[x.manifestEntry]);for(const E in S)d[E]=S[E]}),f+=m}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tve="application/octet-stream",nve="application/json";class s6{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(V(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=Ne().platform.fetch,V(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&V(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=lV(e,r);n.body.append("model.json",new Blob([JSON.stringify(a)],{type:nve}),"model.json"),e.weightData!=null&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:tve}),"model.weights.bin");const i=await this.fetch(this.path,n);if(i.ok)return{modelArtifactsInfo:E0(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let s=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?s+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":s+=" Please make sure the server is serving valid JSON for this request.",new Error(s)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return i6(n,i=>this.loadWeights(i))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=rve(n),i=this.weightPathPrefix||r,s=cV(e),o=[],l=[];for(const c of e)for(const d of c.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):o.push(i+d+a);this.weightUrlConverter&&o.push(...await Promise.all(l));const u=await xV(o,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[s,yw(u)]}}s6.URL_SCHEME_REGEX=/^https?:\/\//;function rve(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),a=n>e?t.substring(n):"";return[r+"/",a]}function xS(t){return t.match(s6.URL_SCHEME_REGEX)!=null}const kV=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>xS(r)):n=xS(t),n)return o6(t,e)}return null};cr.registerSaveRouter(kV);cr.registerLoadRouter(kV);function o6(t,e){return new s6(t,e)}function SV(t,e){return o6(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ux{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class NV{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class ave{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function ive(t,e,n,r){const a=arguments;return new ave(EV(...a))}function EV(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Ux(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ux({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Ux({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function sve(t){return new NV(t)}function ove(t){return new NV(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TV=Object.freeze(Object.defineProperty({__proto__:null,browserFiles:Jbe,browserHTTPRequest:SV,concatenateArrayBuffers:yw,copyModel:Bbe,decodeWeights:r6,encodeWeights:yS,fromMemory:ive,fromMemorySync:EV,getLoadHandlers:hV,getModelArtifactsForJSON:i6,getModelArtifactsForJSONSync:uV,getModelArtifactsInfoForJSON:E0,getSaveHandlers:dV,getWeightSpecs:cV,http:o6,isHTTPScheme:xS,listModels:Pbe,loadWeights:eve,moveModel:zbe,registerLoadRouter:Nbe,registerSaveRouter:Sbe,removeModel:Mbe,weightsLoaderFactory:_V,withSaveHandler:sve,withSaveHandlerSync:ove},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lve(t,e,n=!1,r=!1){let a=W(t,"a","matMul"),i=W(e,"b","matMul");[a,i]=kr(a,i);const s={a,b:i},o={transposeA:n,transposeB:r};return le.runKernel(IT,s,o)}const Xt=ie({matMul_:lve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uve(t,e,n=1,r=0,a="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const s={indices:W(t,"indices","oneHot","int32")},o={dtype:a,depth:e,onValue:n,offValue:r};return le.runKernel(vC,s,o)}const CV=ie({oneHot_:uve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sd(){return le}function _S(){return le.memory()}function me(t,e){return le.tidy(t,e)}function pt(t){tV(t).forEach(n=>n.dispose())}function va(t){return le.keep(t)}function fb(){return le.backendName}function cve(t,e,n=1){return le.registerBackend(t,e,n)}function IV(){return le.backend}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dve(t){const n={input:W(t,"input","imag")};return le.runKernel(oj,n)}const bw=ie({imag_:dve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hve(t){const n={x:W(t,"x","neg")};return le.runKernel(yC,n)}const mr=ie({neg_:hve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fve(t){const n={input:W(t,"input","real")};return le.runKernel(Ej,n)}const zg=ie({real_:fve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pve(t,e,n){const r=W(t,"x","transpose");if(e==null&&(e=r.shape.map((s,o)=>o).reverse()),V(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(s=>{V(s>=0&&s<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const a={x:r},i={perm:e};return r.dtype==="complex64"?me(()=>{let s=zg(r),o=bw(r);return s=le.runKernel(qm,{x:s},i),o=le.runKernel(qm,{x:o},i),n&&(o=mr(o)),Nc(s,o)}):le.runKernel(qm,a,i)}const tn=ie({transpose_:pve});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pb(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const i=n-1-a,s=t[i]||1;(e[e.length-1-a]||1)>1&&s===1&&r.unshift(i)}return r}function Kr(t,e){const n=[];for(let r=0;r<e.length;r++){const a=t[t.length-r-1],i=e.length-r-1,s=e[i];(a==null||a===1&&s>1)&&n.unshift(i)}return n}function jt(t,e){const n=[],r=Math.max(t.length,e.length);for(let a=0;a<r;a++){let i=t[t.length-a-1];i==null&&(i=1);let s=e[e.length-a-1];if(s==null&&(s=1),i===1)n.unshift(s);else if(s===1)n.unshift(i);else if(i!==s){const o=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(o)}else n.unshift(i)}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AV(t,e,n){if(Np(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=zc(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Uc(t,e,r,n)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Qc;function mve(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,i=!1,s=!1,o=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)i=!0;else if(t.getContext!=null)s=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)o=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(uS(aS,le.backendName)!=null){const m={pixels:t},g={numChannels:e};return le.runKernel(aS,m,g)}const[u,c]=a?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(s)d=t.getContext("2d").getImageData(0,0,u,c).data;else if(r||n)d=t.data;else if(i||a||o){if(Qc==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Qc=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Qc=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Qc.canvas.width=u,Qc.canvas.height=c,Qc.drawImage(t,0,0,u,c),d=Qc.getImageData(0,0,u,c).data}let f;if(e===4)f=new Int32Array(d);else{const m=u*c;f=new Int32Array(m*e);for(let g=0;g<m;g++)for(let v=0;v<e;++v)f[g*e+v]=d[g*4+v]}return AV(f,[c,u,e],"int32")}async function T0(t,e){let n=W(t,"img","toPixels");if(!(t instanceof en)){const u=n;n=tt(u,"int32"),u.dispose()}if(n.rank!==2&&n.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,a]=n.shape.slice(0,2),i=n.rank===2?1:n.shape[2];if(i>4||i===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${i}`);if(n.dtype!=="float32"&&n.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const s=await n.data(),o=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(a*r*4);for(let u=0;u<r*a;++u){const c=[0,0,0,255];for(let f=0;f<i;f++){const p=s[u*i+f];if(n.dtype==="float32"){if(p<0||p>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${p}.`)}else if(n.dtype==="int32"&&(p<0||p>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${p}.`);i===1?(c[0]=p*o,c[1]=p*o,c[2]=p*o):c[f]=p*o}const d=u*4;l[d+0]=Math.round(c[0]),l[d+1]=Math.round(c[1]),l[d+2]=Math.round(c[2]),l[d+3]=Math.round(c[3])}if(e!=null){e.width=a,e.height=r;const u=e.getContext("2d"),c=new ImageData(l,a,r);u.putImageData(c,0,0)}return n!==t&&n.dispose(),l}const C0=ie({fromPixels_:mve});function DV(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(Qe(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const a=e.shape,i=a[a.length-1];let s=1;for(let d=0;d<a.length-1;++d)s*=a[d];const o=t.shape,l=a.slice();l.pop();let u=1;for(let d=i;d<n;++d)u*=o[d],l.push(o[d]);const c=[..._a(t.shape).map(d=>d/u),1].slice(0,i);return[l,s,u,c]}function RV(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(t.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+t.length-r)throw new Error(i+` update.rank != ${a+t.length-r}`);for(let s=0;s<a;++s)if(n.shape[s]!==e.shape[s])throw new Error(i+` updates.shape[${s}] (${n.shape[s]}) != indices.shape[${s}] (${e.shape[s]}).`);for(let s=0;s<n.rank-a;++s)if(n.shape[s+a]!==t[s+r])throw new Error(i+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${t[s+a]})`)}function $V(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}RV(n,e,t)}function l6(t,e,n){const r=e.shape.length,a=r>1?e.shape[r-1]:1,i=n.length;let s=1;for(let d=a;d<i;++d)s*=n[d];const o=a<1?1:a,l=Qe(e.shape)/o,u=[..._a(n.slice(0,a)),1],c=Qe(n);return{sliceRank:a,numUpdates:l,sliceSize:s,strides:u,outputSize:c}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kS=-2,gve=-1;function OV(t,e,n){const r=t.shape.length;V(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),V(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)V(e[a]+n[a]<=t.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${e[a]+n[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function yve(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function LV(t,e,n){const r=[];for(let a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function FV(t,e,n,r){const a=[...t];for(let i=a.length;i<r.length;i++)a.push(1);for(let i=0;i<n;i++)i===0?a[e]=1:(a.splice(e,0,1),a.pop());return a}function PV(t,e,n){return n<=t?n:n-(e-1)}function MV(t,e){const n=[];for(let r=0;r<t;r++)n.push(e+r);return n}function bve(t,e,n,r,a,i,s,o,l){const u=t.length;let c=new Array(u),d=new Array(u),f=new Array(u);if(e.length&&n>0){const p=e[0],m=n+1;c=BV(s,p,m,r,t),d=zV(o,p,m,a,t),f=FV(i,p,m,t)}else for(let p=0;p<u;p++)c[p]=jV(s,r,i,t,p,l),d[p]=VV(o,a,i,t,p,l),f[p]=UV(i,p,l);return{begin:c,end:d,strides:f}}function BV(t,e,n,r,a){const i=[...a],s=MV(n,e);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=0;else{const l=PV(e,n,o);let u=r[l];t&1<<l&&(u=0),i[o]=u}return i}function zV(t,e,n,r,a){const i=[...a],s=MV(n,e);for(let o=0;o<i.length;o++)if(s.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const l=PV(e,n,o);let u=r[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),i[o]=u}for(let o=0;o<i.length;o++){const l=a[o];i[o]<0&&(i[o]+=l),i[o]=ob(0,i[o],a[o])}return i}function UV(t,e,n){let r=t[e];return(n&1<<e||r==null)&&(r=1),r}function jV(t,e,n,r,a,i){let s=e[a];const o=n[a]||1;(t&1<<a||i&1<<a||s==null)&&(o>0?s=Number.MIN_SAFE_INTEGER:s=Number.MAX_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),s=ob(0,s,l-1),s}function VV(t,e,n,r,a,i){let s=e[a];const o=n[a]||1;(t&1<<a||i&1<<a||s==null)&&(o>0?s=Number.MAX_SAFE_INTEGER:s=Number.MIN_SAFE_INTEGER);const l=r[a];return s<0&&(s+=l),o>0?s=ob(0,s,l):s=ob(-1,s,l-1),s}function u6(t,e,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function c6(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function d6(t,e,n){let r;const a=t.shape.length;typeof e=="number"?r=[e,...new Array(a-1).fill(0)]:e.length<a?r=e.concat(new Array(a-e.length).fill(0)):r=e.slice(),r.forEach(s=>{V(s!==-1,()=>"slice() does not support negative begin indexing.")});let i;return n==null?i=new Array(a).fill(-1):typeof n=="number"?i=[n,...new Array(a-1).fill(-1)]:n.length<a?i=n.concat(new Array(a-n.length).fill(-1)):i=n,i=i.map((s,o)=>s>=0?s:(V(s===-1,()=>`Negative size values should be exactly -1 but got ${s} for the slice() size at index ${o}.`),t.shape[o]-r[o])),[r,i]}function WV(t,e,n,r,a,i,s,o,l){let u;if(r==null?(u=new Array(e.length),u.fill(1)):u=r,s!=null&&s&s-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let w=0;w<d.dims;w++)c&&1<<w&o&&d.numAddAxisAfterEllipsis++,1<<w&s&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const f={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};vve(d,f);let p=!0,m=!0,g=!0;const v=[],y=[];for(let w=0;w<t.length;++w){if(f.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);const x=!!(f.shrinkAxisMask&1<<w),k=t[w];if(k===-1){v.push(x?1:-1);continue}const S=[f.beginMask&1<<w,f.endMask&1<<w],E=[f.strides[w]>0?0:-1,f.strides[w]>0?k:k-1];if(x&&f.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");g=g&&f.strides[w]===1;const I=!!(f.beginMask&1<<w&&f.endMask&1<<w);if(f.beginValid&&f.endValid){if(x){const H=f.begin[w]<0?k+f.begin[w]:f.begin[w];if(f.begin[w]=H,f.end[w]=f.begin[w]+1,H<0||H>=k)throw Error(`slice index ${f.begin[w]} of dimension ${w} out of bounds.`)}else f.begin[w]=J8(f.begin[w],0,f.strides[w],k,S,E),f.end[w]=J8(f.end[w],1,f.strides[w],k,S,E);const z=f.strides[w]===1&&f.begin[w]===0&&f.end[w]===k;p=p&&z,m=m&&(w===0&&f.strides[w]===1||z)}else p=p&&f.strides[w]===1&&I,m=m&&(w===0&&f.strides[w]===1||I);let C,R=!1;if(f.beginValid&&f.endValid?(C=f.end[w]-f.begin[w],R=!0):x?(C=1,R=!0):I&&k>=0&&(f.strides[w]<0?C=-k:C=k,R=!0),R){let z;C===0||C<0!=f.strides[w]<0?z=0:z=Math.trunc(C/f.strides[w])+(C%f.strides[w]!==0?1:0),v.push(z)}else v.push(-1)}for(let w=0;w<f.finalShapeGatherIndices.length;++w){const x=f.finalShapeGatherIndices[w];x>=0?y.push(v[x]):x===kS&&y.push(1)}return{finalShapeSparse:y.filter((w,x)=>f.finalShapeGatherIndices[x]!==kS),finalShape:y,isIdentity:p,sliceDim0:m,isSimpleSlice:g,begin:f.begin,end:f.end,strides:f.strides}}function vve(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const a=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<a;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(kS),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(gve),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function J8(t,e,n,r,a,i){if(a[e])return n>0?i[e]:i[e+1&1];{const s=t<0?r+t:t;return s<i[0]?i[0]:s>i[1]?i[1]:s}}const wve=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:OV,computeFlatOffset:c6,computeOutShape:LV,getNormalizedAxes:bve,isSliceContinous:u6,maskToAxes:yve,parseSliceParams:d6,sliceInfo:WV,startForAxis:jV,startIndicesWithElidedDims:BV,stopForAxis:VV,stopIndicesWithElidedDims:zV,stridesForAxis:UV,stridesWithElidedDims:FV},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Tp{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Ks{constructor(){this.classNameMap={}}static getMap(){return Ks.instance==null&&(Ks.instance=new Ks),Ks.instance}static register(e){Ks.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function je(t){V(t.className!=null,()=>"Class being registered does not have the static className property defined."),V(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),V(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),Ks.register(t)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xve(t,e){let n=W(t,"a","add"),r=W(e,"b","add");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(dw,a)}const Ae=ie({add_:xve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ve(t,e){let n=W(t,"a","floorDiv"),r=W(e,"b","floorDiv");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(XT,a)}const GV=ie({floorDiv_:_ve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kve(t,e){let n=W(t,"a","div"),r=W(e,"b","div");if([n,r]=kr(n,r),n.dtype==="int32"&&r.dtype==="int32")return GV(n,r);const a={a:n,b:r},i={};return le.runKernel(VT,a,i)}const Je=ie({div_:kve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sve(t,e){let n=W(t,"a","mul"),r=W(e,"b","mul");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(gC,a)}const ee=ie({mul_:Sve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nve(t){const e=W(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return le.runKernel($T,n)}else{const n={x:e};return le.runKernel(gT,n)}}const aa=ie({abs_:Nve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eve(t){const n={x:W(t,"x","acos")};return le.runKernel(yT,n)}const Tve=ie({acos_:Eve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cve(t){const n={x:W(t,"x","acosh")};return le.runKernel(bT,n)}const Ive=ie({acosh_:Cve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ave(t){V(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),V(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((a,i)=>W(a,`tensors${i}`,"addN")),n=e[0];e.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(a=>{if(!gn(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return le.runKernel(vT,r)}const Dve=ie({addN_:Ave});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rve(t,e=null,n=!1){const a={x:W(t,"x","all","bool")},i={axis:e,keepDims:n};return le.runKernel(LU,a,i)}const HV=ie({all_:Rve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ve(t,e=null,n=!1){const a={x:W(t,"x","any","bool")},i={axis:e,keepDims:n};return le.runKernel(FU,a,i)}const SS=ie({any_:$ve});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ove(t,e=0){const r={x:W(t,"x","argMax")},a={axis:e};return le.runKernel(wT,r,a)}const up=ie({argMax_:Ove});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lve(t,e=0){const r={x:W(t,"x","argMin")},a={axis:e};return le.runKernel(xT,r,a)}const Fve=ie({argMin_:Lve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pve(t){const n={x:W(t,"x","asin")};return le.runKernel(_T,n)}const Mve=ie({asin_:Pve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bve(t){const n={x:W(t,"x","asinh")};return le.runKernel(kT,n)}const zve=ie({asinh_:Bve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uve(t){const n={x:W(t,"x","atan")};return le.runKernel(ST,n)}const jve=ie({atan_:Uve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vve(t,e){let n=W(t,"a","atan2"),r=W(e,"b","atan2");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(ET,a)}const Wve=ie({atan2_:Vve});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gve(t){const n={x:W(t,"x","atanh")};return le.runKernel(NT,n)}const Hve=ie({atanh_:Gve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qV(t,e,n,r,a="NHWC",i){const s=t[3],o=[...e,s],l=Cp(a);return Ds(t,o,n,i,r,null,null,l)}function yh(t,e,n,r,a,i,s="channelsLast"){const[o,l]=mb(e);let u;if(s==="channelsLast")u=[o,l,t[3],t[3]];else if(s==="channelsFirst")u=[o,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return Ds(t,u,n,r,a,i,!1,s)}function I0(t,e,n,r,a,i,s="NDHWC"){const[o,l,u]=NS(e);let c,d;if(s==="NDHWC")d="channelsLast",c=[o,l,u,t[4],t[4]];else if(s==="NCDHW")d="channelsFirst",c=[o,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${s}`);return A0(t,c,n,r,a,!1,d,i)}function Ds(t,e,n,r,a,i,s=!1,o="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,d]=t;else if(o==="channelsFirst")[l,d,u,c]=t;else throw new Error(`Unknown dataFormat ${o}`);const[f,p,,m]=e,[g,v]=mb(n),[y,b]=mb(r),w=kf(f,y),x=kf(p,b),{padInfo:k,outHeight:S,outWidth:E}=Kve(a,u,c,g,v,w,x,i,o),I=s?m*d:m;let C;return o==="channelsFirst"?C=[l,I,S,E]:o==="channelsLast"&&(C=[l,S,E,I]),{batchSize:l,dataFormat:o,inHeight:u,inWidth:c,inChannels:d,outHeight:S,outWidth:E,outChannels:I,padInfo:k,strideHeight:g,strideWidth:v,filterHeight:f,filterWidth:p,effectiveFilterHeight:w,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:b,inShape:t,outShape:C,filterShape:e}}function A0(t,e,n,r,a,i=!1,s="channelsLast",o){let[l,u,c,d,f]=[-1,-1,-1,-1,-1];if(s==="channelsLast")[l,u,c,d,f]=t;else if(s==="channelsFirst")[l,f,u,c,d]=t;else throw new Error(`Unknown dataFormat ${s}`);const[p,m,g,,v]=e,[y,b,w]=NS(n),[x,k,S]=NS(r),E=kf(p,x),I=kf(m,k),C=kf(g,S),{padInfo:R,outDepth:z,outHeight:H,outWidth:U}=Xve(a,u,c,d,y,b,w,E,I,C,o),q=i?v*f:v;let Q;return s==="channelsFirst"?Q=[l,q,z,H,U]:s==="channelsLast"&&(Q=[l,z,H,U,q]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:c,inWidth:d,inChannels:f,outDepth:z,outHeight:H,outWidth:U,outChannels:q,padInfo:R,strideDepth:y,strideHeight:b,strideWidth:w,filterDepth:p,filterHeight:m,filterWidth:g,effectiveFilterDepth:E,effectiveFilterHeight:I,effectiveFilterWidth:C,dilationDepth:x,dilationHeight:k,dilationWidth:S,inShape:t,outShape:Q,filterShape:e}}function qve(t,e,n,r,a){r==null&&(r=h6(t,e,n));const i=t[0],s=t[1],o=$d((i-e+2*r)/n+1,a),l=$d((s-e+2*r)/n+1,a);return[o,l]}function Yve(t,e,n,r,a,i){a==null&&(a=h6(t,e,r));const s=t[0],o=t[1],l=t[2],u=$d((s-e+2*a)/r+1,i),c=$d((o-e+2*a)/r+1,i),d=$d((l-e+2*a)/r+1,i);return[u,c,d,n]}function h6(t,e,n,r=1){const a=kf(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function mb(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function NS(t){return typeof t=="number"?[t,t,t]:t}function kf(t,e){return e<=1?t:t+(t-1)*(e-1)}function Kve(t,e,n,r,a,i,s,o,l){let u,c,d;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const p=qve([e,n],i,r,t,o);c=p[0],d=p[1]}else if(t==="same"){c=Math.ceil(e/r),d=Math.ceil(n/a);const f=Math.max(0,(c-1)*r+i-e),p=Math.max(0,(d-1)*a+s-n),m=Math.floor(f/2),g=f-m,v=Math.floor(p/2),y=p-v;u={top:m,bottom:g,left:v,right:y,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-i+1)/r),d=Math.ceil((n-s+1)/a);else if(typeof t=="object"){const f=l==="channelsLast"?t[1][0]:t[2][0],p=l==="channelsLast"?t[1][1]:t[2][1],m=l==="channelsLast"?t[2][0]:t[3][0],g=l==="channelsLast"?t[2][1]:t[3][1];u={top:f,bottom:p,left:m,right:g,type:f===0&&p===0&&m===0&&g===0?"VALID":"EXPLICIT"},c=$d((e-i+f+p)/r+1,o),d=$d((n-s+m+g)/a+1,o)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:c,outWidth:d}}function Xve(t,e,n,r,a,i,s,o,l,u,c){let d,f,p,m;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const v=Yve([e,n,r,1],o,1,a,t,c);f=v[0],p=v[1],m=v[2]}else if(t==="same"){f=Math.ceil(e/a),p=Math.ceil(n/i),m=Math.ceil(r/s);const g=(f-1)*a+o-e,v=(p-1)*i+l-n,y=(m-1)*s+u-r,b=Math.floor(g/2),w=g-b,x=Math.floor(v/2),k=v-x,S=Math.floor(y/2),E=y-S;d={top:x,bottom:k,left:S,right:E,front:b,back:w,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((e-o+1)/a),p=Math.ceil((n-l+1)/i),m=Math.ceil((r-u+1)/s);else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:f,outHeight:p,outWidth:m}}function $d(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function Ec(t){const[e,n,r]=mb(t);return e===1&&n===1&&r===1}function Ci(t,e){return Ec(t)||Ec(e)}function Cp(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function ii(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")V(ap(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(a=>{V(ap(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qve(t,e){const r={x:W(t,"x","reshape","string_or_numeric")},a={shape:e};return le.runKernel(TC,r,a)}const ue=ie({reshape_:Qve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zve(t,e,n,r,a){const i=W(t,"x","avgPool","float32"),s=1;V(Ci(n,s),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);let o=i,l=!1;i.rank===3&&(l=!0,o=ue(i,[1,i.shape[0],i.shape[1],i.shape[2]])),V(o.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${o.rank}.`),ii("avgPool",r,a);const u={x:o},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a};let d=le.runKernel(TT,u,c);return d=tt(d,i.dtype),l?ue(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const f6=ie({avgPool_:Zve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jve(t,e,n,r,a,i="NDHWC"){const s=W(t,"x","avgPool3d","float32");let o=s,l=!1;s.rank===4&&(l=!0,o=ue(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),V(o.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${o.rank}.`),V(i==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),ii("avgPool3d",r,a);const u={x:o},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:i};let d=le.runKernel(CT,u,c);return d=tt(d,o.dtype),l?ue(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const YV=ie({avgPool3d_:Jve});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ewe(t,e=0){V(t.length>=1,()=>"Pass at least one tensor to concat");const n=db(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(i=>{if(i.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${i.dtype}. `)}),n.length===1)return nu(n[0]);const r=n,a={axis:e};return le.runKernel(OT,r,a)}const ar=ie({concat_:ewe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function twe(t){const n={x:W(t,"x","sigmoid","float32")};return le.runKernel(zC,n)}const xs=ie({sigmoid_:twe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nwe(t,e,n){const r=W(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},i={begin:e,size:n};return le.runKernel(FC,a,i)}const bt=ie({slice_:nwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rwe(t){const n={x:W(t,"x","tanh","float32")};return le.runKernel(XC,n)}const Ug=ie({tanh_:rwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function awe(t,e,n,r,a,i){const s=W(t,"forgetBias","basicLSTMCell"),o=W(e,"lstmKernel","basicLSTMCell"),l=W(n,"lstmBias","basicLSTMCell"),u=W(r,"data","basicLSTMCell"),c=W(a,"c","basicLSTMCell"),d=W(i,"h","basicLSTMCell"),f=ar([u,d],1),p=Xt(f,o),m=Ae(p,l),g=m.shape[0],v=m.shape[1]/4,y=[g,v],b=bt(m,[0,0],y),w=bt(m,[0,v],y),x=bt(m,[0,v*2],y),k=bt(m,[0,v*3],y),S=Ae(ee(xs(b),Ug(w)),ee(c,xs(Ae(s,x)))),E=ee(Ug(S),xs(k));return[S,E]}const iwe=ie({basicLSTMCell_:awe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function swe(t,e,n){const r=W(t,"x","batchToSpaceND"),a=e.reduce((o,l)=>o*l);V(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),V(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),V(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);const i={x:r},s={blockShape:e,crops:n};return le.runKernel(AT,i,s)}const p6=ie({batchToSpaceND_:swe});function owe(t){let e;return t.rank===0||t.rank===1?e=ue(t,[1,1,1,t.size]):t.rank===2?e=ue(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=ue(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lwe(t,e,n,r,a,i){i==null&&(i=.001);const s=W(t,"x","batchNorm"),o=W(e,"mean","batchNorm"),l=W(n,"variance","batchNorm");let u;a!=null&&(u=W(a,"scale","batchNorm"));let c;r!=null&&(c=W(r,"offset","batchNorm")),V(o.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),V(c==null||o.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),V(u==null||o.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const f={x:owe(s),scale:u,offset:c,mean:o,variance:l},p={varianceEpsilon:i},m=le.runKernel(QT,f,p);return ue(m,s.shape)}const vw=ie({batchNorm_:lwe});function uwe(t,e,n,r,a,i){const s=W(t,"x","batchNorm"),o=W(e,"mean","batchNorm"),l=W(n,"variance","batchNorm");let u;a!=null&&(u=W(a,"scale","batchNorm"));let c;return r!=null&&(c=W(r,"offset","batchNorm")),V(s.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`),V(o.rank===2||o.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`),V(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&V(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&V(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),vw(s,o,l,c,u,i)}const KV=ie({batchNorm2d_:uwe});function cwe(t,e,n,r,a,i){const s=W(t,"x","batchNorm"),o=W(e,"mean","batchNorm"),l=W(n,"variance","batchNorm");let u;a!=null&&(u=W(a,"scale","batchNorm"));let c;return r!=null&&(c=W(r,"offset","batchNorm")),V(s.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`),V(o.rank===3||o.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`),V(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&V(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&V(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),vw(s,o,l,c,u,i)}const XV=ie({batchNorm3d_:cwe});function dwe(t,e,n,r,a,i){const s=W(t,"x","batchNorm"),o=W(e,"mean","batchNorm"),l=W(n,"variance","batchNorm");let u;a!=null&&(u=W(a,"scale","batchNorm"));let c;return r!=null&&(c=W(r,"offset","batchNorm")),V(s.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`),V(o.rank===4||o.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`),V(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&V(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&V(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),vw(s,o,l,c,u,i)}const QV=ie({batchNorm4d_:dwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hwe(t,e,n){const r=W(t,"x","bincount"),a=W(e,"weights","bincount");V(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),V(n>=0,()=>`size must be non-negative, but got ${n}.`),V(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const i={x:r,weights:a},s={size:n};return le.runKernel(BU,i,s)}const ZV=ie({bincount_:hwe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fwe(t,e){const n=W(t,"s0","broadcastArgs","int32"),r=W(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return le.runKernel(zU,a)}const pwe=ie({broadcastArgs_:fwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mwe(t,e){let n=W(t,"broadcastTo","x");const r=n.shape;if(e.some(u=>!(u>0)||u%1!==0))throw new Error(`broadcastTo(): Invalid broadcast shape [${e}].`);if(e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=ue(n,u)}const a=n.shape,i=Array.from(e);for(let u=e.length-1;u>=0;u--)if(a[u]===e[u])i[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(i.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return nu(n);const o={x:n},l={reps:i};return le.runKernel(pw,o,l)}const Ym=ie({broadcastTo_:mwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gwe(t){const n={x:W(t,"x","ceil","float32")};return le.runKernel(DT,n)}const ywe=ie({ceil_:gwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ip(t,e,n){const r={shape:t,value:e,dtype:n};return le.runKernel(nj,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bwe(t,e,n){const r=W(t,"x","clipByValue");if(V(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Ip(r.shape,e,r.dtype);const a={x:r},i={clipValueMin:e,clipValueMax:n};return le.runKernel(RT,a,i)}const Si=ie({clipByValue_:bwe});function vwe(t){return ar(t,0)}const JV=ie({concat1d_:vwe});function wwe(t,e){return ar(t,e)}const eW=ie({concat2d_:wwe});function xwe(t,e){return ar(t,e)}const tW=ie({concat3d_:xwe});function _we(t,e){return ar(t,e)}const nW=ie({concat4d_:_we});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kwe(t,e,n,r,a="NHWC",i=[1,1],s){const o=W(t,"x","conv2d","float32"),l=W(e,"filter","conv2d","float32");let u=o,c=!1;o.rank===3&&(c=!0,u=ue(o,[1,o.shape[0],o.shape[1],o.shape[2]])),V(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),V(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),ii("conv2d",r,s);const d=a==="NHWC"?u.shape[3]:u.shape[1];V(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),V(Ci(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const f={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},m=le.runKernel(LT,f,p);return c?ue(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const sh=ie({conv2d_:kwe});function Swe(t,e,n,r,a="NWC",i=1,s){const o=W(t,"x","conv1d"),l=W(e,"filter","conv1d");let u=o,c=!1;o.rank===2&&(c=!0,u=ue(o,[1,o.shape[0],o.shape[1]])),V(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),V(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),ii("conv1d",r,s),V(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),V(Ci(n,i),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`),V(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const d=ue(l,[1,l.shape[0],l.shape[1],l.shape[2]]),f=ue(u,[u.shape[0],1,u.shape[1],u.shape[2]]),v=sh(f,d,[1,n],r,"NHWC",[1,i],s);return c?ue(v,[v.shape[2],v.shape[3]]):ue(v,[v.shape[0],v.shape[2],v.shape[3]])}const rW=ie({conv1d_:Swe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nwe(t,e,n,r,a,i="NHWC",s){V(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let o=t,l=e,u=!1;e.rank===3&&(u=!0,l=ue(e,[1,e.shape[0],e.shape[1],e.shape[2]]),o=[1,t[0],t[1],t[2]]),V(o.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${o.length}.`),V(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),V(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=i==="NHWC"?o[3]:o[1],d=i==="NHWC"?l.shape[3]:l.shape[1];V(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),V(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),ii("conv2dDerInput",a,s);const f={dy:l,filter:n},p={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,inputShape:o},m=le.runKernel(FT,f,p);return u?ue(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const m6=ie({conv2DBackpropInput_:Nwe});function Ewe(t,e,n,r,a,i){const s=W(t,"x","conv2dTranspose"),o=W(e,"filter","conv2dTranspose");return m6(n,s,o,r,a,"NHWC",i)}const aW=ie({conv2dTranspose_:Ewe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Twe(t,e,n,r,a="NDHWC",i=[1,1,1]){const s=W(t,"x","conv3d"),o=W(e,"filter","conv3d");let l=s,u=!1;s.rank===4&&(u=!0,l=ue(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),V(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),V(o.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${o.rank}.`),V(l.shape[4]===o.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${o.shape[3]}.`),V(Ci(n,i),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),V(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`);const c={x:l,filter:o},d={strides:n,pad:r,dataFormat:a,dilations:i},f=le.runKernel(PT,c,d);return u?ue(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const iW=ie({conv3d_:Twe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cwe(t,e,n,r,a){V(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,s=e,o=!1;e.rank===4&&(o=!0,s=ue(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),i=[1,t[0],t[1],t[2],t[3]]);const l=i[4],u=s.shape[4];V(i.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`),V(s.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${s.rank}`),V(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),V(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),V(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:s,filter:n},d={pad:a,strides:r,inputShape:i},f=le.runKernel(WU,c,d);return o?ue(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const sW=ie({conv3DBackpropInput_:Cwe});function Iwe(t,e,n,r,a){const i=W(t,"x","conv3dTranspose"),s=W(e,"filter","conv3dTranspose");return sW(n,i,s,r,a)}const oW=ie({conv3dTranspose_:Iwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Awe(t){const n={x:W(t,"x","cos","float32")};return le.runKernel(MT,n)}const g6=ie({cos_:Awe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dwe(t){const n={x:W(t,"x","cosh","float32")};return le.runKernel(BT,n)}const lW=ie({cosh_:Dwe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rwe(t,e=0,n=!1,r=!1){const i={x:W(t,"x","cumprod")},s={axis:e,exclusive:n,reverse:r};return le.runKernel(GU,i,s)}const ES=ie({cumprod_:Rwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $we(t,e=0,n=!1,r=!1){const i={x:W(t,"x","cumsum")},s={axis:e,exclusive:n,reverse:r};return le.runKernel(zT,i,s)}const uW=ie({cumsum_:$we});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Owe(t,e,n,r=!1){const a=W(t,"x","denseBincount"),i=W(e,"weights","denseBincount");V(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),V(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),V(n>=0,()=>`size must be non-negative, but got ${n}.`),V(i.size===a.size||i.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`);const s={x:a,weights:i},o={size:n,binaryOutput:r};return le.runKernel(qU,s,o)}const Lwe=ie({denseBincount_:Owe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fwe(t,e,n="NHWC"){const r=W(t,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],i=n==="NHWC"?r.shape[2]:r.shape[3],s=n==="NHWC"?r.shape[3]:r.shape[1];V(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),V(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e}  for depthToSpace with input shape
    ${r.shape}`),V(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e} for depthToSpace with input shape
        ${r.shape}`),V(s%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${s} for depthToSpace with input shape ${r.shape}`);const o={x:r},l={blockSize:e,dataFormat:n};return le.runKernel(YU,o,l)}const Pwe=ie({depthToSpace_:Fwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mwe(t,e,n,r,a="NHWC",i=[1,1],s){const o=W(t,"x","depthwiseConv2d","float32"),l=W(e,"filter","depthwiseConv2d","float32");let u=o,c=!1;o.rank===3&&(c=!0,u=ue(o,[1,o.shape[0],o.shape[1],o.shape[2]])),V(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),V(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=a==="NHWC"?u.shape[3]:u.shape[1];V(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),ii("depthwiseConv2d",r,s);const f={x:u,filter:l},p={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s},m=le.runKernel(UT,f,p);return c?ue(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const ww=ie({depthwiseConv2d_:Mwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bwe(t){const n={x:W(t,"x","diag")};return le.runKernel(QU,n)}const zwe=ie({diag_:Bwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uwe(t,e,n,r,a=[1,1],i="NHWC"){const s=W(t,"x","dilation2d"),o=W(e,"filter","dilation2d");V(s.rank===3||s.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${s.rank}.`),V(o.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${o.rank}.`),V(i==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`);let l=s,u=!1;s.rank===3&&(l=ue(s,[1,s.shape[0],s.shape[1],s.shape[2]]),u=!0);const c={x:l,filter:o},d={strides:n,pad:r,dilations:a},f=le.runKernel(jT,c,d);return u?ue(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const jwe=ie({dilation2d_:Uwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vwe(t,e){let n=W(t,"a","equal","string_or_numeric"),r=W(e,"b","equal","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(ej,a)}const Tl=ie({equal_:Vwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wwe(t,e,n){const r=W(e,"a","where"),a=W(n,"b","where"),i=W(t,"condition","where","bool"),s=jt(jt(i.shape,r.shape),a.shape),o=Ym(i,s),l=Ym(r,s),u=Ym(a,s),c={condition:o,t:l,e:u};return le.runKernel(OC,c)}const Xi=ie({where_:Wwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gwe(t){const n={x:W(t,"x","zerosLike")};return le.runKernel(JC,n)}const sn=ie({zerosLike_:Gwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hwe(t,e){let n=W(t,"a","div"),r=W(e,"b","div");[n,r]=kr(n,r);const a=Je(n,r),i=sn(a),s=Tl(r,i);return Xi(s,i,a)}const qwe=ie({divNoNan_:Hwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ywe(t,e){const n=W(t,"t1","dot"),r=W(e,"t2","dot");V((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],i=r.rank===1?r.size:r.shape[0];if(V(a===i,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${i}.`),n.rank===1&&r.rank===1){const s=ue(n,[1,-1]),o=ue(r,[-1,1]),l=Xt(s,o);return ue(l,[])}else if(n.rank===1&&r.rank===2){const s=ue(n,[1,-1]),o=ue(r,[r.shape[0],r.shape[1]]),l=Xt(s,o);return ue(l,[l.size])}else if(n.rank===2&&r.rank===1){const s=ue(r,[-1,1]),o=Xt(n,s);return ue(o,[o.size])}else{const s=ue(r,[r.shape[0],r.shape[1]]);return Xt(n,s)}}const Kwe=ie({dot_:Ywe});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xwe(t,...e){const n=e.map((a,i)=>W(a,`tensors${i}`,"einsum")),r={equation:t};return le.runKernel(ZU,n,r)}const Qwe=ie({einsum_:Xwe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zwe(t){const n={x:W(t,"x","elu","float32")};return le.runKernel(WT,n)}const xw=ie({elu_:Zwe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jwe(t){let e=W(t,"x","erf");V(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=tt(e,"float32"));const n={x:e};return le.runKernel(GT,n)}const e3e=ie({erf_:Jwe});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y6(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function cW(t,e,n){const r=t.length+e.length,a=[];let i=0,s=0;for(let o=0;o<r;o++)n.indexOf(o)===-1?a.push(t[i++]):a.push(e[s++]);return a}function Zo(t,e){const n=[],r=t.length;for(let i=0;i<r;i++)e.indexOf(i)===-1&&n.push(t[i]);const a=e.map(i=>t[i]);return[n,a]}function Ni(t,e){const n=e.map(r=>1);return cW(t,n,e)}function Jo(t,e,n){V(y6(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function ts(t,e){if(y6(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Ap(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function co(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t3e(t,e=null,n=!1){const a={x:W(t,"x","max")},i={reductionIndices:e,keepDims:n};return le.runKernel(oC,a,i)}const wl=ie({max_:t3e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n3e(t,e=null,n=!1){const a={x:W(t,"x","min")},i={axis:e,keepDims:n};return le.runKernel(hC,a,i)}const TS=ie({min_:n3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3e(t,e){let n=W(t,"base","pow"),r=W(e,"exp","pow");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(_C,a)}const oh=ie({pow_:r3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wt(t,e){if((Nl(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Nl(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Uc(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a3e(t){const n={x:W(t,"x","sqrt","float32")};return le.runKernel(jC,n)}const ti=ie({sqrt_:a3e});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i3e(t){const e=W(t,"x","square"),n={};return le.runKernel("Square",{x:e},n)}const On=ie({square_:i3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s3e(t,e=null,n=!1){let r=W(t,"x","sum");r.dtype==="bool"&&(r=tt(r,"int32"));const a={x:r},i={axis:e,keepDims:n};return le.runKernel(VC,a,i)}const gt=ie({sum_:s3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o3e(t,e="euclidean",n=null,r=!1){t=W(t,"x","norm");const a=dW(t,e,n);let i=a.shape;if(r){const s=Zn(n,t.shape);i=Ni(a.shape,s)}return ue(a,i)}function dW(t,e,n=null){if(t.rank===0)return aa(t);if(t.rank!==1&&n===null)return dW(ue(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return gt(aa(t),n);if(e===1/0)return wl(aa(t),n);if(e===-1/0)return TS(aa(t),n);if(e==="euclidean"||e===2)return ti(gt(oh(aa(t),wt(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return wl(gt(aa(t),n[0]),n[1]-1);if(e===1/0)return wl(gt(aa(t),n[1]),n[0]);if(e===-1/0)return TS(gt(aa(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ti(gt(On(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const _w=ie({norm_:o3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l3e(t,e=null,n=!1){return _w(t,"euclidean",e,n)}const u3e=ie({euclideanNorm_:l3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c3e(t){const n={x:W(t,"x","exp")};return le.runKernel(HT,n)}const ni=ie({exp_:c3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d3e(t,e=0){const n=W(t,"x","expandDims","string_or_numeric");V(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:e};return le.runKernel(qT,r,a)}const hr=ie({expandDims_:d3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h3e(t){const n={x:W(t,"x","expm1")};return le.runKernel(YT,n)}const f3e=ie({expm1_:h3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p3e(t,e){const n=W(t,"x","tile","string_or_numeric");V(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},a={reps:e};return le.runKernel(pw,r,a)}const Ro=ie({tile_:p3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m3e(t,e,n,r="float32"){e==null&&(e=t);const a=gr([t,e],r),i=t<=e?t:e;for(let o=0;o<i;++o)a.set(1,o,o);const s=ue(a.toTensor(),[t,e]);if(n==null)return s;if(n.length===1)return Ro(hr(s,0),[n[0],1,1]);if(n.length===2)return Ro(hr(hr(s,0),0),[n[0],n[1],1,1]);if(n.length===3)return Ro(hr(hr(hr(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const b6=ie({eye_:m3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g3e(t){const n={x:W(t,"x","floor","float32")};return le.runKernel(KT,n)}const kw=ie({floor_:g3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y3e(t,e,n=0,r=0){const a=W(t,"x","gather"),i=W(e,"indices","gather","int32"),s={x:a,indices:i},o={axis:n,batchDims:r};return le.runKernel(ZT,s,o)}const Sw=ie({gather_:y3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b3e(t,e){let n=W(t,"a","greater","string_or_numeric"),r=W(e,"b","greater","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(ij,a)}const ho=ie({greater_:b3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v3e(t,e){let n=W(t,"a","greaterEqual","string_or_numeric"),r=W(e,"b","greaterEqual","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(JT,a)}const Dp=ie({greaterEqual_:v3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w3e(t){const n={x:W(t,"x","isFinite")};return le.runKernel(eC,n)}const x3e=ie({isFinite_:w3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _3e(t){const n={x:W(t,"x","isInf")};return le.runKernel(tC,n)}const k3e=ie({isInf_:_3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S3e(t){const n={x:W(t,"x","isNaN")};return le.runKernel(nC,n)}const N3e=ie({isNaN_:S3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E3e(t,e=.2){const r={x:W(t,"x","leakyRelu")},a={alpha:e};return le.runKernel(rC,r,a)}const v6=ie({leakyRelu_:E3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T3e(t,e){let n=W(t,"a","less","string_or_numeric"),r=W(e,"b","less","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(lj,a)}const hW=ie({less_:T3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C3e(t,e){let n=W(t,"a","lessEqual","string_or_numeric"),r=W(e,"b","lessEqual","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(uj,a)}const Rp=ie({lessEqual_:C3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I3e(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return le.runKernel(cj,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A3e(t,e=5,n=1,r=1,a=.5){const i=W(t,"x","localResponseNormalization");V(i.rank===4||i.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${i.rank}.`),V(ap(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let s=i,o=!1;i.rank===3&&(o=!0,s=ue(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:s},u={depthRadius:e,bias:n,alpha:r,beta:a},c=le.runKernel(sC,l,u);return o?ue(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const D3e=ie({localResponseNormalization_:A3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R3e(t){const n={x:W(t,"x","log","float32")};return le.runKernel(aC,n)}const so=ie({log_:R3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $3e(t){const n={x:W(t,"x","log1p")};return le.runKernel(iC,n)}const w6=ie({log1p_:$3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O3e(t,e){V(eS(t),()=>"The f passed in variableGrads(f) must be a function"),V(e==null||Array.isArray(e)&&e.every(u=>u instanceof cb),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in le.registeredVariables)e.push(le.registeredVariables[u])}const r=n?e.filter(u=>!u.trainable):null,a=e.length;e=e.filter(u=>u.trainable),V(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const i=!0,{value:s,grads:o}=le.gradients(t,e,null,i);V(o.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),V(s.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${s.rank} tensor`);const l={};return e.forEach((u,c)=>{o[c]!=null&&(l[u.name]=o[c])}),r!=null&&r.forEach(u=>l[u.name]=null),{value:s,grads:l}}function du(t){return le.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L3e(t){const n={x:W(t,"x","softplus")};return le.runKernel(UC,n)}const D0=ie({softplus_:L3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F3e(t){const e=W(t,"x","logSigmoid");return du(r=>({value:mr(D0(mr(r))),gradFunc:s=>ee(s,xs(mr(r)))}))(e)}const P3e=ie({logSigmoid_:F3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M3e(t,e){let n=W(t,"a","sub"),r=W(e,"b","sub");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(YC,a)}const lt=ie({sub_:M3e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B3e(t,e=-1){const n=W(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return du((a,i)=>{const o=wl(a,e,!0),l=lt(a,o),u=lt(tt(l,"float32"),so(gt(ni(l),e,!0)));return i([u]),{value:u,gradFunc:(d,f)=>{const[p]=f,m=!0,g=ni(p);return lt(d,ee(gt(d,e,m),g))}}})(n)}const fW=ie({logSoftmax_:B3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z3e(t,e=null,n=!1){const r=W(t,"x","logSumExp"),a=Zn(e,r.shape),i=wl(r,a,!0),s=lt(r,i),o=ni(s),l=gt(o,a),u=so(l),c=Ae(ue(i,u.shape),u);if(n){const d=Ni(c.shape,a);return ue(c,d)}return c}const pW=ie({logSumExp_:z3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U3e(t,e){const n=W(t,"a","logicalAnd","bool"),r=W(e,"b","logicalAnd","bool");jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(dj,a)}const hu=ie({logicalAnd_:U3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j3e(t){const n={x:W(t,"x","logicalNot","bool")};return le.runKernel(hj,n)}const x6=ie({logicalNot_:j3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V3e(t,e){const n=W(t,"a","logicalOr","bool"),r=W(e,"b","logicalOr","bool");jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(fj,a)}const mW=ie({logicalOr_:V3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W3e(t,e){const n=W(t,"a","logicalXor","bool"),r=W(e,"b","logicalXor","bool");return jt(n.shape,r.shape),hu(mW(t,e),x6(hu(t,e)))}const G3e=ie({logicalXor_:W3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q1=2147483648;function H3e(t,e,n="left"){const r=W(t,"sortedSequence","searchSorted"),a=W(e,"values","searchSorted"),i=r.shape[r.shape.length-1],s=a.shape[a.shape.length-1],o=ue(r,[-1,i]),l=ue(a,[-1,s]);if(o.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(o.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Qe(l.shape)>=Q1)throw new Error(`values tensor size must less than ${Q1}`);if(o.shape[1]>=Q1)throw new Error(`trailing dim_size must less than ${Q1} for int32 output type, was ${o.shape[1]}`);const u={sortedSequence:o,values:l},c={side:n};return le.runKernel(Aj,u,c)}const _6=ie({searchSorted_:H3e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q3e(t,e){return _6(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3e(t,e,n,r,a){const i=W(t,"x","maxPool"),s=1;let o=i,l=!1;i.rank===3&&(l=!0,o=ue(i,[1,i.shape[0],i.shape[1],i.shape[2]])),V(o.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${o.rank}.`),V(Ci(n,s),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),ii("maxPool",r,a);const u={x:o},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a},d=le.runKernel(uC,u,c);return l?ue(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const k6=ie({maxPool_:Y3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K3e(t,e=[1,1,1],n,r,a,i="NDHWC"){const s=W(t,"x","maxPool3d");let o=s,l=!1;s.rank===4&&(l=!0,o=ue(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),V(o.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${o.rank}.`),V(i==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`),ii("maxPool3d",r,a);const u={x:o},c={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},d=le.runKernel(cC,u,c);return l?ue(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const gW=ie({maxPool3d_:K3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X3e(t,e,n,r,a=!1){const s={x:W(t,"x","maxPoolWithArgmax")},o={filterSize:e,strides:n,pad:r,includeBatchInIndex:a},l=le.runKernel(yj,s,o);return{result:l[0],indexes:l[1]}}const Q3e=ie({maxPoolWithArgmax_:X3e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3e(t,e){let n=W(t,"a","maximum"),r=W(e,"b","maximum");[n,r]=kr(n,r),n.dtype==="bool"&&(n=tt(n,"int32"),r=tt(r,"int32")),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(lC,a)}const jc=ie({maximum_:Z3e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J3e(t,e=null,n=!1){const a={x:W(t,"x","mean")},i={axis:e,keepDims:n};return le.runKernel(dC,a,i)}const Tr=ie({mean_:J3e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fr(t,e="float32"){if(e==="complex64"){const r=Fr(t,"float32"),a=Fr(t,"float32");return Nc(r,a)}const n=Sc(Qe(t),e);return le.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bs(t,e="float32"){if(e==="complex64"){const r=bs(t,"float32"),a=Fr(t,"float32");return Nc(r,a)}const n=DU(Qe(t),e);return le.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function exe(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=W(t,"x","meshgrid",t instanceof en?t.dtype:"float32");if(e===void 0)return[r];let a=W(e,"y","meshgrid",e instanceof en?e.dtype:"float32");const i=Qe(r.shape),s=Qe(a.shape);return n==="xy"?(r=ue(r,[1,-1]),a=ue(a,[-1,1]),[Xt(bs([s,1],r.dtype),r),Xt(a,bs([1,i],a.dtype))]):(r=ue(r,[-1,1]),a=ue(a,[1,-1]),[Xt(r,bs([1,s],r.dtype)),Xt(bs([i,1],a.dtype),a)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function txe(t,e){let n=W(t,"a","minimum"),r=W(e,"b","minimum");[n,r]=kr(n,r),n.dtype==="bool"&&(n=tt(n,"int32"),r=tt(r,"int32")),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(fC,a)}const R0=ie({minimum_:txe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nxe(t,e,n){V(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=W(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");V(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const a=n==="reflect"?1:0;for(let o=0;o<r.rank;o++)V(e[o].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),V(e[o][0]>=0&&e[o][0]<=r.shape[o]-a&&e[o][1]>=0&&e[o][1]<=r.shape[o]-a,()=>`Padding in dimension ${o} cannot be greater than or equal to ${r.shape[o]-a} or less than 0 for input of shape ${r.shape}`);const i={paddings:e,mode:n},s={x:r};return le.runKernel(pC,s,i)}const yW=ie({mirrorPad_:nxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rxe(t,e){let n=W(t,"a","mod"),r=W(e,"b","mod");[n,r]=kr(n,r);const a={a:n,b:r};return le.runKernel(mC,a)}const axe=ie({mod_:rxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ixe(t,e=null,n=!1){t=W(t,"x","moments");const r=Zn(e,t.shape),a=Tr(t,r,n);let i=a.shape;n||(i=Ni(a.shape,r));const s=On(lt(tt(t,"float32"),ue(a,i))),o=Tr(s,r,n);return{mean:a,variance:o}}const Nw=ie({moments_:ixe});function sxe(t,e,n,r){const a=W(e,"data","multiRNNCell"),i=db(n,"c","multiRNNCell"),s=db(r,"h","multiRNNCell");let o=a;const l=[];for(let d=0;d<t.length;d++){const f=t[d](o,i[d],s[d]);l.push(f[0]),l.push(f[1]),o=f[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}const oxe=ie({multiRNNCell_:sxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lxe(t,e,n,r=!1){const a=W(t,"logits","multinomial"),i=a.size,s=a.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(s>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${s}`);n=n||Math.random();const l={logits:s===1?ue(a,[1,-1]):a},u={numSamples:e,seed:n,normalized:r},c=le.runKernel(bj,l,u);return s===1?ue(c,[c.size]):c}const uxe=ie({multinomial_:lxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cxe(t,e){let n=W(t,"a","notEqual","string_or_numeric"),r=W(e,"b","notEqual","string_or_numeric");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r};return le.runKernel(vj,a)}const jg=ie({notEqual_:cxe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dxe(t){const n={x:W(t,"x","onesLike")};return le.runKernel(bC,n)}const oo=ie({onesLike_:dxe});function hxe(t,e){const n=W(t,"v1","outerProduct"),r=W(e,"v2","outerProduct");V(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const a=ue(n,[-1,1]),i=ue(r,[1,-1]);return Xt(a,i)}const fxe=ie({outerProduct_:hxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pxe(t,e,n=0){const r=W(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:e,constantValue:n},i={x:r};return le.runKernel(xC,i,a)}const Cl=ie({pad_:pxe});function mxe(t,e,n=0){return V(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Cl(t,[e],n)}const gxe=ie({pad1d_:mxe});function yxe(t,e,n=0){return V(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Cl(t,e,n)}const bxe=ie({pad2d_:yxe});function vxe(t,e,n=0){return V(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Cl(t,e,n)}const wxe=ie({pad3d_:vxe});function xxe(t,e,n=0){return V(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Cl(t,e,n)}const _xe=ie({pad4d_:xxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kxe(t,e,n){const r=W(t,"x","spaceToBatchND");V(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),V(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),V(r.shape.reduce((s,o,l)=>l>0&&l<=e.length?s&&(o+n[l-1][0]+n[l-1][1])%e[l-1]===0:s,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const a={x:r},i={blockShape:e,paddings:n};return le.runKernel(WC,a,i)}const S6=ie({spaceToBatchND_:kxe});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sxe(t,e,n,r,a,i,s){a==null&&(a=[1,1]),i==null&&(i=1),r===0&&(r="valid");const o=W(t,"x","maxPool");let l=o,u=!1;o.rank===3&&(u=!0,l=ue(o,[1,o.shape[0],o.shape[1],o.shape[2]])),V(Ci(i,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${a}'`);const c=yh(l.shape,e,i,a,r),d=[c.dilationHeight,c.dilationWidth];let f;r==="same"?f=Exe([c.filterHeight,c.filterWidth],d):f=[[0,0],[0,0]];const p=d[0]===1&&d[1]===1,[m,g]=Nxe([c.inHeight,c.inWidth],d,f),v=p?r:"valid",y=p?l:S6(l,d,m),w=(n==="avg"?()=>f6(y,e,i,v,s):()=>k6(y,e,i,v,s))(),x=p?w:p6(w,d,g);return u?ue(x,[x.shape[1],x.shape[2],x.shape[3]]):x}function Nxe(t,e,n){const r=n.map(c=>c[0]),a=n.map(c=>c[1]),i=t.concat(r,a),s=e.map((c,d)=>(c-i[d]%c)%c),o=a.map((c,d)=>c+s[d]),l=e.map((c,d)=>[r[d],o[d]]),u=e.map((c,d)=>[0,s[d]]);return[l,u]}function Exe(t,e){const r=t.map((s,o)=>s+(s-1)*(e[o]-1)).map(s=>s-1),a=r.map(s=>Math.floor(s/2)),i=r.map((s,o)=>s-a[o]);return r.map((s,o)=>[a[o],i[o]])}const Txe=ie({pool_:Sxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cxe(t,e){const n=W(t,"x","prelu"),r=W(e,"alpha","prelu"),a={x:n,alpha:r};return le.runKernel(kC,a)}const N6=ie({prelu_:Cxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ixe(t,e=null,n=!1){let r=W(t,"x","prod");r.dtype==="bool"&&(r=tt(r,"int32"));const a={x:r},i={axis:e,keepDims:n};return le.runKernel(SC,a,i)}const Axe=ie({prod_:Ixe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dxe(t,e,n,r){const a=t.map((c,d)=>W(c,`tensors${d}`,"raggedGather","int32")),i=W(e,"paramsDenseValues","raggedGather"),s=W(n,"indices","raggedGather","int32"),o={paramsNestedSplits:a,paramsDenseValues:i,indices:s},l={outputRaggedRank:r},u=le.runKernel(kj,o,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const Rxe=ie({raggedGather_:Dxe});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $xe(t,e,n,r,a){const i=W(t,"shape","raggedTensorToTensor","int32"),s=W(e,"values","raggedTensorToTensor"),o=W(n,"defaultValue","raggedTensorToTensor",s.dtype),l=r.map((d,f)=>W(d,`tensors${f}`,"raggedTensorToTensor","int32")),u={shape:i,values:s,defaultValue:o,rowPartitionTensors:l},c={rowPartitionTypes:a};return le.runKernel(Sj,u,c)}const Oxe=ie({raggedTensorToTensor_:$xe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lxe(t,e,n){const r=Qe(t);let a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else if(n==="bool")a=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let i=0;i<r;i++)a[i]=e();return le.makeTensor(a,t,n)}const Fxe=ie({rand_:Lxe});var E6={exports:{}};E6.exports;(function(t){(function(e,n,r){function a(l){var u=this,c=o();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function s(l,u){var c=new a(l),d=u&&u.state,f=c.next;return f.int32=function(){return c.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,d&&(typeof d=="object"&&i(d,c),f.state=function(){return i(c,{})}),f}function o(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.alea=s})(vi,t,!1)})(E6);var Pxe=E6.exports,T6={exports:{}};T6.exports;(function(t){(function(e,n,r){function a(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var u=new a(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor128=s})(vi,t,!1)})(T6);var Mxe=T6.exports,C6={exports:{}};C6.exports;(function(t){(function(e,n,r){function a(o){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var u=new a(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorwow=s})(vi,t,!1)})(C6);var Bxe=C6.exports,I6={exports:{}};I6.exports;(function(t){(function(e,n,r){function a(o){var l=this;l.next=function(){var c=l.x,d=l.i,f,p;return f=c[d],f^=f>>>7,p=f^f<<24,f=c[d+1&7],p^=f^f>>>10,f=c[d+3&7],p^=f^f>>>3,f=c[d+4&7],p^=f^f<<7,f=c[d+7&7],f=f^f<<13,p^=f^f<<9,c[d]=p,l.i=d+1&7,p};function u(c,d){var f,p=[];if(d===(d|0))p[0]=d;else for(d=""+d,f=0;f<d.length;++f)p[f&7]=p[f&7]<<15^d.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],c.x=p,c.i=0,f=256;f>0;--f)c.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var u=new a(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(c.x&&i(c,u),d.state=function(){return i(u,{})}),d}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xorshift7=s})(vi,t,!1)})(I6);var zxe=I6.exports,A6={exports:{}};A6.exports;(function(t){(function(e,n,r){function a(o){var l=this;l.next=function(){var c=l.w,d=l.X,f=l.i,p,m;return l.w=c=c+1640531527|0,m=d[f+34&127],p=d[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=d[f]=m^p,l.i=f,m+(c^c>>>16)|0};function u(c,d){var f,p,m,g,v,y=[],b=128;for(d===(d|0)?(p=d,d=null):(d=d+"\0",p=0,b=Math.max(b,d.length)),m=0,g=-32;g<b;++g)d&&(p^=d.charCodeAt((g+32)%d.length)),g===0&&(v=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,g>=0&&(v=v+1640531527|0,f=y[g&127]^=p+v,m=f==0?m+1:0);for(m>=128&&(y[(d&&d.length||0)&127]=-1),m=127,g=4*128;g>0;--g)p=y[m+34&127],f=y[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,y[m]=p^f;c.w=v,c.X=y,c.i=m}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var u=new a(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(c.X&&i(c,u),d.state=function(){return i(u,{})}),d}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.xor4096=s})(vi,t,!1)})(A6);var Uxe=A6.exports,D6={exports:{}};D6.exports;(function(t){(function(e,n,r){function a(o){var l=this,u="";l.next=function(){var d=l.b,f=l.c,p=l.d,m=l.a;return d=d<<25^d>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-d|0,l.b=d=d<<20^d>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^m,l.a=m-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var u=new a(o),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&i(c,u),d.state=function(){return i(u,{})}),d}n&&n.exports?n.exports=s:r&&r.amd?r(function(){return s}):this.tychei=s})(vi,t,!1)})(D6);var jxe=D6.exports,bW={exports:{}};(function(t){(function(e,n,r){var a=256,i=6,s=52,o="random",l=r.pow(a,i),u=r.pow(2,s),c=u*2,d=a-1,f;function p(x,k,S){var E=[];k=k==!0?{entropy:!0}:k||{};var I=y(v(k.entropy?[x,w(n)]:x??b(),3),E),C=new m(E),R=function(){for(var z=C.g(i),H=l,U=0;z<u;)z=(z+U)*a,H*=a,U=C.g(1);for(;z>=c;)z/=2,H/=2,U>>>=1;return(z+U)/H};return R.int32=function(){return C.g(4)|0},R.quick=function(){return C.g(4)/4294967296},R.double=R,y(w(C.S),n),(k.pass||S||function(z,H,U,q){return q&&(q.S&&g(q,C),z.state=function(){return g(C,{})}),U?(r[o]=z,H):z})(R,I,"global"in k?k.global:this==r,k.state)}function m(x){var k,S=x.length,E=this,I=0,C=E.i=E.j=0,R=E.S=[];for(S||(x=[S++]);I<a;)R[I]=I++;for(I=0;I<a;I++)R[I]=R[C=d&C+x[I%S]+(k=R[I])],R[C]=k;(E.g=function(z){for(var H,U=0,q=E.i,Q=E.j,re=E.S;z--;)H=re[q=d&q+1],U=U*a+re[d&(re[q]=re[Q=d&Q+H])+(re[Q]=H)];return E.i=q,E.j=Q,U})(a)}function g(x,k){return k.i=x.i,k.j=x.j,k.S=x.S.slice(),k}function v(x,k){var S=[],E=typeof x,I;if(k&&E=="object")for(I in x)try{S.push(v(x[I],k-1))}catch{}return S.length?S:E=="string"?x:x+"\0"}function y(x,k){for(var S=x+"",E,I=0;I<S.length;)k[d&I]=d&(E^=k[d&I]*19)+S.charCodeAt(I++);return w(k)}function b(){try{var x;return f&&(x=f.randomBytes)?x=x(a):(x=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(x)),w(x)}catch{var k=e.navigator,S=k&&k.plugins;return[+new Date,e,S,e.screen,w(n)]}}function w(x){return String.fromCharCode.apply(0,x)}if(y(r.random(),n),t.exports){t.exports=p;try{f=Lz}catch{}}else r["seed"+o]=p})(typeof self<"u"?self:vi,[],Math)})(bW);var Vxe=bW.exports,Wxe=Pxe,Gxe=Mxe,Hxe=Bxe,qxe=zxe,Yxe=Uxe,Kxe=jxe,bh=Vxe;bh.alea=Wxe;bh.xor128=Gxe;bh.xorwow=Hxe;bh.xorshift7=qxe;bh.xor4096=Yxe;bh.tychei=Kxe;var R6=bh;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $6{constructor(e,n,r,a,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const s=i||Math.random();this.random=R6.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let e,n,r=!1;for(;!r;){let a,i,s;do a=2*this.random()-1,i=2*this.random()-1,s=a*a+i*i;while(s>=1||s===0);const o=Math.sqrt(-2*Math.log(s)/s);e=this.mean+this.stdDev*a*o,n=this.mean+this.stdDev*i*o,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Xxe{constructor(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;const i=a||Math.random();this.randu=R6.alea(i.toString()),this.randn=new $6(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,a,i,s;for(;;){do a=this.randn.nextValue(),s=1+this.c*a;while(s<=0);if(s*=s*s,e=a*a,n=1-.331*e*e,r=.5*e+this.d*(1-s+Math.log(s)),i=this.randu(),i<n||Math.log(i)<r)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class Qxe{constructor(e=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=R6.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zxe(t,e,n=1,r="float32",a){if(n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const i=new Xxe(e,n,r,a),s=gr(t,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}const Jxe=ie({randomGamma_:Zxe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e_e(t,e=0,n=1,r,a){if(r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const i=new $6(e,n,r,!1,a),s=gr(t,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}const O6=ie({randomNormal_:e_e});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t_e(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return O6(t,0,1,e,n)}const n_e=ie({randomStandardNormal_:t_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r_e(t,e=0,n=1,r="float32",a){const i=gr(t,r),s=new Qxe(e,n,null,a);for(let o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}const $0=ie({randomUniform_:r_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vg(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:t,stop:e,step:n,dtype:r};return le.runKernel(Nj,{},a)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a_e(t){const n={x:W(t,"x","reciprocal")};return le.runKernel(NC,n)}const i_e=ie({reciprocal_:a_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s_e(t){const n={x:W(t,"x","relu")};return le.runKernel(EC,n)}const yu=ie({relu_:s_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o_e(t){const n={x:W(t,"x","relu6")};return le.runKernel(AC,n)}const vW=ie({relu6_:o_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l_e(t,e){const r={x:W(t,"x","reverse")},a={dims:e};return le.runKernel(DC,r,a)}const Wo=ie({reverse_:l_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u_e(t){const e=W(t,"x","reverse");return V(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Wo(e,0)}const c_e=ie({reverse1d_:u_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d_e(t,e){const n=W(t,"x","reverse");return V(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Wo(n,e)}const h_e=ie({reverse2d_:d_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f_e(t,e){const n=W(t,"x","reverse");return V(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Wo(n,e)}const p_e=ie({reverse3d_:f_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m_e(t,e){const n=W(t,"x","reverse");return V(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Wo(n,e)}const g_e=ie({reverse4d_:m_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y_e(t){const n={x:W(t,"x","round")};return le.runKernel(RC,n)}const wW=ie({round_:y_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b_e(t){const n={x:W(t,"x","rsqrt","float32")};return le.runKernel($C,n)}const xW=ie({rsqrt_:b_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v_e(t){const n={x:W(t,"x","selu")};return le.runKernel(LC,n)}const _W=ie({selu_:v_e});function w_e(t,e,n,r,a,i=[1,1],s="NHWC"){const o=W(t,"x","separableConv2d"),l=W(e,"depthwiseFilter","separableConv2d"),u=W(n,"pointwiseFilter","separableConv2d");let c=o,d=!1;if(o.rank===3&&(d=!0,c=ue(o,[1,o.shape[0],o.shape[1],o.shape[2]])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");V(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),V(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),V(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),V(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),V(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const f=l.shape[2],p=l.shape[3];V(u.shape[2]===f*p,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${f*p}, but got ${u.shape[2]}.`);const m=ww(c,l,r,a,s,i),v=sh(m,u,1,"valid",s);return d?ue(v,[v.shape[1],v.shape[2],v.shape[3]]):v}const kW=ie({separableConv2d_:w_e});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function x_e(t,e){const n=W(t,"x","setdiff1d"),r=W(e,"y","setdiff1d");V(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),V(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),V(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const a=await n.data(),i=await r.data(),s=new Set(i);let o=0;for(let c=0;c<a.length;c++)s.has(a[c])||o++;const l=new Bg([o],n.dtype),u=new Bg([o],"int32");for(let c=0,d=0;c<a.length;c++)s.has(a[c])||(l.values[d]=a[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]}const __e=x_e;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_e(t){const n={x:W(t,"x","sign")};return le.runKernel(BC,n)}const S_e=ie({sign_:k_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N_e(t){const n={x:W(t,"x","sin","float32")};return le.runKernel(PC,n)}const SW=ie({sin_:N_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E_e(t){const n={x:W(t,"x","sinh")};return le.runKernel(MC,n)}const NW=ie({sinh_:E_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T_e(t,e,n){const r=W(t,"x","slice1d");return V(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),bt(r,[e],[n])}const Ew=ie({slice1d_:T_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C_e(t,e,n){const r=W(t,"x","slice2d");return V(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),bt(r,e,n)}const L6=ie({slice2d_:C_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I_e(t,e,n){const r=W(t,"x","slice3d");return V(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),bt(r,e,n)}const Tw=ie({slice3d_:I_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A_e(t,e,n){const r=W(t,"x","slice4d");return V(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),bt(r,e,n)}const Wg=ie({slice4d_:A_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D_e(t,e=-1){const n=W(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},a={dim:e};return le.runKernel(HC,r,a)}const F6=ie({softmax_:D_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R_e(t){V(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return le.runKernel(tj,e)}const P6=ie({fft_:R_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $_e(t){V(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return le.runKernel(sj,e)}const gb=ie({ifft_:$_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O_e(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const a=ue(t,[n,e]);r=gb(a)}else{const a=[n,2*(e-1)],i=ue(zg(t),[n,e]),s=ue(bw(t),[n,e]),o=Wo(bt(i,[0,1],[n,e-2]),1),l=ee(Wo(bt(s,[0,1],[n,e-2]),1),wt(-1)),u=ar([i,o],1),c=ar([s,l],1),d=ue(Nc(u,c),[a[0],a[1]]);r=gb(d)}if(r=zg(r),t.rank===3&&t.shape[0]!==0){const a=r,i=t.shape[0];r=ue(r,[i,r.shape[0]/i,r.shape[1]]),a.dispose()}return r}const EW=ie({irfft_:O_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L_e(t,e,n=0){const a={x:W(t,"x","split")},i={numOrSizeSplits:e,axis:n};return le.runKernel(GC,a,i)}const Hi=ie({split_:L_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F_e(t,e){V(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let a;if(e!=null&&e<n){const m=t.shape.map(v=>0),g=t.shape.map(v=>v);g[t.shape.length-1]=e,a=bt(t,m,g),n=e}else if(e!=null&&e>n){const m=t.shape.map(g=>g);m[t.shape.length-1]=e-n,a=ar([t,Fr(m)],t.shape.length-1),n=e}else a=t;const i=sn(a),s=ue(Nc(a,i),[r,n]),o=P6(s),l=Math.floor(n/2)+1,u=zg(o),c=bw(o),d=Hi(u,[l,n-l],u.shape.length-1),f=Hi(c,[l,n-l],c.shape.length-1),p=a.shape.slice();return p[a.shape.length-1]=l,ue(Nc(d[0],f[0]),p)}const M6=ie({rfft_:F_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P_e(t,e){let n=W(t,"a","squaredDifference"),r=W(e,"b","squaredDifference");[n,r]=kr(n,r),jt(n.shape,r.shape);const a={a:n,b:r},i={};return le.runKernel(qC,a,i)}const TW=ie({squaredDifference_:P_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M_e(t,e){const n=W(t,"x","squeeze","string_or_numeric");return ue(n,Bc(n.shape,e).newShape)}const Rt=ie({squeeze_:M_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B_e(t,e=0){const n=db(t,"tensors","stack","string_or_numeric");V(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&V(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:e};return le.runKernel(wC,r,a)}const Go=ie({stack_:B_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z_e(t,e=0){const r={x:W(t,"x","step")},a={alpha:e};return le.runKernel(e6,r,a)}const O0=ie({step_:z_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U_e(t,e,n,r,a=0,i=0,s=0,o=0,l=0){const c={x:W(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:r,beginMask:a,endMask:i,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};return le.runKernel(Pj,c,d)}const j_e=ie({stridedSlice_:U_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V_e(t){const n={x:W(t,"x","tan","float32")};return le.runKernel(KC,n)}const W_e=ie({tan_:V_e});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kn(t,e){Np(t);const n=zc(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Uc(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _i(t,e,n){if(Np(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=zc(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Uc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G_e(t,e,n){if(Np(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=zc(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Uc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H_e(t,e,n){if(Np(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=zc(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Uc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q_e(t,e,n){if(Np(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=zc(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,Uc(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y_e(t,e=1,n=!0){const r=W(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${e}`);const i={x:r},s={k:e,sorted:n},[o,l]=le.runKernel(Uj,i,s);return{values:o,indices:l}}const K_e=ie({topk_:Y_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X_e(t,e=0,n=1,r,a){if(r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const i=new $6(e,n,r,!0,a),s=gr(t,r);for(let o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}const B6=ie({truncatedNormal_:X_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q_e(t,e=0){const n=W(t,"x","unique","string_or_numeric");V(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:e},[i,s]=le.runKernel(Vj,r,a);return{values:i,indices:s}}const Z_e=ie({unique_:Q_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J_e(t,e,n){const r=W(t,"x","unsortedSegmentSum"),a=W(e,"segmentIds","unsortedSegmentSum","int32");V(ap(n),()=>"numSegments must be of dtype int");const i={x:r,segmentIds:a},s={numSegments:n};return le.runKernel(ZC,i,s)}const CW=ie({unsortedSegmentSum_:J_e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eke(t,e=0){const n=W(t,"x","unstack","string_or_numeric");V(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:e};return le.runKernel(QC,r,a)}const Il=ie({unstack_:eke});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tke(t,e){return _6(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IW(t,e=!0,n,r){return le.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AW(t,e){const n=[];for(let i=0;i<e.length;i++)e[i]&&n.push(i);const r=gr(t,"int32"),a=gr([n.length,t.length],"int32");for(let i=0;i<n.length;i++){const s=r.indexToLoc(n[i]),o=i*t.length;a.values.set(s,o)}return a.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function nke(t){const e=W(t,"condition","whereAsync","bool"),n=await e.data(),r=AW(e.shape,n);return t!==e&&e.dispose(),r}const DW=nke;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function rke(t,e,n){const r=W(t,"tensor","boolMask"),a=W(e,"mask","boolMask","bool"),i=n??0,s=a.rank,o=r.shape;V(s>0,()=>"mask cannot be scalar"),As(o.slice(i,i+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let g=i;g<i+s;g++)l*=o[g];const u=o.slice(0,i).concat([l],o.slice(i+s)),c=ue(r,u),d=ue(a,[-1]),f=await DW(d),p=Rt(f,[1]),m=Sw(c,p,i);return t!==r&&r.dispose(),e!==a&&a.dispose(),p.dispose(),c.dispose(),d.dispose(),f.dispose(),m}const ake=rke;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ike(t,e,n,r,a=!0){const i=W(t,"v","movingAverage"),s=W(e,"x","movingAverage"),o=W(n,"decay","movingAverage");dbe(i,s),V(gn(i.shape,s.shape),()=>"Shape mismatch in v and x");const l=wt(1),u=lt(l,o);let c=ee(lt(s,i),u);if(a){V(r!=null,()=>"When using zeroDebias: true, step is required.");const d=W(r,"step","movingAverage");c=Je(c,lt(l,oh(o,d)))}return Ae(i,c)}const ske=ie({movingAverage_:ike});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oke(t,e,n){const r=W(t,"indices","scatterND","int32"),a=W(e,"updates","scatterND");$V(a,r,n);const i={indices:r,updates:a},s={shape:n};return le.runKernel(Ij,i,s)}const lke=ie({scatterND_:oke});function uke(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const a=t.rank>0?t.shape[0]:1,i=t.rank>1?t.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);const s=e.size;if(!(e.rank===0||e.rank===1&&s===a))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${a}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cke(t,e,n,r=0){const a=W(t,"sparseIndices","sparseToDense","int32"),i=W(e,"sparseValues","sparseToDense","string_or_numeric"),s=W(r,"defaultValue","sparseToDense",i.dtype);uke(a,i,n,s);const o={sparseIndices:a,sparseValues:i,defaultValue:s},l={outputShape:n};return le.runKernel(Lj,o,l)}const dke=ie({sparseToDense_:cke});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hke(t,e){const n=W(e,"indices","gatherND","int32"),a={params:W(t,"x","gatherND","string_or_numeric"),indices:n};return le.runKernel(aj,a)}const fke=ie({gatherND_:hke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pke(t,e){if(e==null)return t.shape.slice();if(gn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mke(t,e,n,r){const a=W(t,"x","dropout");if(V(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),V(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof en?a.clone():a;const i=pke(a,n),s=1-e,o=Je(kw(Ae($0(i,0,1,"float32",r),s)),s);return ee(a,o)}const RW=ie({dropout_:mke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $W(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function z6(t,e,n){const r=1-t%2,a=new Float32Array(t);for(let i=0;i<t;++i){const s=2*Math.PI*i/(t+r-1);a[i]=e-n*Math.cos(s)}return Kn(a,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function gke(t,e,n=1){const r=W(t,"predictions","inTopK"),a=W(e,"targets","inTopK");V(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),V(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),As(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const i=r.shape[r.shape.length-1];V(n>0&&n<=i,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`);const s=await r.data(),o=await a.data(),[l,u]=[s.length/i,i],c=cu("bool",l);for(let d=0;d<l;d++){const f=d*u,p=s.subarray(f,f+u),m=[];for(let g=0;g<p.length;g++)m.push({value:p[g],index:g});m.sort((g,v)=>v.value-g.value),c[d]=0;for(let g=0;g<n;g++)if(m[g].index===o[d]){c[d]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),vl(c,a.shape,"bool")}const yke=gke;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bke(t,e,n,r,a,i="NHWC",s){let o=t;t.rank===3&&(o=ue(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ue(e,[1,e.shape[0],e.shape[1],e.shape[2]])),V(o.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${o.shape}.`),V(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),V(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=i==="NHWC"?o.shape[3]:o.shape[1],c=i==="NHWC"?l.shape[3]:l.shape[1];V(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),V(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),ii("conv2dDerFilter",a,s);const d={x:o,dy:l},f={strides:r,pad:a,dataFormat:i,dimRoundingMode:s,filterShape:n};return le.runKernel(jU,d,f)}const U6=ie({conv2DBackpropFilter_:bke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cw(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return ee(t,O0(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Iw(t,e){let n=e;const r=Kr(t.shape,e.shape);return r.length>0&&(n=gt(n,r)),ue(n,t.shape)}function Aw(t,e,n,r){if(e==="linear")return t;if(e==="relu")return yu(t);if(e==="elu")return xw(t);if(e==="relu6")return vW(t);if(e==="prelu")return N6(t,n);if(e==="leakyrelu")return v6(t,r);if(e==="sigmoid")return xs(t);throw new Error(`Unknown fused activation ${e}.`)}const Dw=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vke({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",Dw(le.state.gradientDepth,l)===!1){V(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let S=sh(t,e,n,r,a,i,s);return o!=null&&(S=Ae(S,o)),Aw(S,l,u,c)}const d=W(t,"x","conv2d","float32"),f=W(e,"filter","conv2d","float32");let p=d,m=!1;d.rank===3&&(m=!0,p=ue(d,[1,d.shape[0],d.shape[1],d.shape[2]])),V(p.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${p.rank}.`),V(f.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${f.rank}.`),ii("fused conv2d",r,s);const g=a==="NHWC"?p.shape[3]:p.shape[1];V(f.shape[2]===g,()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${f.shape[2]}.`),V(Ci(n,i),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`);const v=Ds(p.shape,f.shape,n,i,r,s);let y;o!=null&&(y=W(o,"bias","fused conv2d"),[y]=kr(y,d),a==="NHWC"?jt(v.outShape,y.shape):(V(y.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${y.shape.length}.`),V(y.shape.length===0||y.shape[0]===v.outChannels||y.shape[0]===1,()=>`Error in fused conv2d: bias shape (${y.shape}) is not compatible with the number of output channels (${v.outChannels})`)));let b;if(u!=null){const S=u.shape;if(V(S.length<=1||S.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${S.length}.`),S.length===1)V(S[0]===1||S[0]===v.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the number of output channels (${v.outChannels}).`);else if(S.length===3)try{jt(S,v.outShape)}catch{const I=`Error in fused conv2d: PReLU activation weights (${S}) is not compatible with the output shape of the conv2d (${v.outShape}).`;throw Error(I)}b=W(u,"prelu weights","fused conv2d")}const w=(S,E)=>{V(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[I,C,R,z]=E,H=Cw(S,R,l);V(Ec(i),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`);const U=m6(C.shape,H,I,n,r),q=U6(C,H,I.shape,n,r),Q=[U,q];if(z!=null){const re=Iw(z,H);Q.push(re)}return Q},x={x:p,filter:f,bias:y,preluActivationWeights:b},k={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:c};return o==null?du((E,I,C)=>{let R=le.runKernel(sS,x,k);return C([I,E,R]),m&&(R=ue(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:w}})(p,f):du((E,I,C,R)=>{let z=le.runKernel(sS,x,k);return R([I,E,z,C]),m&&(z=ue(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:w}})(p,f,y)}const OW=ie({fusedConv2d_:vke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wke(t,e,n,r,a,i=[1,1],s){let o=t;t.rank===3&&(o=ue(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=ue(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:o,dy:l},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,filterShape:n};return le.runKernel(KU,u,c)}const LW=ie({depthwiseConv2dNativeBackpropFilter_:wke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xke(t,e,n,r,a,i=[1,1],s){let o=e,l=!1;e.rank===3&&(l=!0,o=ue(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:o,filter:n},c={strides:r,pad:a,dimRoundingMode:s,dilations:i,inputShape:t},d=le.runKernel(XU,u,c);return l?ue(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const FW=ie({depthwiseConv2dNativeBackpropInput_:xke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _ke({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:o,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(Dw(le.state.gradientDepth,l)===!1){let k=ww(t,e,n,r,a,i,s);return o!=null&&(k=Ae(k,o)),Aw(k,l,u,c)}const d=W(t,"x","depthwiseConv2d","float32"),f=W(e,"filter","depthwiseConv2d","float32");let p=d,m=!1;d.rank===3&&(m=!0,p=ue(d,[1,d.shape[0],d.shape[1],d.shape[2]])),V(p.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${p.rank}.`),V(f.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${f.rank}.`),V(p.shape[3]===f.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${p.shape[3]}) must match the inChannels dimension in filter ${f.shape[2]}.`),i==null&&(i=[1,1]),V(Ci(n,i),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`),ii("fused depthwiseConv2d",r,s);const g=Ds(p.shape,f.shape,n,i,r,s,!0);let v;o!=null&&(v=W(o,"bias","fused conv2d"),[v]=kr(v,d),jt(g.outShape,v.shape));let y;u!=null&&(y=W(u,"prelu weights","fused depthwiseConv2d"));const b=(k,S)=>{V(Ec(i),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[E,I,C,R]=S,z=Cw(k,C,l),H=FW(I.shape,z,E,n,r,i,s),U=LW(I,z,E.shape,n,r,i,s);if(R!=null){const q=Iw(v,z);return[H,U,q]}return[H,U]},w={x:p,filter:f,bias:v,preluActivationWeights:y},x={strides:n,pad:r,dataFormat:a,dilations:i,dimRoundingMode:s,activation:l,leakyreluAlpha:c};return o==null?du((S,E,I)=>{let C=le.runKernel(oS,w,x);return I([E,S,C]),m&&(C=ue(C,[C.shape[1],C.shape[2],C.shape[3]])),{value:C,gradFunc:b}})(p,f):du((S,E,I,C)=>{let R=le.runKernel(oS,w,x);return C([E,S,R,I]),m&&(R=ue(R,[R.shape[1],R.shape[2],R.shape[3]])),{value:R,gradFunc:b}})(p,f,v)}const kke=ie({fusedDepthwiseConv2d_:_ke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ske({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:a,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:o=.2}){if(Dw(le.state.gradientDepth,i)===!1){let z=Xt(t,e,n,r);return a!=null&&(z=Ae(z,a)),Aw(z,i,s,o)}let l=W(t,"a","fused matMul"),u=W(e,"b","fused matMul");[l,u]=kr(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=n?l.shape[l.rank-1]:l.shape[l.rank-2],p=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=l.shape.slice(0,-2),g=u.shape.slice(0,-2),v=Qe(m),y=Qe(g);V(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`);const w=jt(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([f,p]),x=n?ue(l,[v,c,f]):ue(l,[v,f,c]),k=r?ue(u,[y,p,d]):ue(u,[y,d,p]);let S;a!=null&&(S=W(a,"bias","fused matMul"),[S]=kr(S,l),jt(w,S.shape));let E;s!=null&&(E=W(s,"prelu weights","fused matMul"));const I=(z,H)=>{const[U,q,Q,re]=H,he=Cw(ue(z,Q.shape),Q,i);let ae,se;if(!n&&!r?(ae=Xt(he,q,!1,!0),se=Xt(U,he,!0,!1)):!n&&r?(ae=Xt(he,q,!1,!1),se=Xt(he,U,!0,!1)):n&&!r?(ae=Xt(q,he,!1,!0),se=Xt(U,he,!1,!1)):(ae=Xt(q,he,!0,!0),se=Xt(he,U,!0,!0)),a!=null){const X=Iw(re,he);return[ae,se,X]}else return[ae,se]},C={a:x,b:k,bias:S,preluActivationWeights:E},R={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:o};return a==null?du((H,U,q)=>{const Q=le.runKernel(iS,C,R);return q([H,U,Q]),{value:ue(Q,w),gradFunc:I}})(x,k):du((H,U,q,Q)=>{const re=le.runKernel(iS,C,R);return Q([H,U,re,q]),{value:ue(re,w),gradFunc:I}})(x,k,S)}const CS=ie({fusedMatMul_:Ske});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nke=Object.freeze(Object.defineProperty({__proto__:null,conv2d:OW,depthwiseConv2d:kke,matMul:CS},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eke(t){return z6(t,.54,.46)}const Tke=ie({hammingWindow_:Eke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cke(t){return z6(t,.5,.5)}const PW=ie({hannWindow_:Cke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ike(t,e,n,r=!1,a=0){let i=0;const s=[];for(;i+e<=t.size;)s.push(bt(t,i,e)),i+=n;if(r)for(;i<t.size;){const o=i+e-t.size,l=ar([bt(t,i,e-o),Ip([o],a)]);s.push(l),i+=n}return s.length===0?_i([],[0,e]):ue(ar(s),[s.length,e])}const MW=ie({frame_:Ike});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ake(t,e,n,r,a=PW){r==null&&(r=$W(e));const i=MW(t,e,n),s=ee(i,a(e));return M6(s,r)}const Dke=ie({stft_:Ake});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rke(t,e,n,r,a="bilinear",i=0){const s=W(t,"image","cropAndResize"),o=W(e,"boxes","cropAndResize","float32"),l=W(n,"boxInd","cropAndResize","int32"),u=o.shape[0];V(s.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`),V(o.rank===2&&o.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${o.shape}.`),V(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${o.shape}.`),V(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),V(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),V(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const c={image:s,boxes:o,boxInd:l},d={method:a,extrapolationValue:i,cropSize:r};return le.runKernel(HU,c,d)}const $ke=ie({cropAndResize_:Rke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oke(t){const e=W(t,"image","flipLeftRight","float32");V(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return le.runKernel(rj,n,{})}const Lke=ie({flipLeftRight_:Oke});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fke(t){const e=W(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];V(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),V(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(e.rank);return a.fill(1,0,n),a[n]=3,Ro(e,a)}const Pke=ie({grayscaleToRGB_:Fke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mke(t,e,n=0,r=.5){const a=W(t,"image","rotateWithOffset","float32");V(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const i={image:a},s={radians:e,fillValue:n,center:r};return le.runKernel(Wj,i,s)}const Bke=ie({rotateWithOffset_:Mke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $p(t,e,n,r,a,i){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);const s=t.shape[0];return n=Math.min(n,s),V(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),V(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),V(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),V(e.rank===1,()=>"scores must be a 1D tensor"),V(e.shape[0]===s,()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${e.shape[0]}`),V(0<=i&&i<=1,()=>`softNmsSigma must be in [0, 1], but was '${i}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zke(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=W(t,"boxes","nonMaxSuppression","float32"),s=W(e,"scores","nonMaxSuppression","float32"),o=$p(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return le.runKernel(wj,{boxes:i,scores:s},l)}const Uke=ie({nonMaxSuppression_:zke});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jke(t,e,n){const r=Vke(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function Vke(t,e,n){return Gke(t,e,n||Wke)}function Wke(t,e){return t>e?1:t<e?-1:0}function Gke(t,e,n){let r=0,a=t.length,i=0,s=!1;for(;r<a;){i=r+(a-r>>>1);const o=n(e,t[i]);o>0?r=i+1:(a=i,s=!o)}return s?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BW(t,e,n,r,a){return j6(t,e,n,r,a,0)}function zW(t,e,n,r,a,i){return j6(t,e,n,r,a,0,!1,i,!0)}function UW(t,e,n,r,a,i){return j6(t,e,n,r,a,i,!0)}function j6(t,e,n,r,a,i,s=!1,o=!1,l=!1){const u=[];for(let v=0;v<e.length;v++)e[v]>a&&u.push({score:e[v],boxIndex:v,suppressBeginIndex:0});u.sort(e$);const c=i>0?-.5/i:0,d=[],f=[];for(;d.length<n&&u.length>0;){const v=u.pop(),{score:y,boxIndex:b,suppressBeginIndex:w}=v;if(y<a)break;let x=!1;for(let k=d.length-1;k>=w;--k){const S=Hke(t,b,d[k]);if(S>=r){x=!0;break}if(v.score=v.score*qke(r,c,S),v.score<=a)break}v.suppressBeginIndex=d.length,x||(v.score===y?(d.push(b),f.push(v.score)):v.score>a&&jke(u,v,e$))}const p=d.length,m=n-p;o&&m>0&&(d.push(...new Array(m).fill(0)),f.push(...new Array(m).fill(0)));const g={selectedIndices:d};return s&&(g.selectedScores=f),l&&(g.validOutputs=p),g}function Hke(t,e,n){const r=t.subarray(e*4,e*4+4),a=t.subarray(n*4,n*4+4),i=Math.min(r[0],r[2]),s=Math.min(r[1],r[3]),o=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),p=(o-i)*(l-s),m=(d-u)*(f-c);if(p<=0||m<=0)return 0;const g=Math.max(i,u),v=Math.max(s,c),y=Math.min(o,d),b=Math.min(l,f),w=Math.max(y-g,0)*Math.max(b-v,0);return w/(p+m-w)}function qke(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function e$(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Yke(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const i=W(t,"boxes","nonMaxSuppressionAsync"),s=W(e,"scores","nonMaxSuppressionAsync"),o=$p(i,s,n,r,a);n=o.maxOutputSize,r=o.iouThreshold,a=o.scoreThreshold;const l=await Promise.all([i.data(),s.data()]),u=l[0],c=l[1],{selectedIndices:d}=BW(u,c,n,r,a);return i!==t&&i.dispose(),s!==e&&s.dispose(),Kn(d,"int32")}const Kke=Yke;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xke(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const s=W(t,"boxes","nonMaxSuppression"),o=W(e,"scores","nonMaxSuppression"),l=$p(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u={boxes:s,scores:o},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i},d=le.runKernel(_j,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const Qke=ie({nonMaxSuppressionWithScore_:Xke});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Zke(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,i=0){const s=W(t,"boxes","nonMaxSuppressionAsync"),o=W(e,"scores","nonMaxSuppressionAsync"),l=$p(s,o,n,r,a,i);n=l.maxOutputSize,r=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([s.data(),o.data()]),c=u[0],d=u[1],{selectedIndices:f,selectedScores:p}=UW(c,d,n,r,a,i);return s!==t&&s.dispose(),o!==e&&o.dispose(),{selectedIndices:Kn(f,"int32"),selectedScores:Kn(p)}}const Jke=Zke;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4e(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const s=W(t,"boxes","nonMaxSuppression"),o=W(e,"scores","nonMaxSuppression"),l=$p(s,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,f={boxes:s,scores:o},p={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:i},m=le.runKernel(xj,f,p);return{selectedIndices:m[0],validOutputs:m[1]}}const t4e=ie({nonMaxSuppressionPadded_:e4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function n4e(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,i=!1){const s=W(t,"boxes","nonMaxSuppressionAsync"),o=W(e,"scores","nonMaxSuppressionAsync"),l=$p(s,o,n,r,a,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[f,p]=await Promise.all([s.data(),o.data()]),{selectedIndices:m,validOutputs:g}=zW(f,p,u,c,d,i);return s!==t&&s.dispose(),o!==e&&o.dispose(),{selectedIndices:Kn(m,"int32"),validOutputs:wt(g,"int32")}}const r4e=n4e;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a4e(t,e,n=!1,r=!1){const a=W(t,"images","resizeBilinear");V(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),V(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),V(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;a.rank===3&&(s=!0,i=ue(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=le.runKernel(IC,o,l);return s?ue(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const i4e=ie({resizeBilinear_:a4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4e(t,e,n=!1,r=!1){const a=W(t,"images","resizeNearestNeighbor");V(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),V(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),V(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),V(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let i=a,s=!1;a.rank===3&&(s=!0,i=ue(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const o={images:i},l={alignCorners:n,halfPixelCenters:r,size:e},u=le.runKernel(CC,o,l);return s?ue(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const o4e=ie({resizeNearestNeighbor_:s4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l4e(t,e="binary",n=!1,r=.5){const a=W(t,"image","threshold"),i=.2989,s=.587,o=.114,l=a.shape[0]*a.shape[1];let u=ee(Kn([r]),255),c,d,f,p;if(V(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),V(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),V(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),V(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),a.shape[2]===3){[c,d,f]=Hi(a,[1,1,1],-1);const v=ee(c,i),y=ee(d,s),b=ee(f,o);p=Ae(Ae(v,y),b)}else p=t;if(e==="otsu"){const v=ZV(tt(wW(p),"int32"),vl([]),256);u=u4e(v,l)}const m=n?Rp(p,u):ho(p,u);return tt(ee(m,255),"int32")}function u4e(t,e){let n=Kn([-1]),r=Kn([0]),a=Kn([0]),i,s,o,l,u,c;for(let d=0;d<t.size-1;d++){i=bt(t,0,d+1),s=bt(t,d+1),u=Je(gt(i),e),c=Je(gt(s),e);const f=gt(ee(i,Vg(0,i.size)));o=Je(f,gt(i));const p=Ip(s.shape,i.size),m=Ae(Vg(0,s.size),p),g=ee(s,m);l=Je(gt(g),gt(s));const v=lt(o,l),y=lt(o,l),b=ee(u,c);a=ee(ee(b,v),y);const w=ho(a,r);r=Xi(w,a,r),n=Xi(w,Kn([d]),n)}return n}const c4e=ie({threshold_:l4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d4e(t,e,n="nearest",r="constant",a=0,i){const s=W(t,"image","transform","float32"),o=W(e,"transforms","transform","float32");V(s.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`),V(o.rank===2&&(o.shape[0]===s.shape[0]||o.shape[0]===1)&&o.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),V(i==null||i.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`);const l={image:s,transforms:o},u={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return le.runKernel(jj,l,u)}const h4e=ie({transform_:d4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f4e(t,e,n){V(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),V(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`);const r=W(t,"a","bandPart");V(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[i,s]=r.shape.slice(-2);if(!(e<=i))throw new Error(`bandPart(): numLower (${e}) must not be greater than the number of rows (${i}).`);if(!(n<=s))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`);e<0&&(e=i),n<0&&(n=s);const o=ue(Vg(0,i,1,"int32"),[-1,1]),l=Vg(0,s,1,"int32"),u=lt(o,l),c=hu(Rp(u,wt(+e,"int32")),Dp(u,wt(-n,"int32"))),d=Fr([i,s],r.dtype);return ue(Go(Il(ue(r,[-1,i,s])).map(f=>Xi(c,f,d))),a)}const p4e=ie({bandPart_:f4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m4e(t){let e;if(Array.isArray(t)){e=!1,V(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=t[0].shape[0];for(let i=1;i<t.length;++i)V(t[i].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[i].shape[0]} vs. ${a})`)}else e=!0,t=Hi(t,t.shape[0],0).map(a=>Rt(a,[0]));V(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let a=0;a<t.length;++a)n.push(le.tidy(()=>{let i=r[a];if(a>0)for(let s=0;s<a;++s){const o=ee(gt(ee(n[s],i)),n[s]);i=lt(i,o)}return Je(i,_w(i,"euclidean"))}));return e?Go(n,0):n}const g4e=ie({gramSchmidt_:m4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y4e(t,e=!1){if(V(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return t$(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),r=Il(ue(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],i=[];r.forEach(l=>{const[u,c]=t$(l,e);a.push(u),i.push(c)});const s=ue(Go(a,0),t.shape),o=ue(Go(i,0),t.shape);return[s,o]}}function t$(t,e=!1){return le.tidy(()=>{V(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let a=b6(n),i=nu(t);const s=_i([[1]],[1,1]);let o=nu(s);const l=n>=r?r:n;for(let u=0;u<l;++u){const c=i,d=o,f=a;[o,i,a]=le.tidy(()=>{const p=bt(i,[u,u],[n-u,1]),m=_w(p),g=bt(i,[u,u],[1,1]),v=Xi(ho(g,0),_i([[-1]]),_i([[1]])),y=lt(g,ee(v,m)),b=Je(p,y);b.shape[0]===1?o=nu(s):o=ar([s,bt(b,[1,0],[b.shape[0]-1,b.shape[1]])],0);const w=mr(Je(Xt(v,y),m)),x=bt(i,[u,0],[n-u,r]),k=ee(w,o),S=tn(o);if(u===0)i=lt(x,Xt(k,Xt(S,x)));else{const C=lt(x,Xt(k,Xt(S,x)));i=ar([bt(i,[0,0],[u,r]),C],0)}const E=tn(k),I=bt(a,[0,u],[n,a.shape[1]-u]);if(u===0)a=lt(I,Xt(Xt(I,o),E));else{const C=lt(I,Xt(Xt(I,o),E));a=ar([bt(a,[0,0],[n,u]),C],1)}return[o,i,a]}),pt([c,d,f])}return!e&&n>r&&(a=bt(a,[0,0],[n,r]),i=bt(i,[0,0],[r,r])),[a,i]})}const b4e=ie({qr_:y4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var yi;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(yi||(yi={}));function v4e(t,e,n=yi.SUM_BY_NONZERO_WEIGHTS){const r=W(t,"losses","computeWeightedLoss");let a=null;e!=null&&(a=W(e,"weights","computeWeightedLoss"));const i=a==null?r:ee(r,a);if(n===yi.NONE)return i;if(n===yi.SUM)return gt(i);if(n===yi.MEAN){if(a==null)return Tr(i);{const s=r.size/a.size,o=Je(gt(i),gt(a));return s>1?Je(o,wt(s)):o}}if(n===yi.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Je(gt(i),wt(r.size));{const s=ee(a,bs(r.shape)),o=tt(gt(jg(s,wt(0))),"float32");return Je(gt(i),o)}}throw Error(`Unknown reduction: ${n}`)}const bu=ie({computeWeightedLoss_:v4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w4e(t,e,n,r=yi.SUM_BY_NONZERO_WEIGHTS){const a=W(t,"labels","absoluteDifference"),i=W(e,"predictions","absoluteDifference");let s=null;n!=null&&(s=W(n,"weights","absoluteDifference")),As(a.shape,i.shape,"Error in absoluteDifference: ");const o=aa(lt(a,i));return bu(o,s,r)}const x4e=ie({absoluteDifference_:w4e});function _4e(t,e,n,r,a=yi.SUM_BY_NONZERO_WEIGHTS){const i=W(t,"labels","cosineDistance"),s=W(e,"predictions","cosineDistance");let o=null;r!=null&&(o=W(r,"weights","cosineDistance")),As(i.shape,s.shape,"Error in cosineDistance: ");const l=wt(1),u=lt(l,gt(ee(i,s),n,!0));return bu(u,o,a)}const k4e=ie({cosineDistance_:_4e});function S4e(t,e,n,r=yi.SUM_BY_NONZERO_WEIGHTS){let a=W(t,"labels","hingeLoss");const i=W(e,"predictions","hingeLoss");let s=null;n!=null&&(s=W(n,"weights","hingeLoss")),As(a.shape,i.shape,"Error in hingeLoss: ");const o=wt(1);a=lt(ee(wt(2),a),o);const l=yu(lt(o,ee(a,i)));return bu(l,s,r)}const N4e=ie({hingeLoss_:S4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E4e(t,e,n,r=1,a=yi.SUM_BY_NONZERO_WEIGHTS){const i=W(t,"labels","huberLoss"),s=W(e,"predictions","huberLoss");let o=null;n!=null&&(o=W(n,"weights","huberLoss")),As(i.shape,s.shape,"Error in huberLoss: ");const l=wt(r),u=aa(lt(s,i)),c=R0(u,l),d=lt(u,c),f=Ae(ee(wt(.5),On(c)),ee(l,d));return bu(f,o,a)}const T4e=ie({huberLoss_:E4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C4e(t,e,n,r=1e-7,a=yi.SUM_BY_NONZERO_WEIGHTS){const i=W(t,"labels","logLoss"),s=W(e,"predictions","logLoss");let o=null;n!=null&&(o=W(n,"weights","logLoss")),As(i.shape,s.shape,"Error in logLoss: ");const l=wt(1),u=wt(r),c=mr(ee(i,so(Ae(s,u)))),d=ee(lt(l,i),so(Ae(lt(l,s),u))),f=lt(c,d);return bu(f,o,a)}const I4e=ie({logLoss_:C4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A4e(t,e,n,r=yi.SUM_BY_NONZERO_WEIGHTS){const a=W(t,"labels","meanSquaredError"),i=W(e,"predictions","meanSquaredError");let s=null;n!=null&&(s=W(n,"weights","meanSquaredError")),As(a.shape,i.shape,"Error in meanSquaredError: ");const o=TW(a,i);return bu(o,s,r)}const D4e=ie({meanSquaredError_:A4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R4e(t,e){const n=W(t,"labels","sigmoidCrossEntropyWithLogits"),r=W(e,"logits","sigmoidCrossEntropyWithLogits");As(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=yu(r),i=ee(r,n),s=w6(ni(mr(aa(r))));return Ae(lt(a,i),s)}function $4e(t,e,n,r=0,a=yi.SUM_BY_NONZERO_WEIGHTS){let i=W(t,"multiClassLabels","sigmoidCrossEntropy");const s=W(e,"logits","sigmoidCrossEntropy");let o=null;if(n!=null&&(o=W(n,"weights","sigmoidCrossEntropy")),As(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){const u=wt(r),c=wt(1),d=wt(.5);i=Ae(ee(i,lt(c,u)),ee(d,u))}const l=R4e(i,s);return bu(l,o,a)}const O4e=ie({sigmoidCrossEntropy_:$4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L4e(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return du((a,i,s)=>{const l=pW(i,[n],!0),u=lt(tt(i,"float32"),l);s([a,u]);const c=mr(ee(u,a));return{value:gt(c,[n]),gradFunc:(p,m)=>{const[g,v]=m,y=Ni(p.shape,[n]);return[ee(ue(p,y),lt(tt(g,"float32"),ni(v))),ee(ue(p,y),lt(ni(v),tt(g,"float32")))]}}})(t,e)}function F4e(t,e,n,r=0,a=yi.SUM_BY_NONZERO_WEIGHTS){let i=W(t,"onehotLabels","softmaxCrossEntropy");const s=W(e,"logits","softmaxCrossEntropy");let o=null;if(n!=null&&(o=W(n,"weights","softmaxCrossEntropy")),As(i.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const u=wt(r),c=wt(1),d=wt(i.shape[1]);i=Ae(ee(i,lt(c,u)),Je(u,d))}const l=L4e(i,s);return bu(l,o,a)}const P4e=ie({softmaxCrossEntropy_:F4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M4e(t,e,n,r){const a=W(t,"indices","sparseFillEmptyRows","int32"),i=W(e,"values","sparseFillEmptyRows"),s=W(n,"denseShape","sparseFillEmptyRows","int32"),o=W(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(i.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(s.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(o.rank!==0)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:a,values:i,denseShape:s,defaultValue:o},u=le.runKernel(Dj,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const B4e=ie({sparseFillEmptyRows_:M4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z4e(t,e,n){const r=W(t,"inputIndices","sparseReshape","int32"),a=W(e,"inputShape","sparseReshape","int32"),i=W(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(i.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);const s={inputIndices:r,inputShape:a,newShape:i},o=le.runKernel(Rj,s);return{outputIndices:o[0],outputShape:o[1]}}const U4e=ie({sparseReshape_:z4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j4e(t,e,n){const r=W(t,"data","sparseSegmentMean"),a=W(e,"indices","sparseSegmentMean","int32"),i=W(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${i.shape}`);const s={data:r,indices:a,segmentIds:i};return le.runKernel($j,s)}const V4e=ie({sparseSegmentMean_:j4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W4e(t,e,n){const r=W(t,"data","sparseSegmentSum"),a=W(e,"indices","sparseSegmentSum","int32"),i=W(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(i.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${i.shape}`);const s={data:r,indices:a,segmentIds:i};return le.runKernel(Oj,s)}const G4e=ie({sparseSegmentSum_:W4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H4e(t,e,n,r,a,i,s,o){const l=W(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=W(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:s,preserveShortSequences:o},d={data:l,dataSplits:u},f=le.runKernel(Mj,d,c);return{nGrams:f[0],nGramsSplits:f[1]}}const q4e=ie({stringNGrams_:H4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y4e(t,e,n=!0){const r=W(t,"input","stringSplit","string"),a=W(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const i={skipEmpty:n},s={input:r,delimiter:a},o=le.runKernel(Bj,s,i);return{indices:o[0],values:o[1],shape:o[2]}}const K4e=ie({stringSplit_:Y4e});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X4e(t,e){const n=W(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return le.runKernel(zj,a,r)}const Q4e=ie({stringToHashBucketFast_:X4e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z4e={fft:P6,ifft:gb,rfft:M6,irfft:EW},J4e={hammingWindow:Tke,hannWindow:PW,frame:MW,stft:Dke},wa={flipLeftRight:Lke,grayscaleToRGB:Pke,resizeNearestNeighbor:o4e,resizeBilinear:i4e,rotateWithOffset:Bke,cropAndResize:$ke,nonMaxSuppression:Uke,nonMaxSuppressionAsync:Kke,nonMaxSuppressionWithScore:Qke,nonMaxSuppressionWithScoreAsync:Jke,nonMaxSuppressionPadded:t4e,nonMaxSuppressionPaddedAsync:r4e,threshold:c4e,transform:h4e},jW={bandPart:p4e,gramSchmidt:g4e,qr:b4e},eSe={absoluteDifference:x4e,computeWeightedLoss:bu,cosineDistance:k4e,hingeLoss:N4e,huberLoss:T4e,logLoss:I4e,meanSquaredError:D4e,sigmoidCrossEntropy:O4e,softmaxCrossEntropy:P4e},tSe={sparseFillEmptyRows:B4e,sparseReshape:U4e,sparseSegmentMean:V4e,sparseSegmentSum:G4e},nSe={stringNGrams:q4e,stringSplit:K4e,stringToHashBucketFast:Q4e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Vc extends Tp{minimize(e,n=!1,r){const{value:a,grads:i}=this.computeGradients(e,r);if(r!=null){const s=r.map(o=>({name:o.name,tensor:i[o.name]}));this.applyGradients(s)}else this.applyGradients(i);return pt(i),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return O3e(e,n)}dispose(){this.iterations_!=null&&pt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:wt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(Vc,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class V6 extends Vc{constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const i=le.registeredVariables[r],s=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:me(()=>sn(i).variable(s))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:me(()=>sn(i).variable(s))});const o=Array.isArray(e)?e[a].tensor:e[r];if(o==null)return;const l=this.accumulatedGrads[a].variable,u=this.accumulatedUpdates[a].variable;me(()=>{const c=Ae(ee(l,this.rho),ee(On(o),1-this.rho)),d=ee(Je(ti(Ae(u,this.epsilon)),ti(Ae(l,this.epsilon))),o),f=Ae(ee(u,this.rho),ee(On(d),1-this.rho));l.assign(c),u.assign(f);const p=Ae(ee(d,-this.learningRate),i);i.assign(p)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(pt(this.accumulatedGrads.map(e=>e.variable)),pt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}V6.className="Adadelta";je(V6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class W6 extends Vc{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const i=le.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:me(()=>Ip(i.shape,this.initialAccumulatorValue).variable(!1))});const s=Array.isArray(e)?e[a].tensor:e[r];if(s==null)return;const o=this.accumulatedGrads[a].variable;me(()=>{const l=Ae(o,On(s));o.assign(l);const u=Ae(ee(Je(s,ti(Ae(l,le.backend.epsilon()))),-this.learningRate),i);i.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&pt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}W6.className="Adagrad";je(W6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class G6 extends Vc{constructor(e,n,r,a=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],me(()=>{this.accBeta1=wt(n).variable(),this.accBeta2=wt(r).variable()}),a==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);me(()=>{const r=lt(1,this.accBeta1),a=lt(1,this.accBeta2);n.forEach((i,s)=>{const o=le.registeredVariables[i],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${i}/m`,variable:me(()=>sn(o).variable(l))}),this.accumulatedSecondMoment[s]==null&&(this.accumulatedSecondMoment[s]={originalName:`${i}/v`,variable:me(()=>sn(o).variable(l))});const u=Array.isArray(e)?e[s].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[s].variable,d=this.accumulatedSecondMoment[s].variable,f=Ae(ee(c,this.beta1),ee(u,1-this.beta1)),p=Ae(ee(d,this.beta2),ee(On(u),1-this.beta2)),m=Je(f,r),g=Je(p,a);c.assign(f),d.assign(p);const v=Ae(ee(Je(m,Ae(ti(g),this.epsilon)),-this.learningRate),o);o.assign(v)}),this.accBeta1.assign(ee(this.accBeta1,this.beta1)),this.accBeta2.assign(ee(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&pt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),me(()=>{this.accBeta1.assign(oh(this.beta1,this.iterations_+1)),this.accBeta2.assign(oh(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}G6.className="Adam";je(G6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class H6 extends Vc{constructor(e,n,r,a=null,i=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],me(()=>{this.iteration=wt(0).variable(),this.accBeta1=wt(n).variable()}),a==null&&(this.epsilon=le.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);me(()=>{const r=lt(1,this.accBeta1),a=Je(-this.learningRate,Ae(ee(this.iteration,this.decay),1));n.forEach((i,s)=>{const o=le.registeredVariables[i],l=!1;this.accumulatedFirstMoment[s]==null&&(this.accumulatedFirstMoment[s]={originalName:`${i}/m`,variable:sn(o).variable(l)}),this.accumulatedWeightedInfNorm[s]==null&&(this.accumulatedWeightedInfNorm[s]={originalName:`${i}/v`,variable:sn(o).variable(l)});const u=Array.isArray(e)?e[s].tensor:e[i];if(u==null)return;const c=this.accumulatedFirstMoment[s].variable,d=this.accumulatedWeightedInfNorm[s].variable,f=Ae(ee(c,this.beta1),ee(u,1-this.beta1)),p=ee(d,this.beta2),m=aa(u),g=jc(p,m);c.assign(f),d.assign(g);const v=Ae(ee(Je(a,r),Je(f,Ae(g,this.epsilon))),o);o.assign(v)}),this.iteration.assign(Ae(this.iteration,1)),this.accBeta1.assign(ee(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&pt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&pt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}H6.className="Adamax";je(H6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Rw extends Vc{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const i=Array.isArray(e)?e[a].tensor:e[r];if(i==null)return;const s=le.registeredVariables[r];me(()=>{const o=Ae(ee(this.c,i),s);s.assign(o)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=va(wt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}Rw.className="SGD";je(Rw);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class q6 extends Rw{constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=wt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const i=le.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:me(()=>sn(i).variable(!1))});const s=this.accumulations[a].variable,o=Array.isArray(e)?e[a].tensor:e[r];o!=null&&me(()=>{let l;const u=Ae(ee(this.m,s),o);this.useNesterov?l=Ae(ee(this.c,Ae(o,ee(u,this.m))),i):l=Ae(ee(this.c,u),i),s.assign(u),i.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&pt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}q6.className="Momentum";je(q6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Y6 extends Vc{constructor(e,n=.9,r=0,a=null,i=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,a==null&&(this.epsilon=le.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const i=le.registeredVariables[r],s=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:me(()=>sn(i).variable(s))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:me(()=>sn(i).variable(s))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:me(()=>sn(i).variable(s))});const o=Array.isArray(e)?e[a].tensor:e[r];if(o==null)return;const l=this.accumulatedMeanSquares[a].variable,u=this.accumulatedMoments[a].variable;me(()=>{const c=Ae(ee(l,this.decay),ee(On(o),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[a].variable,f=Ae(ee(d,this.decay),ee(o,1-this.decay)),p=Je(ee(o,this.learningRate),ti(lt(c,Ae(On(f),this.epsilon)))),m=Ae(ee(u,this.momentum),p);l.assign(c),d.assign(f),u.assign(m);const g=lt(i,m);i.assign(g)}else{const d=Ae(ee(l,this.decay),ee(On(o),1-this.decay)),f=Ae(ee(u,this.momentum),Je(ee(o,this.learningRate),ti(Ae(d,this.epsilon))));l.assign(d),u.assign(f);const p=lt(i,f);i.assign(p)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&pt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&pt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&pt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}Y6.className="RMSProp";je(Y6);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Zc{static sgd(e){return new Rw(e)}static momentum(e,n,r=!1){return new q6(e,n,r)}static rmsprop(e,n=.9,r=0,a=null,i=!1){return new Y6(e,n,r,a,i)}static adam(e=.001,n=.9,r=.999,a=null){return new G6(e,n,r,a)}static adadelta(e=.001,n=.95,r=null){return new V6(e,n,r)}static adamax(e=.002,n=.9,r=.999,a=null,i=0){return new H6(e,n,r,a,i)}static adagrad(e,n=.1){return new W6(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $h={sgd:Zc.sgd,momentum:Zc.momentum,adadelta:Zc.adadelta,adagrad:Zc.adagrad,rmsprop:Zc.rmsprop,adamax:Zc.adamax,adam:Zc.adam};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rSe=(()=>typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t())();function VW(){return new Promise(t=>rSe(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WW(t,e){const n=t[0].length;t.forEach((a,i)=>{V(a.length===n,()=>`Error in concat${n}D: rank of tensors[${i}] must be the same as the rank of the rest (${n})`)}),V(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((a,i)=>{for(let s=0;s<n;s++)V(s===e||a[s]===r[s],()=>`Error in concat${n}D: Shape of tensors[${i}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`)})}function lh(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Io;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Io||(Io={}));function GW(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const i=n[a],s=r[r.length-n.length+a],o=r[s];if(i>=0)if(o>=0){if(o!==i)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${a+t}] = ${i} but shape[${a+t}] = ${o}`)}else r[s]=i}return r}function HW(t){const e={FIRST_DIM_SIZE:Io.FIRST_DIM_SIZE,VALUE_ROWIDS:Io.VALUE_ROWIDS,ROW_LENGTHS:Io.ROW_LENGTHS,ROW_SPLITS:Io.ROW_SPLITS,ROW_LIMITS:Io.ROW_LIMITS,ROW_STARTS:Io.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function qW(t){return t.length===0?0:t[0]===Io.FIRST_DIM_SIZE?t.length-1:t.length}function YW(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const i=t[a],s=e[a+1];if(i>=0&&s>=0&&i!==1&&i!==s)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${a-t.length}] = ${i} but ragged tensor input.flatValues.shape[${a-t.length}] = ${s}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K6=30;function $w(t){return t<=K6?t:tS(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KW(t,e,n){const r=n*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X6(t,e,n,r=!0){let a=[];if(r)a=a.concat(e.slice(0)),a.push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);const i=e.length;for(let s=0;s<i;++s)a=a.concat([t[s+1]/e[s],e[s]]);a=a.concat(t.slice(i+1))}return a}function Q6(t,e,n=!0){const r=[];if(n){r.push(e);for(let a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{const a=[],i=[];for(let s=1;s<t;++s)s>=e*2+1||s%2===1?i.push(s):a.push(s);r.push(...a),r.push(0),r.push(...i)}return r}function Z6(t,e,n,r=!0){const a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(let i=1;i<t.length;++i)i<=e.length?r?a.push(e[i-1]*t[i]):a.push(t[i]/e[i-1]):a.push(t[i]);return a}function XW(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function QW(t,e,n){const r=t.slice(0,1);for(let a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J6=1.7580993408473768,eI=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZW=.3275911,JW=.254829592,eG=-.284496736,tG=1.421413741,nG=-1.453152027,rG=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IS(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function aSe(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function iSe(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=0;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function sSe(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=2;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function oSe(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function lSe(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function uSe(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){const i=(e?2:-2)*Math.PI*(a/t);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function cSe(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),a=Math.cos(r),i=Math.sin(r);return{real:a,imag:i}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jx="->",dSe=/->/g,n$=",",r$="...";function aG(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(dSe,"").length)/jx.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${jx}").`);const[r,a]=t.split(jx);V(r.indexOf(r$)===-1,()=>`The ellipsis notation ("${r$}") is not supported yet.`);const i=r.split(n$),s=i.length;if(e!==s)throw new Error(`Expected ${s} input tensors, received ${e}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let f=0;f<a.length;++f){const p=a[f];if(!i.some(m=>m.indexOf(p)!==-1))throw new Error(`Output subscripts contain the label ${p} not present in the input subscripts.`);o.indexOf(p)===-1&&o.push(p)}for(let f=0;f<r.length;++f){const p=r[f];o.indexOf(p)===-1&&p!==n$&&o.push(p)}const l=new Array(i.length);for(let f=0;f<s;++f){if(new Set(i[f].split("")).size!==i[f].length)throw new Error(`Found duplicate axes in input component ${i[f]}. Support for duplicate axes in input is not implemented yet.`);l[f]=[];for(let p=0;p<i[f].length;++p)l[f].push(o.indexOf(i[f][p]))}const u=o.length,c=a.length,d=[];for(let f=c;f<u;++f)d.push(f);return{allDims:o,summedDims:d,idDims:l}}function iG(t,e){let n=new Array(t);n.fill(-1);for(let a=0;a<e.length;++a)n[e[a]]=a;const r=[];for(let a=0;a<t;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function sG(t,e,n){const r=new Array(t);for(let a=0;a<n.length;++a){const i=n[a].shape;for(let s=0;s<e[a].length;++s)r[e[a][s]]===void 0?r[e[a][s]]=i[s]:V(r[e[a][s]]===i[s],()=>`Expected dimension ${r[e[a][s]]} at axis ${s} of input shaped ${JSON.stringify(i)}, but got dimension ${i[s]}`)}}function oG(t,e){const n=t,r=[];let a=0;t.length===0&&n.push(-1),a=t.length+1;for(let s=0;s<a;++s)r.push([]);const i=[];for(let s=0;s<n.length;++s){const o=n[s],l=hSe(e,o);for(const u of l)i.indexOf(u)===-1&&(r[s].push(u),i.push(u))}return{path:n,steps:r}}function lG(t){return t.every((e,n)=>e===n)}function hSe(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function uG(t,e,n=0){let r=[];if(typeof e=="number")V(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const a=e.reduce((s,o)=>(o===-1&&(s+=1),s),0);V(a<=1,()=>"There should be only one negative value in split array.");const i=e.indexOf(-1);if(i!==-1){const s=e.reduce((o,l)=>l>0?o+l:o);e[i]=t.shape[n]-s}V(t.shape[n]===e.reduce((s,o)=>s+o),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cG(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function dG(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function hG(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fG(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function pG(t,e){return`size ${t} must be non-negative, not ${e}`}function mG(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function gG(t,e){const n=Qe(t),r=Qe(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function yG(t,e){const n=Qe(t),r=Qe(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AS(){return"segment ids must be >= 0"}function bG(){return"segment ids are not increasing"}function vG(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function wG(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xG(t,e){let n=!1,r;for(t<=K6?(r=t,n=!0):r=tS(t,Math.floor(Math.sqrt(t)));!n;)r>e||r===t?n=!0:r=tS(t,r+1);return r}function _G(t,e,n){const r=[],a=t.length;for(let i=0;i<a;i++)i!==e?r.push(t[i]):r.push(n);return r}function kG(t,e,n,r){const a=e.shape.length,i=t.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const s=t.shape[n],o=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)o.push(t.shape[d]),l*=t.shape[d];for(let d=r;d<n;d++)o.push(t.shape[d]),u*=t.shape[d];for(let d=r;d<a;d++)o.push(e.shape[d]);for(let d=n+1;d<i;d++)o.push(t.shape[d]),c*=t.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:s,outputShape:o}}const fSe=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:kG,computeOutShape:_G,segOpComputeOptimalWindowSize:xG},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gg(t){try{return t.map(e=>op(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function SG(t){return t.map(e=>Rd(e))}const pSe=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:JW,ERF_A2:eG,ERF_A3:tG,ERF_A4:nG,ERF_A5:rG,ERF_P:ZW,PARALLELIZE_THRESHOLD:K6,get RowPartitionType(){return Io},SELU_SCALE:eI,SELU_SCALEALPHA:J6,applyActivation:Aw,assertAndGetBroadcastShape:jt,assertAxesAreInnerMostDims:Jo,assertParamsConsistent:WW,assignToTypedArray:lSe,axesAreInnerMostDims:y6,calculateShapes:l6,checkEinsumDimSizes:sG,checkPadOnDimRoundingMode:ii,combineLocations:cW,combineRaggedTensorToTensorShapes:GW,complexWithEvenIndex:iSe,complexWithOddIndex:sSe,computeConv2DInfo:Ds,computeConv3DInfo:A0,computeDefaultPad:h6,computeDilation2DInfo:qV,computeOptimalWindowSize:$w,computeOutAndReduceShapes:Zo,computeOutShape:lh,computePool2DInfo:yh,computePool3DInfo:I0,convertConv2DDataFormat:Cp,decodeEinsumEquation:aG,eitherStridesOrDilationsAreOne:Ci,expandShapeToKeepDim:Ni,exponent:cSe,exponents:uSe,fromStringArrayToUint8:SG,fromUint8ToStringArray:Gg,getAxesPermutation:ts,getBroadcastDims:pb,getComplexWithIndex:oSe,getEinsumComputePath:oG,getEinsumPermutation:iG,getFusedBiasGradient:Iw,getFusedDyActivation:Cw,getImageCenter:KW,getInnerMostAxes:co,getPermuted:Q6,getRaggedRank:qW,getReductionAxes:Kr,getReshaped:X6,getReshapedPermuted:Z6,getRowPartitionTypesHelper:HW,getSliceBeginCoords:XW,getSliceSize:QW,getSparseFillEmptyRowsIndicesDenseShapeMismatch:cG,getSparseFillEmptyRowsNegativeIndexErrorMessage:dG,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:hG,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:mG,getSparseReshapeInputOutputMismatchErrorMessage:yG,getSparseReshapeInputOutputMultipleErrorMessage:gG,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:fG,getSparseReshapeNegativeOutputDimErrorMessage:pG,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:wG,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:AS,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:bG,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:vG,getUndoAxesPermutation:Ap,isIdentityPermutation:lG,log:Vye,mergeRealAndImagArrays:IS,prepareAndValidate:DV,prepareSplitSize:uG,segment_util:fSe,shouldFuse:Dw,slice_util:wve,splitRealAndImagArrays:aSe,tupleValuesAreOne:Ec,upcastType:El,validateDefaultValueShape:YW,validateInput:$V,validateUpdateShape:RV,warn:Ys},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ud={},Z1={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function mSe(t,e){ud[t]=e}function Ho(t,e){if(!(t in ud)||e!=null){const r=ySe(t,e);if(r!==null)ud[t]=r;else return console.log("Could not get context for WebGL version",t),null}const n=ud[t];return n==null||n.isContextLost()?(delete ud[t],Ho(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),ud[t])}function gSe(t){if(typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function ySe(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??gSe(t);return n.addEventListener("webglcontextlost",r=>{r.preventDefault(),delete ud[t]},!1),Ne().getBool("SOFTWARE_WEBGL_ENABLED")&&(Z1.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",Z1)||n.getContext("experimental-webgl",Z1):n.getContext("webgl2",Z1)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Hg;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(Hg||(Hg={}));var vs;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(vs||(vs={}));var ga;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(ga||(ga={}));function L0(t,e){return[e,t]}function bSe(t,e){return t*e}function J1(t){const e=Qe(t),n=Math.ceil(e/4);return Q4(n)}function Op(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function vSe(t,e){const[n,r]=Op(t,e);return n*r*4}function tI(t,e){const n=t;let r,a,i,s,o,l,u,c,d,f;return Ne().getNumber("WEBGL_VERSION")===2?(r=n.R32F,a=n.R16F,i=n.RGBA16F,s=n.RGBA32F,o=n.RED,u=4,c=1,d=n.HALF_FLOAT,f=n.FLOAT,l=n.RGBA8):(r=t.RGBA,a=t.RGBA,i=t.RGBA,s=n.RGBA,o=t.RGBA,u=4,c=4,d=e!=null?e.HALF_FLOAT_OES:null,f=t.FLOAT,l=t.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:a,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:s,textureFormatFloat:o,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:f}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ft(t,e){const n=e();return Ne().getBool("DEBUG")&&wSe(t),n}function wSe(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+SSe(t,e))}const xSe=596e-10,_Se=65504;function kSe(t){return!!(Ne().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||xSe<Math.abs(t)&&Math.abs(t)<_Se)}function SSe(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function e2(t,e){return vu(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function NSe(t,e){const n=vu(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(ft(t,()=>t.shaderSource(n,e)),ft(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function ESe(t,e){const n=vu(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(ft(t,()=>t.shaderSource(n,e)),ft(t,()=>t.compileShader(n)),Ne().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw NG(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const TSe=/ERROR: [0-9]+:([0-9]+):/g;function NG(t,e){const n=TSe.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const r=+n[1],a=t.split(`
`),i=a.length.toString().length+2,s=a.map((d,f)=>xf((f+1).toString(),i)+d);let o=0;for(let d=0;d<s.length;d++)o=Math.max(s[d].length,o);const l=s.slice(0,r-1),u=s.slice(r-1,r),c=s.slice(r);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${xf(u[0],o)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function CSe(t){return vu(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function ISe(t,e){if(ft(t,()=>t.linkProgram(e)),!Ne().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function Vx(t,e){if(ft(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function ASe(t,e){const n=vu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ft(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),ft(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function DSe(t,e){const n=vu(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return ft(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),ft(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function RSe(t){return vu(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function $Se(t,e){const n=Ne().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const r=`[${t}x${e}]`;throw new Error("Requested texture size "+r+" is invalid.")}if(t>n||e>n){const r=`[${t}x${e}]`,a=`[${n}x${n}]`;throw new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU "+a+".")}}function OSe(t){return vu(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function a$(t,e,n,r,a,i,s){const o=t.getAttribLocation(e,n);return o===-1?!1:(ft(t,()=>t.bindBuffer(t.ARRAY_BUFFER,r)),ft(t,()=>t.vertexAttribPointer(o,a,t.FLOAT,!1,i,s)),ft(t,()=>t.enableVertexAttribArray(o)),!0)}function LSe(t,e,n){zSe(t,n),ft(t,()=>t.activeTexture(t.TEXTURE0+n)),ft(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function FSe(t,e,n){return vu(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function PSe(t,e,n){return t.getUniformLocation(e,n)}function MSe(t,e,n,r){ft(t,()=>LSe(t,e,r)),ft(t,()=>t.uniform1i(n,r))}function Wx(t,e,n){ft(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),ft(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function i$(t,e){ft(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),ft(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function t2(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+BSe(t,e))}function BSe(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function vu(t,e,n){const r=ft(t,()=>e());if(r==null)throw new Error(n);return r}function zSe(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=e+t.TEXTURE0;if(r<t.TEXTURE0||r>n){const a=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${a}.`)}}function cp(t,e=2){return Qe(t.slice(0,t.length-e))}function dp(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function Gx(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[cp(t),...dp(t)]),e}function USe(t,e=!1){let n=Ne().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=Ne().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");r===1/0&&Ne().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),e&&(n=n*2,r=r*2,t=t.map((o,l)=>l>=t.length-2?fT(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=Bc(t).newShape);let a=Qe(t),i=null;t.length<=1&&a<=n?i=[1,a]:t.length===2&&t[0]<=n&&t[1]<=n?i=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?i=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?i=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?i=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(i=[t[0],t[1]*t[2]*t[3]]);const s=i!=null&&Math.max(...i)>r&&Math.min(...i)<=(e?2:1)&&Math.min(...i)>0;if(i==null||s)if(e){const o=cp(t);let l=2,u=2;t.length&&([l,u]=dp(t)),a=o*(l/2)*(u/2),i=Q4(a).map(c=>c*2)}else i=Q4(a);return i}function n2(t){return t%2===0}function yb(t,e){if(t=t.slice(-2),e=e.slice(-2),gn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t.slice(-1)[0],r=e.slice(-1)[0];if(n===r||n2(n)&&n2(r)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&n2(t[0])&&n2(e[0])}let Hx,qx;function jSe(t){if(Hx==null){const e=Ho(t);Hx=e.getParameter(e.MAX_TEXTURE_SIZE)}return Hx}function VSe(t){if(qx==null){const e=Ho(t);qx=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,qx)}function WSe(t){if(t===0)return 0;let e;const n=Ho(t);return eo(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:eo(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function eo(t,e){return t.getExtension(e)!=null}function s$(t){try{if(Ho(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function GSe(t){if(t===0)return!1;const e=Ho(t);if(t===1){if(!eo(e,"OES_texture_float"))return!1}else if(!eo(e,"EXT_color_buffer_float"))return!1;return DS(e)}function HSe(t){if(t===0)return!1;const e=Ho(t);if(t===1){if(!eo(e,"OES_texture_float")||!eo(e,"WEBGL_color_buffer_float"))return!1}else{if(eo(e,"EXT_color_buffer_float"))return DS(e);const r="EXT_color_buffer_half_float";if(eo(e,r)){const a=e.getExtension(r);return qSe(e,a)}return!1}return DS(e)}function DS(t){const e=tI(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n);const r=1,a=1;t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,r,a,0,e.textureFormatFloat,e.textureTypeFloat,null);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const s=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(i),s}function qSe(t,e){const n=tI(t,e),r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const a=1,i=1;t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(r),t.deleteFramebuffer(s),o}function YSe(t){return t!==2?!1:Ho(t).fenceSync!=null}function F0(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&V(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xt=Ne();xt.registerFlag("HAS_WEBGL",()=>xt.getNumber("WEBGL_VERSION")>0);xt.registerFlag("WEBGL_VERSION",()=>s$(2)?2:s$(1)?1:0);xt.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);xt.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>xt.get("WEBGL_VERSION")===2);xt.registerFlag("WEBGL_CPU_FORWARD",()=>!0);xt.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);xt.registerFlag("WEBGL_PACK",()=>xt.getBool("HAS_WEBGL"));xt.registerFlag("WEBGL_PACK_NORMALIZATION",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_CLIP",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_PACK_REDUCE",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_LAZILY_UNPACK",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_CONV_IM2COL",()=>xt.getBool("WEBGL_PACK"));xt.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>jSe(xt.getNumber("WEBGL_VERSION")));xt.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>VSe(xt.getNumber("WEBGL_VERSION")));xt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=xt.getNumber("WEBGL_VERSION");return t===0?0:WSe(t)});xt.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>xt.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!aV());xt.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>GSe(xt.getNumber("WEBGL_VERSION")));xt.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>xt.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:xt.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));xt.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>HSe(xt.getNumber("WEBGL_VERSION")));xt.registerFlag("WEBGL_FENCE_API_ENABLED",()=>YSe(xt.getNumber("WEBGL_VERSION")));xt.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>xt.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);xt.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});xt.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>aV()?1:-1,t=>{if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});xt.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);xt.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);xt.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);xt.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);xt.registerFlag("WEBGL_EXP_CONV",()=>!1);xt.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>xt.getBool("IS_TEST"));xt.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);xt.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);xt.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function si(){let t,e,n,r,a,i,s,o,l,u;return Ne().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",r="in",a="texture",i="outputColor",s="out vec4 outputColor;",o=Ne().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",s="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vh(t,e,n="index"){const r=_a(e);return r.map((a,i)=>{const s=`int ${t[i]} = ${n} / ${a}`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * ${a}`:`index -= ${t[i]} * ${a}`;return`${s}; ${o};`}).join("")}function Ow(t,e,n="index"){const r=_a(e);return r.map((a,i)=>{const s=`int ${t[i]} = ${n} / outShapeStrides[${i}]`,o=i===r.length-1?`int ${t[i+1]} = ${n} - ${t[i]} * outShapeStrides[${i}]`:`index -= ${t[i]} * outShapeStrides[${i}]`;return`${s}; ${o};`}).join("")}function KSe(t,e){const n=t.length,r=t.map(i=>`${e}[${i}]`),a=new Array(n-1);a[n-2]=r[n-1];for(let i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}function XSe(t,e,n="index"){const r=t.map((i,s)=>s),a=KSe(r,e);return a.map((i,s)=>{const o=`int ${t[s]} = ${n} / ${a[s]}`,l=s===a.length-1?`int ${t[s+1]} = ${n} - ${t[s]} * ${a[s]}`:`index -= ${t[s]} * ${a[s]}`;return`${o}; ${l};`}).join("")}function nI(t){const e=_a(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function rI(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const EG=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:TG}=pSe;function QSe(t,e,n){const r=[];if(t.forEach(p=>{const m=Qe(p.shapeInfo.logicalShape);if(p.shapeInfo.isUniform?r.push(`uniform float ${p.name}${m>1?`[${m}]`:""};`):(r.push(`uniform sampler2D ${p.name};`),r.push(`uniform int offset${p.name};`)),n.enableShapeUniforms){const{uniformShape:g}=aI(n.packedInputs,p.shapeInfo.logicalShape,p.shapeInfo.texShape);switch(g.length){case 1:r.push(`uniform int ${p.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${p.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${p.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${p.name}Shape;`);break}r.push(`uniform ivec2 ${p.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;");break}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(p=>{r.push(`uniform ${p.type} ${p.name}${p.arrayIndex?`[${p.arrayIndex}]`:""};`)});const a=r.join(`
`),i=t.map(p=>ZSe(p,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),s=e.texShape,o=si(),l=t5e(o);let u,c,d=a5e(o);return e.isPacked?(u=JSe(e.logicalShape,s,n.enableShapeUniforms),c=r5e(o)):(u=e5e(e.logicalShape,s,n.enableShapeUniforms),c=n5e(o)),n.packedInputs&&(d+=l5e),[d,l,c,a,u,i,n.userCode].join(`
`)}function Lp(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return w5e(t,e);case 1:return _5e(t,e);case 2:return S5e(t,e);case 3:return E5e(t,e);case 4:return C5e(t,e);case 5:return I5e(t);case 6:return A5e(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function CG(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return v5e(t);case 1:return x5e(t,e);case 2:return k5e(t,e);case 3:return N5e(t,e);default:return T5e(t,e)}}function ZSe(t,e,n=!1,r){let a="";n?a+=CG(t,r):a+=Lp(t,r);const i=t.shapeInfo.logicalShape,s=e.logicalShape;return i.length<=s.length&&(n?a+=D5e(t,e):a+=R5e(t,e)),a}function JSe(t,e,n){switch(t.length){case 0:return IG();case 1:return u5e(t,e,n);case 2:return y5e(t,e,n);case 3:return d5e(t,e,n);default:return f5e(t,e,n)}}function e5e(t,e,n){switch(t.length){case 0:return IG();case 1:return c5e(t,e,n);case 2:return b5e(t,e,n);case 3:return h5e(t,e,n);case 4:return p5e(t,e,n);case 5:return m5e(t,e);case 6:return g5e(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function t5e(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function n5e(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function r5e(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function a5e(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${i5e}
    ${s5e}
    ${o5e}
  `}const i5e=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,s5e=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,o5e=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,l5e=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function IG(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function u5e(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return r[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${r[1]}.0);
      }
    `:r[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${r[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);
    }
  `}function c5e(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function d5e(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],a=Math.ceil(t[2]/2),i=a*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec3(b, r, c);
    }
  `}function h5e(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${Ow(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const r=vh(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec3(r, c, d);
    }
  `}function f5e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],a=Math.ceil(t[t.length-1]/2),i=a*Math.ceil(t[t.length-2]/2);let s=i,o="",l="b, r, c";for(let u=2;u<t.length-1;u++)s*=t[t.length-u-1],o=`
      int b${u} = index / ${s};
      index -= b${u} * ${s};
    `+o,l=`b${u}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));
      int index = resTexRC.x * ${r[1]} + resTexRC.y;

      ${o}

      int b = index / ${i};
      index -= b * ${i};

      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec${t.length}(${l});
    }
  `}function p5e(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${Ow(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const r=vh(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${r}
      return ivec4(r, c, d, d2);
    }
  `}function m5e(t,e){const n=vh(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function g5e(t,e){const n=vh(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function y5e(t,e,n){const r=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(gn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));
      }
    `;const a=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${r[0]}, ${r[1]}));

      int index = resTexRC.x * ${r[1]} + resTexRC.y;
      int r = 2 * (index / ${a});
      int c = imod(index, ${a}) * 2;

      return ivec2(r, c);
    }
  `}function b5e(t,e,n){return gn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function wh(t){return`offset${t}`}function v5e(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),r=si();return`
    vec4 ${n}() {
      return ${r.texture2D}(${e}, halfCR);
    }
  `}function w5e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,i]=t.shapeInfo.texShape;if(a===1&&i===1)return`
      float ${r}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const s=wh(n);if(e)return`
    float ${r}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});
      return sampleTexture(${n}, uv);
    }
  `;const[o,l]=t.shapeInfo.texShape;return`
    float ${r}() {
      vec2 uv = uvFromFlat(${o}, ${l}, ${s});
      return sampleTexture(${n}, uv);
    }
  `}function x5e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t.shapeInfo.texShape,i=si();if(e)return`
    vec4 ${r}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${i.texture2D}(${n}, uv);
    }
  `;const s=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`
    vec4 ${r}(int index) {
      vec2 uv = packedUVfrom1D(
        ${s[0]}, ${s[1]}, index);
      return ${i.texture2D}(${n}, uv);
    }
  `}function _5e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${r}(int index) {
        ${Fp(t)}
      }
    `;const a=t.shapeInfo.texShape,i=a[0],s=a[1];if(s===1&&i===1)return`
      float ${r}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=wh(n);return s===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${i}.0);
        return sampleTexture(${n}, uv);
      }
    `:i===1?e?`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${r}(int index) {
        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${r}(int index) {
      vec2 uv = uvFromFlat(${i}, ${s}, index + ${o});
      return sampleTexture(${n}, uv);
    }
  `}function k5e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,s=i[0],o=i[1],l=si();if(i!=null&&gn(n,i))return e?`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);

        return ${l.texture2D}(${r}, uv);
      }
    `:`
      vec4 ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${o}.0, ${s}.0);

        return ${l.texture2D}(${r}, uv);
      }
    `;if(e)return`
    vec4 ${a}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${a}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${r}, uv);
    }
  `}function S5e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape;if(i!=null&&gn(n,i)){if(e)return`
      float ${a}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `;const f=i[0],p=i[1];return`
    float ${a}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${p}.0, ${f}.0);
      return sampleTexture(${r}, uv);
    }
  `}const{newShape:s,keptDims:o}=Bc(n),l=s;if(l.length<n.length){const f=Pp(t,l),p=["row","col"];return`
      ${Lp(f,e)}
      float ${a}(int row, int col) {
        return ${a}(${Mp(p,o)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${a}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${Fp(t)}
      }
    `;const u=i[0],c=i[1],d=wh(r);return c===1?e?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${r}, uv);
    }
  `:u===1?e?`
      float ${a}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${r}, uv);
    }
  `:e?`
      float ${a}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${r}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
        return sampleTexture(${r}, uv);
      }
    `:`
  float ${a}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${r}, uv);
  }
`}function N5e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=t.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(n[0]===1){const f=n.slice(1),p=[1,2],m=Pp(t,f),g=["b","row","col"];return`
        ${CG(m,e)}
        vec4 ${a}(int b, int row, int col) {
          return ${a}(${Mp(g,p)});
        }
      `}const o=si();if(e)return`
    vec4 ${a}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `;const l=s[0],u=s[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`
    vec4 ${a}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${d}, ${c}, b, row, col);
      return ${o.texture2D}(${r}, uv);
    }
  `}function E5e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],s=n[2],{newShape:o,keptDims:l}=Bc(n),u=o;if(u.length<n.length){const g=Pp(t,u),v=["row","col","depth"];return`
        ${Lp(g,e)}
        float ${a}(int row, int col, int depth) {
          return ${a}(${Mp(v,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${i}, ${s}, 1)));
        ${Fp(t)}
      }
    `;const c=t.shapeInfo.texShape,d=c[0],f=c[1],p=t.shapeInfo.flatOffset;if(f===i&&p==null)return e?`
      float ${a}(int row, int col, int depth) {
        int stride1 = ${r}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
        float ${a}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${s}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${f}.0, ${d}.0);
          return sampleTexture(${r}, uv);
        }
      `;if(f===s&&p==null)return e?`
      float ${a}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
    float ${a}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${d}.0);
      return sampleTexture(${r}, uv);
    }
  `;const m=wh(r);return e?`
    float ${a}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${r}Shape[1] * ${r}Shape[2];
      int stride1 = ${r}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${m};
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);
      return sampleTexture(${r}, uv);
    }
    `:`
      float ${a}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${i} + col * ${s} + depth + ${m};
        vec2 uv = uvFromFlat(${d}, ${f}, index);
        return sampleTexture(${r}, uv);
      }
  `}function T5e(t,e){const n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=si();if(e)return`
    vec4 ${r}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);
    }
  `;const i=t.shapeInfo.logicalShape,s=i.length,o=t.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=l[0],c=l[1],d=Math.ceil(i[s-1]/2);let f=d*Math.ceil(i[s-2]/2),p="int b, int row, int col",m=`b * ${f} + (row / 2) * ${d} + (col / 2)`;for(let g=2;g<s-1;g++)p=`int b${g}, `+p,f*=i[s-g-1],m=`b${g} * ${f} + `+m;return`
    vec4 ${r}(${p}) {
      int index = ${m};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${a.texture2D}(${n}, uv);
    }
  `}function C5e(t,e){const n=t.shapeInfo.logicalShape,r=t.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],s=n[2]*i,o=n[1]*s,{newShape:l,keptDims:u}=Bc(n);if(l.length<n.length){const b=Pp(t,l),w=["row","col","depth","depth2"];return`
      ${Lp(b,e)}
      float ${a}(int row, int col, int depth, int depth2) {
        return ${a}(${Mp(w,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${a}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${o}, ${s}, ${i}, 1)));
        ${Fp(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],p=d[1],m=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,v=`int stride0 = ${r}Shape[1] * stride1;`;if(p===o&&c==null)return e?`
      float ${a}(int row, int col, int depth, int depth2) {
        ${m}
        ${g}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${s}, ${i}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;if(p===i&&c==null)return e?`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${r}TexShape[1], ${r}TexShape[0]);
        return sampleTexture(${r}, uv);
      }
    `:`
      float ${a}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${f}.0);
        return sampleTexture(${r}, uv);
      }
    `;const y=wh(r);return e?`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${m}
      ${g}
      ${v}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});
      return sampleTexture(${r}, uv);
    }
  `:`
    float ${a}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${s} +
          depth * ${i} + depth2;
      vec2 uv = uvFromFlat(${f}, ${p}, index + ${y});
      return sampleTexture(${r}, uv);
    }
  `}function I5e(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e[4],i=e[3]*a,s=e[2]*i,o=e[1]*s,{newShape:l,keptDims:u}=Bc(e);if(l.length<e.length){const g=Pp(t,l),v=["row","col","depth","depth2","depth3"];return`
      ${Lp(g)}
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        return ${r}(${Mp(v,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${o}, ${s}, ${i}, ${a})) +
          depth3;
        ${Fp(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,f=d[0],p=d[1];if(p===o&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${s}, ${i}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===a&&c==null)return`
      float ${r}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=wh(n);return`
    float ${r}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${o} + col * ${s} + depth * ${i} +
          depth2 * ${a} + depth3 + ${m};
      vec2 uv = uvFromFlat(${f}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function A5e(t){const e=t.shapeInfo.logicalShape,n=t.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:a,keptDims:i}=Bc(e);if(a.length<e.length){const v=Pp(t,a),y=["row","col","depth","depth2","depth3","depth4"];return`
      ${Lp(v)}
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${r}(${Mp(y,i)});
      }
    `}const s=e[5],o=e[4]*s,l=e[3]*o,u=e[2]*l,c=e[1]*u;if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${o})) +
          dot(
            vec2(depth3, depth4),
            vec2(${s}, 1)));
        ${Fp(t)}
      }
    `;const d=t.shapeInfo.flatOffset,f=t.shapeInfo.texShape,p=f[0],m=f[1];if(m===c&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${o}, ${s})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(m===s&&d==null)return`
      float ${r}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${m}.0, ${p}.0);
        return sampleTexture(${n}, uv);
      }
    `;const g=wh(n);return`
    float ${r}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${o} + depth3 * ${s} + depth4 + ${g};
      vec2 uv = uvFromFlat(${p}, ${m}, index);
      return sampleTexture(${n}, uv);
    }
  `}function Fp(t){const e=t.name,n=Qe(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function D5e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.shapeInfo.logicalShape.length,s=e.logicalShape.length,o=TG(t.shapeInfo.logicalShape,e.logicalShape),l=Un(s),u=s-i;let c;const d=["x","y","z","w","u","v"];i===0?c="":s<2&&o.length>=1?c="coords = 0;":c=o.map(b=>`coords.${d[b+u]} = 0;`).join(`
`);let f="";s<2&&i>0?f="coords":f=t.shapeInfo.logicalShape.map((b,w)=>`coords.${d[w+u]}`).join(", ");let p="return outputValue;";const g=Qe(t.shapeInfo.logicalShape)===1,y=Qe(e.logicalShape)===1;if(i===1&&!g&&!y)p=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(g&&!y)s===1?p=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:p=`
        return vec4(outputValue.x);
      `;else if(o.length){const b=i-2,w=i-1;o.indexOf(b)>-1&&o.indexOf(w)>-1?p="return vec4(outputValue.x);":o.indexOf(b)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":o.indexOf(w)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${a}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${r}(${f});
      ${p}
    }
  `}function R5e(t,e){const n=t.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=e.texShape,s=t.shapeInfo.texShape,o=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&o===l&&t.shapeInfo.flatOffset==null&&gn(s,i))return`
      float ${a}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=Un(l),c=TG(t.shapeInfo.logicalShape,e.logicalShape),d=l-o;let f;const p=["x","y","z","w","u","v"];o===0?f="":l<2&&c.length>=1?f="coords = 0;":f=c.map(g=>`coords.${p[g+d]} = 0;`).join(`
`);let m="";return l<2&&o>0?m="coords":m=t.shapeInfo.logicalShape.map((g,v)=>`coords.${p[v+d]}`).join(", "),`
    float ${a}() {
      ${u} coords = getOutputCoords();
      ${f}
      return get${r}(${m});
    }
  `}function Un(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function aI(t,e,n){const{newShape:r,keptDims:a}=Bc(e),i=e.length,s=t&&i===3&&e[0]===1,o=s?e.slice(1):r,l=!t&&i>1&&!gn(e,n)&&r.length<i||s;return{useSqueezeShape:l,uniformShape:l?o:e,keptDims:a}}function Pp(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function Mp(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $5e(t,e,n,r){const a=n.map((c,d)=>{const f={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(f.flatOffset=c.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:f}}),i=a.map(c=>c.shapeInfo),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},o=QSe(a,s,e),l=ESe(t.gl,o),u=t.createProgram(l);return Ne().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:e,fragmentShader:l,source:o,webGLProgram:u,inShapeInfos:i,outShapeInfo:s},AG(t,e,u))}function AG(t,e,n){const r={},a={},i={},s=[];let o,l,u,c=null,d=null;d=t.getUniformLocation(n,"NAN",!1),Ne().getNumber("WEBGL_VERSION")===1&&(c=t.getUniformLocation(n,"INFINITY",!1));const f=!1;for(let p=0;p<e.variableNames.length;p++){const m=e.variableNames[p];r[m]=t.getUniformLocation(n,m,f),r[`offset${m}`]=t.getUniformLocation(n,`offset${m}`,f),e.enableShapeUniforms&&(a[`${m}Shape`]=t.getUniformLocation(n,`${m}Shape`,f),i[`${m}TexShape`]=t.getUniformLocation(n,`${m}TexShape`,f))}return e.enableShapeUniforms&&(o=t.getUniformLocation(n,"outShape",f),u=t.getUniformLocation(n,"outShapeStrides",f),l=t.getUniformLocation(n,"outTexShape",f)),e.customUniforms&&e.customUniforms.forEach((p,m)=>{s[m]=t.getUniformLocation(n,p.name,f)}),{uniformLocations:r,customUniformLocations:s,infLoc:c,nanLoc:d,inShapesLocations:a,inTexShapesLocations:i,outShapeLocation:o,outShapeStridesLocation:u,outTexShapeLocation:l}}function o$(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,r)=>{const a=n.logicalShape,i=e[r],s=i.shape;if(!gn(a,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${s} must match`);if(n.isUniform&&i.isUniform)return;const o=n.texShape,l=i.isUniform?null:i.texData.texShape;if(!gn(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)})}function O5e(t,e,n,r,a){e.program.enableShapeUniforms||(o$(e.inShapeInfos,n),o$([e.outShapeInfo],[r]));const i=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?t.setOutputPackedMatrixTexture(i.texture,s[0],s[1]):t.setOutputMatrixTexture(i.texture,s[0],s[1]),t.setProgram(e.webGLProgram),Ne().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN),n.forEach((l,u)=>{const c=e.program.variableNames[u],d=e.uniformLocations[c],f=e.uniformLocations[`offset${c}`],p=e.inShapesLocations[`${c}Shape`],m=e.inTexShapesLocations[`${c}TexShape`];if(p){const{uniformShape:g}=aI(e.program.packedInputs,l.shape,l.texData.texShape);switch(g.length){case 1:t.gl.uniform1iv(p,new Int32Array(g));break;case 2:t.gl.uniform2iv(p,new Int32Array(g));break;case 3:t.gl.uniform3iv(p,new Int32Array(g));break;case 4:t.gl.uniform4iv(p,new Int32Array(g));break}}if(m&&t.gl.uniform2i(m,l.texData.texShape[0],l.texData.texShape[1]),d!=null){if(l.isUniform){if(Qe(l.shape)<2)t.gl.uniform1f(d,l.uniformValues[0]);else{let g=l.uniformValues;g instanceof Float32Array||(g=new Float32Array(g)),t.gl.uniform1fv(d,g)}return}l.texData.slice!=null&&f!=null&&t.gl.uniform1i(f,l.texData.slice.flatOffset),t.setInputMatrixTexture(l.texData.texture.texture,d,u)}});const o=e.outShapeLocation;if(o)switch(r.shape.length){case 1:t.gl.uniform1iv(o,new Int32Array(r.shape));break;case 2:t.gl.uniform2iv(o,new Int32Array(r.shape));break;case 3:t.gl.uniform3iv(o,new Int32Array(r.shape));break;case 4:t.gl.uniform4iv(o,new Int32Array(r.shape));break}if(e.outShapeStridesLocation){const l=_a(r.shape);switch(r.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),e.program.customUniforms&&a&&e.program.customUniforms.forEach((l,u)=>{const c=e.customUniformLocations[u],d=a[u];if(l.type==="float")t.gl.uniform1fv(c,d);else if(l.type==="vec2")t.gl.uniform2fv(c,d);else if(l.type==="vec3")t.gl.uniform3fv(c,d);else if(l.type==="vec4")t.gl.uniform4fv(c,d);else if(l.type==="int")t.gl.uniform1iv(c,d);else if(l.type==="ivec2")t.gl.uniform2iv(c,d);else if(l.type==="ivec3")t.gl.uniform3iv(c,d);else if(l.type==="ivec4")t.gl.uniform4iv(c,d);else throw Error(`uniform type ${l.type} is not supported yet.`)}),t.executeProgram()}function L5e(t,e,n){let r="";e.concat(n).forEach(s=>{const o=s.texData!=null&&s.texData.slice!=null&&s.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!s.isUniform){const l=s.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:d}=aI(t.packedInputs,s.shape,l);let f="",p="",m="";if(c.length===1&&t.packedInputs){const k=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];f=`${k[0]>1}_${k[1]>1}`}else if(c.length===2&&!t.packedInputs)p=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!t.packedInputs){const k=_a(c);m=`${k[0]===l[1]}_${k[k.length-1]===l[1]}`}const g=s.shape.length,v=c.length===2&&gn(s.shape,l),y=Qe(s.shape)===1,b=pb(s.shape,n.shape),w=!t.packedInputs&&g===n.shape.length&&gn(l,n.texData.texShape),x=t.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;r+=`${g}_${w}_${u?d:""}_${c.length}_${y}_${b}_${v}_${f}_${p}_${m}_${x}_${o}`}else{const l=s.isUniform?"uniform":s.texData.texShape;r+=`${s.shape}_${l}_${o}`}});const a=t.userCode;let i=t.constructor.name;return i+="_"+r+"_"+a+`${Ne().getNumber("WEBGL_VERSION")}`,i}function oi(t){return Ne().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class F5e{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=Hg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=si();this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Ow(["r","c","d"],e):vh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class P5e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=Hg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=si();this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Ow(["r","c","d"],e):vh(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M5e{constructor(e){this.variableNames=["A"],this.outTexUsage=vs.DOWNLOAD;const n=si();this.outputShape=e,this.userCode=`
      ${EG}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B5e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=vs.DOWNLOAD;const n=si();this.outputShape=e,this.userCode=`
      ${EG}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class z5e{constructor(e,n=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=si();this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length);let a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode=`
      ${this.enableShapeUniforms?rI():nI(e)}

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);

        int r = flatIndex / texShape[1];
        int c = imod(flatIndex, texShape[1]);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
        vec4 values = ${r.texture2D}(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        ${r.output} = vec4(${a}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U5e{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=si();this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length);let a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(let s=0;s<=1;s++)for(let o=0;o<=1;o++){const l=s*2+o;a+=`
          localCoords = coords;
          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${o};
          if (localCoords[1] + ${s} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${s};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?rI():nI(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${a}

          ${r.output} = ${i};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j5e(t){const e=si(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return NSe(t,n)}function V5e(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return ASe(t,e)}function W5e(t){const e=new Uint16Array([0,1,2,2,1,3]);return DSe(t,e)}function P0(t,e,n,r,a,i){$Se(e,n);const s=RSe(t),o=t.TEXTURE_2D;return ft(t,()=>t.bindTexture(o,s)),ft(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),ft(t,()=>t.texParameteri(o,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),ft(t,()=>t.texParameteri(o,t.TEXTURE_MIN_FILTER,t.NEAREST)),ft(t,()=>t.texParameteri(o,t.TEXTURE_MAG_FILTER,t.NEAREST)),Ne().getNumber("WEBGL_VERSION")===1?ft(t,()=>t.texImage2D(o,0,r,e,n,0,a,i,null)):ft(t,()=>t.texStorage2D(o,1,r,e,n)),ft(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:s,texShape:[n,e]}}function DG(t){return t.internalFormatFloat}function G5e(t,e,n,r){const[a,i]=L0(e,n);return P0(t,a,i,DG(r),r.textureFormatFloat,t.FLOAT)}function RG(t){return t.internalFormatHalfFloat}function H5e(t,e,n,r){const[a,i]=L0(e,n);return P0(t,a,i,RG(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function $G(t){return t.downloadTextureFormat}function q5e(t,e,n,r){const[a,i]=L0(e,n);return P0(t,a,i,$G(r),t.RGBA,t.UNSIGNED_BYTE)}function OG(t){return t.internalFormatPackedFloat}function Y5e(t,e,n,r){const[a,i]=Op(e,n);return P0(t,a,i,OG(r),t.RGBA,t.FLOAT)}function LG(t){return t.internalFormatPackedHalfFloat}function K5e(t,e,n,r){const[a,i]=Op(e,n);return P0(t,a,i,LG(r),t.RGBA,r.textureTypeHalfFloat)}function X5e(t,e,n){return ft(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),a$(t,e,"clipSpacePos",n,3,20,0)&&a$(t,e,"uv",n,2,20,12)}function Q5e(t,e,n,r,a,i){ft(t,()=>t.bindTexture(t.TEXTURE_2D,e));let s,o,l;a instanceof Uint8Array?(s=new Uint8Array(n*r*4),o=t.UNSIGNED_BYTE,l=t.RGBA):(s=new Float32Array(n*r*4),o=t.FLOAT,l=i.internalFormatPackedFloat),s.set(a),Ne().getNumber("WEBGL_VERSION")===2?ft(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,r,t.RGBA,o,s)):ft(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,r,0,t.RGBA,o,s)),ft(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function Z5e(t,e,n){ft(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?Ne().getNumber("WEBGL_VERSION")===2?ft(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):ft(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):Ne().getNumber("WEBGL_VERSION")===2?ft(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):ft(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),ft(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function J5e(t,e,n,r){const a=t.createBuffer();ft(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,a));const o=4*4*e*n;return ft(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,o,t.STREAM_READ)),ft(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),ft(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),a}function eNe(t,e,n){const r=t,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,e),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function tNe(t,e,n,r){const[a,i]=L0(e,n),s=4,o=new Uint8Array(bSe(e*n,s));return ft(t,()=>t.readPixels(0,0,a,i,r.downloadTextureFormat,t.UNSIGNED_BYTE,o)),new Float32Array(o.buffer)}function nNe(t,e,n,r,a,i,s,o){const l=t,u=new Float32Array(vSe(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function rNe(t,e,n){const r=new Float32Array(e*n*4);return ft(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,r)),r}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yx{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const n=Ne().getNumber("WEBGL_VERSION");e!=null?(this.gl=e,mSe(n,e)):this.gl=Ho(n);let r="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),Ne().getNumber("WEBGL_VERSION")===1){const i="OES_texture_float",s="OES_texture_half_float";if(this.textureFloatExtension=e2(this.gl,i),eo(this.gl,s))this.textureHalfFloatExtension=e2(this.gl,s);else if(Ne().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),eo(this.gl,a))this.colorBufferHalfFloatExtension=e2(this.gl,a);else if(Ne().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",eo(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(eo(this.gl,a))this.colorBufferHalfFloatExtension=this.gl.getExtension(a);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=V5e(this.gl),this.indexBuffer=W5e(this.gl),this.framebuffer=OSe(this.gl),this.textureConfig=tI(this.gl,this.textureHalfFloatExtension)}get debug(){return Ne().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;ft(e,()=>e.finish()),ft(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),ft(e,()=>e.deleteFramebuffer(this.framebuffer)),ft(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),ft(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),ft(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),G5e(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),H5e(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),q5e(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),Z5e(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,a){this.throwIfDisposed(),Q5e(this.gl,e,n,r,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),K5e(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),Y5e(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(i$(this.gl,this.framebuffer),this.outputTexture=null),ft(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,()=>tNe(this.gl,n,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,r,a,i,s){return nNe(this.gl,e,n,r,a,i,s,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return eNe(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const a=J5e(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Ne().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const s=a.clientWaitSync(i,0,0);return s===a.ALREADY_SIGNALED||s===a.CONDITION_SATISFIED},n=i}else Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,()=>rNe(this.gl,n,r))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=j5e(n));const r=CSe(n);return ft(n,()=>n.attachShader(r,this.vertexShader)),ft(n,()=>n.attachShader(r,e)),ISe(n,r),this.debug&&Vx(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=X5e(n,this.program,this.vertexBuffer)),r}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&ft(this.gl,()=>this.gl.deleteProgram(e))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&Vx(this.gl,this.program),ft(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?FSe(this.gl,e,n):PSe(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),ft(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),MSe(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[a,i]=Op(n,r);this.setOutputMatrixTextureDriver(e,a,i)}setOutputMatrixWriteRegion(e,n,r,a){this.setOutputMatrixWriteRegionDriver(r,e,a,n)}setOutputPackedMatrixWriteRegion(e,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&Vx(this.gl,this.program),t2(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),ft(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),ft(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=e2(this.gl,Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.createQuery();return r.beginQuery(a.TIME_ELAPSED_EXT,i),i}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,r=this.getQueryTimerExtensionWebGL2();n.endQuery(r.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await L8(()=>this.disposed||this.isQueryAvailable(e,Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const r=this.gl;return r.getQueryParameter(e,r.QUERY_RESULT)/1e6}else{const r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const r=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=r.getQueryParameter(e,r.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}else{const r=this.getQueryTimerExtensionWebGL1(),a=r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=aNe(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:r}=this.itemsToPoll[n];r()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let r;"setTimeoutCustom"in Ne().platform&&(r=Ne().platform.setTimeoutCustom.bind(Ne().platform)),L8(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,r)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Wx(this.gl,e,this.framebuffer),this.debug&&t2(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(Wx(this.gl,this.outputTexture,this.framebuffer),this.debug&&t2(this.gl)):i$(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const a=this.gl;Wx(a,e,this.framebuffer),this.debug&&t2(a),this.outputTexture=e,ft(a,()=>a.viewport(0,0,n,r)),ft(a,()=>a.scissor(0,0,n,r))}setOutputMatrixWriteRegionDriver(e,n,r,a){this.throwIfDisposed(),ft(this.gl,()=>this.gl.scissor(e,n,r,a))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function aNe(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iNe(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rs(t){return(e,n,r,a,i)=>{const s=jt(e,n),o=s.length,l=_a(s),u=Qe(s),c=cu(i,u),d=e.length,f=n.length,p=_a(e),m=_a(n),g=pb(e,s),v=pb(n,s);if(g.length+v.length===0)for(let y=0;y<c.length;++y)c[y]=t(r[y%r.length],a[y%a.length]);else for(let y=0;y<c.length;++y){const b=pT(y,o,l),w=b.slice(-d);g.forEach(E=>w[E]=0);const x=rS(w,d,p),k=b.slice(-f);v.forEach(E=>k[E]=0);const S=rS(k,f,m);c[y]=t(r[x],a[S])}return[c,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sNe(t,e,n,r){if(r==="int32"){const a=Int32Array.from(t);return[e,"int32",a]}if(r==="bool"){const a=gw([0],n),[i,s]=Rs((o,l)=>o!==l?1:0)(e,[],t,a,"bool");return[s,"bool",i]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oNe=Rs((t,e)=>t+e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lNe(t,e,n,r,a){const i=Qe(r),s=Sc(a,n);for(let o=0;o<t.length;o++){const l=t[o];if(l<0)throw new Error("Input x must be non-negative!");l>=a||(i>0?s[l]+=e[o]:s[l]+=1)}return s}function uNe(t,e,n,r=!1){const a=t.shape[0],i=t.shape[1],s=gr([a,n],e.dtype);for(let o=0;o<a;o++)for(let l=0;l<i;l++){const u=t.get(o,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(r?s.set(1,o,u):e.size>0?s.set(s.get(o,u)+e.get(o,l),o,u):s.set(s.get(o,u)+1,o,u))}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wc(t){return(e,n,r)=>{const a=cu(n,e.length);for(let i=0;i<e.length;++i)a[i]=t(e[i],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cNe=Wc(t=>Math.ceil(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dNe(t,e,n,r){const a=bi(n,Qe(e));if(r&&n!=="string"){let i=0;t.forEach(s=>{const o=Qe(s.shape);a.set(s.vals,i),i+=o})}else{let i=0;t.forEach(s=>{const o=n==="string"?Gg(s.vals):s.vals;let l=0;for(let u=0;u<s.shape[0];++u){const c=u*e[1]+i;for(let d=0;d<s.shape[1];++d)a[c+d]=o[l++]}i+=s.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hNe=Rs((t,e)=>t===e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fNe=Wc(t=>Math.exp(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pNe=Wc(t=>Math.expm1(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mNe=Wc(t=>Math.floor(t));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gNe(t,e,n,r,a,i,s,o,l){const u=gr([r,i],n);for(let c=0;c<r;c++){const d=[];let f=0;for(let p=0;p<a;p++){const m=t[c*a+p];f+=m*s[p],d.push(m)}if(f<0||f>=l/i)throw new Error(`Invalid indices: ${d} does not index into ${o}`);for(let p=0;p<i;p++)u.values[c*i+p]=e.get(...e.indexToLoc(f*i+p))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yNe(t,e,n){const r=gr(n,t.dtype);for(let a=0;a<r.size;++a){const s=r.indexToLoc(a).slice(),o=s[0],l=s[2],u=e.locToIndex([o,l]);s[2]=e.values[u];const c=t.locToIndex(s);0<=c&&c<t.values.length&&(r.values[a]=t.values[c])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bNe=Rs((t,e)=>t>e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vNe=Rs((t,e)=>t>=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wNe=Rs((t,e)=>t<e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xNe=Rs((t,e)=>t<=e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _Ne(t,e,n){const r=(e-t)/(n-1),a=Sc(n,"float32");a[0]=t;for(let i=1;i<a.length;i++)a[i]=a[i-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kNe=Wc(t=>Math.log(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SNe(t,e,n,r){const a=cu(r,Qe(n));for(let i=0;i<a.length;++i){const s=i*e;let o=t[s];for(let l=0;l<e;++l){const u=t[s+l];(Number.isNaN(u)||u>o)&&(o=u)}a[i]=o}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NNe=Rs((t,e)=>Math.max(t,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ENe=Rs((t,e)=>Math.min(t,e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FG=Rs((t,e)=>t*e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TNe(t,e,n){const r=Ep(-1,n);return FG([],e,r,t,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CNe=Rs((t,e)=>t!==e?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function INe(t,e,n,r,a){const i=e.length,s=Qe(e),o=_a(e),l=_a(a),u=cu(n,Qe(a));for(let c=0;c<s;++c){const d=pT(c,i,o),f=new Array(d.length);for(let m=0;m<f.length;m++)f[m]=d[r[m]];const p=rS(f,i,l);u[p]=t[c]}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ANe(t,e,n,r){const[a,i]=Zo(t,r),s=El(e,"int32"),o=Sc(Qe(a),s),l=Qe(i);for(let u=0;u<o.length;++u){const c=u*l;let d=1;for(let f=0;f<l;++f)d*=n[c+f];o[u]=d}return{outVals:o,outShape:a,outDtype:s}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DNe(t,e,n){t.forEach((r,a)=>{if(r<0||r>=n){const i=pT(a,e.length,_a(e)).join(",");throw new Error(`indices[${i}] = ${r} is not in [0, ${n})`)}})}function RNe(t,e){for(let n=0;n<t.length;++n){const r=t[n],a=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let i=1;i<r.length;++i)if(r[i-1]>r[i])throw new Error("Ragged splits must be sorted in ascending order")}}function $Ne(t,e,n,r){const a=[];let i=0;const s=e.length-1+n.length,o=new Array(s).fill(null).map(()=>[0]);RNe(n,r);let l=1;for(let u=0;u<e.length-1;++u){l*=e[u];const c=e[u+1];for(let d=1;d<l+1;++d)o[u].push(d*c)}for(let u=0;u<t.length;++u){let c=t[u],d=t[u]+1;for(let f=0;f<n.length;++f){const p=n[f],m=f+e.length-1;if(m>=0){const g=o[m],v=g[g.length-1]-p[c];for(let y=c;y<d;++y)o[m].push(p[y+1]+v)}c=p[c],d=p[d]}d!==c&&(a.push([c,d]),i+=d-c)}return{outSplits:o,valueSlices:a,numValues:i}}function ONe(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,a=bi("int32",r);e.push(a),t[n].forEach((i,s)=>a[s]=i)}return e}function l$(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function LNe(t,e,n,r,a,i){const s=l$(e,2)[1],o=l$(i,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let d=0;d<r;++d)a[l*o+d]=t[c*s+d];++l}}function FNe(t,e,n,r,a){const i=e.slice();i[0]=a;const s=bi(n,Qe(i)),o=t.length,l=o===0?0:o/e[0];return LNe(t,e,r,l,s,i),[s,i]}function PNe(t,e,n,r,a,i,s,o){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(DNe(i,s,l),r.length===0)throw new Error("params.rank must be nonzero");const u=r[0],{outSplits:c,valueSlices:d,numValues:f}=$Ne(i,s,t,u),p=ONe(c),m=FNe(n,r,a,d,f);return[p,m[0],m[1]]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ps=Io;class bb{constructor(e,n,r,a,i,s,o,l,u,c){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=i,this.defaultValue=s,this.defaultValueShape=o,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=HW(c),this.raggedRank=qW(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Ps.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Ps.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Ps.VALUE_ROWIDS:return bb.getMaxWidthValueRowID(n);case Ps.ROW_SPLITS:return bb.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Ps[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const i=e[a+1]-e[a];i>r&&(r=i)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,a=e[0],i=0;for(let s=1;s<n;++s){const o=e[s];o!==a&&(a=o,i=Math.max(s-r,i),r=s)}return Math.max(n-r,i)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return c$(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;YW(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),s=GW(this.raggedRank,a,n);s[0]<0&&(s[0]=e);for(let o=1;o<=this.raggedRank;++o)s[o]<0&&(s[o]=this.getMaxWidth(o));return s}calculateFirstParentOutputIndex(e,n,r){const a=Math.min(e,r),i=[];let s=0;for(let o=0;o<a;++o,s+=n)i.push(s);for(let o=a;o<e;++o)i.push(-1);return V(i.length===e,()=>"Final length of result must be equal to firstDimension."),i}calculateOutputIndexRowSplit(e,n,r,a){const i=e.length,s=[];for(let o=0;o<i-1;++o){const l=e[o+1]-e[o];let u=Math.min(a,l),c=n[o];c===-1&&(u=0);for(let d=0;d<u;++d)s.push(c),c+=r;for(let d=0;d<l-u;++d)s.push(-1)}if(i>0&&s.length!==e[i-1])throw new Error("Invalid row split size.");return s}calculateOutputIndexValueRowID(e,n,r,a){const i=e.length,s=[];if(i===0)return[];let o=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];s.push(u);for(let c=1;c<i;++c){const d=e[c];if(d===l)u>=0&&(++o,o<a?u+=r:u=-1);else{if(o=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);u=n[d]}s.push(u)}if(s.length!==e.length)throw new Error("Invalid row ids.");return s}calculateOutputIndex(e,n,r,a){const i=this.getRowPartitionTensor(e),s=this.getRowPartitionTypeByDimension(e);switch(s){case Ps.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(i,n,r,a);case Ps.ROW_SPLITS:if(i.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${i.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(i,n,r,a);default:throw new Error(`Unsupported partition type: ${Ps[s]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Ps.FIRST_DIM_SIZE:return e[0];case Ps.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Ps.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Ps[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let l=a.length-2;l>=0;--l)a[l]=a[l+1]*r[l+1];const i=c$(r,!1),s=bi(this.valuesDType,Qe(i));if(a[0]*r[0]>0){let l=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,a[u],r[u]);this.setOutput(this.raggedRank,l,s,i)}return[i,s]}setOutput(e,n,r,a){if(r.length===0)return;const i=this.values,s=r;let o=a.slice();o=o.slice(e+1);const l=Qe(o),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const m=this.defaultValueShape;me(()=>{const g=ue(c,m);c=Ym(g,o).dataSync()})}let d=0,f=0,p=0;for(let m=0;m<=u;++m){let g=m<u?n[m]:-1;if(g===p){++p;continue}if(f<p){const v=i.subarray(d*l),y=s.subarray(f*l),b=(p-f)*l;u$(y,v,b)}if(m>=u){const v=r.length;g=Math.floor(v/l)}if(g>p)if(this.defaultValue.length===1)s.subarray(p*l,g*l).fill(this.defaultValue[0]),p=g;else for(;g>p;){const v=s.slice(p*l);u$(v,c,l),++p}g<0?(d=m+1,f=p):(d=m,f=p,p=f+1)}}}function u$(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function c$(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function MNe(t,e,n,r,a,i,s,o,l,u){return new bb(t,e,n,r,a,i,s,o,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BNe(t,e,n,r){const a=t===e,i=t<e&&n<0,s=e<t&&n>1;if(a||i||s)return Sc(0,r);const o=Math.abs(Math.ceil((e-t)/n)),l=Sc(o,r);e<t&&n===1&&(n=-1),l[0]=t;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zNe=Wc(t=>1/Math.sqrt(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UNe(t,e,n,r,a,i,s,o,l,u){const c=[r/a,a],d=t.values,f=e.values;if(r===0)return gr(n,e.dtype);const p=gr(c,e.dtype);typeof l=="string"||typeof l=="number"?p.values.fill(l):typeof l=="boolean"&&p.values.fill(+l);for(let m=0;m<i;m++){const g=[];let v=0;for(let y=0;y<s;y++){const b=d[m*s+y];g.push(b),v+=b*o[y]}if(v<0||v>=r/a)throw new Error(`Invalid indices: ${g} does not index into ${n}`);for(let y=0;y<a;y++)u?p.values[v*a+y]+=f[m*a+y]:p.values[v*a+y]=e.rank===0?f[0]:f[m*a+y]}return p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jNe=Wc(t=>1/(1+Math.exp(-t)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VNe(t,e,n,r,a){const i=u6(r,e,n),s=Qe(n),o=_a(r);if(i){const d=c6(e,o);return a==="string"?t.slice(d,d+s):t.subarray(d,d+s)}const l=a==="string"?Gg(t):t,u=gr(r,a,l),c=gr(n,a);for(let d=0;d<c.size;++d){const f=c.indexToLoc(d),p=f.map((m,g)=>m+e[g]);c.set(u.get(...p),...f)}return a==="string"?SG(c.values):c.values}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WNe(t,e,n,r,a,i,s){const o=e[0],l=i[0],u=new Array(l),c=new Array(o),d=e[1];if(l===0){if(o!==0)throw new Error(cG(o));const v=bi(n,0),y=bi(a,0);return[v,[0,d],y,u,c]}let f=!0,p=0;const m=new Array(l).fill(0);for(let v=0;v<o;++v){const y=t[v*d];if(y<0)throw new Error(dG(v,y));if(y>=l)throw new Error(hG(v,y,l));++m[y],f=f&&y>=p,p=y}let g=!0;for(let v=0;v<l;++v){const y=m[v]===0;u[v]=y,g=g&&!y,m[v]=Math.max(m[v],1),v>0&&(m[v]+=m[v-1])}if(g&&f){const v=t,y=r;for(let b=0;b<o;++b)c[b]=b;return[v,[o,d],y,u,c]}else{const v=m[l-1],y=bi(n,v*d),b=bi(a,v),w=new Array(l).fill(0);for(let x=0;x<o;++x){const k=t[x*d],S=w[k],E=(k===0?0:m[k-1])+S;w[k]++;for(let I=0;I<d;++I)y[E*d+I]=t[x*d+I];b[E]=r[x],c[x]=E}for(let x=0;x<l;++x)if(w[x]===0){const S=x===0?0:m[x-1];y[S*d+0]=x;for(let E=1;E<d;++E)y[S*d+E]=0;b[S]=s}return[y,[v,d],b,u,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GNe(t,e,n,r,a){const i=Qe(r),s=e[0],o=a.length,l=[];let u=1,c=-1;for(let v=0;v<o;++v){const y=a[v];if(y===-1){if(c!==-1)throw new Error(fG(c,v));c=v,l.push(1)}else{if(y<0)throw new Error(pG(v,y));u*=y,l.push(y)}}if(c!==-1){if(u<=0)throw new Error(mG());const v=Math.trunc(i/u);if(u*v!==i)throw new Error(gG(r,l));l[c]=v}if(Qe(l)!==i)throw new Error(yG(r,l));const f=r.length,p=[];if(f>0){p[f-1]=1;for(let v=f-2;v>=0;--v)p[v]=p[v+1]*r[v+1]}const m=[];if(o>0){m[o-1]=1;for(let v=o-2;v>=0;--v)m[v]=m[v+1]*l[v+1]}const g=bi(n,s*o);for(let v=0;v<s;++v){let y=0;for(let b=0;b<f;++b)y+=t[v*f+b]*p[b];for(let b=0;b<o;++b)g[v*o+b]=Math.trunc(y/m[b]),y%=m[b]}return[g,[s,o],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HNe(t,e,n,r,a,i=!1,s=0){const o=r.length,l=[e[0],t.length/e[0]],u=l[1],d=o>0?a[o-1]+1:0;if(d<0)throw new Error(AS());const f=e.slice();f[0]=d;const p=f.reduce((w,x)=>w*x,1),m=bi(n,p);if(o===0)return d>0&&m.fill(s),[m,f];if(d<=0)throw new Error(AS());let g=0,v=1,y=0,b=a[g];for(;;){let w=0;if(v<o){if(w=a[v],b===w){++v;continue}if(b>=w)throw new Error(bG())}if(b<0||b>=d)throw new Error(vG(b,d));b>y&&m.fill(s,y*u,b*u);for(let x=g;x<v;++x){const k=r[x];if(k<0||k>=l[0])throw new Error(wG(x,r[x],l[0]));for(let S=0;S<u;S++)m[b*u+S]+=t[k*u+S]}if(i)for(let x=0;x<u;x++)m[b*u+x]/=v-g;if(g=v,++v,y=b+1,b=w,v>o)break}return y<d&&m.fill(s,y*u,d*u),[m,f]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qNe=Wc(t=>Math.sqrt(t));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YNe=Rs((t,e)=>{const n=t-e;return n*n});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KNe(t,e,n,r){const a=gr(t,e.dtype);for(let i=0;i<a.size;i++){const s=a.indexToLoc(i),o=new Array(s.length);for(let l=0;l<o.length;l++)o[l]=s[l]*n[l]+r[l];a.set(e.get(...o),...s)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XNe{constructor(e,n,r,a,i,s){this.separator=Rd(e),this.nGramWidths=n,this.leftPad=Rd(r),this.rightPad=Rd(a),this.padWidth=i,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,a,i,s){for(let o=0;o<i;++o){const l=this.getPadWidth(s),u=Math.max(0,l-o),c=Math.max(0,l-(i-(o+1))),d=s-(u+c),f=n+(u>0?0:o-l);let p=0;p+=u*this.leftPad.length;for(let b=0;b<d;++b)p+=e[f+b].length;p+=c*this.rightPad.length;const m=u+c+d-1;p+=m*this.separator.length,r[a+o]=new Uint8Array(p);const g=r[a+o];let v=0;const y=b=>b.forEach(w=>g[v++]=w);for(let b=0;b<u;++b)y(this.leftPad),y(this.separator);for(let b=0;b<d-1;++b)y(e[f+b]),y(this.separator);if(d>0){y(e[f+d-1]);for(let b=0;b<c;++b)y(this.separator),y(this.rightPad)}else{for(let b=0;b<c-1;++b)y(this.rightPad),y(this.separator);y(this.rightPad)}}}compute(e,n){const r=e.length,a=n.length;if(a>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<a;++u){let c=n[u]>=l;if(c=c&&n[u]<=r,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${r}]`);l=n[u]}if(l!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${l}`)}const i=a-1,s=bi("int32",a);if(r===0||a===0){const l=new Array(r);for(let u=0;u<=i;++u)s[u]=0;return[l,s]}s[0]=0;for(let l=1;l<=i;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(d=>{c+=this.getNumNGrams(u,d)}),this.preserveShort&&u>0&&c===0&&(c=1),s[l]=s[l-1]+c}const o=new Array(s[i]);for(let l=0;l<i;++l){const u=n[l];let c=s[l];if(this.nGramWidths.forEach(d=>{const f=n[l+1]-n[l],p=this.getNumNGrams(f,d);this.createNGrams(e,u,o,c,p,d),c+=p}),this.preserveShort&&c===s[l]){const d=n[l+1]-n[l];if(d===0)continue;const f=d+2*this.padWidth,p=1;this.createNGrams(e,u,o,c,p,f)}}return[o,s]}}function QNe(t,e,n,r,a,i,s,o){return new XNe(n,r,a,i,s,o).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZNe(t,e,n,r){if(!t.length)return;if(e.length===0){for(let i=0;i<t.length;++i)r.push(t.subarray(i,i+1));return}if(e.length===1){const i=e[0];let s=t.indexOf(i);for(;s!==-1;){const o=t.subarray(0,s);(!n||o.length!==0)&&r.push(o),t=t.subarray(s+1),s=t.indexOf(i)}(!n||t.length!==0)&&r.push(t);return}let a=0;for(let i=0;i<t.length+1;i++)if(i===t.length||e.indexOf(t[i])!==-1){const s=t.subarray(a,i);(!n||s.length!==0)&&r.push(s),a=i+1}}function JNe(t,e,n){const r=t.length,a=[];let i=0,s=0;const o=new Array(r);for(let f=0;f<r;++f){const p=a.length;ZNe(t[f],e,n,a);const m=a.length-p;o[f]=m,i+=m,s=Math.max(s,m)}const l=bi("int32",i*2),u=new Array(i),c=[r,s];let d=0;for(let f=0;f<r;++f)for(let p=0;p<o[f];++p)l[d*2]=f,l[d*2+1]=p,u[d]=a[d],++d;return[l,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eEe(t,e){const n=bi("int32",t.length);for(let r=0;r<t.length;++r)n[r]=Zye(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tEe=Rs((t,e)=>t-e);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nEe(t,e){const n=new Array(t.rank);for(let a=0;a<n.length;a++)n[a]=t.shape[a]*e[a];const r=gr(n,t.dtype);for(let a=0;a<r.values.length;++a){const i=r.indexToLoc(a),s=new Array(t.rank);for(let l=0;l<s.length;l++)s[l]=i[l]%t.shape[l];const o=t.locToIndex(s);r.values[a]=t.values[o]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _m=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function PG(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,l=e-n+1,u=Math.log(o),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(o-c)/o)*Math.sign(l-o/2),f=Math.max(n,Math.floor(e-l*c/o+d)),p=Math.min(r,Math.floor(e+(o-l)*c/o+d));PG(t,e,f,p)}const a=t[e];let i=n,s=r;for(Uh(t,n,e),_m(t[r],a)>0&&Uh(t,n,r);i<s;){for(Uh(t,i,s),i++,s--;_m(t[i],a)<0;)i=i+1;for(;_m(t[s],a)>0;)s=s-1}_m(t[n],a)===0?Uh(t,n,s):(s=s+1,Uh(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}}function rEe(t,e,n,r,a){const i=e[e.length-1],[s,o]=[t.length/i,i],l=cu(n,s*r),u=cu("int32",s*r);for(let d=0;d<s;d++){const f=d*o,p=t.subarray(f,f+o);let m=new Array(p.length);p.forEach((b,w)=>m[w]={value:b,index:w}),r<m.length&&(PG(m,r),m=m.slice(0,r)),a&&m.sort(_m);const g=d*r,v=l.subarray(g,g+r),y=u.subarray(g,g+r);for(let b=0;b<r;b++)v[b]=m[b].value,y[b]=m[b].index}const c=e.slice();return c[c.length-1]=r,[gr(c,n,l),gr(c,"int32",u)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aEe(t,e,n,r){const a=Zn(e,n)[0],i=[1,n[0],1];for(let m=0;m<a;m++)i[0]*=n[m];i[1]=n[a];for(let m=a+1;m<n.length;m++)i[2]*=n[m];const s={},o=new Int32Array(n[a]),l=new Bg(i,r,t),u=[],c=i[0]===1&&i[2]===1;for(let m=0;m<n[a];m++){let g;if(c)g=t[m].toString();else{const v=[];for(let y=0;y<i[0];y++)for(let b=0;b<i[2];b++)v.push(l.get(y,m,b));g=v.join(",")}if(s[g]!==void 0)o[m]=s[g];else{const v=Object.keys(s).length;s[g]=v,o[m]=v,u.push(m)}}const d=i.slice();d[1]=Object.keys(s).length;const f=new Bg(d,r);u.forEach((m,g)=>{for(let v=0;v<i[0];v++)for(let y=0;y<i[2];y++)f.set(l.get(v,m,y),v,g,y)});const p=n.slice();return p[a]=d[1],{outputValues:f.values,outputShape:p,indices:o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iEe=Object.freeze(Object.defineProperty({__proto__:null,addImpl:oNe,bincountImpl:lNe,bincountReduceImpl:uNe,castImpl:sNe,ceilImpl:cNe,concatImpl:dNe,equalImpl:hNe,expImpl:fNe,expm1Impl:pNe,floorImpl:mNe,gatherNdImpl:gNe,gatherV2Impl:yNe,greaterEqualImpl:vNe,greaterImpl:bNe,lessEqualImpl:xNe,lessImpl:wNe,linSpaceImpl:_Ne,logImpl:kNe,maxImpl:SNe,maximumImpl:NNe,minimumImpl:ENe,multiplyImpl:FG,negImpl:TNe,notEqualImpl:CNe,prodImpl:ANe,raggedGatherImpl:PNe,raggedTensorToTensorImpl:MNe,rangeImpl:BNe,rsqrtImpl:zNe,scatterImpl:UNe,sigmoidImpl:jNe,simpleAbsImpl:iNe,sliceImpl:VNe,sparseFillEmptyRowsImpl:WNe,sparseReshapeImpl:GNe,sparseSegmentReductionImpl:HNe,sqrtImpl:qNe,squaredDifferenceImpl:YNe,stridedSliceImpl:KNe,stringNGramsImpl:QNe,stringSplitImpl:JNe,stringToHashBucketFastImpl:eEe,subImpl:tEe,tileImpl:nEe,topKImpl:rEe,transposeImpl:INe,uniqueImpl:aEe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:sEe,bincountImpl:MG,bincountReduceImpl:oEe,castImpl:lEe,ceilImpl:uEe,concatImpl:cEe,equalImpl:dEe,expImpl:hEe,expm1Impl:fEe,floorImpl:pEe,gatherNdImpl:mEe,gatherV2Impl:gEe,greaterImpl:yEe,greaterEqualImpl:bEe,lessImpl:vEe,lessEqualImpl:wEe,linSpaceImpl:xEe,logImpl:_Ee,maxImpl:kEe,maximumImpl:SEe,minimumImpl:NEe,multiplyImpl:EEe,negImpl:TEe,notEqualImpl:CEe,prodImpl:IEe,raggedGatherImpl:AEe,raggedTensorToTensorImpl:DEe,rangeImpl:REe,rsqrtImpl:$Ee,scatterImpl:OEe,sigmoidImpl:LEe,simpleAbsImpl:BG,sliceImpl:FEe,sparseFillEmptyRowsImpl:PEe,sparseReshapeImpl:MEe,sparseSegmentReductionImpl:zG,sqrtImpl:BEe,stridedSliceImpl:zEe,stringNGramsImpl:UEe,stringSplitImpl:jEe,stringToHashBucketFastImpl:VEe,subImpl:WEe,tileImpl:GEe,topKImpl:HEe,transposeImpl:iI,uniqueImpl:qEe}=iEe;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UG(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Xa(t,e){return e===1?[t]:UG(t,e)}function YEe(t,e){if(t===1)return"rc";let n="";for(let r=0;r<t;r++)n+=e[r],r<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KEe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=oi(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Xa("rc",this.rank),r=Un(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),s=this.getOutput(n);this.userCode=`
        void main() {
          ${r} rc = getOutputCoords();

          if(${a}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${s}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let r=0;r<=1;r++)for(let a=0;a<=1;a++){let i=`${r===0?"r":"rp1"}, ${a===0?"c":"cp1"}`;for(let s=2;s<this.rank;s++)i=`${e[e.length-1-s]},`+i;n.push(i)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let r=this.rank-2;r<this.rank;r++)n+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${a};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jG{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length);let r="";for(let a=0;a<4;a++){let i="thisRC = rc;";a%2===1&&(i+="thisRC.z += 1;"),a>1&&(i+="thisRC.y += 1;"),r+=`
        ${i}
        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${a}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${a>0?"}":""}
      `}this.userCode=`
      ${XEe(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?rI():nI(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}function XEe(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?XSe(["r","c","d"],"inputShape"):vh(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QEe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,r){const a=h$(n,r),i=f$(e,a,r);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const s=d$(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();const l=this.freeTextures[i].shift();return this.usedTextures[i].push(l),l}let o;return a===ga.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===ga.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===ga.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===ga.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===ga.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(o),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),o}releaseTexture(e,n,r,a){if(this.freeTextures==null)return;const i=h$(r,a),s=f$(n,i,a);s in this.freeTextures||(this.freeTextures[s]=[]);const o=d$(n,i,this.gpgpu.gl,this.gpgpu.textureConfig,a),l=Ne().get("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const u=this.usedTextures[s],c=u.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(c,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function ZEe(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function d$(t,e,n,r,a){const i=JEe(e,r);let s;if(a){const[l,u]=Op(t[0],t[1]);s=l*u}else{const[l,u]=L0(t[0],t[1]);s=l*u}const o=ZEe(n,i);return s*o}function JEe(t,e){switch(t){case ga.PACKED_2X2_FLOAT32:return OG(e);case ga.PACKED_2X2_FLOAT16:return LG(e);case ga.UNPACKED_FLOAT32:return DG(e);case ga.UNPACKED_FLOAT16:return RG(e);case ga.PACKED_4X1_UNSIGNED_BYTE:return $G(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function eTe(t){return Ne().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?ga.PACKED_2X2_FLOAT32:ga.UNPACKED_FLOAT32:t?ga.PACKED_2X2_FLOAT16:ga.UNPACKED_FLOAT16}function h$(t,e){if(t===vs.UPLOAD)return ga.PACKED_2X2_FLOAT32;if(t===vs.RENDER||t==null)return eTe(e);if(t===vs.DOWNLOAD||t===vs.PIXELS)return ga.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function f$(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xl{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const fo="if (isnan(x)) return x;",tTe="return x;",p$="return abs(x);",nTe="return (x >= 0.0) ? x : (exp(x) - 1.0);",rTe=fo+`
  return (x < 0.0) ? 0.0 : x;
`,aTe=fo+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Oh="return x;",iTe="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sTe="return x;",oTe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,lTe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,uTe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,cTe="return 1.0 / (1.0 + exp(-1.0 * x));";class xd{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class dTe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length);const n=e.length,r=Xa("rc",n),a=Un(n),i=YEe(n,r),s=r.slice(-2),o=n<=1?"rc":`vec2(${s.join(",")})`;this.userCode=`
      void main() {
        ${a} rc = getOutputCoords();
        vec4 packedInput = getA(${i});

        setOutput(getChannel(packedInput, ${o}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hTe=AW,fTe=1e-7,pTe=1e-4,r2={};function mTe(t){return t in r2||(r2[t]={}),r2[t]}const gTe=Ne().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),yTe=600;function bTe(){return Ne().global.screen==null?1024:Ne().global.screen.height*Ne().global.screen.width*window.devicePixelRatio*yTe/1024/1024}class Lw extends IU{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!Ne().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof Yx)n=e;else{const r=Ho(Ne().getNumber("WEBGL_VERSION"),e);n=new Yx(r)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const r=Ho(Ne().getNumber("WEBGL_VERSION"));n=new Yx(r),this.binaryCache=mTe(Ne().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new QEe(this.gpgpu),this.numMBBeforeWarning=bTe(),this.texData=new Sye(this,sd())}nextDataId(){return Lw.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,n,r){if((Ne().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Ne().getBool("DEBUG"))&&this.checkNumericalProblems(e),r==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:r,values:e,usage:vs.UPLOAD,refCount:1}),a}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,r,a,i){if(Ne().getBool("DEBUG")&&this.checkNumericalProblems(n),a==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:a,values:n,usage:vs.UPLOAD,refCount:i})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:a,complexTensorInfos:i,slice:s,shape:o,isPacked:l}=n;if(s!=null){let f;l?f=new xd(o,Oh):f=new Xl(o,Oh);const p=this.runWebGLProgram(f,[{dataId:e,shape:o,dtype:a}],a),m=this.readSync(p.dataId);return this.disposeIntermediateTensorInfo(p),m}if(r!=null)return this.convertAndCacheOnCPU(e);if(a==="string")return r;const u=this.activeTimers!=null;let c;u&&(c=fs());let d;if(a==="complex64"){const f=this.readSync(i.real.dataId),p=this.readSync(i.imag.dataId);d=IS(f,p)}else d=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=fs()-c),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const m=this.pendingRead.get(e);return new Promise(g=>m.push(g))}const n=this.texData.get(e),{values:r,shape:a,slice:i,dtype:s,complexTensorInfos:o,isPacked:l}=n;if(i!=null){let m;l?m=new xd(a,Oh):m=new Xl(a,Oh);const g=this.runWebGLProgram(m,[{dataId:e,shape:a,dtype:s}],s),v=this.read(g.dataId);return this.disposeIntermediateTensorInfo(g),v}if(r!=null)return this.convertAndCacheOnCPU(e);if(Ne().getBool("DEBUG")&&!Ne().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&Ne().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(s!=="complex64"&&Ne().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const m=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(m.texture.texture,...J1(a))}this.pendingRead.set(e,[]),s!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(s==="complex64"){const m=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),g=m[0],v=m[1];d=IS(g,v)}else if(u==null)d=this.getValuesFromTexture(e);else{const m=Qe(a);d=this.gpgpu.downloadFloat32MatrixFromBuffer(u,m)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const m=this.gpgpu.gl;ft(m,()=>m.deleteBuffer(u))}const f=this.convertAndCacheOnCPU(e,d),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach(m=>m(f)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&sd().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,n={}){const r=this.texData.get(e),{values:a,shape:i,slice:s,dtype:o,isPacked:l,texture:u}=r;if(o==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(s!=null){let p;l?p=new xd(i,Oh):p=new Xl(i,Oh);const m=this.runWebGLProgram(p,[{dataId:e,shape:i,dtype:o}],o),g=this.readToGPU(m,n);return this.disposeIntermediateTensorInfo(m),g}if(u==null)throw a!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,n.customTexShape),d=sd().makeTensorFromTensorInfo(c),f=this.texData.get(c.dataId);return Object.assign({tensorRef:d},f.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(a=>op(a));return gr(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return gr(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const r=e[n];if(!kSe(r))throw Ne().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${r} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:a}=this.texData.get(e),i=Qe(n);if(Ne().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const f=this.decode(e),p=this.texData.get(f.dataId),m=this.gpgpu.downloadMatrixFromPackedTexture(p.texture.texture,...J1(n)).subarray(0,i);return this.disposeIntermediateTensorInfo(f),m}const s=Ne().getBool("WEBGL_PACK")&&a===!0,o=s?Gx(n):n,l=s?new B5e(o):new M5e(o),u=this.runWebGLProgram(l,[{shape:o,dtype:r,dataId:e}],"float32"),c=this.texData.get(u.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(u),d}timerAvailable(){return Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,r=[];let a=!1;this.programTimersStack==null?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();const i=rp(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),s=rp(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,a&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(i);o.kernelMs=Eye(l),o.getExtraProfileInfo=()=>l.map((u,c)=>({name:s[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:fs(),endMs:null}}endTimer(e){return Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=fs(),e)}async getQueryTime(e){if(Ne().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return r!=null&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:a,usage:i,isPacked:s,slice:o}=this.texData.get(e),l=o&&o.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,s)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=gTe){return Ne().getBool("WEBGL_CPU_FORWARD")&&e.every(r=>this.texData.get(r.dataId).texture==null&&Qe(r.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){Ys("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return hTe(e.shape,n)}packedUnaryOp(e,n,r){const a=new xd(e.shape,n),i=this.compileAndRun(a,[e],r);return sd().makeTensorFromTensorInfo(i)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const a=BG(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,a)}if(Ne().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,p$,e.dtype);const n=new Xl(e.shape,p$),r=this.compileAndRun(n,[e]);return sd().makeTensorFromTensorInfo(r)}makeTensorInfo(e,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&uw(r[0])){const i=r.map(s=>Rd(s));a=this.write(i,e,n)}else a=this.write(r,e,n);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:n}}makeOutput(e,n,r){return sd().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,r),this)}unpackTensor(e){const n=new dTe(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new KEe(e.shape),r=!0;return this.runWebGLProgram(n,[e],e.dtype,null,r)}packedReshape(e,n){const r=[cp(e.shape),...dp(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[cp(n),...dp(n)],s=new jG(i,r),o=!0,l=[r],u=this.runWebGLProgram(s,[a],e.dtype,l,o);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(e,n){const r=this.texData.get(e),{isPacked:a,shape:i,dtype:s}=r;if(n!=null){const f=Qe(i),p=n[0]*n[1]*4;V(f<=p,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const o=Gx(i);let l;a?l=new P5e(o):l=new F5e(o);const u=!0,c=[n??J1(o)],d=this.runWebGLProgram(l,[{shape:o,dtype:s,dataId:e}],s,c,u,n);return{dtype:s,shape:i,dataId:d.dataId}}runWebGLProgram(e,n,r,a,i=!1,s){const o=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===Hg.DENSE){const y=s??J1(e.outputShape);l.texShape=y.map(b=>b*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),Qe(o.shape)===0)return l.values=cu(o.dtype,0),o;const u=[],c=n.map(y=>{if(y.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let b=this.texData.get(y.dataId);if(b.texture==null){if(!e.packedInputs&&Qe(y.shape)<=Ne().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:y.shape,texData:null,isUniform:!0,uniformValues:b.values};e.packedInputs&&(b.isPacked=!0,b.shape=y.shape)}if(this.uploadToGPU(y.dataId),!!b.isPacked!=!!e.packedInputs)y=b.isPacked?this.unpackTensor(y):this.packTensor(y),u.push(y),b=this.texData.get(y.dataId);else if(b.isPacked&&!yb(b.shape,y.shape)){const w=y,x=y.shape;y.shape=b.shape,y=this.packedReshape(y,x),u.push(y),b=this.texData.get(y.dataId),w.shape=x}return{shape:y.shape,texData:b,isUniform:!1}});this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:l,isUniform:!1},f=L5e(e,c,d),p=this.getAndSaveBinary(f,()=>$5e(this.gpgpu,e,c,d)),m=this.activeTimers!=null;let g;m&&(g=this.startTimer()),Ne().get("ENGINE_COMPILE_ONLY")||O5e(this.gpgpu,p,c,d,a),u.forEach(y=>this.disposeIntermediateTensorInfo(y)),m&&(g=this.endTimer(g),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(g)}));const v=Ne().get("WEBGL_FLUSH_THRESHOLD");if(v>0){const y=fs();y-this.lastGlFlushTime>v&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=y)}if(!Ne().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&i===!1){const y=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),y}return o}compileAndRun(e,n,r,a,i=!1){return r=r||n[0].dtype,this.runWebGLProgram(e,n,r,a,i)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(Ne().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=me(()=>{if(!Ne().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Ne().getBool("DEBUG");Ne().set("DEBUG",!1);const n=this.abs(wt(1e-8)).dataSync()[0];if(Ne().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?fTe:pTe}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:a,values:i,texture:s,usage:o,isPacked:l}=n;if(s!=null)return;const u=this.activeTimers!=null;let c;u&&(c=fs());let d=n.texShape;if(d==null&&(d=USe(r,l),n.texShape=d),i!=null){const f=Gx(r);let p,m=d[1],g=d[0];const v=i instanceof Uint8Array||i instanceof Uint8ClampedArray;(l||!v)&&([m,g]=Op(d[0],d[1])),l?p=new U5e(f,v):p=new z5e(f,v);const y=v?[g,m]:d,b=this.makeTensorInfo(y,a),w=this.texData.get(b.dataId);v?w.usage=vs.PIXELS:w.usage=vs.UPLOAD,w.texShape=y,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),m,g,i);const x=[[g,m]],k=!0,S=this.runWebGLProgram(p,[b],a,x,k),E=this.texData.get(S.dataId);n.texShape=E.texShape,n.isPacked=E.isPacked,n.usage=E.usage,Ne().get("ENGINE_COMPILE_ONLY")?this.disposeData(S.dataId):(n.texture=E.texture,n.values=null,this.texData.delete(S.dataId)),this.disposeIntermediateTensorInfo(b),u&&(this.uploadWaitMs+=fs()-c)}else{const f=this.acquireTexture(d,o,a,l);n.texture=f}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:a}=r;return this.releaseGPUData(e),n!=null&&(r.values=vTe(n,a)),r.values}acquireTexture(e,n,r,a){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const i=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${i} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,a)}computeBytes(e,n){return e[0]*e[1]*Z4(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const r=new Promise(a=>{try{this.checkCompletion_(n),a(!0)}catch(i){throw i}});e.push(r)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await VW(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(NG(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:n,customUniformLocations:r,infLoc:a,nanLoc:i,inShapesLocations:s,inTexShapesLocations:o,outShapeLocation:l,outShapeStridesLocation:u,outTexShapeLocation:c}=AG(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=n,e.customUniformLocations=r,e.infLoc=a,e.nanLoc=i,e.inShapesLocations=s,e.inTexShapesLocations=o,e.outShapeLocation=l,e.outShapeStridesLocation=u,e.outTexShapeLocation=c}}}Lw.nextDataId=0;function vTe(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let r=0;r<n.length;++r)n[r]=Math.round(t[r]);return n}else throw new Error(`Unknown dtype ${e}`)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */iV()&&cve("webgl",()=>new Lw,2);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sI=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class hp{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=jt(n,r),this.enableShapeUniforms=oi(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M0=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class B0{constructor(e,n,r,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=jt(n,r);const i=this.outputShape.length;this.enableShapeUniforms=oi(i);let s="";if(a)if(i===0||Qe(this.outputShape)===1)s=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(s=`
          ${Un(i)} coords = getOutputCoords();
        `,i===1)this.enableShapeUniforms?s+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:s+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Xa("coords",i);this.enableShapeUniforms?s+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= outShape[${i} - 2];
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= outShape[${i} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:s+=`
            bool nextRowOutOfBounds =
              (${l[i-2]} + 1) >= ${this.outputShape[i-2]};
            bool nextColOutOfBounds =
              (${l[i-1]} + 1) >= ${this.outputShape[i-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${s}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qi(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const wTe={kernelName:fw,backendName:"webgl",kernelFunc:Qi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gc(t){const{inputs:e,backend:n}=t,{real:r,imag:a}=e,i=n.makeTensorInfo(r.shape,"complex64"),s=n.texData.get(i.dataId),o=Qi({inputs:{x:r},backend:n}),l=Qi({inputs:{x:a},backend:n});return s.complexTensorInfos={real:o,imag:l},i}const xTe={kernelName:UU,backendName:"webgl",kernelFunc:Gc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VG="return (a < 0.) ? b * a : a;",WG=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function _Te(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{alpha:i}=r,s=n.makeTensorInfo([],"float32",Ep(i,"float32")),o=Ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new B0(WG,a.shape,s.shape):new hp(VG,a.shape,s.shape),l=n.runWebGLProgram(o,[a,s],"float32");return n.disposeIntermediateTensorInfo(s),l}const kTe={kernelName:rC,backendName:"webgl",kernelFunc:_Te};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GG="return (a < 0.) ? b * a : a;",HG=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function STe(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e,i=Ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new B0(HG,r.shape,a.shape):new hp(GG,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}const NTe={kernelName:kC,backendName:"webgl",kernelFunc:STe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bp="if (isnan(x)) return x;";function on({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:r}){return({inputs:a,backend:i})=>{const{x:s}=a,o=i,l=r||s.dtype;if(o.shouldExecuteOnCPU([s])&&n!=null){const d=o.texData.get(s.dataId),f=n(d.values,l);return o.makeTensorInfo(s.shape,l,f)}const u=Ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let c;return u?c=new xd(s.shape,e):c=new Xl(s.shape,t),o.runWebGLProgram(c,[s],l)}}function Na({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:a,dtype:i}){return({inputs:s,backend:o})=>{const{a:l,b:u}=s,c=o;if(r&&l.dtype==="complex64"){const m=c.texData.get(l.dataId),g=c.texData.get(u.dataId),[v,y]=[[m.complexTensorInfos.real,g.complexTensorInfos.real],[m.complexTensorInfos.imag,g.complexTensorInfos.imag]].map(w=>{const[x,k]=w,S={dataId:x.dataId,dtype:x.dtype,shape:l.shape},E={dataId:k.dataId,dtype:k.dtype,shape:u.shape},I=new hp(t,l.shape,u.shape);return c.runWebGLProgram(I,[S,E],El(x.dtype,k.dtype))}),b=Gc({inputs:{real:v,imag:y},backend:c});return c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(y),b}const d=i||El(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&a!=null){const m=c.texData.get(l.dataId).values,g=c.texData.get(u.dataId).values,v=l.dtype==="string"?Gg(m):m,y=l.dtype==="string"?Gg(g):g,[b,w]=a(l.shape,u.shape,v,y,d),x=c.makeTensorInfo(w,d),k=c.texData.get(x.dataId);return k.values=b,x}const f=Ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let p;return f?p=new B0(e,l.shape,u.shape,n):p=new hp(t,l.shape,u.shape),c.runWebGLProgram(p,[l,u],d)}}function qg(t,e=!1){if(t==="linear")return e?sTe:tTe;if(t==="relu")return e?lTe:rTe;if(t==="elu")return e?oTe:nTe;if(t==="relu6")return e?uTe:aTe;if(t==="prelu")return e?HG:GG;if(t==="leakyrelu")return e?WG:VG;if(t==="sigmoid")return e?cTe:iTe;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qG{constructor(e,n,r,a=!1,i=!1,s=!1,o=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=oi(this.outputShape.length);const c=a?e[1]:e[2],d=Math.ceil(c/2),f=a?"i * 2, rc.y":"rc.y, i * 2",p=i?"rc.z, i * 2":"i * 2, rc.z",m=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],g=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let v="",y="";o&&(l?v=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${o}
        }`:u?v=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${o}
        }`:v=`vec4 activation(vec4 x) {
          ${o}
        }`,y="result = activation(result);");const b=s?"result += getBiasAtOutCoords();":"";s&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let w="rc.x",x="rc.x";e[0]<n[0]?w=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(x=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`
      ${v}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < ${d}; i++) {
          int batchA = ${w};
          int batchB = ${x};
          vec4 a = getMatrixA(batchA, ${f});
          vec4 b = getMatrixB(batchB, ${p});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${m[0]} * ${g[0]});
          result += (${m[1]} * ${g[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${b}

        ${y}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m$={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class g${constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=jt(n,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y$="return a * b;";function oI(t){const{inputs:e,backend:n}=t,{a:r,b:a}=e,i=El(r.dtype,a.dtype);if(r.dtype==="complex64"){const o=n.texData.get(r.dataId),l=n.texData.get(a.dataId),u=new g$(m$.REAL,r.shape,a.shape),c=new g$(m$.IMAG,r.shape,a.shape),d=[{dataId:o.complexTensorInfos.real.dataId,dtype:o.complexTensorInfos.real.dtype,shape:r.shape},{dataId:o.complexTensorInfos.imag.dataId,dtype:o.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:a.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:a.shape}],f=n.runWebGLProgram(u,d,"float32"),p=n.runWebGLProgram(c,d,"float32"),m=Gc({inputs:{real:f,imag:p},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}if(n.shouldExecuteOnCPU([r,a])){const o=n.texData.get(r.dataId),l=n.texData.get(a.dataId),[u,c]=EEe(r.shape,a.shape,o.values,l.values,i),d=n.makeTensorInfo(c,i),f=n.texData.get(d.dataId);return f.values=u,d}let s;return Ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?s=new B0(y$,r.shape,a.shape):s=new hp(y$,r.shape,a.shape),n.runWebGLProgram(s,[r,a],i)}const ETe={kernelName:gC,backendName:"webgl",kernelFunc:oI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TTe(t,e,n){const r=[cp(t.shape),...dp(t.shape)],a={dtype:t.dtype,shape:r,dataId:t.dataId},i=[cp(e),...dp(e)],s=new jG(i,r),o=!0,l=[r],u=n.runWebGLProgram(s,[a],t.dtype,l,o);return{dataId:u.dataId,shape:e,dtype:u.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function it(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{shape:i}=r,s=n,o=Qe(a.shape),l=Tye(i,o),u=Qe(l);V(o===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`);const c=s.texData.get(a.dataId);return c.isPacked&&!yb(a.shape,l)&&!(c.texture!==null&&yb(c.shape,l))?TTe(a,l,s):(s.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype})}const CTe={kernelName:TC,backendName:"webgl",kernelFunc:it};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b${constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:s}=e;this.outputShape=[a,s];const o=Math.floor(r/4)*4,l=r%4;let u="sumValue += dot(values, ones);";if(n!=null){const d=1/n;u=`sumValue += dot(values * ${ap(d)?d.toPrecision(2):d}, ones);`}let c="";i%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${o}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${o};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ITe{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:i,outSize:s}=e;this.outputShape=[a,s];let o="0.0",l="";n==="prod"?o="1.0":n==="min"?(o="1.0 / 1e-20",l="min"):n==="max"&&(o="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(r/4)*4,d=r%4;let f=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,p="vec4";n==="all"?(o="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,p="bvec4"):n==="any"&&(o="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,p="bvec4");let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${o};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${m}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${o});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${f}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===2}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${f}
        } else if (${d===3}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${f}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ATe(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],r=$w(n);e.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return e}function xh(t,e,n,r){const a=ATe(t.shape);let i=t;for(let s=0;s<a.length;s++){const{inSize:o,windowSize:l,outSize:u}=a[s];let c,d;n==="mean"?c=s===0?new b$({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u},o):new b$({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u}):c=new ITe({windowSize:l,inSize:o,batchSize:t.shape[0],outSize:u},n),d=i,i=r.runWebGLProgram(c,[i],e),d.dataId!==t.dataId&&r.disposeIntermediateTensorInfo(d)}return i}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class DTe{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let s=0;s<r.length;s++)r[s]=e[n[s]];this.outputShape=r,this.rank=r.length;const a=Un(this.rank),i=RTe(n);this.userCode=`
    void main() {
      ${a} resRC = getOutputCoords();
      setOutput(getA(${i}));
    }
    `}}function RTe(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(e);for(let a=0;a<t.length;a++)r[t[a]]=n[a];return r.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $Te{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let c=0;c<r.length;c++)r[c]=e[n[c]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=Un(this.rank),i=UG("rc",this.rank),s=new Array(this.rank);for(let c=0;c<n.length;c++)s[n[c]]=i[c];const o=`vec2(${s.slice(-2).join()})`,l=`++${i[this.rank-1]} < ${r[this.rank-1]}`,u=`getChannel(getA(${s.join()}), ${o})`;this.userCode=`
    void main() {
      ${a} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${i[this.rank-1]};
      if(++${i[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fw(t,e,n){const r=Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new $Te(t.shape,e):new DTe(t.shape,e);return n.runWebGLProgram(r,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OTe(t,e,n,r){const a=e,i=t.shape.length,s=Zn(a,t.shape);let o=s;const l=ts(o,i),u=l!=null;let c=t;u&&(c=Fw(t,l,r),o=co(o.length,i)),Jo("sum",o,i);const[d,f]=Zo(c.shape,o);let p=d;n&&(p=Ni(d,s));const m=Qe(f),v=Qe(t.shape)/m,y=it({inputs:{x:c},attrs:{shape:[v,m]},backend:r}),b=n6(t.dtype),w=xh(y,b,"sum",r),x=it({inputs:{x:w},attrs:{shape:p},backend:r});return r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(w),u&&r.disposeIntermediateTensorInfo(c),x}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pw(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,keepDims:s}=r;return OTe(a,i,s,n)}const LTe={kernelName:VC,backendName:"webgl",kernelFunc:Pw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ri(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{perm:i}=r,s=n,o=a.shape.length,l=new Array(o);for(let c=0;c<l.length;c++)l[c]=a.shape[i[c]];let u;if(s.shouldExecuteOnCPU([a])){const d=s.texData.get(a.dataId).values,f=iI(d,a.shape,a.dtype,i,l);u=s.makeTensorInfo(l,a.dtype);const p=s.texData.get(u.dataId);p.values=f}else u=Fw(a,i,s);return u}const FTe={kernelName:qm,backendName:"webgl",kernelFunc:ri};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YG=1e3;function vb({a:t,b:e,transposeA:n,transposeB:r,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){const u=t.shape.length,c=e.shape.length,d=n?t.shape[u-2]:t.shape[u-1],f=r?e.shape[c-1]:e.shape[c-2],p=n?t.shape[u-1]:t.shape[u-2],m=r?e.shape[c-2]:e.shape[c-1],g=t.shape.slice(0,-2),v=e.shape.slice(0,-2),y=Qe(g),b=Qe(v),x=jt(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([p,m]);V(d===f,()=>`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${r} must match.`);const k=n?[y,d,p]:[y,p,d],S=r?[b,m,f]:[b,f,m],E=it({inputs:{x:t},backend:a,attrs:{shape:k}}),I=it({inputs:{x:e},backend:a,attrs:{shape:S}}),C=[E,I],R=Math.max(y,b),z=n?E.shape[1]:E.shape[2],H=i!=null,U=s!=null,q=l==="leakyrelu",Q=l!=null?qg(l,!0):null,re=H||U||q||Q!=null;let he;if((p===1||m===1)&&z>YG&&re===!1){let se=E,X=I;n&&(se=ri({inputs:{x:E},backend:a,attrs:{perm:[0,2,1]}}),C.push(se)),r&&(X=ri({inputs:{x:I},backend:a,attrs:{perm:[0,2,1]}}),C.push(X));const ne=m!==1,ke=m===1;let Oe=se;ne&&(Oe=it({inputs:{x:se},backend:a,attrs:{shape:[R,z,1]}}),C.push(Oe));const We=m===1?2:1;let ze=X;ke&&(ze=it({inputs:{x:X},backend:a,attrs:{shape:[R,1,z]}}),C.push(ze));const be=oI({inputs:{a:Oe,b:ze},backend:a});he=Pw({inputs:{x:be},backend:a,attrs:{axis:We,keepDims:!0}}),C.push(be)}else{const se=El(t.dtype,e.dtype),X=new qG(k,S,[R,p,m],n,r,H,Q,U,q),ne=[E,I];if(i!=null&&ne.push(i),U&&ne.push(s),q){const ke=a.makeTensorInfo([],"float32",Ep(o,"float32"));ne.push(ke),C.push(ke)}he=a.runWebGLProgram(X,ne,se)}const ae=it({inputs:{x:he},backend:a,attrs:{shape:x}});C.push(he);for(const se of C)a.disposeIntermediateTensorInfo(se);return ae}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PTe(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:i,bias:s,preluActivationWeights:o}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return vb({a,b:i,transposeA:l,transposeB:u,backend:n,bias:s,preluActivationWeights:o,leakyreluAlpha:d,activation:c})}const MTe={kernelName:iS,backendName:"webgl",kernelFunc:PTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v$="return abs(x);";function BTe(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])&&r.dtype!=="complex64"){const i=n.texData.get(r.dataId),s=BG(i.values);return n.makeTensorInfo(r.shape,r.dtype,s)}let a;return Ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new xd(r.shape,v$):a=new Xl(r.shape,v$),n.runWebGLProgram(a,[r],r.dtype)}const zTe={kernelName:gT,backendName:"webgl",kernelFunc:BTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UTe=fo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,jTe=on({opSnippet:UTe}),VTe={kernelName:yT,backendName:"webgl",kernelFunc:jTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WTe=fo+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,GTe=on({opSnippet:WTe}),HTe={kernelName:bT,backendName:"webgl",kernelFunc:GTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w$="return a + b;",qTe=Na({opSnippet:w$,packedOpSnippet:w$,supportsComplex:!0,cpuKernelImpl:sEe}),YTe={kernelName:dw,backendName:"webgl",kernelFunc:qTe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KTe{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((i,s)=>`T${s}`);const r=[];this.variableNames.forEach(i=>{r.push(`float v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        float result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XTe{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((i,s)=>`T${s}`);const r=[];this.variableNames.forEach(i=>{r.push(`vec4 v${i} = get${i}AtOutCoords();`)});const a=this.variableNames.map(i=>`v${i}`).join(" + ");this.userCode=`
      void main() {
        ${r.join(`
        `)}

        vec4 result = ${a};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X2(t){const{inputs:e,backend:n}=t,r=e;if(r.length===1)return Qi({inputs:{x:r[0]},backend:n});if(r.length>Ne().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(r.length/2),u=X2({inputs:r.slice(0,l),backend:n}),c=X2({inputs:r.slice(l),backend:n});return X2({inputs:[u,c],backend:n})}const a=r.map(l=>l.dtype).reduce((l,u)=>El(l,u)),i=r.map(l=>l.shape),o=Ne().getBool("WEBGL_PACK")?new XTe(r[0].shape,i):new KTe(r[0].shape,i);return n.runWebGLProgram(o,r,a)}const QTe={kernelName:vT,backendName:"webgl",kernelFunc:X2};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZTe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,keepDims:s}=r,o=a.shape.length,l=Zn(i,a.shape);let u=l;const c=ts(u,o);let d=a;c!=null&&(d=ri({inputs:{x:a},backend:n,attrs:{perm:c}}),u=co(u.length,o)),Jo("all",u,o);const[f,p]=Zo(d.shape,u),m=Qe(p),g=it({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),v=xh(g,g.dtype,"all",n);let y;if(s){const b=Ni(f,l);y=it({inputs:{x:v},backend:n,attrs:{shape:b}})}else y=it({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),c!=null&&n.disposeIntermediateTensorInfo(d),y}const JTe={kernelName:LU,backendName:"webgl",kernelFunc:ZTe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,keepDims:s}=r,o=a.shape.length,l=Zn(i,a.shape);let u=l;const c=ts(u,o);let d=a;c!=null&&(d=ri({inputs:{x:a},backend:n,attrs:{perm:c}}),u=co(u.length,o)),Jo("any",u,o);const[f,p]=Zo(d.shape,u),m=Qe(p),g=it({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),v=xh(g,g.dtype,"any",n);let y;if(s){const b=Ni(f,l);y=it({inputs:{x:v},backend:n,attrs:{shape:b}})}else y=it({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),c!=null&&n.disposeIntermediateTensorInfo(d),y}const tCe={kernelName:FU,backendName:"webgl",kernelFunc:eCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nCe{constructor(e,n,r){this.variableNames=["A"];const{windowSize:a,batchSize:i,outSize:s}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,s];const o=n==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${a};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${a}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${o} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rCe{constructor(e,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,V(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);const i=e[e.length-1],s=Math.ceil(i/n);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),a||this.variableNames.push("bestIndicesA");const o=this.outputShape,l=o.length,u=Un(l),c=Xa("coords",l);let d,f;if(s===1){f=l+1;const I=Un(f);d=`
        ${I} sourceLocR = ${I}(${c.join()}, 0);
        ++${c[l-1]};
        ${I} sourceLocG = ${I}(${c.join()}, 0);
        ++${c[l-2]};
        ${I} sourceLocA = ${I}(${c.join()}, 0);
        --${c[l-1]};
        ${I} sourceLocB = ${I}(${c.join()}, 0);
        --${c[l-2]};`}else f=l,d=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const p=["x","y","z","w","u","v"].slice(0,f),m="."+p[f-1],g=p.map(I=>"int "+I),v=Xa("sourceLocR",f-1).concat("inIdx.r"),y=Xa("sourceLocG",f-1).concat("inIdx.g"),b=Xa("sourceLocB",f-1).concat("inIdx.b"),w=Xa("sourceLocA",f-1).concat("inIdx.a"),x=r==="max"?"greaterThan":"lessThan",k=a?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${w.join()})));`,S=`vec4(
            getAChannel(${v.join()}),
            hasNextCol ? getAChannel(${y.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${w.join()}) : 0.)`,E=a?"":`
      float getBestIndicesAChannel(${g.join()}) {
        return getChannel(getBestIndicesA(${p.join()}),
                                          vec2(${p.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${g.join()}) {
        return getChannel(getA(${p.join()}),
                               vec2(${p.slice(-2).join()}));
      }
      ${E}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${o[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${o[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},
          sourceLocB${m}, sourceLocA${m}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${S};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${k}
          vec4 candidate = ${S};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${x}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KG(t,e,n,r=null){let a=e.shape[0],i=e.shape[1];r!=null&&(a=r.shape[0],i=r.shape[1]);const s=$w(i),o={windowSize:s,inSize:i,batchSize:a,outSize:Math.ceil(i/s)},l=new nCe(o,n,r==null),u=[e];r!=null&&u.push(r);const c=t.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const d=KG(t,e,n,c);return t.disposeIntermediateTensorInfo(c),d}function XG(t,e,n,r=null){const a=r!=null?r.shape:e.shape,i=a[a.length-1],s=$w(i),o=new rCe(a,s,n,r==null),l=r==null?[e]:[e,r],u=t.runWebGLProgram(o,l,"int32");if(u.shape.length===e.shape.length){const c=XG(t,e,n,u);return t.disposeIntermediateTensorInfo(u),c}return u}function QG(t,e,n,r){const a=[n];if(Jo("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,e.shape.length),!Ne().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const i=[],s=t.texData.get(e.dataId),o=s!==null&&s.isPacked;let l=e;o&&(l=t.unpackTensor(e),i.push(l));const[u,c]=Zo(l.shape,a),d=Qe(c),f=it({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});i.push(f);const p=KG(t,f,r);i.push(p);const m=it({inputs:{x:p},backend:t,attrs:{shape:u}});return i.forEach(g=>t.disposeIntermediateTensorInfo(g)),m}return XG(t,e,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i}=r;let s=Zn(i,a.shape);const o=ts(s,a.shape.length);let l=a;const u=[];o!=null&&(l=ri({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=co(s.length,l.shape.length)),Jo("argMax",[s[0]],l.shape.length);const c=QG(n,l,s[0],"max");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const iCe={kernelName:wT,backendName:"webgl",kernelFunc:aCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i}=r;let s=Zn(i,a.shape);const o=ts(s,a.shape.length);let l=a;const u=[];o!=null&&(l=ri({inputs:{x:a},backend:n,attrs:{perm:o}}),u.push(l),s=co(s.length,l.shape.length)),Jo("argMin",[s[0]],l.shape.length);const c=QG(n,l,s[0],"min");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const oCe={kernelName:xT,backendName:"webgl",kernelFunc:sCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lCe=fo+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,uCe=on({opSnippet:lCe}),cCe={kernelName:_T,backendName:"webgl",kernelFunc:uCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dCe=fo+"return log(x + sqrt(x * x + 1.0));",hCe=on({opSnippet:dCe}),fCe={kernelName:kT,backendName:"webgl",kernelFunc:hCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pCe=fo+`
  return atan(x);
`,mCe=on({opSnippet:pCe}),gCe={kernelName:ST,backendName:"webgl",kernelFunc:mCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yCe=sI+`
  return atan(a, b);
`,bCe=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+M0+`
  return result;
`,vCe=Na({opSnippet:yCe,packedOpSnippet:bCe}),wCe={kernelName:ET,backendName:"webgl",kernelFunc:vCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xCe=fo+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,_Ce=on({opSnippet:xCe}),kCe={kernelName:NT,backendName:"webgl",kernelFunc:_Ce};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yg{constructor(e,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;const g=n==="avg",v=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,y=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(g||(b="-1.0 / 1e-20"),r){const I=">=";this.userCode=`
        const ivec2 strides = ivec2(${o}, ${l});
        const ivec2 pads = ivec2(${p}, ${m});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${I} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${a?i?v:y:`wR * ${f} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const w="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / count");const k=Math.floor(s/4)*4,S=s%4,E=`
      if (${g}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${w}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${o}, ${l});
      const ivec2 pads = ivec2(${p}, ${m});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${k}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${E}
          }

          int xC = xCCorner + ${k};
          if (${S===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${S===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${E}
          } else if (${S===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${E}
          }
        }
        setOutput(${x});
      }
    `}}class lI{constructor(e,n,r,a=!1,i=!1){if(this.variableNames=["x"],n==="avg"&&r)throw new Error("Cannot compute positions for average pool.");const s=e.filterWidth,o=e.strideDepth,l=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,d=e.dilationHeight,f=e.dilationWidth,p=e.effectiveFilterDepth,m=e.effectiveFilterHeight,g=e.effectiveFilterWidth,v=e.padInfo.front,y=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const w=n==="avg";let x="0.0";if(w||(x="-1.0 / 1e-20"),r){const R=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${o}, ${l}, ${u});
        const ivec3 pads = ivec3(${v}, ${y}, ${b});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${p};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${m};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${g};
                  wC += ${f}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${R} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${a?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${m} * ${g} +
                      wR * ${g} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const k="max";let S=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(S="avgValue / count");const E=Math.floor(s/4)*4,I=s%4,C=`
      if (${w}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${k}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${o}, ${l}, ${u});
      const ivec3 pads = ivec3(${v}, ${y}, ${b});
      const float initializationValue = ${x};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${x});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${p};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${m};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${E}; wC += 4) {
              int xC = xCCorner + wC * ${f};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                getValue(batch, xD, xR, xC + 3 * ${f}, ch)
              );

              ${C}
            }

            int xC = xCCorner + ${E};
            if (${I===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${C}
            } else if (${I===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                initializationValue,
                initializationValue
              );

              ${C}
            } else if (${I===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${f}, ch),
                getValue(batch, xD, xR, xC + 2 * ${f}, ch),
                initializationValue
              );

              ${C}
            }
          }
          setOutput(${S});
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;F0(a,"avgPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;V(Ci(s,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);const c=yh(a.shape,i,s,u,o,l);if(c.filterWidth===1&&c.filterHeight===1&&gn(c.inShape,c.outShape))return Qi({inputs:{x:a},backend:n});const d=new Yg(c,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}const NCe={kernelName:TT,backendName:"webgl",kernelFunc:SCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ECe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:i,strides:s,pad:o,dimRoundingMode:l,dataFormat:u}=r,c=[1,1,1],d=I0(a.shape,i,s,c,o,l,u),f=new lI(d,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}const TCe={kernelName:CT,backendName:"webgl",kernelFunc:ECe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CCe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=l-1-e.padInfo.top,d=u-1-e.padInfo.left,f=1/(n*r);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${d});
      const float avgMultiplier = float(${f});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${s}) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${o}) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class ICe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,i=e.strideDepth,s=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,m=d-1-e.padInfo.front,g=f-1-e.padInfo.top,v=p-1-e.padInfo.left,y=1/(n*r*a);this.userCode=`
      const ivec3 pads = ivec3(${m}, ${g}, ${v});
      const float avgMultiplier = float(${y});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${i}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${f};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${p};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ACe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:i}=e,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,d=[1,1,1],f=I0(s.shape,o,l,d,u,c),p=new ICe(f);return n.runWebGLProgram(p,[a],s.dtype)}const DCe={kernelName:MU,backendName:"webgl",kernelFunc:ACe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RCe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:i}=e,s=i;F0([a,i],"avgPoolGrad");const{filterSize:o,strides:l,pad:u}=r,c=yh(s.shape,o,l,1,u),d=new CCe(c);return n.runWebGLProgram(d,[a],s.dtype)}const $Ce={kernelName:PU,backendName:"webgl",kernelFunc:RCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OCe(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:i}=e,{transposeA:s,transposeB:o}=r;return vb({a,b:i,transposeA:s,transposeB:o,backend:n})}const LCe={kernelName:IT,backendName:"webgl",kernelFunc:OCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FCe{constructor(e,n,r,a,i,s){this.outputShape=[],this.variableNames=["x","mean","variance"],jt(e,n),jt(e,r);let o="0.0";a!=null&&(jt(e,a),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="1.0";i!=null&&(jt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${o};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${s}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PCe{constructor(e,n,r,a,i,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],jt(e,n),jt(e,r);let o="vec4(0.0)";a!=null&&(jt(e,a),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="vec4(1.0)";i!=null&&(jt(e,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${o};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${s}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCe=({inputs:t,backend:e,attrs:n})=>{const{x:r,mean:a,variance:i,offset:s,scale:o}=t;V(a.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),V(s==null||a.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),V(o==null||a.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[r,a,i];let c=null;s!=null&&(c=s.shape,u.push(s));let d=null;o!=null&&(d=o.shape,u.push(o));const f=Ne().getBool("WEBGL_PACK_NORMALIZATION")?new PCe(r.shape,a.shape,i.shape,c,d,l):new FCe(r.shape,a.shape,i.shape,c,d,l);return e.runWebGLProgram(f,u,u[0].dtype)},BCe={kernelName:QT,backendName:"webgl",kernelFunc:MCe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zCe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=Un(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const r=UCe(this.rank);let a;const i=e.map((s,o)=>`sourceLoc.${RS[o]} = start[${o}] + coords.${RS[o]};`);a=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${i.join(`
`)}
      `,this.userCode=`
      void main() {
        ${a}
        setOutput(getSource(${r}));
      }
    `}}const RS=["x","y","z","w","u","v"];function UCe(t){if(t===1)return"sourceLoc";if(t<=6)return RS.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jCe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=Un(this.rank),r=Xa("coords",this.rank),a=Xa("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":`vec2(${a.slice(-2).join()})`,s=`getChannel(getSource(${a.join()}), ${i})`,o=`
      result.x = ${s};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${a[this.rank-1]};
        result.y = ${s};
        --${a[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${a[this.rank-2]};
        result.z = ${s};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${a[this.rank-1]};
          result.w = ${s};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((c,d)=>`start[${d}]`).join()});`:e.map((c,d)=>`${a[d]} = ${r[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${o}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VCe(t,e,n,r){const a=r.texData.get(t.dataId),i=r.makeTensorInfo(n,t.dtype),s=r.texData.get(i.dataId);Object.assign(s,a),s.refCount=1,s.shape=n,s.dtype=t.dtype;let o=c6(e,_a(t.shape));a.slice&&(o+=a.slice.flatOffset),s.slice={flatOffset:o,origDataId:a.slice&&a.slice.origDataId||t.dataId};const l=r.dataRefCount.get(s.slice.origDataId)||1;return r.dataRefCount.set(s.slice.origDataId,l+1),i}function zp(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:i,size:s}=r,[o,l]=d6(a,i,s);if(OV(a,o,l),Qe(l)===0)return n.makeTensorInfo(l,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||a.dtype==="string"){const d=n.texData.get(a.dataId),f=FEe(d.values,o,l,a.shape,a.dtype);return n.makeTensorInfo(l,a.dtype,f)}const{isPacked:u}=n.texData.get(a.dataId),c=u6(a.shape,o,l);if(u||!c){const d=Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new jCe(l):new zCe(l),f=[o];return n.runWebGLProgram(d,[a],a.dtype,f)}return n.uploadToGPU(a.dataId),VCe(a,o,l,n)}const WCe={kernelName:FC,backendName:"webgl",kernelFunc:zp};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GCe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:i,crops:s}=r;V(a.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((b,w)=>b*w),l=X6(a.shape,i,o),u=Q6(l.length,i.length),c=Z6(a.shape,i,o),d=XW(s,i.length),f=QW(c,s,i.length),p=[],m=it({inputs:{x:a},backend:n,attrs:{shape:l}}),g=ri({inputs:{x:m},backend:n,attrs:{perm:u}}),v=it({inputs:{x:g},backend:n,attrs:{shape:c}}),y=zp({inputs:{x:v},backend:n,attrs:{begin:d,size:f}});return p.push(m),p.push(g),p.push(v),p.forEach(b=>n.disposeIntermediateTensorInfo(b)),y},HCe={kernelName:AT,backendName:"webgl",kernelFunc:GCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qCe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:i}=e,{size:s}=r,o=n.readSync(a.dataId),l=n.readSync(i.dataId),u=MG(o,l,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,u)}const YCe={kernelName:BU,backendName:"webgl",kernelFunc:qCe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KCe(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,i=n.readSync(r.dataId),s=n.readSync(a.dataId),o=jt(Array.from(i),Array.from(s));return n.makeTensorInfo([o.length],"int32",Int32Array.from(o))}const XCe={kernelName:zU,backendName:"webgl",kernelFunc:KCe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QCe="return float(a != b);",ZG=Na({opSnippet:QCe,cpuKernelImpl:CEe,dtype:"bool"}),ZCe={kernelName:vj,backendName:"webgl",kernelFunc:ZG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.texData.get(r.dataId);return Qi({inputs:{x:a.complexTensorInfos.real},backend:n})}const JCe={kernelName:Ej,backendName:"webgl",kernelFunc:z0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e6e="return float(int(x));";function t6e(t,e){const n=new Xl(t.shape,e6e),r=e.runWebGLProgram(n,[t],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $S(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dtype:i}=r;if(i==="complex64"){if(a.dtype==="complex64")return Qi({inputs:{x:a},backend:n});const s=Fr(a.shape),o=$S({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),l=Gc({inputs:{real:o,imag:s},backend:n});return s.dispose(),n.disposeIntermediateTensorInfo(o),l}if(a.dtype==="complex64"){const s=z0({inputs:{input:a},backend:n}),o=$S({inputs:{x:s},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(s),o}if(!Aye(a.dtype,i)){const s=Qi({inputs:{x:a},backend:n});return{dataId:s.dataId,shape:s.shape,dtype:i}}if(n.shouldExecuteOnCPU([a])){const s=n.texData.get(a.dataId).values,[o,l,u]=lEe(s,a.shape,a.dtype,i);return n.makeTensorInfo(o,l,u)}if(i==="int32")return t6e(a,n);if(i==="bool"){const s=n.makeTensorInfo([],"bool",cu("bool",1)),l=ZG({inputs:{a,b:s},backend:n});return n.disposeIntermediateTensorInfo(s),l}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}const n6e={kernelName:hw,backendName:"webgl",kernelFunc:$S};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x$="return ceil(x);",r6e=on({opSnippet:x$,packedOpSnippet:x$,cpuKernelImpl:uEe}),a6e={kernelName:DT,backendName:"webgl",kernelFunc:r6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i6e{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class s6e{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{clipValueMin:i,clipValueMax:s}=r;let o;Ne().getBool("WEBGL_PACK_CLIP")?o=new s6e(a.shape):o=new i6e(a.shape);const l=[[i],[s]];return n.runWebGLProgram(o,[a],a.dtype,l)}const l6e={kernelName:RT,backendName:"webgl",kernelFunc:o6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u6e{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _$(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function c6e(t){const{inputs:e,backend:n}=t,{x:r}=e,a=n.texData.get(r.dataId),i=new u6e(r.shape),s=[_$(r,a.complexTensorInfos.real),_$(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,s,s[0].dtype)}const d6e={kernelName:$T,backendName:"webgl",kernelFunc:c6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class h6e{constructor(e){this.outputShape=[],this.outputShape=lh(e,1),this.variableNames=e.map((s,o)=>`T${o}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let s=1;s<n.length;s++)n[s]=n[s-1]+e[s][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let s=1;s<n.length;s++){const o=n[s-1];r.push(`else if (yC < ${n[s]}) setOutput(getT${s}(yR, yC-${o}));`)}const a=n.length,i=n[n.length-1];r.push(`else setOutput(getT${a}(yR, yC-${i}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class f6e{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=lh(e,n);const r=this.outputShape,a=r.length,i=Un(a),s=Xa("coords",a),o=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map((g,v)=>`T${v}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let g=1;g<l.length;g++)l[g]=l[g-1]+e[g][n];const u=o[n],c=o.slice(-2),d=o.join();let f=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${c.join()}));
        }`;for(let g=1;g<l.length;g++){const v=l[g-1];f+=`
        if (${u} < ${l[g]}  && ${u} >= ${l[g-1]}) {
          return getChannel(
            getT${g}(${a2(o,u,v)}),
            vec2(${a2(c,u,v)}));
        }`}const p=l.length,m=l[l.length-1];f+=`
        return getChannel(
          getT${p}(${a2(o,u,m)}),
          vec2(${a2(c,u,m)}));`,this.userCode=`
      float getValue(${o.map(g=>"int "+g)}) {
        ${f}
      }

      void main() {
        ${i} coords = getOutputCoords();
        vec4 result = vec4(getValue(${s}), 0., 0., 0.);

        ${s[a-1]} = ${s[a-1]} + 1;
        if (${s[a-1]} < ${r[a-1]}) {
          result.g = getValue(${s});
        }

        ${s[a-2]} = ${s[a-2]} + 1;
        if (${s[a-2]} < ${r[a-2]}) {
          result.a = getValue(${s});
        }

        ${s[a-1]} = ${s[a-1]} - 1;
        if (${s[a-2]} < ${r[a-2]} &&
            ${s[a-1]} < ${r[a-1]}) {
          result.b = getValue(${s});
        }
        setOutput(result);
      }
    `}}function a2(t,e,n){const r=t.indexOf(e);return t.map((i,s)=>s===r?`${i} - ${n}`:i).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mw(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.texData.get(r.dataId);return Qi({inputs:{x:a.complexTensorInfos.imag},backend:n})}const p6e={kernelName:oj,backendName:"webgl",kernelFunc:Mw};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function km(t,e,n){const r=t[0].dtype;if(r==="complex64"){const d=t.map(v=>z0({inputs:{input:v},backend:n})),f=t.map(v=>Mw({inputs:{input:v},backend:n})),p=km(d,e,n),m=km(f,e,n),g=Gc({inputs:{real:p,imag:m},backend:n});return d.forEach(v=>n.disposeIntermediateTensorInfo(v)),f.forEach(v=>n.disposeIntermediateTensorInfo(v)),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}let a=n.shouldExecuteOnCPU(t);if(r==="string"&&(a=!0),a){const d=t.map(b=>{const x=[-1,Qe(b.shape.slice(e))];return it({inputs:{x:b},backend:n,attrs:{shape:x}})}),f=d.map(b=>({vals:n.readSync(b.dataId),shape:b.shape})),p=lh(d.map(b=>b.shape),1),m=d[0].shape[0]===1,g=cEe(f,p,r,m),v=lh(t.map(b=>b.shape),e),y=n.makeTensorInfo(v,r,g);return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),y}const i=Ne().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(t.length>i){const d=[];for(let p=0;p<t.length;p+=i){const m=t.slice(p,p+i);d.push(km(m,e,n))}const f=km(d,e,n);for(const p of d)n.disposeIntermediateTensorInfo(p);return f}if(Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&t[0].shape.length>1){const d=new f6e(t.map(f=>f.shape),e);return n.runWebGLProgram(d,t,r)}const{tensors2D:s,outShape:o}=m6e(t,e,n),l=new h6e(s.map(d=>d.shape)),u=n.runWebGLProgram(l,s,r);s.forEach(d=>n.disposeIntermediateTensorInfo(d));const c=it({inputs:{x:u},attrs:{shape:o},backend:n});return n.disposeIntermediateTensorInfo(u),c}function m6e(t,e,n){const r=lh(t.map(i=>i.shape),e);return{tensors2D:t.map(i=>it({inputs:{x:i},attrs:{shape:[-1,Qe(i.shape.slice(e))]},backend:n})),outShape:r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JG(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r,i=Zn(a,e[0].shape)[0],s=e.map(u=>u.shape);WW(s,i);const o=lh(e.map(u=>u.shape),i);if(Qe(o)===0)return n.makeTensorInfo(o,e[0].dtype,[]);const l=e.filter(u=>Qe(u.shape)>0);return l.length===1?Qi({inputs:{x:l[0]},backend:n}):km(l,i,n)}const g6e={kernelName:OT,backendName:"webgl",kernelFunc:JG};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eH{constructor(e,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const s=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,f=e.filterHeight,p=e.filterWidth,m=Math.floor(e.inChannels/4)*4,g=e.inChannels%4,v=e.dataFormat==="channelsLast",y=v?1:2,b=v?2:3,w=v?3:1;let x="",k="";r&&(a?x=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?x=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:x=`
          float activation(float x) {
            ${r}
          }
        `,k="result = activation(result);");const S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${x}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${w}];

        ivec2 xRCCorner =
            ivec2(coords[${y}], coords[${b}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${f}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${p}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${m}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${v}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${g===1}) {

              if (${v}) {
                dotProd +=
                    getX(batch, xR, xC, ${m}) *
                    getW(wR, wC, ${m}, d2);
              } else {
                dotProd +=
                    getX(batch, ${m}, xR, xC) *
                    getW(wR, wC, ${m}, d2);
              }

            } else if (${g===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2)
              );

              if (${v}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${g===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${m}, d2),
                getW(wR, wC, ${m} + 1, d2),
                getW(wR, wC, ${m} + 2, d2)
              );

              if (${v}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${m}),
                  getX(batch, xR, xC, ${m} + 1),
                  getX(batch, xR, xC, ${m} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${m}, xR, xC),
                  getX(batch, ${m} + 1, xR, xC),
                  getX(batch, ${m} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${S}
        ${k}
        setOutput(result);
      }
    `}}class y6e{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,a=e.padInfo.left,i=e.strideDepth,s=e.strideHeight,o=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,p=e.filterWidth,m=Math.floor(e.inChannels/4)*4,g=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${i}, ${s}, ${o});
      const ivec3 pads = ivec3(${n}, ${r}, ${a});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${f}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${p}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${m}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${g===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${m}) *
                  getW(wF, wR, wC, ${m}, d2);
              } else if (${g===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${g===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${m}),
                  getX(batch, xF, xR, xC, ${m} + 1),
                  getX(batch, xF, xR, xC, ${m} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${m}, d2),
                  getW(wF, wR, wC, ${m} + 1, d2),
                  getW(wF, wR, wC, ${m} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tH{constructor(e,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oi(this.outputShape.length);const s=e.padInfo.left,o=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let f=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<c;v++)f+=`
           vec4 xTexelC${v*2};
           int xTexelC${v*2}Ready;
           vec4 xTexelC${v*2+1};
           int xTexelC${v*2+1}Ready;
           vec4 xC${v};`;f+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let v=0;v<c;v++)f+=`
           xTexelC${v*2} = vec4(0.0);
           xTexelC${v*2}Ready = 0;
           xTexelC${v*2+1} = vec4(0.0);
           xTexelC${v*2+1}Ready = 0;
           xC${v} = vec4(0.0);`;f+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let v=0;v<(d+1)/2;v++){const y=v*2;if(f+=`
           xC = xCCorner + ${y*l};
           `,o===1){if(y<c&&(s%2===1?(f+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }
               `,l===1&&y>0?f+=`
                 xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);
                 `:f+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${y} = vec4(previous.zw, xTexelC${y}.xy);
                   } else {
                     xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);
                   }
                   `):f+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 xC${y} = xTexelC${y};
                 `,y+1<c)){const b=s%2===0?fT(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(f+=`
                   xCOffset = xC + imod(pads[1], 2) + ${b};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                     xTexelC${y+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${y+1}.zw = vec2(0.0);
                     }
                     xTexelC${y+1}Ready = 1;
                   }
                   `,l>1?f+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);
                     } else {
                      xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);
                     }
                     `:f+=`
                     xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);
                     `):b===1?f+=`
                     xC${y+1} = xTexelC${y};
                     `:f+=`
                     xCOffset = xC + ${b};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                       xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${y+1}.zw = vec2(0.0);
                       }
                       xTexelC${y+1}Ready = 1;
                     }

                     xC${y+1} = xTexelC${y+1};
                     `}}else y<c&&(s%2===1?(f+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {
                   xTexelC${y+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${y+1}.zw = vec2(0.0);
                   }
                   xTexelC${y+1}Ready = 1;
                 }

                 xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
               `,y+1<c&&(f+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);
                 `)):(f+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {
                   xTexelC${y} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${y}.zw = vec2(0.0);
                   }
                   xTexelC${y}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {
                   xTexelC${y+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${y+1}.zw = vec2(0.);
                   }
                   xTexelC${y+1}Ready = 1;
                 }

                 xC${y} = vec4(
                   xTexelC${y}.xy, xTexelC${y+1}.xy);
               `,y+1<c&&(f+=`
                   xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);
                 `)));y<c&&(f+=`
             wTexel = getW(r, ${y}, d1, d2);
             dotProd += xC${y}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${y}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,y+1<c&&(f+=`
               wTexel = getW(r, ${y+1}, d1, d2);
               dotProd += xC${y+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${y+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}f+=`
     }
   `,f+=`
     }
   `,f+=`
     }
   `;let p="",m="";r&&(a?p=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:i?p=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:p=`vec4 activation(vec4 x) {
           ${r}
         }`,m="result = activation(result);");const g=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${p}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${f}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${g}
         ${m}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b6e{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=oi(this.outputShape.length);const{dataFormat:r}=n,a=si(),i=r==="channelsLast",s=i?1:2,o=i?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let d=0;d<=1;d++)u+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${s}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${o}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${i}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${a.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wb(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function nH({x:t,filter:e,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){const l=t.shape,u=r.texData.get(t.dataId),c=n.inChannels,d=l[0]*l[1]*l[2],f=n.outChannels,p=n.dataFormat==="channelsLast",m=!1,g=!1;let v;const y=[];if(i!=null){const x=wb(i.shape,p);x!=null&&(i=it({inputs:{x:i},backend:r,attrs:{shape:x}}),y.push(i))}if(a!=null){const x=wb(a.shape,p);x!=null&&(a=it({inputs:{x:a},backend:r,attrs:{shape:x}}),y.push(a))}if(!((d===1||f===1)&&c>YG)&&u.isPacked&&p&&u.texture!=null&&l[2]%2!==0&&gn(u.shape.slice(-3),l.slice(-3))){const x=l[0]*l[1]*(l[2]+1),k={dataId:t.dataId,shape:[1,x,n.inChannels],dtype:t.dtype},S=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,V(yb(u.shape,k.shape),()=>`packed reshape ${u.shape} to ${k.shape} isn't free`);const E=it({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});y.push(E);const I=vb({a:k,b:E,backend:r,transposeA:m,transposeB:g,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s}),C=r.texData.get(I.dataId);V(C.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=S,C.shape=n.outShape,v=Qi({inputs:{x:I},backend:r}),v.shape=n.outShape,y.push(I)}else{const x=n.outHeight*n.outWidth,k=it({inputs:{x:t},backend:r,attrs:{shape:p?[n.batchSize,x,n.inChannels]:[n.batchSize,n.inChannels,x]}}),S=it({inputs:{x:e},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),E=vb({a:p?k:S,b:p?S:k,transposeA:!p,transposeB:g,backend:r,bias:a,activation:o,preluActivationWeights:i,leakyreluAlpha:s});v=it({inputs:{x:E},backend:r,attrs:{shape:n.outShape}}),y.push(k),y.push(S),y.push(E)}for(const x of y)r.disposeIntermediateTensorInfo(x);return v}function rH({x:t,filter:e,convInfo:n,backend:r,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:o=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:f,dataFormat:p}=n,m=p==="channelsLast",g=l*u*c,v=f*d,y=[n.batchSize,g,v],b=!0,w=!1,x=[];if(i!=null){const ae=wb(i.shape,m);ae!=null&&(i=it({inputs:{x:i},backend:r,attrs:{shape:ae}}),x.push(i))}if(a!=null){const ae=wb(a.shape,m);ae!=null&&(a=it({inputs:{x:a},backend:r,attrs:{shape:ae}}),x.push(a))}const k=it({inputs:{x:e},backend:r,attrs:{shape:[1,g,Qe(e.shape)/g]}});x.push(k);const S=new b6e(y,n),E=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],I=r.runWebGLProgram(S,[t],"float32",E),C=it({inputs:{x:I},backend:r,attrs:{shape:y}});x.push(I),x.push(C);const R=a!=null,z=i!=null,H=o==="leakyrelu",U=o?qg(o,!0):null,q=new qG(m?C.shape:k.shape,m?k.shape:C.shape,m?[n.batchSize,v,n.outChannels]:[n.batchSize,n.outChannels,v],b,w,R,U,z,H),Q=m?[C,k]:[k,C];if(a&&Q.push(a),z&&Q.push(i),H){const ae=r.makeTensorInfo([],"float32",Ep(s,"float32"));Q.push(ae),x.push(ae)}const re=r.runWebGLProgram(q,Q,"float32"),he=it({inputs:{x:re},backend:r,attrs:{shape:n.outShape}});x.push(re);for(const ae of x)r.disposeIntermediateTensorInfo(ae);return he}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i}=e,{strides:s,pad:o,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=Cp(l),f=Ds(a.shape,i.shape,s,u,o,c,!1,d);let p;if(f.filterHeight===1&&f.filterWidth===1&&f.dilationHeight===1&&f.dilationWidth===1&&f.strideHeight===1&&f.strideWidth===1&&(f.padInfo.type==="SAME"||f.padInfo.type==="VALID"))p=nH({x:a,filter:i,convInfo:f,backend:n});else if(f.strideWidth<=2&&d==="channelsLast"&&Ne().getBool("WEBGL_EXP_CONV")){const g=new tH(f),v=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];p=n.runWebGLProgram(g,[a,i],"float32",v)}else if(Ne().getBool("WEBGL_CONV_IM2COL"))p=rH({x:a,filter:i,convInfo:f,backend:n});else{const g=new eH(f);p=n.runWebGLProgram(g,[a,i],"float32")}const m=it({inputs:{x:p},backend:n,attrs:{shape:f.outShape}});return n.disposeIntermediateTensorInfo(p),m}const w6e={kernelName:LT,backendName:"webgl",kernelFunc:v6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class x6e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,s=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              if (${s}) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class _6e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=e.dataFormat==="channelsLast",o=n-1-e.padInfo.top,l=r-1-e.padInfo.left,u=s?1:2,c=s?2:3,d=s?3:1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${s}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class k6e{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,i=e.padInfo.front,s=e.padInfo.top,o=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${i};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${s};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${a} - ${o};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class S6e{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,i=e.strideDepth,s=e.strideHeight,o=e.strideWidth,l=n-1-e.padInfo.front,u=r-1-e.padInfo.top,c=a-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${i}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${a}; wC++) {
              float dyC = float(dyCCorner + wC) / ${o}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${a} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:i}=e,{strides:s,pad:o,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=Cp(l),f=Ds(a.shape,c,s,1,o,u,!1,d),p=new x6e(f);return n.runWebGLProgram(p,[a,i],"float32")}const E6e={kernelName:jU,backendName:"webgl",kernelFunc:N6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T6e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:i}=e,{inputShape:s,strides:o,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=Cp(u),f=Ds(s,i.shape,o,1,l,c,!1,d),p=new _6e(f);return n.runWebGLProgram(p,[a,i],"float32")}const C6e={kernelName:FT,backendName:"webgl",kernelFunc:T6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i}=e,{strides:s,pad:o,dilations:l}=r,u=A0(a.shape,i.shape,s,l,o),c=new y6e(u);return n.runWebGLProgram(c,[a,i],"float32")}const A6e={kernelName:PT,backendName:"webgl",kernelFunc:I6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:i}=e,{strides:s,pad:o,filterShape:l}=r,u=A0(a.shape,l,s,1,o),c=new k6e(u);return n.runWebGLProgram(c,[a,i],"float32")}const R6e={kernelName:VU,backendName:"webgl",kernelFunc:D6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $6e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:i}=e,{pad:s,strides:o,inputShape:l}=r,u=A0(l,i.shape,o,1,s),c=new S6e(u);return n.runWebGLProgram(c,[a,i],"float32")}const O6e={kernelName:WU,backendName:"webgl",kernelFunc:$6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L6e=Bp+`
  return cos(x);
`,F6e=on({opSnippet:L6e}),P6e={kernelName:MT,backendName:"webgl",kernelFunc:F6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M6e=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,B6e=on({opSnippet:M6e}),z6e={kernelName:BT,backendName:"webgl",kernelFunc:B6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class U6e{constructor(e,n,r,a,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[s,o,l,u]=e,[c]=n,[d,f]=r;this.outputShape=[c,d,f,u];const p=a==="bilinear"?1:0,[m,g]=[`${o-1}.0`,`${l-1}.0`],[v,y,b]=d>1?[`${(o-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${m} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${m}`],[w,x,k]=f>1?[`${(l-1)/(f-1)}`,"(x2-x1) * width_ratio",`x1*${g} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${g}`];this.userCode=`
      const float height_ratio = float(${v});
      const float width_ratio = float(${w});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${s}) {
          return;
        }

        float height_scale = ${y};
        float width_scale = ${x};

        float in_y = ${b};
        if( in_y < 0.0 || in_y > ${m} ) {
          setOutput(float(${i}));
          return;
        }
        float in_x = ${k};
        if( in_x < 0.0 || in_x > ${g} ) {
          setOutput(float(${i}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${p} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j6e=t=>{const{inputs:e,backend:n,attrs:r}=t,{image:a,boxes:i,boxInd:s}=e,{cropSize:o,method:l,extrapolationValue:u}=r,c=new U6e(a.shape,i.shape,o,l,u);return n.runWebGLProgram(c,[a,i,s],"float32")},V6e={kernelName:HU,backendName:"webgl",kernelFunc:j6e};var Kg;(function(t){t.Prod="*",t.Sum="+"})(Kg||(Kg={}));class k${constructor(e,n,r,a){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,s=this.op===Kg.Prod?"1.0":"0.0",o=r?s:`getX(${S$(i,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";r?(u=a?`end != ${l-1}`:"end != 0",c=a?"end + 1":"end - 1"):(u=a?`end + pow2 < ${l}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${Un(i)} coords = getOutputCoords();
        int end = ${N$(i,"coords",this.op)};
        float val = ${o};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${N$(i,"coords",this.op)} = idx;
          val ${this.op}= getX(${S$(i,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function S$(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function N$(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aH(t,e,n,r,a,i){const s=e.shape.length,o=ts([r],s);let l=e;o!=null&&(l=ri({inputs:{x:e},backend:n,attrs:{perm:o}}));const u=co(1,s)[0];if(u!==s-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=Qi({inputs:{x:l},backend:n});for(let f=0;f<=Math.ceil(Math.log2(c))-1;f++){const p=new k$(t,l.shape,!1,i),m=[[f]],g=d;d=n.runWebGLProgram(p,[d],d.dtype,m),n.disposeIntermediateTensorInfo(g)}if(a){const f=new k$(t,l.shape,a,i),p=d;d=n.runWebGLProgram(f,[d],d.dtype),n.disposeIntermediateTensorInfo(p)}if(o!=null){const f=Ap(o),p=ri({inputs:{x:d},backend:n,attrs:{perm:f}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),p}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,exclusive:s,reverse:o}=r;return aH(Kg.Prod,a,n,i,s,o)}const G6e={kernelName:GU,backendName:"webgl",kernelFunc:W6e};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,exclusive:s,reverse:o}=r;return aH(Kg.Sum,a,n,i,s,o)}const q6e={kernelName:zT,backendName:"webgl",kernelFunc:H6e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:i}=e,{size:s,binaryOutput:o}=r;if(a.shape.length===1){const l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=MG(l,u,i.dtype,i.shape,s);return n.makeTensorInfo([s],i.dtype,c)}else if(a.shape.length===2){const l=n.bufferSync(a),u=n.bufferSync(i),c=oEe(l,u,s,o);return n.makeTensorInfo(c.shape,i.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const K6e={kernelName:qU,backendName:"webgl",kernelFunc:Y6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class X6e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockSize:i,dataFormat:s}=r,o=a.shape[0],l=s==="NHWC"?a.shape[1]:a.shape[2],u=s==="NHWC"?a.shape[2]:a.shape[3],c=s==="NHWC"?a.shape[3]:a.shape[1],d=l*i,f=u*i,p=c/(i*i),m=s==="NHWC"?[o,d,f,p]:[o,p,d,f],g=new X6e(m,i,s);return n.runWebGLProgram(g,[a],a.dtype)}const Z6e={kernelName:YU,backendName:"webgl",kernelFunc:Q6e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iH{constructor(e,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oi(this.outputShape.length);const s=e.filterHeight,o=e.filterWidth,l=e.outChannels/e.inChannels;let u="",c="";r&&(a?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:u=`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${s}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${o}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sH{constructor(e,n=!1,r=null,a=!1,i=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=oi(this.outputShape.length);const s=e.outChannels/e.inChannels,o=e.padInfo.left,l=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,f=d;let p=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<d;y++)p+=`
          vec4 xTexelC${y*2};
          int xTexelC${y*2}Ready;
          vec4 xTexelC${y*2+1};
          int xTexelC${y*2+1}Ready;
          vec4 xC${y};`;p+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let y=0;y<d;y++)p+=`
          xTexelC${y*2} = vec4(0.0);
          xTexelC${y*2}Ready = 0;
          xTexelC${y*2+1} = vec4(0.0);
          xTexelC${y*2+1}Ready = 0;
          xC${y} = vec4(0.0);`;p+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let y=0;y<(f+1)/2;y++){const b=y*2;if(p+=`
          xC = xCCorner + ${b*u};
          `,l===1){if(b<d&&(o%2===1?(p+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,u===1&&b>0?p+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:p+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):p+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<d)){const w=o%2===0?fT(u):u;u%2===0&&o%2===1||u%2!==0&&o%2!==1?(p+=`
                  xCOffset = xC + imod(pads[1], 2) + ${w};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,u>1?p+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:p+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):w===1?p+=`
                    xC${b+1} = xTexelC${b};
                    `:p+=`
                    xCOffset = xC + ${w};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<d&&(o%2===1?(p+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<d&&(p+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(p+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<d&&(p+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<d&&(p+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<d&&(p+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}p+=`
    }
  `,p+=`
      }
    `;let m="",g="";r&&(a?m=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:i?m=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:m=`vec4 activation(vec4 x) {
          ${r}
        }`,g="result = activation(result);");const v=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${m}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${s};
        int q = d2 - d1 * ${s};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${p}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${v}
        ${g}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J6e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i}=e,{strides:s,pad:o,dilations:l,dimRoundingMode:u}=r;let c=l;c==null&&(c=[1,1]),V(Ci(s,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${c}'`);const d=Ds(a.shape,i.shape,s,c,o,u,!0);let f;Ne().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?f=new sH(d):f=new iH(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(f,[a,i],"float32",p)}const eIe={kernelName:UT,backendName:"webgl",kernelFunc:J6e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tIe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${s} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${a};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${i};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class nIe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=n-1-e.padInfo.top,o=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${s}, ${o});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${a}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${i}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:i}=e,{strides:s,dilations:o,pad:l,dimRoundingMode:u,filterShape:c}=r,d=Ds(a.shape,c,s,o,l,u,!0),f=new tIe(d);return n.runWebGLProgram(f,[a,i],"float32")}const aIe={kernelName:KU,backendName:"webgl",kernelFunc:rIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iIe(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:i}=e,{strides:s,dilations:o,pad:l,dimRoundingMode:u,inputShape:c}=r,d=Ds(c,i.shape,s,o,l,u,!0),f=new nIe(d);return n.runWebGLProgram(f,[a,i],"float32")}const sIe={kernelName:XU,backendName:"webgl",kernelFunc:iIe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oIe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lIe(t){const{inputs:e,backend:n}=t,{x:r}=e,a=[...r.shape,...r.shape],i=Qe(r.shape),s=it({inputs:{x:r},backend:n,attrs:{shape:[i]}}),o=new oIe(i),l=n.runWebGLProgram(o,[s],s.dtype),u=it({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),u}const uIe={kernelName:QU,backendName:"webgl",kernelFunc:lIe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cIe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:a,strideHeight:i,strideWidth:s,filterHeight:o,filterWidth:l,dilationHeight:u,dilationWidth:c}=e,{top:d,left:f}=a;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${s});
      const ivec2 pads = ivec2(${d}, ${f});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${o}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i}=e,{strides:s,pad:o,dilations:l}=r,u=qV(a.shape,i.shape,s,o,"NHWC",l);let c;const d=new cIe(u);c=n.runWebGLProgram(d,[a,i],"float32");const f=it({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),f}const hIe={kernelName:jT,backendName:"webgl",kernelFunc:dIe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fIe(t){const{inputs:e,backend:n,attrs:r}=t,{equation:a}=r,i=e,{allDims:s,summedDims:o,idDims:l}=aG(a,i.length);sG(s.length,l,i);const{path:u,steps:c}=oG(o,l),d=c.length;let f=null,p=s.length;const m=[];for(let g=0;g<d;++g){for(const v of c[g]){const{permutationIndices:y,expandDims:b}=iG(p,l[v]);let w;lG(y)?w=i[v]:(w=ri({inputs:{x:i[v]},backend:n,attrs:{perm:y}}),m.push(w));const x=w.shape.slice();for(let k=0;k<b.length;++k)x.splice(b[k],0,1);gn(w.shape,x)||(w=it({inputs:{x:w},backend:n,attrs:{shape:x}}),m.push(w)),f===null?f=w:(f=oI({inputs:{a:w,b:f},backend:n}),m.push(f))}g<d-1&&(u[g]>=0&&(f=Pw({inputs:{x:f},backend:n,attrs:{axis:u[g]-(s.length-p),keepDims:!1}}),m.push(f)),p--)}for(const g of m)g!==f&&n.disposeIntermediateTensorInfo(g);return f}const pIe={kernelName:ZU,backendName:"webgl",kernelFunc:fIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mIe="return (x >= 0.0) ? x : (exp(x) - 1.0);",gIe=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,yIe=on({opSnippet:mIe,packedOpSnippet:gIe}),bIe={kernelName:WT,backendName:"webgl",kernelFunc:yIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vIe="return (b >= 1.0) ? a : a * (b + 1.0);",wIe=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,xIe=t=>{const{inputs:e,backend:n}=t,{dy:r,y:a}=e,i=Ne().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new B0(wIe,r.shape,a.shape):new hp(vIe,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)},_Ie={kernelName:JU,backendName:"webgl",kernelFunc:xIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kIe=`
  return vec4(equal(a, b));
`,SIe="return float(a == b);",NIe=Na({opSnippet:SIe,packedOpSnippet:kIe,dtype:"bool",cpuKernelImpl:dEe}),EIe={kernelName:ej,backendName:"webgl",kernelFunc:NIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TIe=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${ZW};
  float a1 = ${JW};
  float a2 = ${eG};
  float a3 = ${tG};
  float a4 = ${nG};
  float a5 = ${rG};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,CIe=on({opSnippet:TIe}),IIe={kernelName:GT,backendName:"webgl",kernelFunc:CIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AIe=Bp+`
  return exp(x);
`,DIe=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,oH=on({opSnippet:AIe,packedOpSnippet:DIe,cpuKernelImpl:hEe,dtype:"float32"}),RIe={kernelName:HT,backendName:"webgl",kernelFunc:oH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OS(t){const{inputs:e,attrs:n,backend:r}=t,{dim:a}=n,{input:i}=e,s=i.shape.length,o=i.shape.slice();let l=a;return a<0&&(V(-(s+1)<=a,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),l=s+a+1),o.splice(l,0,1),it({inputs:{x:i},backend:r,attrs:{shape:o}})}const $Ie={kernelName:qT,backendName:"webgl",kernelFunc:OS};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E$="return exp(x) - 1.0;",OIe=on({opSnippet:E$,packedOpSnippet:E$,cpuKernelImpl:fEe}),LIe={kernelName:YT,backendName:"webgl",kernelFunc:OIe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T${constructor(e,n,r){this.variableNames=["real","imag"];const a=n[1];this.outputShape=n;const i=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=r?`${a}.0`:"1.0";let o;if(e==="real")o="return real * expR - imag * expI;";else if(e==="imag")o="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${i};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${o}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${a});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${a}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${s};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lH(t,e,n){const r=n.texData.get(t.dataId),a=Qe(t.shape),i=t.shape[t.shape.length-1],s=a/i,o=it({inputs:{x:t},backend:n,attrs:{shape:[s,i]}}),l=o.shape,u=new T$("real",l,e),c=new T$("imag",l,e),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:l},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:l}],f=n.runWebGLProgram(u,d,"float32"),p=n.runWebGLProgram(c,d,"float32"),m=Gc({inputs:{real:f,imag:p},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p);const g=it({inputs:{x:m},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(m),g}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FIe(t){const{inputs:e,backend:n}=t,{input:r}=e;return lH(r,!1,n)}const PIe={kernelName:tj,backendName:"webgl",kernelFunc:FIe};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MIe{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0(t){const{backend:e,attrs:n}=t,{shape:r,value:a}=n;let{dtype:i}=n;if(i=i||cw(a),i==="string"){const s=bi(i,Qe(r));return s.fill(a),e.makeTensorInfo(r,i,s)}else{const s=new MIe(r,a),o=[[a]];return e.runWebGLProgram(s,[],i,o)}}const BIe={kernelName:nj,backendName:"webgl",kernelFunc:U0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zIe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UIe={kernelName:rj,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,r=e,a=new zIe(n.shape);return r.runWebGLProgram(a,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C$="return floor(x);",jIe=on({opSnippet:C$,packedOpSnippet:C$,cpuKernelImpl:pEe}),VIe={kernelName:KT,backendName:"webgl",kernelFunc:jIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WIe=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,GIe=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,HIe=Na({opSnippet:WIe,packedOpSnippet:GIe,dtype:"int32"}),qIe={kernelName:XT,backendName:"webgl",kernelFunc:HIe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YIe{constructor(e){this.variableNames=["A"];const n=si(),[r,a]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${r}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KIe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=si(),[r,a]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${a}.0, ${r}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XIe={kernelName:aS,backendName:"webgl",kernelFunc:QIe};let Lh,Kx=Ne().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function QIe(t){const{inputs:e,backend:n,attrs:r}=t;let{pixels:a}=e;const{numChannels:i}=r,s=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,[l,u]=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=[u,l],d=[u,l,i];if(o||s){const g=Ne().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Lh==null||g!==Kx)&&(Kx=g,Lh=document.createElement("canvas").getContext("2d",{willReadFrequently:Kx})),Lh.canvas.width=l,Lh.canvas.height=u,Lh.drawImage(a,0,0,l,u),a=Lh.canvas}const f=n.makeTensorInfo(c,"int32");n.texData.get(f.dataId).usage=vs.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),a);const p=Ne().getBool("WEBGL_PACK")?new KIe(d):new YIe(d),m=n.runWebGLProgram(p,[f],"int32");return n.disposeData(f.dataId),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZIe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i,bias:s,preluActivationWeights:o}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f,activation:p,leakyreluAlpha:m}=r,g=Cp(c),v=Ds(a.shape,i.shape,l,d,u,f,!1,g);let y;const b=[],w=s!=null,x=o!=null,k=p==="leakyrelu",S=()=>{const I=[a,i],C=(R,z)=>{if(z==="NCHW"&&R.shape.length===1&&R.shape[0]!==1){const H=it({inputs:{x:R},backend:n,attrs:{shape:[R.shape[0],1,1]}});return b.push(H),H}return R};if(w&&I.push(C(s,c)),x&&I.push(C(o,c)),k){const R=n.makeTensorInfo([],"float32",Ep(m,"float32"));I.push(R),b.push(R)}return I};if(v.filterHeight===1&&v.filterWidth===1&&v.dilationHeight===1&&v.dilationWidth===1&&v.strideHeight===1&&v.strideWidth===1&&(v.padInfo.type==="SAME"||v.padInfo.type==="VALID"))y=nH({x:a,filter:i,convInfo:v,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:m});else if(v.strideWidth<=2&&g==="channelsLast"&&Ne().getBool("WEBGL_EXP_CONV")){const I=p?qg(p,!0):null,C=new tH(v,w,I,x,k),R=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],z=S();y=n.runWebGLProgram(C,z,"float32",R)}else if(Ne().getBool("WEBGL_CONV_IM2COL"))y=rH({x:a,filter:i,convInfo:v,backend:n,bias:s,activation:p,preluActivationWeights:o,leakyreluAlpha:m});else{const I=p?qg(p,!1):null,C=new eH(v,w,I,x,k),R=S();y=n.runWebGLProgram(C,R,"float32")}const E=it({inputs:{x:y},backend:n,attrs:{shape:v.outShape}});return b.push(y),b.forEach(I=>n.disposeIntermediateTensorInfo(I)),E}const JIe={kernelName:sS,backendName:"webgl",kernelFunc:ZIe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eAe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:i,bias:s,preluActivationWeights:o}=e,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:f,leakyreluAlpha:p}=r,m=[];let g=c;g==null&&(g=[1,1]),V(Ci(l,g),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${g}'`);const v=Ds(a.shape,i.shape,l,g,u,d,!0),y=Ne().getBool("WEBGL_PACK_DEPTHWISECONV")&&v.strideWidth<=2&&v.outChannels/v.inChannels===1,b=f?qg(f,y):null,w=[a,i],x=s!=null,k=o!=null,S=f==="leakyrelu";if(x&&w.push(s),k&&w.push(o),S){const R=n.makeTensorInfo([],"float32",Ep(p,"float32"));w.push(R),m.push(R)}let E;y?E=new sH(v,x,b,k,S):E=new iH(v,x,b,k,S);const I=[[v.padInfo.top,v.padInfo.left],[v.strideHeight,v.strideWidth],[v.dilationHeight,v.dilationWidth],[v.inHeight,v.inWidth]],C=n.runWebGLProgram(E,w,"float32",I);return m.forEach(R=>n.disposeIntermediateTensorInfo(R)),C}const tAe={kernelName:oS,backendName:"webgl",kernelFunc:eAe};class nAe{constructor(e,n,r,a){this.sliceDim=e,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;const i=Un(r.length);let s=`
    int index;`;for(let o=0;o<this.sliceDim;o++)s+=`
          index = round(getIndices(coords[0], ${o}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[o]};
          flattenIndex += index * ${this.strides[o]};`;this.userCode=`
         void main() {
          ${i} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${s}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rAe(t){const{inputs:e,backend:n}=t,{params:r,indices:a}=e,i=a.shape,s=i[i.length-1],o=Qe(r.shape),[l,u,c,d]=DV(r,a),f=it({inputs:{x:a},backend:n,attrs:{shape:[u,s]}}),p=it({inputs:{x:r},backend:n,attrs:{shape:[Qe(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,a])||r.dtype==="string"){const y=n.readSync(a.dataId),b=n.bufferSync(r),w=mEe(y,b,r.dtype,u,s,c,d,r.shape,o);return n.makeTensorInfo(l,r.dtype,w.values)}const m=new nAe(s,d,[u,c],r.shape),g=n.runWebGLProgram(m,[p,f],p.dtype),v=it({inputs:{x:g},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(g),v}const aAe={kernelName:aj,backendName:"webgl",kernelFunc:rAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iAe{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=Un(this.rank),a=sAe(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${a}));
      }
    `}}function sAe(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let a=0;a<t.length;a++)a===2?r.push("index"):r.push(`${n[a]}`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,indices:i}=e,{axis:s,batchDims:o}=r,l=Zn(s,a.shape)[0];if(Ne().get("DEBUG")){const b=n.readSync(i.dataId),w=a.shape[l];for(let x=0;x<b.length;++x){const k=b[x];V(k<=w-1&&k>=0,()=>`GatherV2: the index value ${k} is not in [0, ${w-1}]`)}}const u=kG(a,i,l,o),c=Qe(i.shape),d=[],f=it({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),p=it({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(f),d.push(p);const m=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([a,i])||a.dtype==="string"){const b=n.bufferSync(p),w=n.bufferSync(f),x=gEe(w,b,m);return d.forEach(k=>n.disposeIntermediateTensorInfo(k)),n.makeTensorInfo(u.outputShape,x.dtype,x.values)}const g=new iAe(f.shape,m),v=n.runWebGLProgram(g,[f,p],f.dtype);d.push(v);const y=it({inputs:{x:v},backend:n,attrs:{shape:u.outputShape}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),y}const oAe={kernelName:ZT,backendName:"webgl",kernelFunc:uH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lAe="return float(a > b);",uAe=`
  return vec4(greaterThan(a, b));
`,cAe=Na({opSnippet:lAe,packedOpSnippet:uAe,cpuKernelImpl:yEe,dtype:"bool"}),dAe={kernelName:ij,backendName:"webgl",kernelFunc:cAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hAe="return float(a >= b);",fAe=`
  return vec4(greaterThanEqual(a, b));
`,pAe=Na({opSnippet:hAe,packedOpSnippet:fAe,dtype:"bool",cpuKernelImpl:bEe}),mAe={kernelName:JT,backendName:"webgl",kernelFunc:pAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gAe(t){const{inputs:e,backend:n}=t,{input:r}=e;return lH(r,!0,n)}const yAe={kernelName:sj,backendName:"webgl",kernelFunc:gAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bAe="return float(!isnan(x) && !isinf(x));",vAe=on({opSnippet:bAe,dtype:"bool"}),wAe={kernelName:eC,backendName:"webgl",kernelFunc:vAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xAe="return float(isinf(x));",_Ae=on({opSnippet:xAe,dtype:"bool"}),kAe={kernelName:tC,backendName:"webgl",kernelFunc:_Ae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SAe="return float(isnan(x));",NAe=on({opSnippet:SAe,dtype:"bool"}),EAe={kernelName:nC,backendName:"webgl",kernelFunc:NAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TAe="return float(a < b);",CAe=`
  return vec4(lessThan(a, b));
`,IAe=Na({opSnippet:TAe,packedOpSnippet:CAe,cpuKernelImpl:vEe,dtype:"bool"}),AAe={kernelName:lj,backendName:"webgl",kernelFunc:IAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DAe="return float(a <= b);",RAe=`
  return vec4(lessThanEqual(a, b));
`,$Ae=Na({opSnippet:DAe,packedOpSnippet:RAe,cpuKernelImpl:wEe,dtype:"bool"}),OAe={kernelName:uj,backendName:"webgl",kernelFunc:$Ae};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LAe(t){const{backend:e,attrs:n}=t,{start:r,stop:a,num:i}=n,s=xEe(r,a,i);return e.makeTensorInfo([s.length],"float32",s)}const FAe={kernelName:cj,backendName:"webgl",kernelFunc:LAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PAe=Bp+`
  return x < 0.0 ? 0./0. : log(x);
`,MAe=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,BAe=on({opSnippet:PAe,packedOpSnippet:MAe,cpuKernelImpl:_Ee}),zAe={kernelName:aC,backendName:"webgl",kernelFunc:BAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UAe=Bp+`
  return log(1.0 + x);
`,jAe=on({opSnippet:UAe}),VAe={kernelName:iC,backendName:"webgl",kernelFunc:jAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WAe="return float(a >= 1.0 && b >= 1.0);",GAe=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,HAe=Na({opSnippet:WAe,packedOpSnippet:GAe,dtype:"bool"}),qAe={kernelName:dj,backendName:"webgl",kernelFunc:HAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YAe="return float(!(x >= 1.0));",KAe=on({opSnippet:YAe}),XAe={kernelName:hj,backendName:"webgl",kernelFunc:KAe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QAe="return float(a >= 1.0 || b >= 1.0);",ZAe=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,JAe=Na({opSnippet:QAe,packedOpSnippet:ZAe,dtype:"bool"}),e7e={kernelName:fj,backendName:"webgl",kernelFunc:JAe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class t7e{constructor(e,n,r,a,i){this.variableNames=["x"],this.outputShape=[];const s=n,o=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${s}; j <= ${s}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${o}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class n7e{constructor(e,n,r,a,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const s=n,o=e[3]-1;this.outputShape=e;let l;const u=`float(${r}) + float(${a}) * sum`;i===.5?l=`inversesqrt(${u})`:i===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${i}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${s};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${s}; j <= ${s}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${o}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r7e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:i,bias:s,alpha:o,beta:l}=r,u=Ne().getBool("WEBGL_PACK_NORMALIZATION")?new n7e(a.shape,i,s,o,l):new t7e(a.shape,i,s,o,l);return n.runWebGLProgram(u,[a],a.dtype)},a7e={kernelName:sC,backendName:"webgl",kernelFunc:r7e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class i7e{constructor(e,n,r,a,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${a}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${a})
                * float(${i})
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${i});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s7e=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:a,y:i,dy:s}=e,{depthRadius:o,bias:l,alpha:u,beta:c}=r,d=new i7e(a.shape,o,l,u,c);return n.runWebGLProgram(d,[a,i,s],a.dtype)},o7e={kernelName:pj,backendName:"webgl",kernelFunc:s7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l7e(t,e,n,r){const a=Qe(e),s=Qe(t.shape)/a,o=it({inputs:{x:t},attrs:{shape:[s,a]},backend:r}),l=xh(o,t.dtype,"max",r),u=it({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reductionIndices:i,keepDims:s}=r,o=a.shape.length,l=Zn(i,a.shape);let u=l;const c=ts(u,o),d=c!=null,f=n.shouldExecuteOnCPU([a]);let p=a;if(d){if(f){const w=n.texData.get(p.dataId).values,x=new Array(o);for(let E=0;E<x.length;E++)x[E]=a.shape[c[E]];const k=iI(w,a.shape,a.dtype,c,x);p=n.makeTensorInfo(x,a.dtype);const S=n.texData.get(p.dataId);S.values=k}else p=Fw(a,c,n);u=co(u.length,o)}Jo("max",u,o);const[m,g]=Zo(p.shape,u);let v=m;s&&(v=Ni(m,l));let y;if(f){const w=n.texData.get(p.dataId).values,x=kEe(w,Qe(g),v,a.dtype);y=n.makeTensorInfo(v,a.dtype);const k=n.texData.get(y.dataId);k.values=x}else y=l7e(p,g,v,n);return d&&n.disposeIntermediateTensorInfo(p),y}const u7e={kernelName:oC,backendName:"webgl",kernelFunc:cH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c7e=sI+`
  return max(a, b);
`,d7e=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+M0+`
  return result;
`,h7e=Na({opSnippet:c7e,packedOpSnippet:d7e,cpuKernelImpl:SEe}),f7e={kernelName:lC,backendName:"webgl",kernelFunc:h7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;F0(a,"maxPool");const{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=r,u=1;V(Ci(s,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`);const c=yh(a.shape,i,s,u,o,l);if(c.filterWidth===1&&c.filterHeight===1&&gn(c.inShape,c.outShape))return Qi({inputs:{x:a},backend:n});const d=new Yg(c,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}const m7e={kernelName:uC,backendName:"webgl",kernelFunc:p7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:i,strides:s,pad:o,dataFormat:l,dimRoundingMode:u}=r,c=[1,1,1],d=I0(a.shape,i,s,c,o,u,l),f=new lI(d,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}const y7e={kernelName:cC,backendName:"webgl",kernelFunc:g7e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class b7e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,a=e.dilationHeight,i=e.effectiveFilterHeight,s=e.effectiveFilterWidth,o=i-1-e.padInfo.top,l=s-1-e.padInfo.left,u=i*s-1;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${i};
          wR += ${a}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${s} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class v7e{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,s=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,d=l-1-e.padInfo.front,f=u-1-e.padInfo.top,p=c-1-e.padInfo.left,m=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${f}, ${p});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${i}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${s}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${o}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${m} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w7e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:i}=e,s=i,{filterSize:o,strides:l,pad:u,dimRoundingMode:c}=r,d=[1,1,1],f=I0(s.shape,o,l,d,u,c),p=new lI(f,"max",!0),m=n.runWebGLProgram(p,[s],s.dtype),g=new v7e(f),v=n.runWebGLProgram(g,[a,m],s.dtype);return n.disposeIntermediateTensorInfo(m),v}const x7e={kernelName:gj,backendName:"webgl",kernelFunc:w7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _7e(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:i,output:s}=e,o=i;F0([i,s],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,f=yh(o.shape,l,u,1,c,d),p=!0,m=new Yg(f,"max",p),g=n.runWebGLProgram(m,[o],o.dtype),v=new b7e(f),y=n.runWebGLProgram(v,[a,g],o.dtype);return n.disposeIntermediateTensorInfo(g),y}const k7e={kernelName:mj,backendName:"webgl",kernelFunc:_7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S7e(t,e,n,r){let a=new Yg(n,"max",!1);const i=r.runWebGLProgram(a,[t],"float32");a=new Yg(n,"max",!0,!0,e);const s=r.runWebGLProgram(a,[t],"float32");return[i,s]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N7e={kernelName:yj,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:a,strides:i,pad:s,includeBatchInIndex:o}=e,l=n;V(r.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`);const u=[1,1];V(Ci(i,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`);const c=yh(r.shape,a,i,u,s),[d,f]=S7e(r,o,c,l);return[d,f]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E7e(t,e,n,r){const a=Qe(e),s=Qe(t.shape)/a,o=it({inputs:{x:t},attrs:{shape:[s,a]},backend:r}),l=xh(o,"float32","mean",r),u=it({inputs:{x:l},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T7e={kernelName:dC,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{keepDims:a,axis:i}=e,s=n,o=r.shape.length,l=Zn(i,r.shape);let u=l;const c=ts(u,o),d=c!=null,f=s.shouldExecuteOnCPU([r]),p=[];let m=r;if(d){if(f){const x=s.texData.get(m.dataId).values,k=new Array(o);for(let I=0;I<k.length;I++)k[I]=r.shape[c[I]];const S=iI(x,r.shape,r.dtype,c,k);m=s.makeTensorInfo(k,r.dtype);const E=s.texData.get(m.dataId);E.values=S}else m=Fw(r,c,s);p.push(m),u=co(u.length,o)}Jo("sum",u,o);const[g,v]=Zo(m.shape,u);let y=g;a&&(y=Ni(g,l));const b=E7e(m,v,y,s);for(const w of p)s.disposeIntermediateTensorInfo(w);return b}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C7e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,keepDims:s}=r,o=a.shape.length,l=Zn(i,a.shape);let u=l;const c=ts(u,o);let d=a;c!=null&&(d=ri({inputs:{x:a},backend:n,attrs:{perm:c}}),u=co(u.length,a.shape.length)),Jo("min",u,o);const[f,p]=Zo(d.shape,u),m=Qe(p),g=it({inputs:{x:d},backend:n,attrs:{shape:[-1,m]}}),v=xh(g,g.dtype,"min",n);let y;if(s){const b=Ni(f,l);y=it({inputs:{x:v},backend:n,attrs:{shape:b}})}else y=it({inputs:{x:v},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(v),c!=null&&n.disposeIntermediateTensorInfo(d),y}const I7e={kernelName:hC,backendName:"webgl",kernelFunc:C7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A7e=sI+`
  return min(a, b);
`,D7e=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+M0+`
  return result;
`,R7e=Na({opSnippet:A7e,packedOpSnippet:D7e,cpuKernelImpl:NEe}),$7e={kernelName:fC,backendName:"webgl",kernelFunc:R7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O7e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map((c,d)=>c[0]+e[d]+c[1]);const a=e.length,i=Un(a),s=n.map(c=>c[0]).join(","),o=n.map((c,d)=>c[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),u=r==="reflect"?0:1;if(a===1){this.userCode=`
        int start = ${s};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${s});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        for (int i = 0; i < ${a}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${i} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class L7e{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((m,g)=>m[0]+e[g]+m[1]);const a=e.length,i=Un(a),s=n.map(m=>m[0]).join(","),o=n.map((m,g)=>m[0]+e[g]).join(","),l=Xa("rc",a),u=Xa("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,d=a===1?"source":`vec2(${u.slice(-2).join()})`,f=r==="reflect"?0:1;let p="";if(a===1){const m=`
        ${i} source = rc;
        if (source < start) {
          source = start * 2 - source - ${f};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${f};
        }
        source -= start;
      `;p=`
        ${i} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[a-1]} += 1;
        if(${c}) {
          ${m}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
      `}else{const m=`
        ${i} source = rc;
        ${i} lt = ${i}(lessThan(source, start));
        ${i} gte = ${i}(greaterThanEqual(source, end));
        ${i} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${f}) +
                gte * ((end - 1) * 2 - source + ${f});
        source -= start;
      `;p=`
        ${i} rc = outputLoc;
        ${m}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[a-1]} += 1;
        if(${c}) {
          ${m}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
        rc = outputLoc;
        ${l[a-2]} += 1;
        if(${l[a-2]} < ${this.outputShape[a-2]}) {
          ${m}
          result[2] = getChannel(getX(${u.join()}), ${d});
          ${l[a-1]} += 1;
          if(${c}) {
            ${m}
            result[3] = getChannel(getX(${u.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${i} start = ${i}(${s});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F7e=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{paddings:a,mode:i}=n,s=Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new L7e(r.shape,a,i):new O7e(r.shape,a,i);return e.runWebGLProgram(s,[r],r.dtype)},P7e={kernelName:pC,backendName:"webgl",kernelFunc:F7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M7e=`if (b == 0.0) return NAN;
  return mod(a, b);`,B7e=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+M0+`
  return result;
`,z7e=Na({opSnippet:M7e,packedOpSnippet:B7e}),U7e={kernelName:mC,backendName:"webgl",kernelFunc:z7e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j7e{constructor(e,n,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V7e=`
if (a == b) {
  return 1.0;
};
return a / b;`,W7e=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,dH=Na({opSnippet:V7e,packedOpSnippet:W7e,checkOutOfBounds:!0}),G7e={kernelName:VT,backendName:"webgl",kernelFunc:dH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I$="return a - b;",hH=Na({opSnippet:I$,packedOpSnippet:I$,supportsComplex:!0,cpuKernelImpl:WEe}),H7e={kernelName:YC,backendName:"webgl",kernelFunc:hH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fH(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{dim:i}=r,s=Zn([i],a.shape),o=cH({inputs:{x:a},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=Ni(o.shape,s),u=it({inputs:{x:o},backend:n,attrs:{shape:l}}),c=hH({inputs:{a,b:u},backend:n}),d=oH({inputs:{x:c},backend:n}),f=Pw({inputs:{x:d},backend:n,attrs:{axis:s,keepDims:!1}}),p=it({inputs:{x:f},backend:n,attrs:{shape:l}}),m=dH({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}const q7e={kernelName:HC,backendName:"webgl",kernelFunc:fH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y7e(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:i,seed:s,normalized:o}=r,l=o?a:fH({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new j7e(u,c,i),f=[[s]],p=n.runWebGLProgram(d,[l],"int32",f);return o||n.disposeIntermediateTensorInfo(l),p}const K7e={kernelName:bj,backendName:"webgl",kernelFunc:Y7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X7e=fo+`
  return -x;
`,Q7e=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function Z7e(t){const{inputs:e,backend:n}=t,{x:r}=e;if(n.shouldExecuteOnCPU([r])){const i=n.texData.get(r.dataId),[s,o]=TEe(i.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,s)}let a;return Ne().getBool("WEBGL_PACK_UNARY_OPERATIONS")?a=new xd(r.shape,Q7e):a=new Xl(r.shape,X7e),n.runWebGLProgram(a,[r],r.dtype)}const J7e={kernelName:yC,backendName:"webgl",kernelFunc:Z7e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eDe=BW;function tDe(t){Ys("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:i}=e,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),{selectedIndices:d}=eDe(u,c,s,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const nDe={kernelName:wj,backendName:"webgl",kernelFunc:tDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rDe=zW;function aDe(t){Ys("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:i}=e,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(a.dataId),d=n.readSync(i.dataId),{selectedIndices:f,validOutputs:p}=rDe(c,d,s,o,l,u);return[n.makeTensorInfo([f.length],"int32",new Int32Array(f)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}const iDe={kernelName:xj,backendName:"webgl",kernelFunc:aDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sDe=UW;function oDe(t){Ys("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:i}=e,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=s,p=o,m=l,g=u,{selectedIndices:v,selectedScores:y}=sDe(c,d,f,p,m,g);return[n.makeTensorInfo([v.length],"int32",new Int32Array(v)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}const lDe={kernelName:_j,backendName:"webgl",kernelFunc:oDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uDe{constructor(e,n,r,a){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${a}), float(${r}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cDe=t=>{const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:i,depth:s,onValue:o,offValue:l}=r,u=Qe(a.shape),c=new uDe(u,s,o,l),d=it({inputs:{x:a},backend:n,attrs:{shape:[u]}}),f=n.runWebGLProgram(c,[d],i);n.disposeIntermediateTensorInfo(d);const p=[...a.shape,s],m=it({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),m},dDe={kernelName:vC,backendName:"webgl",kernelFunc:cDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xb(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="complex64"){const a=z0({inputs:{input:r},backend:n}),i=xb({inputs:{x:a},backend:n}),s=Mw({inputs:{input:r},backend:n}),o=xb({inputs:{x:s},backend:n}),l=Gc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return U0({attrs:{shape:r.shape,dtype:r.dtype,value:r.dtype==="string"?"":0},backend:n})}const hDe={kernelName:JC,backendName:"webgl",kernelFunc:xb};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pH(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(r.dtype==="complex64"){const a=z0({inputs:{input:r},backend:n}),i=pH({inputs:{x:a},backend:n}),s=Mw({inputs:{input:r},backend:n}),o=xb({inputs:{x:s},backend:n}),l=Gc({inputs:{real:i,imag:o},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),l}else return U0({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:n})}const fDe={kernelName:bC,backendName:"webgl",kernelFunc:pH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pDe(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return OS({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const i=e[0].shape,s=e[0].dtype;e.forEach(c=>{As(i,c.shape,"All tensors passed to stack must have matching shapes"),V(s===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const o=[],l=e.map(c=>{const d=OS({inputs:{input:c},backend:n,attrs:{dim:a}});return o.push(d),d}),u=JG({inputs:l,backend:n,attrs:{axis:a}});return o.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const mDe={kernelName:wC,backendName:"webgl",kernelFunc:pDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class gDe{constructor(e,n,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+e[c]+u[1]);const a=e.length,i=Un(a),s=n.map(u=>u[0]).join(","),o=n.map((u,c)=>u[0]+e[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);if(a===1){this.userCode=`
        int start = ${s};
        int end = ${o};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${i} start = ${i}(${s});
      ${i} end = ${i}(${o});

      void main() {
        ${i} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${i} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yDe{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((g,v)=>g[0]+e[v]+g[1]);const a=e.length,i=Un(a),s=n.map(g=>g[0]).join(","),o=n.map((g,v)=>g[0]+e[v]).join(","),l=Xa("rc",a),u=Xa("source",a),c=`${l[a-1]} < ${this.outputShape[a-1]}`,d=a===1?"source":`vec2(${u.slice(-2).join()})`,f=[`${i} rc = outputLoc;`,`${l[a-1]} += 1;
       if(${c}) {
      `,a===1?"":`}
       rc = outputLoc;
       ${l[a-2]} += 1;
       if(${l[a-2]} < ${this.outputShape[a-2]}) {`,a===1?"":`  ${l[a-1]} += 1;
         if(${c}) {`],p=a===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let m="";for(let g=0,v=a===1?2:4;g<v;g++)m+=`
        ${f[g]}
        if (${p}) {
          result[${g}] = float(value);
        } else {
          ${i} source = rc - start;
          result[${g}] = getChannel(getX(${u.join()}), ${d});
        }
      `;m+=a===1?"} ":"}}",this.userCode=`
      const ${i} start = ${i}(${s});
      const ${i} end = ${i}(${o});

      void main() {
        ${i} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mH=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:i,constantValue:s}=r;if(Qe(a.shape)===0){const u=i.map((c,d)=>c[0]+a.shape[d]+c[1]);return U0({backend:n,attrs:{shape:u,value:s,dtype:a.dtype}})}const o=Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new yDe(a.shape,i,s):new gDe(a.shape,i,s),l=[[s]];return n.runWebGLProgram(o,[a],a.dtype,l)},bDe={kernelName:xC,backendName:"webgl",kernelFunc:mH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vDe=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,wDe=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+M0+`
  return result;
`,xDe=Na({opSnippet:vDe,packedOpSnippet:wDe}),_De={kernelName:_C,backendName:"webgl",kernelFunc:xDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kDe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:i,keepDims:s}=r,o=a.shape.length,l=[],u=Zn(i,a.shape);let c=u;const d=ts(c,o);let f=a;d!=null&&(f=ri({inputs:{x:a},backend:n,attrs:{perm:d}}),c=co(c.length,o),l.push(f)),Jo("prod",c,o);let p;if(n.shouldExecuteOnCPU([f])){const m=n.texData.get(f.dataId).values,{outVals:g,outShape:v,outDtype:y}=IEe(f.shape,f.dtype,m,c);p=n.makeTensorInfo(v,y,g)}else{const[m,g]=Zo(f.shape,c),v=Qe(g),y=it({inputs:{x:f},backend:n,attrs:{shape:[-1,v]}}),b=n6(a.dtype),w=xh(y,b,"prod",n);p=it({inputs:{x:w},backend:n,attrs:{shape:m}}),l.push(y),l.push(w)}if(s){l.push(p);const m=Ni(p.shape,u);p=it({inputs:{x:p},backend:n,attrs:{shape:m}})}return l.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const SDe={kernelName:SC,backendName:"webgl",kernelFunc:kDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NDe(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:a,paramsDenseValues:i,indices:s}=e,{outputRaggedRank:o}=r,l=a.map(y=>n.readSync(y.dataId)),u=a.map(y=>y.shape),c=n.readSync(i.dataId),d=n.readSync(s.dataId),[f,p,m]=AEe(l,u,c,i.shape,i.dtype,d,s.shape,o),g=f.map(y=>n.makeTensorInfo([y.length],"int32",y)),v=n.makeTensorInfo(m,i.dtype,p);return g.concat([v])}const EDe={kernelName:kj,backendName:"webgl",kernelFunc:NDe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TDe(t){const{inputs:e,backend:n,attrs:r}=t,{shape:a,values:i,defaultValue:s,rowPartitionTensors:o}=e,{rowPartitionTypes:l}=r,u=n.readSync(a.dataId),c=n.readSync(i.dataId),d=n.readSync(s.dataId),f=o.map(v=>n.readSync(v.dataId)),p=o.map(v=>v.shape),[m,g]=DEe(u,a.shape,c,i.shape,i.dtype,d,s.shape,f,p,l);return n.makeTensorInfo(m,i.dtype,g)}const CDe={kernelName:Sj,backendName:"webgl",kernelFunc:TDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gH=t=>{const{backend:e,attrs:n}=t,{start:r,stop:a,step:i,dtype:s}=n,o=REe(r,a,i,s);return e.makeTensorInfo([o.length],s,o)},IDe={kernelName:Nj,backendName:"webgl",kernelFunc:gH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ADe="return 1.0 / x;",DDe=on({opSnippet:ADe}),RDe={kernelName:NC,backendName:"webgl",kernelFunc:DDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $De=fo+`
  return (x < 0.0) ? 0.0 : x;
`,ODe=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,LDe=on({opSnippet:$De,packedOpSnippet:ODe}),FDe={kernelName:EC,backendName:"webgl",kernelFunc:LDe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PDe=fo+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,MDe=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,BDe=on({opSnippet:PDe,packedOpSnippet:MDe}),zDe={kernelName:AC,backendName:"webgl",kernelFunc:BDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UDe{constructor(e,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[s,o,l,u]=e;this.outputShape=[s,n,r,u];const c=[a&&n>1?o-1:o,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r];let f;i?f="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jDe{constructor(e,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,o,l,u]=e;this.outputShape=[s,n,r,u];const c=[a&&n>1?o-1:o,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r];let f;i?f="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=Ne().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new jDe(a.shape,l,u,i,s):new UDe(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],"float32")}const WDe={kernelName:IC,backendName:"webgl",kernelFunc:VDe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GDe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,s,o]=e,l=[r&&s>1?a-1:a,r&&o>1?i-1:i],u=[r&&s>1?s-1:s,r&&o>1?o-1:o],c=l[0]/u[0],d=l[1]/u[1],f=1/c,p=1/d,m=Math.ceil(f)*2+2,g=Math.ceil(p)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${p});

        const int winHeight = int(${m});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${s}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:i}=e,{alignCorners:s}=r,o=new GDe(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}const qDe={kernelName:Cj,backendName:"webgl",kernelFunc:HDe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YDe{constructor(e,n,r,a,i){this.variableNames=["A"],this.outputShape=[];const[s,o,l,u]=e;this.outputShape=[s,n,r,u];const c=[a&&n>1?o-1:o,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r],f=a?"0.5":"0.0";let p;i?p="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":p="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${o}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${p};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KDe{constructor(e,n,r,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[s,o,l,u]=e;this.outputShape=[s,n,r,u];const c=[a&&n>1?o-1:o,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r],f=a?"0.5":"0.0";let p;i?p="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":p="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${o}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${p};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${f})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:i,halfPixelCenters:s,size:o}=r,[l,u]=o,c=Ne().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new KDe(a.shape,l,u,i,s):new YDe(a.shape,l,u,i,s);return n.runWebGLProgram(c,[a],a.dtype)}const QDe={kernelName:CC,backendName:"webgl",kernelFunc:XDe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZDe{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,i]=n,[,s,o]=e,l=[r&&s>1?a-1:a,r&&o>1?i-1:i],u=[r&&s>1?s-1:s,r&&o>1?o-1:o],c=l[0]/u[0],d=l[1]/u[1],f=1/c,p=1/d,m=Math.ceil(f)*2+2,g=Math.ceil(p)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${f});
        const float invWidthScale = float(${p});

        const int winHeight = int(${m});
        const int winWidth = int(${g});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${s}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${o}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${a}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JDe(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:i}=e,{alignCorners:s}=r,o=new ZDe(i.shape,a.shape,s);return n.runWebGLProgram(o,[i],i.dtype)}const eRe={kernelName:Tj,backendName:"webgl",kernelFunc:JDe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class tRe{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,r===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const a=o=>n.indexOf(o)!==-1&&e[o]!==1?`${e[o]} - coords[${o}] - 1`:`coords[${o}]`,i=e.map((o,l)=>a(l)).join(","),s=Un(r);this.userCode=`
      void main() {
        ${s} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nRe{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const a=Xa("rc",r),i=`${a[r-1]} + 1 < ${this.outputShape[r-1]}`,s=`${a[r-2]} + 1 < ${this.outputShape[r-2]}`,o=Un(r);r===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${i}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${o} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(a.slice())};
          if(${i}){
            result.g = ${u(a.slice())};
          }
          if(${s}) {
            result.b = ${c(a.slice())};
            if(${i}) {
              result.a = ${d(a.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(m){return f(m)}function u(m){return m[r-1]="("+m[r-1]+" + 1)",f(m)}function c(m){return m[r-2]="("+m[r-2]+" + 1)",f(m)}function d(m){return m[r-1]="("+m[r-1]+" + 1)",m[r-2]="("+m[r-2]+" + 1)",f(m)}function f(m){const g=e.map((b,w)=>p(w,m)),v=g.join(","),y=g.slice(-2).join(",");return`getChannel(getX(${v}), vec2(${y}))`}function p(m,g){return n.indexOf(m)!==-1&&e[m]!==1?`${e[m]} - ${g[m]} - 1`:`${g[m]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:i}=r,s=a.shape.length,o=Zn(i,a.shape);if(s===0)return Qi({inputs:{x:a},backend:n});const l=Ne().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new nRe(a.shape,o):new tRe(a.shape,o);return n.runWebGLProgram(l,[a],a.dtype)}const aRe={kernelName:DC,backendName:"webgl",kernelFunc:rRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iRe{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const r=e[1],a=e[2];this.outputShape=e;let i="";typeof n=="number"?i=`float outputValue = ${n.toFixed(2)};`:i=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${i}
          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sRe={kernelName:Wj,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:a,fillValue:i,center:s}=e,o=n,l=new iRe(r.shape,i),[u,c]=KW(s,r.shape[1],r.shape[2]),d=[[u,c,Math.sin(a),Math.cos(a)]];return o.runWebGLProgram(l,[r],r.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oRe=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,lRe=on({opSnippet:oRe}),uRe={kernelName:RC,backendName:"webgl",kernelFunc:lRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cRe="return inversesqrt(x);",dRe=on({opSnippet:cRe,cpuKernelImpl:$Ee}),hRe={kernelName:$C,backendName:"webgl",kernelFunc:dRe};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yH{constructor(e,n,r,a,i,s,o=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=s;const l=Un(i.length),u=Un(s.length);let c="";r===1?c="i":r===2&&(c="i, j");const d=`getIndices(${c})`;let f="";a===1?f="i":a===2&&(f="i, coords[1]");const p=`getUpdates(${f})`,m=n>1?"strides[j]":"strides";this.userCode=`
        ${l} strides = ${l}(${i});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${d});
              flattenedIndex += index * ${m};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fRe(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a,updates:i}=e,{shape:s}=r,{sliceRank:o,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=l6(i,a,s),f=[d/u,u];if(d===0)return n.makeTensorInfo(s,a.dtype);const p=it({inputs:{x:a},backend:n,attrs:{shape:[l,o]}}),m=it({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),v=new yH(l,o,p.shape.length,m.shape.length,c,f),y=n.runWebGLProgram(v,[m,p,g],m.dtype),b=it({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),b}const pRe={kernelName:Ij,backendName:"webgl",kernelFunc:fRe};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mRe{constructor(e,n,r,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];const i="while (left < right) {",s=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=Ne().getNumber("WEBGL_VERSION")===2?i:s,l=a==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gRe(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:i}=e,{side:s}=r,o=new mRe(a.shape[0],a.shape[1],i.shape[1],s),l=[[a.shape[1]]];return n.runWebGLProgram(o,[a,i],"int32",l)}const yRe={kernelName:Aj,backendName:"webgl",kernelFunc:gRe};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bRe{constructor(e,n,r){this.variableNames=["c","a","b"],this.outputShape=n;let a,i;if(r>4)throw Error(`Where for rank ${r} is not yet supported`);if(r===1)i="resRC",a="resRC";else{const o=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${o[c]}`),c<e&&l.push(`${o[c]}`);a=l.join(),i=u.join()}const s=Un(r);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        float cVal = getC(${a});
        if (cVal >= 1.0) {
          setOutput(getA(${i}));
        } else {
          setOutput(getB(${i}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vRe(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:i}=e,s=new bRe(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(s,[r,a,i],El(a.dtype,i.dtype))}const wRe={kernelName:OC,backendName:"webgl",kernelFunc:vRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xRe=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${J6};
  float scale = ${eI};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,_Re=on({opSnippet:xRe}),kRe={kernelName:LC,backendName:"webgl",kernelFunc:_Re};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SRe=Bp+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,NRe=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ERe=on({opSnippet:SRe,packedOpSnippet:NRe,cpuKernelImpl:LEe}),TRe={kernelName:zC,backendName:"webgl",kernelFunc:ERe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CRe=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,IRe=on({opSnippet:CRe}),ARe={kernelName:BC,backendName:"webgl",kernelFunc:IRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DRe=Bp+`
  return sin(x);
`,RRe=on({opSnippet:DRe}),$Re={kernelName:PC,backendName:"webgl",kernelFunc:RRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ORe=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,LRe=on({opSnippet:ORe}),FRe={kernelName:MC,backendName:"webgl",kernelFunc:LRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PRe=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,MRe=on({opSnippet:PRe}),BRe={kernelName:UC,backendName:"webgl",kernelFunc:MRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zRe=t=>{const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:i,paddings:s}=r;V(a.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const o=i.reduce((y,b)=>y*b),l=[[0,0]];l.push(...s);for(let y=1+i.length;y<a.shape.length;++y)l.push([0,0]);const u=[],c=mH({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),d=X6(c.shape,i,o,!1),f=Q6(d.length,i.length,!1),p=Z6(c.shape,i,o,!1),m=it({inputs:{x:c},backend:n,attrs:{shape:d}}),g=ri({inputs:{x:m},backend:n,attrs:{perm:f}}),v=it({inputs:{x:g},backend:n,attrs:{shape:p}});return u.push(c),u.push(m),u.push(g),u.forEach(y=>n.disposeIntermediateTensorInfo(y)),v},URe={kernelName:WC,backendName:"webgl",kernelFunc:zRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jRe(t){const{inputs:e,backend:n}=t,{indices:r,values:a,denseShape:i,defaultValue:s}=e;if(i.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${i.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${a.shape}`);if(s.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${s.shape}`);const o=n.readSync(r.dataId),l=n.readSync(a.dataId),u=n.readSync(i.dataId),c=n.readSync(s.dataId)[0],[d,f,p,m,g]=PEe(o,r.shape,r.dtype,l,a.dtype,u,c);return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([f[0]],a.dtype,p),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map(v=>Number(v)))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}const VRe={kernelName:Dj,backendName:"webgl",kernelFunc:jRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WRe(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:a,newShape:i}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(i.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const s=Array.from(n.readSync(a.dataId)),o=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,d]=MEe(o,r.shape,r.dtype,s,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}const GRe={kernelName:Rj,backendName:"webgl",kernelFunc:WRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HRe(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=zG(s,r.shape,r.dtype,o,l,!0);return n.makeTensorInfo(c,r.dtype,u)}const qRe={kernelName:$j,backendName:"webgl",kernelFunc:HRe};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YRe(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:i}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${a.shape}`);if(i.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${i.shape}`);const s=n.readSync(r.dataId),o=n.readSync(a.dataId),l=n.readSync(i.dataId),[u,c]=zG(s,r.shape,r.dtype,o,l);return n.makeTensorInfo(c,r.dtype,u)}const KRe={kernelName:Oj,backendName:"webgl",kernelFunc:YRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XRe(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:a,sparseValues:i,defaultValue:s}=e,{outputShape:o}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:f}=l6(i,a,o),p=!1;if(i.dtype==="string"){const y=n.bufferSync(a),b=n.bufferSync(i),w=op(n.readSync(s.dataId)[0]),x=OEe(y,b,o,f,c,u,l,d,w,p);return n.makeTensorInfo(o,x.dtype,x.values)}const m=new yH(u,l,a.shape.length,i.shape.length,d,[f,1],p),g=n.runWebGLProgram(m,[i,a,s],i.dtype),v=it({inputs:{x:g},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(g),v}const QRe={kernelName:Lj,backendName:"webgl",kernelFunc:XRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZRe(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{numOrSizeSplits:i,axis:s}=r,o=Zn(s,a.shape)[0],l=uG(a,i,o),u=a.shape.length,c=new Array(u).fill(0),d=a.shape.slice();return l.map(f=>{const p=[...d];p[o]=f;const m=zp({inputs:{x:a},backend:n,attrs:{begin:c,size:p}});return c[o]+=f,m})}const JRe={kernelName:GC,backendName:"webgl",kernelFunc:ZRe};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$="return sqrt(x);",e8e=on({opSnippet:A$,packedOpSnippet:A$,cpuKernelImpl:BEe}),t8e={kernelName:jC,backendName:"webgl",kernelFunc:e8e};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n8e="return x * x;",r8e=on({opSnippet:n8e}),a8e={kernelName:Fj,backendName:"webgl",kernelFunc:r8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D$="return (a - b) * (a - b);",i8e=Na({opSnippet:D$,packedOpSnippet:D$}),s8e={kernelName:qC,backendName:"webgl",kernelFunc:i8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o8e({inputs:t,attrs:e,backend:n}){const{x:r}=t,a=fo+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,i=new Xl(r.shape,a);return n.runWebGLProgram(i,[r],r.dtype)}const l8e={kernelName:e6,backendName:"webgl",kernelFunc:o8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class u8e{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const a=r.length,i=Un(r.length),s=Un(r.length);let o="";if(a===1)o="coords * strides + begin";else{let l=0;o=r.map((u,c)=>(l++,r.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${i} begin = ${i}(${e});
      ${i} strides = ${i}(${n});

      void main() {
        ${s} coords = getOutputCoords();
        setOutput(getX(${o}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:i,end:s,strides:o,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:f}=r,{finalShapeSparse:p,finalShape:m,isIdentity:g,sliceDim0:v,isSimpleSlice:y,begin:b,end:w,strides:x}=WV(a.shape,i,s,o,l,u,c,d,f);let k;if(g)k=it({inputs:{x:a},backend:n,attrs:{shape:m}});else if(v||y){V(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const E=LV(b,w,x),I=zp({inputs:{x:a},backend:n,attrs:{begin:b,size:E}});k=it({inputs:{x:I},backend:n,attrs:{shape:m}}),n.disposeIntermediateTensorInfo(I)}else if(n.shouldExecuteOnCPU([a])){const I=n.readSync(a.dataId),C=gr(a.shape,a.dtype,I),R=zEe(p,C,x,b);k=n.makeTensorInfo(m,a.dtype,R.values)}else{const I=new u8e(b,x,p);k=n.runWebGLProgram(I,[a],a.dtype)}const S=it({inputs:{x:k},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(k),S}const d8e={kernelName:Pj,backendName:"webgl",kernelFunc:c8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h8e(t){const{inputs:e,backend:n,attrs:r}=t,{separator:a,nGramWidths:i,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=e,f=n.readSync(c.dataId),p=n.readSync(d.dataId),[m,g]=UEe(f,p,a,i,s,o,l,u);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",g)]}const f8e={kernelName:Mj,backendName:"webgl",kernelFunc:h8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p8e(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:a}=r,{input:i,delimiter:s}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(i.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(s.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.readSync(i.dataId),l=n.readSync(s.dataId)[0],[u,c,d]=jEe(o,l,a),f=c.length;return[n.makeTensorInfo([f,2],"int32",u),n.makeTensorInfo([f],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const m8e={kernelName:Bj,backendName:"webgl",kernelFunc:p8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g8e(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:a}=r,{input:i}=e;if(i.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(i.dataId),o=VEe(s,a);return n.makeTensorInfo(i.shape,"int32",o)}const y8e={kernelName:zj,backendName:"webgl",kernelFunc:g8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b8e="return tan(x);",v8e=on({opSnippet:b8e}),w8e={kernelName:KC,backendName:"webgl",kernelFunc:v8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x8e=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,_8e=on({opSnippet:x8e}),k8e={kernelName:XC,backendName:"webgl",kernelFunc:_8e};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class S8e{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let s=0;s<r.length;s++)r[s]=e[s]*n[s];this.outputShape=r,this.rank=r.length;const a=Un(this.rank),i=N8e(e);this.userCode=`
      void main() {
        ${a} resRC = getOutputCoords();
        setOutput(getA(${i}));
      }
    `}}function N8e(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let a=0;a<t.length;a++)r.push(`imod(${n[a]}, ${t[a]})`);return r.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reps:i}=r;if(a.dtype==="string"||a.shape.length>5){const l=n.readSync(a.dataId),u=a.dtype==="string"?l.map(f=>op(f)):l,c=gr(a.shape,a.dtype,u),d=GEe(c,i);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const s=new S8e(a.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}const E8e={kernelName:pw,backendName:"webgl",kernelFunc:bH};class T8e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class C8e{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jc(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function R$(t){let e=1;for(;e<t;)e*=2;return e}function I8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{k:i,sorted:s}=r,o=Ne().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=Ne().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=a.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([a])||c<o||i>l){const R=n.readSync(a.dataId),[z,H]=HEe(R,u,a.dtype,i,s);return[n.makeTensorInfo(z.shape,z.dtype,z.values),n.makeTensorInfo(H.shape,H.dtype,H.values)]}if(i===0)return u[u.length-1]=0,[n.makeTensorInfo(u,a.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[a,U0({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(a.dataId),f=d!==null&&d.isPacked,p=f?n.unpackTensor(a):a,g=Qe(u)/c,v=it({inputs:{x:p},attrs:{shape:[g,c]},backend:n});f&&Jc(n,p);const y=R$(i),b=R$(c);let w=null;const x=()=>w===null?[v,v]:[v,w],k=(R,z,H)=>{const U=x(),q=new T8e(H),re=[[c],[w===null?1:0],[Number.NEGATIVE_INFINITY],[R],[z]],he=w;w=n.runWebGLProgram(q,U,"int32",re),Jc(n,he)};for(let R=1;R<y;R*=2){const z=R*2;for(let H=R;H>=1;H/=2)k(z,H,[g,b])}for(let R=b;R>y;R/=2){const z=x(),H=new C8e([g,R/2]),q=[[c],[w===null?1:0],[y]],Q=w;w=n.runWebGLProgram(H,z,"int32",q),Jc(n,Q);const re=y/2,he=re*2;for(let ae=re;ae>=1;ae/=2)k(he,ae,w.shape)}let S=w;w=zp({inputs:{x:w},backend:n,attrs:{begin:0,size:[g,i]}}),Jc(n,S);let E=uH({inputs:{x:v,indices:w},backend:n,attrs:{axis:1,batchDims:1}});Jc(n,v);const I=u.slice(0,-1);I.push(i),S=w,w=it({inputs:{x:w},attrs:{shape:I},backend:n}),Jc(n,S);const C=E;return E=it({inputs:{x:E},attrs:{shape:I},backend:n}),Jc(n,C),[E,w]}const A8e={kernelName:Uj,backendName:"webgl",kernelFunc:I8e};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D8e{constructor(e,n,r,a,i,s){this.variableNames=["Image","Transforms"],this.outputShape=s;const o=r==="nearest"?1:2;let l;switch(a){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${i});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${i});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${o} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R8e(t){const{inputs:e,backend:n,attrs:r}=t,{image:a,transforms:i}=e,{interpolation:s,fillMode:o,fillValue:l,outputShape:u}=r,[c,d,f,p]=a.shape,[m,g]=u??[d,f],v=[c,m,g,p],y=new D8e(d,f,s,o,l,v);return n.runWebGLProgram(y,[a,i],"float32")}const $8e={kernelName:jj,backendName:"webgl",kernelFunc:R8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O8e(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:i}=e;F0(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=r.readSync(i.dataId),{outputValues:o,outputShape:l,indices:u}=qEe(s,a,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,o),r.makeTensorInfo([u.length],"int32",u)]}const L8e={kernelName:Vj,backendName:"webgl",kernelFunc:O8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F8e(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:i}=r;i<0&&(i+=a.shape.length);const s=a,o=s.shape.length,l=a.shape[i],u=new Array(o-1);let c=0;for(let g=0;g<o;g++)g!==i&&(u[c++]=s.shape[g]);const d=[],f=new Array(o).fill(0),p=s.shape.slice();p[i]=1;const m=new Array(l);for(let g=0;g<m.length;g++){f[i]=g;const v=zp({inputs:{x:s},backend:n,attrs:{begin:f,size:p}}),y=it({inputs:{x:v},backend:n,attrs:{shape:u}});m[g]=y,d.push(v)}return d.forEach(g=>n.disposeIntermediateTensorInfo(g)),m}const P8e={kernelName:QC,backendName:"webgl",kernelFunc:F8e};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M8e{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,a=e.batchSize,i=e.inSize,s=e.numSegments,o=s*Math.ceil(i/r);this.outputShape=[a,o];const l="0.0",u="sumValue",c=Math.floor(r/4)*4,d=r%4,f=`
        sumValue += dot(values, segFilter);
    `;let p="";i%r>0&&(p=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return initializationValue;
        }
      `);let m="";i%r>0&&(m=`
        if (inIdx < 0 || inIdx >= ${i}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${m}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${s})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${s})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${f}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${f}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${f}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${f}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B8e(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,segmentIds:i}=e,{numSegments:s}=r,o=a.shape.length,l=[];let u=0;const c=ts([u],o);let d=a;c!=null&&(d=ri({inputs:{x:a},backend:n,attrs:{perm:c}}),l.push(d),u=co(1,o)[0]);const f=_G(d.shape,u,s),p=Qe([d.shape[u]]),m=it({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(m);const g=n6(a.dtype),v=(x,k,S,E,I)=>{const C=x.shape[0],R=x.shape[1],z=xG(R,I),H={windowSize:z,inSize:R,batchSize:C,numSegments:I},U=new M8e(H,k),q=n.compileAndRun(U,[x,S],E);if(l.push(q),q.shape[1]===I)return q;const Q=gH({backend:n,attrs:{start:0,stop:I,step:1,dtype:"float32"}}),re=bH({inputs:{x:Q},backend:n,attrs:{reps:[R/z]}});return l.push(Q),l.push(re),v(q,k,re,E,I)},y=v(m,"unsortedSegmentSum",i,g,s),b=it({inputs:{x:y},backend:n,attrs:{shape:f}});let w=b;if(c!=null){l.push(b);const x=Ap(c);w=ri({inputs:{x:w},backend:n,attrs:{perm:x}})}return l.forEach(x=>n.disposeIntermediateTensorInfo(x)),w}const z8e={kernelName:ZC,backendName:"webgl",kernelFunc:B8e};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U8e=[MTe,zTe,VTe,HTe,YTe,QTe,JTe,tCe,iCe,oCe,cCe,fCe,gCe,wCe,kCe,NCe,TCe,DCe,$Ce,LCe,BCe,HCe,YCe,XCe,n6e,a6e,l6e,xTe,d6e,g6e,w6e,E6e,C6e,A6e,R6e,O6e,P6e,z6e,V6e,G6e,q6e,K6e,Z6e,eIe,aIe,sIe,uIe,hIe,pIe,bIe,_Ie,EIe,IIe,RIe,$Ie,LIe,PIe,BIe,UIe,VIe,qIe,XIe,JIe,tAe,aAe,oAe,dAe,mAe,wTe,yAe,p6e,wAe,kAe,EAe,kTe,AAe,OAe,FAe,zAe,VAe,qAe,XAe,e7e,a7e,o7e,u7e,f7e,m7e,y7e,x7e,k7e,N7e,T7e,I7e,$7e,P7e,U7e,K7e,ETe,J7e,nDe,iDe,lDe,ZCe,dDe,fDe,mDe,bDe,_De,NTe,SDe,EDe,CDe,IDe,JCe,G7e,RDe,FDe,zDe,CTe,WDe,qDe,QDe,eRe,aRe,sRe,uRe,hRe,pRe,yRe,wRe,kRe,TRe,ARe,$Re,FRe,WCe,q7e,BRe,URe,VRe,GRe,qRe,KRe,QRe,JRe,t8e,a8e,s8e,l8e,d8e,f8e,m8e,y8e,H7e,LTe,w8e,k8e,E8e,A8e,$8e,FTe,L8e,P8e,z8e,hDe];for(const t of U8e)Wye(t);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class ll extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ll.prototype)}}class to extends Error{constructor(e){super(e),Object.setPrototypeOf(this,to.prototype)}}class fe extends Error{constructor(e){super(e),Object.setPrototypeOf(this,fe.prototype)}}class Bt extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Bt.prototype)}}class uI extends Error{constructor(e){super(e),Object.setPrototypeOf(this,uI.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vH{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const r=this.cache.keys().next().value;this.cache.delete(r)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function uh(t,e){if(Array.isArray(t)){let n=[];for(let r=0;r<e;r++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function ul(t,e){if(!t)throw new uI(e)}function $$(t,e){let n=0;for(const r of t)r===e&&n++;return n}function mi(t){return t.length===1?t[0]:t}function qn(t){return Array.isArray(t)?t:[t]}function Vl(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function cd(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let Ms={};function cI(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function LS(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>LS(e));else{const e=Object.keys(t);for(const n of e){const r=t[n];r!=null&&typeof r=="object"&&(!Array.isArray(r)&&r.type==="ndarray"&&typeof r.value=="number"?t[n]=r.value:LS(r))}}}function j0(t,e={},n={},r="object",a=!1){if(typeof t=="string"){const i=t;let s;if(i in n)s=n[i];else if(i in Ms)s=Ms[i];else if(s=e[i],s==null)throw new fe(`Unknown ${r}: ${t}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return s}else{const i=t;if(i.className==null||i.config==null)throw new fe(`${r}: Improper config format: ${JSON.stringify(i)}.
'className' and 'config' must set.`);const s=i.className;let o,l;if(s in n?[o,l]=n[s]:s in Ms?[o,l]=Ms.className:s in e&&([o,l]=e[s]),o==null)throw new fe(`Unknown ${r}: ${s}. This may be due to one of the following reasons:
1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const p of Object.keys(Ms))u[p]=Ms[p];for(const p of Object.keys(n))u[p]=n[p];const c=i.config;c.customObjects=u;const d=Object.assign({},Ms);for(const p of Object.keys(n))Ms[p]=n[p];LS(i.config);const f=l(o,i.config,n,a);return Ms=Object.assign({},d),f}else{const u=Object.assign({},Ms);for(const d of Object.keys(n))Ms[d]=n[d];const c=new o(i.config);return Ms=Object.assign({},u),c}}}function j8e(t,e){return t<e?-1:t>e?1:0}function i2(t,e){return-1*j8e(t,e)}function cc(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function V8e(t){if(t==null)throw new fe(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function _h(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new fe(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function dI(t,e,n=0,r=1/0){return ul(n>=0),ul(r>=n),Array.isArray(t)&&t.length>=n&&t.length<=r&&t.every(a=>typeof a===e)}function la(t,e){Array.isArray(t)?(V(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,r)=>la(n,`element ${r+1} of ${e}`))):V(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${wH(t)}.`)}function wH(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>wH(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function W8e(t,e,n){let r=n!=null?n():fs(),a;return(...s)=>{const o=n!=null?n():fs();return o-r<e||(r=o,a=t(...s)),a}}function xH(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let G8e=0;function _H(){return G8e++}const s2={};function Bw(t=""){return t in s2||(s2[t]=0),s2[t]+=1,t+s2[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const H8e=["channelsFirst","channelsLast"],q8e=["nearest","bilinear"],Y8e=["valid","same","causal"],K8e=["max","avg"],X8e=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Fh=new Map;function Ir(t){_h(H8e,"DataFormat",t)}function Q8e(t){_h(q8e,"InterpolationFormat",t)}function $s(t){_h(Y8e,"PaddingMode",t)}function kH(t){_h(K8e,"PoolMode",t)}const Km=[],O$="/";function Od(t,e){Km.push(t);try{const n=e();return Km.pop(),n}catch(n){throw Km.pop(),n}}function Z8e(){return Km.length===0?"":Km.join(O$)+O$}function SH(t){if(!EH(t))throw new Error("Not a valid tensor name: '"+t+"'");return Z8e()+t}function NH(t){if(!EH(t))throw new Error("Not a valid tensor name: '"+t+"'");Fh.has(t)||Fh.set(t,0);const e=Fh.get(t);if(Fh.set(t,Fh.get(t)+1),e>0){const n=`${t}_${e}`;return Fh.set(n,1),n}else return t}const J8e=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function EH(t){return!!t.match(J8e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function e$e(t){return t===parseInt(t.toString(),10)}function dc(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let r=1;for(let a=e;a<n;++a)r*=t[a];return r}function fp(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r<e&&(e=r)}return e}function Tc(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const r=t[n];r>e&&(e=r)}return e}function qo(t,e){if(e<t)throw new fe(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let r=t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Xx;function Gr(){return Xx==null&&(Xx=IV().epsilon()),Xx}function Yo(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function V0(t,e){return tt(t,e)}function W0(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),ue(t,n)}function t$e(t,e){return me(()=>{if(t.shape.length!==2)throw new fe(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=W0(t,1);return FS(n,[1,e,1])})}function n$e(t){const e=[dc(t.shape)];return ue(t,e)}function r$e(t){if(t.rank<=1)throw new fe(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],dc(t.shape,1)];return ue(t,e)}function Ld(t,e,n){return me(()=>{switch(t.rank){case 1:return Ew(t,e,n);case 2:return L6(t,[e,0],[n,t.shape[1]]);case 3:return Tw(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return Wg(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return bt(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return bt(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new fe(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function Qx(t,e,n){return me(()=>{switch(t.rank){case 1:return Ew(t,e,n);case 2:return L6(t,[0,e],[t.shape[0],n]);case 3:return Tw(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return Wg(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new fe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function o2(t,e,n,r){return me(()=>{switch(t.rank){case 1:return Ew(t,e,n);case 2:switch(r){case 1:return Ld(t,e,n);case 2:return Qx(t,e,n);default:throw new fe(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Ld(t,e,n);case 2:return Tw(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return Qx(t,e,n);default:throw new fe(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Ld(t,e,n);case 2:return Wg(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return Wg(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return Qx(t,e,n);default:throw new fe(`The axis is not within the rank of the tensor ${r}`)}default:throw new fe(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function hI(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),ar(t,e)}function L$(t,e){switch(t.rank){case 1:return JV([t,e]);case 2:return eW([t,e],0);case 3:return tW([t,e],0);case 4:return nW([t,e],0);default:throw new fe(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function FS(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new fe(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Ro(t,e)}function zw(t,e=0,n=1,r,a){return O6(t,e,n,r,a)}function xl(t,e,n,r){if(t.rank<2||e.rank<2)throw new Bt(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const a=t.shape.slice(-1)[0],i=e.shape.slice(-2)[0];if(a!==i)throw new Bt(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return CS({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?PS(t.rank,r,Yo()):null,activation:n});{const a=t.shape.slice(),i=a.pop();t=ue(t,[-1,i]);const s=e.shape.slice(),o=s.pop(),l=s.pop(),u=[...s,o],c=Array.from({length:e.rank},(m,g)=>g===0?e.rank-2:g<=e.rank-2?g-1:g);e=ue(tn(e,c),[l,-1]);const d=[...a,...u];return ue(CS({a:t,b:e,transposeA:!1,transposeB:!1,bias:r?PS(t.rank,r,Yo()):null,activation:n}),d)}}function TH(t,e,n){return me(()=>(Array.isArray(e)?e=Kn(e,"int32"):e=tt(e,"int32"),Sw(t,e,n)))}function G0(t){return ee(t,t)}function PS(t,e,n){const r=e.shape;if(e.rank!==1&&e.rank!==t)throw new fe(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return r.length===1?ue(e,[1,r[0],1,1,1]):ue(e,[1,r[3],r[0],r[1],r[2]]);if(n==="channelsLast")return r.length===1?ue(e,[1,1,1,1,r[0]]):ue(e,[1].concat(r))}else if(t===4){if(n==="channelsFirst")return r.length===1?ue(e,[1,r[0],1,1]):ue(e,[1,r[2],r[0],r[1]]);if(n==="channelsLast")return r.length===1?ue(e,[1,1,1,r[0]]):ue(e,[1].concat(r))}else if(t===3){if(n==="channelsFirst")return r.length===1?ue(e,[1,r[0],1]):ue(e,[1,r[1],r[0]]);if(n==="channelsLast")return r.length===1?ue(e,[1,1,r[0]]):ue(e,[1].concat(r))}else if(t<3)return e;throw new fe(`Unsupported input rank by biasAdd: ${e.rank}`)}function el(t,e,n){return me(()=>(n==null&&(n=Yo()),Ir(n),Ae(t,PS(t.rank,e,n))))}function a$e(t,e=1){if(e!==1)throw new Bt(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return xw(t)}function i$e(t){return me(()=>Je(t,Ae(aa(t),1)))}function CH(t,e,n,r){return me(()=>RW(t,e,n,r))}function s$e(t){return me(()=>{const e=Ae(.5,ee(.2,t));return Si(e,0,1)})}function H0(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const o$e=["fanIn","fanOut","fanAvg"],l$e=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function u$e(t){_h(o$e,"FanMode",t)}function c$e(t){_h(l$e,"Distribution",t)}class po extends Tp{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class IH extends po{apply(e,n){return Fr(e,n)}}IH.className="Zeros";je(IH);class fI extends po{apply(e,n){return bs(e,n)}}fI.className="Ones";je(fI);class AH extends po{constructor(e){if(super(),typeof e!="object")throw new fe(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new fe(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return me(()=>ee(wt(this.value),bs(e,n)))}getConfig(){return{value:this.value}}}AH.className="Constant";je(AH);class DH extends po{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return $0(e,this.minval,this.maxval,n)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}DH.className="RandomUniform";je(DH);class RH extends po{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Bt(`randomNormal does not support dType ${n}.`);return zw(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}RH.className="RandomNormal";je(RH);class $H extends po{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Bt(`truncatedNormal does not support dType ${n}.`);return B6(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}$H.className="TruncatedNormal";je($H);class OH extends po{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return me(()=>{if(e.length!==2||e[0]!==e[1])throw new fe("Identity matrix initializer can only be used for 2D square matrices.");return ee(this.gain,b6(e[0]))})}getConfig(){return{gain:this.gain}}}OH.className="Identity";je(OH);function d$e(t,e="channelsLast"){let n,r;if(Ir(e),t.length===2)n=t[0],r=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const a=dc(t,2);n=t[1]*a,r=t[0]*a}else if(e==="channelsLast"){const a=dc(t,0,t.length-2);n=t[t.length-2]*a,r=t[t.length-1]*a}}else{const a=dc(t);n=Math.sqrt(a),r=Math.sqrt(a)}return[n,r]}class Zi extends po{constructor(e){if(super(),e.scale<0)throw new fe(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,u$e(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,c$e(this.distribution),this.seed=e.seed}apply(e,n){const r=d$e(e),a=r[0],i=r[1];let s=this.scale;if(this.mode==="fanIn"?s/=Math.max(1,a):this.mode==="fanOut"?s/=Math.max(1,i):s/=Math.max(1,(a+i)/2),this.distribution==="normal"){const o=Math.sqrt(s);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Bt(`${this.getClassName()} does not support dType ${n}.`);return B6(e,0,o,n,this.seed)}else{const o=Math.sqrt(3*s);return $0(e,-o,o,n)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Zi.className="VarianceScaling";je(Zi);class pI extends Zi{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}pI.className="GlorotUniform";je(pI);class mI extends Zi{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}mI.className="GlorotNormal";je(mI);class gI extends Zi{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}gI.className="HeNormal";je(gI);class yI extends Zi{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}yI.className="HeUniform";je(yI);class bI extends Zi{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}bI.className="LeCunNormal";je(bI);class vI extends Zi{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return Zi.className}}vI.className="LeCunNormal";je(vI);class LH extends po{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,this.seed!=null)throw new Bt("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,n){return me(()=>{if(e.length<2)throw new Bt("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const r=e[0]>e[1]?[e[1],e[0]]:e,a=zw(r,0,1,"float32");let i=jW.gramSchmidt(a);return e[0]>e[1]&&(i=tn(i)),ee(this.gain,i)})}getConfig(){return{gain:this.gain,seed:this.seed}}}LH.className="Orthogonal";je(LH);const F$={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function P$(t,e={}){return j0(t,Ks.getMap().classNameMap,e,"initializer")}function pr(t){return cI(t)}function rr(t){if(typeof t=="string"){const e=t in F$?F$[t]:t;if(e==="GlorotNormal")return new mI;if(e==="GlorotUniform")return new pI;if(e==="HeNormal")return new gI;if(e==="HeUniform")return new yI;if(e==="LeCunNormal")return new bI;if(e==="LeCunUniform")return new vI;{const n={};return n.className=e,n.config={},P$(n)}}else return t instanceof po?t:P$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function MS(t){return Array.isArray(t)&&Array.isArray(t[0])}function _b(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function zt(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new fe(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function En(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new fe(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function kb(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((r,a)=>r*a);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const M$="Variable";class h$e{constructor(e,n="float32",r=M$,a=!0,i=null){this.dtype=n??"float32",this.shape=e.shape,this.id=_H(),r=r??M$,this.originalName=SH(r),this.name=NH(this.originalName),this.trainable_=a,this.constraint=i,this.val=IW(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),f$e(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function f$e(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function BS(t){return t.map(e=>e.read())}function wI(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Hr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class pl{constructor(e,n,r,a,i,s,o){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=o,this.id=_H(),s!=null&&(this.originalName=SH(s),this.name=NH(this.originalName)),this.rank=n.length}}let p$e=0,Uw=class{constructor(e,n){this.callArgs=n,this.id=p$e++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)r!=null&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},m$e=0;class rn extends Tp{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=m$e++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const r=this.getClassName();n=Vl(r)+"_"+Bw(r)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let r;if(e.batchInputShape!=null)r=e.batchInputShape;else if(e.inputShape!=null){let i=null;e.batchSize!=null&&(i=e.batchSize),r=[i].concat(e.inputShape)}this.batchInputShape=r;let a=e.dtype;a==null&&(a=e.inputDType),a==null&&(a="float32"),this.dtype=a}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new to(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new fe(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return mi(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return mi(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ll(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new ll(`Layer ${this.name} is not connected, no input to return.`);return mi(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new ll(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new ll(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return mi(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=qn(e),this.inputSpec==null||this.inputSpec.length===0)return;const n=qn(this.inputSpec);if(e.length!==n.length)throw new fe(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let r=0;r<e.length;r++){const a=e[r],i=n[r];if(i==null)continue;const s=a.rank;if(i.ndim!=null&&s!==i.ndim)throw new fe(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${s}`);if(i.maxNDim!=null&&s>i.maxNDim)throw new fe(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${s}`);if(i.minNDim!=null&&s<i.minNDim)throw new fe(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${s}.`);if(i.dtype!=null&&a.dtype!==i.dtype)throw new fe(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${a.dtype}.`);if(i.axes){const o=a.shape;for(const l in i.axes){const u=Number(l),c=i.axes[l],d=u>=0?o[u]:o[o.length+u];if(c!=null&&[c,null].indexOf(d)===-1)throw new fe(`Input ${r} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${c} but got shape ${o}.`)}}if(i.shape!=null)for(let o=0;o<i.shape.length;++o){const l=i.shape[o],u=a.shape[o];if(l!=null&&u!=null&&l!==u)throw new fe(`Input ${r} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${a.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=qn(e);let a=!0;for(const s of r)if(!(s instanceof pl)){a=!1;break}let i=!0;for(const s of r)if(s instanceof pl){i=!1;break}if(a===i)throw new fe("Arguments to apply() must be all SymbolicTensors or all Tensors");return Od(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const s=[];for(const o of qn(e))s.push(o.shape);this.build(mi(s)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let s=this.call(e,n);const o=qn(s),l=[];for(let u of o)r.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(s=mi(l),this.activityRegularizer!=null)throw new Bt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}else{const s=g$e(e),o=this.computeOutputShape(s);let l;const u=y$e(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?s[0]:s),o!=null&&o.length>0&&Array.isArray(o[0])?l=o.map((c,d)=>new pl(u,c,this,qn(e),n,this.name,d)):l=new pl(u,o,this,qn(e),n,this.name),this.addInboundNode(e,l,null,null,s,o,n),this._refCount++,this.activityRegularizer!=null)throw new Bt("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((r,a)=>{r!=null&&e[a]!=null&&e[a]!==r&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new ll(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);e.indexOf(r)===-1&&e.push(r)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new ll(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new to(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return kb(this.weights)}build(e){this.built=!0}getWeights(e=!1){return BS(e?this.trainableWeights:this.weights)}setWeights(e){me(()=>{const n=this.weights;if(n.length!==e.length)throw new fe(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const r=[],a=BS(n);for(let i=0;i<a.length;++i){const s=a[i],o=n[i],l=e[i];if(!gn(s.shape,l.shape))throw new fe(`Layer weight shape ${s.shape} not compatible with provided weight shape ${l.shape}`);r.push([o,l])}wI(r)})}addWeight(e,n,r,a,i,s,o,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new fe(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),r==null&&(r="float32"),this.fastWeightInitDuringBuild&&(a=l!=null?l():rr("zeros"));const u=a.apply(n,r),c=new h$e(u,r,e,s,o);return u.dispose(),i!=null&&this.addLoss(()=>i.apply(c.read())),s==null&&(s=!0),s?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=qn(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(r=>{if(r!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}addInboundNode(e,n,r,a,i,s,o=null){const l=qn(e);n=qn(n),r=qn(r),a=qn(a),i=_b(i),s=_b(s);const u=[],c=[],d=[];for(const f of l)u.push(f.sourceLayer),c.push(f.nodeIndex),d.push(f.tensorIndex);new Uw({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:a,inputShapes:i,outputShapes:s},o);for(let f=0;f<n.length;f++)n[f].sourceLayer=this,n[f].nodeIndex=this.inboundNodes.length-1,n[f].tensorIndex=f}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function g$e(t){t=qn(t);const e=[];for(const n of t)e.push(n.shape);return mi(e)}function y$e(t){return"float32"}function FH(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const r=e.inboundNodes[n];if(r.inboundLayers.length===0)return r.inputTensors;{const a=[];for(let i=0;i<r.inboundLayers.length;i++){const s=r.inputTensors[i],o=r.inboundLayers[i],l=r.nodeIndices[i],u=FH(s,o,l);for(const c of u)a.indexOf(c)===-1&&a.push(c)}return a}}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class q0 extends rn{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:Bw("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new fe("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new fe("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new fe("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const a=new pl(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new fe(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}q0.className="InputLayer";je(q0);function b$e(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new fe("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new q0({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function v$e(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return tt(e,t.dtype)}catch{throw new fe(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Hu{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Hu)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(this.id2Value[e.id]==null)this.id2Value[e.id]=v$e(e,n),this.name2Id[e.name]=e.id,r!=null&&(this.id2Mask[e.id]=r);else throw new fe(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof pl){if(this.id2Value[e.id]==null)throw new fe(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new fe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof pl){if(this.id2Value[e.id]==null)throw new fe(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new fe(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&pt(this.id2Mask)}}const Sb=new vH,Nb=new vH;function w$e(t){Sb!=null&&Sb.setMaxEntries(t),Nb!=null&&Nb.setMaxEntries(t)}function Sm(t,e,n,r){const a=n==null?!1:n.training,i=Array.isArray(t),s=i?t:[t],o=s.map(m=>m.name),l=[],u=e.names();for(const m of o)u.indexOf(m)!==-1?l.push(e.getValue(m)):l.push(null);r!=null&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=o.join(",")+"|"+e.names().sort().join(",");let d=Sb.get(c),f;if(d==null){const m=x$e(s,e);d=m.sorted,f=m.recipientCounts,Sb.put(c,d),Nb.put(c,f)}f={},a||Object.assign(f,Nb.get(c));const p=new Hu(e);for(let m=0;m<d.length;++m){if(r!=null){const C=_S().numTensors;C>r.maxNumTensors&&(r.maxNumTensors=C),C<r.minNumTensors&&(r.minNumTensors=C)}const g=d[m],v=g.sourceLayer;if(v instanceof q0)continue;const y=[],b=[],w=[];let x=!1;for(const C of g.inputs){const R=p.getValue(C),z=p.getMask(C);y.push(R),b.push(z),z!=null&&(x=!0),a||(f[C.name]--,f[C.name]===0&&!e.hasKey(C)&&o.indexOf(C.name)===-1&&!R.isDisposed&&C.sourceLayer.stateful!==!0&&w.push(R))}x&&(n=n||{},n.mask=b[0]);const k=qn(v.apply(y,n));let S=null;v.supportsMasking&&(S=v.computeMask(y,b));const E=k$e(g),I=Array.isArray(E)?E:[E];for(let C=0;C<I.length;++C){p.hasKey(I[C])||p.add(I[C],k[C],Array.isArray(S)?S[0]:S);const R=o.indexOf(I[C].name);R!==-1&&(l[R]=k[C])}a||pt(w)}return p.disposeMasks(),i?l:l[0]}function x$e(t,e){V(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],r={};if(t.length===1){const a=B$(t[0],e);n=a.sorted,r=a.recipientMap}else{const a=new Set;for(const i of t){const{sorted:s,recipientMap:o}=B$(i,e);for(const l of s)a.has(l.name)||(n.push(l),a.add(l.name));for(const l in o)r[l]==null&&(r[l]=new Set),o[l].forEach(u=>r[l].add(u))}}return{sorted:n,recipientCounts:_$e(r)}}function _$e(t){const e={};for(const n in t)e[n]=t[n].size;return e}function B$(t,e){const n=new Set,r=[],a={};for(const o of e.names())n.add(o);const i=[],s=[];for(i.push(t);i.length>0;){const o=i[i.length-1];if(n.has(o.name)){i.pop();continue}const l=s[s.length-1]===i.length-1;if(o.inputs.length===0||l)i.pop(),r.push(o),n.add(o.name),l&&s.pop();else{s.push(i.length-1);for(const u of o.inputs)a[u.name]==null&&(a[u.name]=new Set),a[u.name].add(o.name),!n.has(u.name)&&i.push(u)}}return{sorted:r,recipientMap:a}}function k$e(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let r=0;r<t.sourceLayer.inboundNodes.length;++r)for(const a of t.sourceLayer.inboundNodes[r].outputTensors)if(a.id===t.id){n=r;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S$e=Ne();S$e.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,w$e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PH={kernelName:gT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,O0(tt(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N$e={kernelName:yT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=On(tt(n,"float32")),a=ti(lt(wt(1),r));return mr(Je(t,a))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E$e={kernelName:bT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ti(lt(On(tt(n,"float32")),1));return Je(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T$e={kernelName:dw,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{let o=t;const l=Kr(n.shape,a);return l.length>0&&(o=gt(o,l)),ue(o,n.shape)},b:()=>{let o=t;const l=Kr(r.shape,a);return l.length>0&&(o=gt(o,l)),ue(o,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C$e={kernelName:vT,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((r,a)=>{n[a]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const I$e={kernelName:wT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>sn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const A$e={kernelName:xT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>sn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D$e={kernelName:_T,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,ti(lt(wt(1),On(tt(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R$e={kernelName:kT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ti(Ae(wt(1),On(tt(n,"float32"))));return Je(t,r)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $$e={kernelName:ET,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{const o=Ae(On(n),On(r));let l=ee(t,Je(r,o));const u=Kr(n.shape,a);return u.length>0&&(l=gt(l,u)),ue(l,n.shape)},b:()=>{const o=Ae(On(n),On(r));let l=mr(ee(t,Je(n,o)));const u=Kr(r.shape,a);return u.length>0&&(l=gt(l,u)),ue(l,r.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O$e={kernelName:ST,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,Ae(On(tt(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L$e={kernelName:NT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,lt(wt(1),On(tt(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F$e(t,e,n,r,a,i){const s=W(t,"dy","avgPool3dGrad"),o=W(e,"input","avgPool3dGrad");let l=s,u=o,c=!1;o.rank===4&&(c=!0,l=ue(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),u=ue(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),V(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),V(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),ii("avgPool3dGrad",a,i);const d={dy:l,input:u},f={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=le.runKernel(MU,d,f);return c?ue(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const P$e=ie({avgPool3dGrad_:F$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M$e={kernelName:CT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:a,strides:i,pad:s,dimRoundingMode:o}=n;return{x:()=>P$e(t,r,a,i,s,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B$e(t,e,n,r,a){const i=W(t,"dy","avgPoolGrad"),s=W(e,"input","avgPoolGrad");V(s.rank===i.rank,()=>`Rank of input (${s.rank}) does not match rank of dy (${i.rank})`);let o=s,l=i,u=!1;s.rank===3&&(u=!0,o=ue(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=ue(i,[1,i.shape[0],i.shape[1],i.shape[2]])),V(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),V(o.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${o.rank}.`);const c={dy:l,input:o},d={filterSize:n,strides:r,pad:a},f=le.runKernel(PU,c,d);return u?ue(f,[f.shape[1],f.shape[2],f.shape[3]]):f}const z$e=ie({avgPoolGrad_:B$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const U$e={kernelName:TT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{filterSize:a,strides:i,pad:s}=n;return{x:()=>z$e(t,r,a,i,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j$e={kernelName:IT,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[r,a]=e,{transposeA:i,transposeB:s}=n;return!i&&!s?{a:()=>Xt(t,a,!1,!0),b:()=>Xt(r,t,!0,!1)}:!i&&s?{a:()=>Xt(t,a,!1,!1),b:()=>Xt(t,r,!0,!1)}:i&&!s?{a:()=>Xt(a,t,!1,!0),b:()=>Xt(r,t,!1,!1)}:{a:()=>Xt(a,t,!0,!0),b:()=>Xt(t,r,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V$e={kernelName:AT,gradFunc:(t,e,n)=>{const{blockShape:r,crops:a}=n;return{x:()=>S6(t,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W$e={kernelName:Bye,gradFunc:(t,e,n)=>{const r=n,a=r.inputShape,i=r.shape,s=Array.from(i);for(let l=a.length-1;l>=0;l--)if(a[l]===i[l])s[l]=1;else if(a[l]!==1)throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);const o=[];for(let l=0;l<s.length;l++)s[l]>1&&o.push(l);return{x:()=>gt(t,o,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G$e={kernelName:hw,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H$e={kernelName:DT,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q$e={kernelName:RT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{clipValueMin:a,clipValueMax:i}=n;return{x:()=>Xi(hu(Dp(r,a),Rp(r,i)),t,sn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Y$e={kernelName:$T,inputsToSave:["x"],gradFunc:PH.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K$e={kernelName:OT,saveAllInputs:!0,gradFunc:(t,e,n)=>{const r=e.map(l=>l.shape),{axis:a}=n,i=Zn(a,e[0].shape)[0],s=r.map(l=>l[i]);return Hi(t,s,i).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X$e={kernelName:LT,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,a]=e,{dilations:i,strides:s,pad:o,dataFormat:l}=n;return V(Ec(i),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`),{x:()=>m6(r.shape,t,a,s,o,l),filter:()=>U6(r,t,a.shape,s,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q$e={kernelName:FT,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[r,a]=e,{strides:i,pad:s,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>sh(t,a,i,s,o,1,l),filter:()=>U6(t,r,a.shape,i,s,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z$e(t,e,n,r,a){let i=t;t.rank===4&&(i=ue(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let s=e;s.rank===4&&(s=ue(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),V(i.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`),V(s.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${s.shape}.`),V(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),V(i.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`),V(s.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${s.shape[4]}) must match output depth for filter (${n[4]}).`);const o={x:i,dy:s},l={strides:r,pad:a,filterShape:n};return le.runKernel(VU,o,l)}const J$e=ie({conv3DBackpropFilter_:Z$e});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eOe={kernelName:PT,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:a,pad:i}=n;V(Ec(r),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`);const[s,o]=e;return{x:()=>sW(s.shape,t,o,a,i),filter:()=>J$e(s,t,o.shape,a,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tOe={kernelName:MT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(mr(SW(tt(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nOe={kernelName:BT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(NW(tt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rOe={kernelName:zT,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:a,exclusive:i,reverse:s}=n;return{x:()=>{const o=ts([a],r.rank);let l=uW(t,a,i,!s);return o!=null&&(l=tn(l,o)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aOe={kernelName:UT,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:r,strides:a,pad:i,dimRoundingMode:s}=n,o=r??[1,1];V(Ec(o),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`);const[l,u]=e;return V(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),V(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),V(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),V(Ci(a,o),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${o}'.`),ii("depthwiseConv2d",i,s),{x:()=>FW(l.shape,t,u,a,i,o,s),filter:()=>LW(l,t,u.shape,a,i,o,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iOe={kernelName:jT,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[r,a]=e,i={x:r,filter:a,dy:t},s={x:r,filter:a,dy:t};return{x:()=>le.runKernel(zye,i,n),filter:()=>le.runKernel(Uye,s,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sOe={kernelName:WT,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,r={dy:t,y:n};return{x:()=>le.runKernel(JU,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oOe={kernelName:GT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=ee(ni(mr(On(n))),2/Math.sqrt(Math.PI));return{x:()=>ee(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lOe={kernelName:HT,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uOe={kernelName:qT,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>ue(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cOe={kernelName:YT,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,ni(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dOe={kernelName:KT,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hOe={kernelName:XT,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{const o=Je(t,tt(r,"float32")),l=Kr(n.shape,a);return l.length>0?ue(gt(o,l),n.shape):o},b:()=>{let o=ee(t,tt(n,"float32"));const l=Kr(r.shape,a);l.length>0&&(o=ue(gt(o,l),r.shape));const u=On(r);return mr(Je(o,tt(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fOe={kernelName:QT,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:r}=n,[a,i,s,o]=e,l=o??wt(1),u=Kr(i.shape,a.shape),c=[];if(i.rank===1){for(let x=0;x<a.shape.length-1;++x)c.push(a.shape[x]);c.push(1)}const d=lt(a,i),f=ee(t,l),p=xW(Ae(s,wt(r))),m=ee(ee(ee(p,p),p),wt(-.5));return{x:()=>i.rank===1?ue(ee(ee(t,Ro(ue(p,[1,1,1,i.shape[0]]),c)),l),a.shape):ue(ee(ee(t,p),l),a.shape),mean:()=>{let x=ee(ee(p,wt(-1)),f);return i.rank===1&&(x=gt(x,u)),ue(x,i.shape)},variance:()=>{let x=ee(ee(m,d),f);return i.rank===1&&(x=gt(x,u)),ue(x,i.shape)},scale:()=>{const x=ee(d,p);let k=ee(t,x);return i.rank===1&&(k=gt(k,u)),ue(k,i.shape)},offset:()=>{let x=t;return i.rank===1&&(x=gt(x,u)),ue(x,i.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pOe={kernelName:ZT,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[r,a]=e,{axis:i}=n,s=Zn(i,r.shape)[0];return{x:()=>{const l=r.shape,u=a.size,c=l.slice(0,s),d=c.length,f=l.slice(i,l.length).slice(1),p=f.length,m=z$(0,d),g=z$(d+1,d+1+p),v=U$([c,[u],f]),y=ue(t,v),b=ue(a,[u]),w=U$([[d],m,g]),x=tn(y,w);let k=CW(x,b,r.shape[s]);const S=Ap(w);return k=tn(k,S),k},indices:()=>a}}};function z$(t,e){const n=[];for(let r=t;r<e;++r)n.push(r);return n}function U$(t){const e=[];for(let n=0;n<t.length;++n)for(let r=0;r<t[n].length;++r)e.push(t[n][r]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mOe={kernelName:JT,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>sn(n),b:()=>sn(r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gOe={kernelName:fw,gradFunc:t=>({x:()=>tt(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yOe={kernelName:eC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bOe={kernelName:tC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vOe={kernelName:nC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wOe={kernelName:rC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{alpha:a}=n,i=ho(r,0);return{x:()=>Xi(i,t,ee(t,a))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xOe={kernelName:iC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,Ae(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Oe={kernelName:aC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,tt(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kOe={kernelName:jye,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{axis:a}=n;return{logits:()=>{const s=ni(r);return lt(t,ee(gt(t,a,!0),s))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SOe(t,e,n,r=5,a=1,i=1,s=.5){const o={x:t,y:e,dy:n},l={depthRadius:r,bias:a,alpha:i,beta:s};return le.runKernel(pj,o,l)}const NOe=ie({localResponseNormalizationBackprop_:SOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EOe={kernelName:sC,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,a]=e,{depthRadius:i,bias:s,alpha:o,beta:l}=n;return{x:()=>NOe(r,a,t,i,s,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MH(t,e,n,r){return e.rank<n.rank&&(e=ue(e,Ni(e.shape,r))),t.rank<n.rank&&(t=ue(t,Ni(t.shape,r))),{x:()=>ee(t,tt(Tl(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const j$={kernelName:oC,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{reductionIndices:a}=r,i=e[0],s=e[1],o=Zn(a,i.shape),l=MH(t,s,i,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TOe={kernelName:lC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>ee(t,tt(Dp(n,r),"float32")),b:()=>ee(t,tt(hW(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function COe(t,e,n,r,a,i,s){const o=W(t,"dy","maxPool3dGrad"),l=W(e,"input","maxPool3dGrad"),u=W(n,"output","maxPool3dGrad");let c=o,d=l,f=u,p=!1;l.rank===4&&(p=!0,c=ue(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),d=ue(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),f=ue(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),V(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),V(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),V(f.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${f.rank}.`),ii("maxPool3dGrad",i,s);const m={dy:c,input:d,output:f},g={filterSize:r,strides:a,pad:i,dimRoundingMode:s},v=le.runKernel(gj,m,g);return p?ue(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}const IOe=ie({maxPool3dGrad_:COe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AOe={kernelName:cC,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,a]=e,{filterSize:i,strides:s,pad:o,dimRoundingMode:l}=n;return{x:()=>IOe(t,r,a,i,s,o,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DOe(t,e,n,r,a,i,s){const o=W(t,"dy","maxPoolGrad"),l=W(e,"input","maxPoolGrad"),u=W(n,"output","maxPoolGrad");V(l.rank===o.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${o.rank})`),V(o.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${o.rank}.`),V(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),ii("maxPoolGrad",i,s);const c={dy:o,input:l,output:u},d={filterSize:r,strides:a,pad:i,dimRoundingMode:s};return le.runKernel(mj,c,d)}const ROe=ie({maxPoolGrad_:DOe});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Oe={kernelName:uC,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r,a]=e,{filterSize:i,strides:s,pad:o}=n;return{x:()=>ROe(t,r,a,i,s,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OOe={kernelName:dC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:a}=n,i=Zn(a,r.shape),o=Zo(r.shape,i)[1],l=Qe(o);return{x:()=>{const c=r.shape.slice();i.forEach(p=>{c[p]=1});const d=ue(t,c);return Je(ee(d,bs(r.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LOe={kernelName:hC,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const r=n,{axis:a}=r,[i,s]=e,o=Zn(a,i.shape),l=MH(t,s,i,o);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FOe={kernelName:fC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e;return{a:()=>ee(t,tt(Rp(n,r),"float32")),b:()=>ee(t,tt(ho(n,r),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const POe={kernelName:pC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:a}=n,i=a.map(s=>s[0]);return{x:()=>bt(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MOe={kernelName:mC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{const o=Kr(n.shape,a);return o.length>0?ue(gt(t,o),n.shape):t},b:()=>{const o=ee(t,mr(kw(Je(n,r)))),l=Kr(r.shape,a);return l.length>0?ue(gt(o,l),r.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BOe={kernelName:gC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{const o=ee(t,tt(r,"float32")),l=Kr(n.shape,a);return l.length>0?ue(gt(o,l),n.shape):o},b:()=>{const o=ee(t,tt(n,"float32")),l=Kr(r.shape,a);return l.length>0?ue(gt(o,l),r.shape):o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zOe={kernelName:yC,gradFunc:t=>({x:()=>mr(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UOe={kernelName:vC,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>Fr(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jOe={kernelName:bC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VOe={kernelName:wC,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:r}=n;return Il(t,r).map(i=>()=>i)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V$={kernelName:xC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const r=e[0],{paddings:a}=n,i=a.map(s=>s[0]);return{x:()=>bt(t,i,r.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WOe={kernelName:_C,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,r,a]=e,i=n,s=r,o=jt(i.shape,s.shape);return{a:()=>{const c=tt(s,"float32");let d=ee(t,ee(c,oh(i,lt(c,wt(1)))));const f=Kr(i.shape,o);return f.length>0&&(d=gt(d,f)),ue(d,i.shape)},b:()=>{const c=ho(i,0),d=Xi(c,so(i),sn(i));let f=ee(t,ee(a,d));const p=Kr(s.shape,o);return p.length>0&&(f=gt(f,p)),ue(f,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GOe={kernelName:kC,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,r]=e,a=ho(n,0);return{x:()=>Xi(a,t,ee(t,r)),alpha:()=>{let i=Xi(a,sn(t),ee(t,n));const s=Kr(r.shape,t.shape);return s.length>0&&(i=gt(i,s)),ue(i,r.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HOe(t,e,n){const r=t.shape.slice();r[n]=1;const a=ue(e,r),i=ES(t,n,!0,!1),s=ES(t,n,!0,!0),o=ee(i,s);return ee(a,o)}function qOe(t,e,n){const r=t.shape.length,a=r-n.length,i=ts(n,r);let s=t;i!=null&&(s=tn(t,i));const o=s.shape.slice(),u=o.splice(r-n.length,n.length).reduce((f,p)=>f*p,1);o.push(u);const c=s.reshape(o);let d=HOe(c,e,a);if(d=d.reshape(s.shape),i!=null){const f=Ap(i);d=tn(d,f)}return d}const YOe={kernelName:SC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{axis:a}=n;let i=[];return a==null?i=r.shape.map((s,o)=>o):typeof a=="number"?i=[a]:i=a,{x:()=>qOe(r,t,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KOe={kernelName:VT,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{const o=Je(t,tt(r,"float32")),l=Kr(n.shape,a);return l.length>0?ue(gt(o,l),n.shape):o},b:()=>{let o=ee(t,tt(n,"float32"));const l=Kr(r.shape,a);l.length>0&&(o=ue(gt(o,l),r.shape));const u=On(r);return mr(Je(o,tt(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XOe={kernelName:NC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,mr(On(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QOe={kernelName:AC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,r=ee(Rp(n,6),O0(n));return{x:()=>ee(t,tt(r,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZOe={kernelName:EC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,tt(O0(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JOe={kernelName:TC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ue(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e9e={kernelName:IC,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,a={dy:t,images:r};return{images:()=>le.runKernel(Cj,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t9e={kernelName:CC,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[r]=e,a={dy:t,images:r};return{images:()=>le.runKernel(Tj,a,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const n9e={kernelName:DC,gradFunc:(t,e,n)=>{const{dims:r}=n,a=Zn(r,t.shape);return{x:()=>Wo(t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r9e={kernelName:RC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a9e={kernelName:$C,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>mr(Je(t,ee(oh(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i9e={kernelName:OC,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>tt(sn(n),"float32"),t:()=>ee(t,tt(n,t.dtype)),e:()=>ee(t,tt(x6(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s9e={kernelName:LC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const r=ho(n,wt(0)),a=wt(J6),i=wt(eI),s=ee(t,i),o=ee(ee(t,a),ni(tt(n,"float32")));return Xi(r,s,o)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o9e={kernelName:zC,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,ee(n,lt(wt(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l9e={kernelName:BC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const u9e={kernelName:PC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(g6(tt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c9e={kernelName:MC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(lW(tt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d9e={kernelName:FC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{begin:a,size:i}=n,s=r.shape,[o,l]=d6(r,a,i),u=[];for(let c=0;c<t.rank;c++)u.push([o[c],s[c]-o[c]-l[c]]);return{x:()=>Cl(t,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h9e={kernelName:HC,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[r]=e,{dim:a}=n,i=!0,s=ee(t,r);return{logits:()=>lt(s,ee(gt(s,[a],i),r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const f9e={kernelName:UC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,xs(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W$={kernelName:WC,gradFunc:(t,e,n)=>{const{blockShape:r,paddings:a}=n;return{x:()=>p6(t,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G$={kernelName:GC,gradFunc:(t,e,n)=>{const{axis:r}=n;return{x:()=>ar(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p9e={kernelName:jC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,ee(ti(tt(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m9e={kernelName:Fj,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(t,ee(tt(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g9e={kernelName:qC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=wt(2);return{a:()=>ee(t,ee(a,lt(n,r))),b:()=>ee(t,ee(a,lt(r,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y9e={kernelName:e6,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b9e={kernelName:YC,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,r]=e,a=jt(n.shape,r.shape);return{a:()=>{let o=t;const l=Kr(n.shape,a);return l.length>0&&(o=gt(o,l)),ue(o,n.shape)},b:()=>{let o=t;const l=Kr(r.shape,a);return l.length>0&&(o=gt(o,l)),ue(mr(o),r.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const v9e={kernelName:VC,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,a=r.shape.slice(),{axis:i}=n;Zn(i,r.shape).forEach(u=>{a[u]=1});const o=ue(t,a),l=ee(o,bs(r.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w9e={kernelName:KC,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Je(t,On(g6(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x9e={kernelName:XC,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>ee(lt(wt(1),On(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _9e={kernelName:pw,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[r]=e,{reps:a}=n;return{x:()=>{let s=sn(r);if(r.rank===1)for(let o=0;o<a[0];++o)s=Ae(s,bt(t,[o*r.shape[0]],[r.shape[0]]));else if(r.rank===2)for(let o=0;o<a[0];++o)for(let l=0;l<a[1];++l)s=Ae(s,bt(t,[o*r.shape[0],l*r.shape[1]],[r.shape[0],r.shape[1]]));else if(r.rank===3)for(let o=0;o<a[0];++o)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)s=Ae(s,bt(t,[o*r.shape[0],l*r.shape[1],u*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else if(r.rank===4)for(let o=0;o<a[0];++o)for(let l=0;l<a[1];++l)for(let u=0;u<a[2];++u)for(let c=0;c<a[3];++c)s=Ae(s,bt(t,[o*r.shape[0],l*r.shape[1],u*r.shape[2],c*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);return s}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k9e={kernelName:qm,gradFunc:(t,e,n)=>{const r=n,{perm:a}=r,i=Ap(a);return{x:()=>tn(t,i)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S9e={kernelName:QC,gradFunc:(t,e,n)=>{const r=n,{axis:a}=r;return{value:()=>Go(t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N9e={kernelName:ZC,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>E9e(t,n)}}};function E9e(t,e){const n=jc(e,sn(e)),r=Sw(t,n);let a=Dp(e,wt(0,"int32"));const i=r.rank-a.rank;for(let o=0;o<i;++o)a=hr(a,o+1);a=hu(a,bs(r.shape,"bool"));const s=sn(r);return Xi(a,r,s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const T9e={kernelName:JC,gradFunc:t=>({x:()=>sn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C9e=[PH,N$e,E$e,T$e,C$e,I$e,A$e,D$e,R$e,$$e,O$e,L$e,M$e,U$e,j$e,V$e,W$e,G$e,H$e,q$e,Y$e,K$e,Q$e,X$e,eOe,tOe,nOe,rOe,aOe,iOe,KOe,sOe,oOe,lOe,uOe,cOe,hOe,dOe,fOe,pOe,mOe,gOe,yOe,bOe,vOe,wOe,xOe,_Oe,kOe,EOe,j$,j$,TOe,AOe,$Oe,OOe,LOe,FOe,POe,MOe,BOe,zOe,UOe,jOe,VOe,V$,V$,WOe,GOe,YOe,XOe,QOe,ZOe,JOe,e9e,t9e,n9e,r9e,a9e,i9e,s9e,o9e,l9e,u9e,c9e,d9e,h9e,f9e,W$,W$,G$,G$,p9e,g9e,m9e,y9e,b9e,v9e,w9e,x9e,_9e,k9e,S9e,N9e,T9e];for(const t of C9e)Gye(t);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function xI(t,e){return me(()=>ti(gt(ee(t,t),e,!0)))}class Y0 extends Tp{getConfig(){return{}}}class BH extends Y0{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return me(()=>{const n=xI(e,this.axis),r=Si(n,0,this.maxValue);return ee(e,Je(r,Ae(Gr(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}BH.className="MaxNorm";je(BH);class zH extends Y0{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return me(()=>Je(e,Ae(Gr(),xI(e,this.axis))))}getConfig(){return{axis:this.axis}}}zH.className="UnitNorm";je(zH);class UH extends Y0{apply(e){return yu(e)}}UH.className="NonNeg";je(UH);class jH extends Y0{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return me(()=>{const n=xI(e,this.axis),r=Ae(ee(this.rate,Si(n,this.minValue,this.maxValue)),ee(1-this.rate,n));return ee(e,Je(r,Ae(Gr(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}jH.className="MinMaxNorm";je(jH);const H$={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function qr(t){return cI(t)}function q$(t,e={}){return j0(t,Ks.getMap().classNameMap,e,"constraint")}function Yr(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in H$?H$[t]:t,config:{}};return q$(n)}else return t instanceof Y0?t:q$(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function ed(t){if(t==null)return;const e=[],n=[],r=[];for(const a in t){const i=t[a];if(typeof i!="number"){const s=i;e.push(s.data()),n.push(a),r.push(s)}}if(e.length>0){const a=await Promise.all(e);for(let i=0;i<a.length;++i)t[n[i]]=a[i][0];pt(r)}}function VH(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var Y$;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(Y$||(Y$={}));const I9e=125;class Xg{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class A9e{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class D9e extends Xg{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const r=n.size==null?0:n.size;this.seen+=r;for(const a in n){const i=n[a];if(typeof i=="number")this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+i*r;else{let s;a in this.totals?s=this.totals[a]:this.totals[a]=0;const o=me(()=>Ae(this.totals[a],ee(i,r)));this.totals[a]=o,s!=null&&s.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const r of this.params.metrics)this.totals[r]!=null&&(typeof this.totals[r]=="number"?n[r]=this.totals[r]/this.seen:me(()=>{const a=ee(Je(1,this.seen),this.totals[r]);n[r]=a,this.totals[r].dispose(),va(n[r])}))}}class R9e extends Xg{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const r in n)this.history[r]==null&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const i in this.history){const s=this.history[i];for(let o=0;o<s.length;++o)if(typeof s[o]!="number"){const l=s[o];e.push(l.data()),n.push(i),r.push(o)}}const a=await Promise.all(e);for(let i=0;i<a.length;++i)this.history[n[i]][r[i]].dispose(),this.history[n[i]][r[i]]=a[i][0]}}class $9e extends Xg{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||VW,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=I9e),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");J4(this.yieldEvery)&&(this.maybeWait=W8e(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const a=[];this.yield!=null&&(await ed(r),a.push(this.yield(e,n,r))),a.push(this.nextFrameFunc()),await Promise.all(a)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await ed(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];this.epochEnd!=null&&(await ed(n),r.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&r.push(this.nextFrameFunc()),await Promise.all(r)}async onBatchBegin(e,n){this.batchBegin!=null&&(await ed(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];this.batchEnd!=null&&(await ed(n),r.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?r.push(this.nextFrameFunc()):J4(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){this.trainBegin!=null&&(await ed(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await ed(e),await this.trainEnd(e))}}function WH(t,e){return t==null&&(t={}),t instanceof Xg?[t]:Array.isArray(t)&&t[0]instanceof Xg?t:qn(t).map(r=>new $9e(r,e))}class Us{constructor(){}static registerCallbackConstructor(e,n){V(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Us.checkForDuplicate(n),Us.constructors[e]==null&&(Us.constructors[e]=[]),Us.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Us.constructors)Us.constructors[+n].forEach(a=>{if(a===e)throw new fe("Duplicate callback constructor.")})}static clear(){Us.constructors={}}static createCallbacks(e){const n=[];for(const r in Us.constructors){const a=+r;e>=a&&n.push(...Us.constructors[a])}return n.map(r=>new r)}}Us.constructors={};function GH(t,e,n,r,a,i,s,o,l){const u=new R9e,c=[new D9e,...Us.createCallbacks(e)];t!=null&&c.push(...t),c.push(u);const d=new A9e(c);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:s,verbose:e,doValidation:o,metrics:l}),{callbackList:d,history:u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function _l(t,e={},n=!1){return j0(t,Ks.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Eb(t,e){return me(()=>{t.dtype!=="float32"&&(t=tt(t,"float32"));const n=gt(G0(t),e,!0),r=Ip(n.shape,Gr()),a=ti(jc(n,r));return Je(t,a)})}function jw(t,e){return me(()=>Tr(G0(lt(e,t)),-1))}function _I(t,e){return me(()=>Tr(aa(lt(e,t)),-1))}function kI(t,e){return me(()=>{const n=lt(t,e),r=Si(aa(t),Gr(),Number.MAX_VALUE),a=aa(Je(n,r));return ee(100,Tr(a,-1))})}function O9e(t,e){return me(()=>{const n=Si(e,Gr(),Number.MAX_VALUE),r=so(Ae(1,n)),a=Si(t,Gr(),Number.MAX_VALUE),i=so(Ae(1,a));return Tr(G0(lt(r,i)),-1)})}function L9e(t,e){return me(()=>{const n=jc(0,lt(1,ee(t,e)));return Tr(G0(n),-1)})}function F9e(t,e){return me(()=>{const n=jc(0,lt(1,ee(t,e)));return Tr(n,-1)})}function P9e(t,e){return me(()=>{const n=gt(ee(t,e),-1),r=wl(ee(lt(1,t),e),-1);return jc(0,Ae(1,lt(r,n)))})}function M9e(t,e){return me(()=>{const n=Math.log(2),r=lt(e,t),a=lt(Ae(r,D0(ee(-2,r))),n);return Tr(a,-1)})}function Qg(t,e,n=!1){return me(()=>{if(n)e=F6(e);else{const r=gt(e,e.shape.length-1,!0);e=Je(e,r)}return e=Si(e,Gr(),1-Gr()),mr(gt(ee(tt(t,"float32"),so(e)),e.shape.length-1))})}function Tb(t,e,n=!1){return me(()=>{const r=tt(kw(n$e(t)),"int32");e=Si(e,Gr(),1-Gr());const a=e.shape,i=ue(CV(r,a[a.length-1]),a);return Qg(i,e,n)})}function B9e(t,e){if(!gn(t.shape,e.shape))throw new fe(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return me(()=>{const n=yu(e),r=mr(aa(e));return Ae(lt(n,ee(e,t)),w6(ni(r)))})}function Vw(t,e){return me(()=>{let n;return n=Si(e,Gr(),1-Gr()),n=so(Je(n,lt(1,n))),Tr(B9e(t,n),-1)})}function z9e(t,e){return me(()=>{const n=Si(t,Gr(),1),r=Si(e,Gr(),1);return gt(ee(t,so(Je(n,r))),-1)})}function U9e(t,e){return me(()=>{const n=so(Ae(Gr(),e));return Tr(lt(e,ee(t,n)),-1)})}function HH(t,e){return me(()=>{const n=Eb(t,-1),r=Eb(e,-1),a=ee(n,r);return mr(gt(a,-1))})}const Cb={meanSquaredError:jw,meanAbsoluteError:_I,meanAbsolutePercentageError:kI,meanSquaredLogarithmicError:O9e,squaredHinge:L9e,hinge:F9e,categoricalHinge:P9e,logcosh:M9e,categoricalCrossentropy:Qg,sparseCategoricalCrossentropy:Tb,binaryCrossentropy:Vw,kullbackLeiblerDivergence:z9e,poisson:U9e,cosineProximity:HH};function Zx(t){if(typeof t=="string"){if(t in Cb)return Cb[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new fe(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function qH(t,e){return me(()=>{const n=ee(.5,oo(e)),r=V0(ho(e,n),t.dtype);return Tr(Tl(t,r),-1)})}function YH(t,e){return me(()=>V0(Tl(up(t,-1),up(e,-1)),"float32"))}function j9e(t,e){return me(()=>tt(gt(hu(Tl(t,1),Tl(e,1))),"float32"))}function V9e(t,e){return me(()=>tt(gt(hu(Tl(t,0),Tl(e,1))),"float32"))}function W9e(t,e){return me(()=>{const n=j9e(t,e),r=V9e(t,e),a=Ae(n,r);return tt(Xi(ho(a,0),Je(n,a),0),"float32")})}function G9e(t,e){return Vw(t,e)}function H9e(t,e){return t.rank===e.rank&&(t=Rt(t,[t.rank-1])),e=up(e,-1),e.dtype!==t.dtype&&(e=tt(e,t.dtype)),tt(Tl(t,e),"float32")}const q9e=jw,Y9e=jw,K9e=_I,X9e=_I,Q9e=kI,Z9e=kI,KH=Qg,J9e=HH,XH=Tb,Ib={binaryAccuracy:qH,categoricalAccuracy:YH,precision:W9e,categoricalCrossentropy:KH,sparseCategoricalCrossentropy:XH,mse:q9e,MSE:Y9e,mae:K9e,MAE:X9e,mape:Q9e,MAPE:Z9e,cosine:J9e};function eLe(t){if(typeof t=="string"&&t in Ib)return Ib[t];if(typeof t!="string"&&t!=null)return t;throw new fe(`Unknown metric ${t}`)}function l2(t){if(ul(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(Cb))if(Cb[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(Ib))if(Ib[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function tLe(t){const e={Adagrad:()=>$h.adagrad(.01),Adadelta:()=>$h.adadelta(1,.95,Gr()),Adam:()=>$h.adam(.001,.9,.999,Gr()),Adamax:()=>$h.adamax(.002,.9,.999,Gr(),0),RMSProp:()=>$h.rmsprop(.001,.9,0,Gr()),SGD:()=>$h.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new fe(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const K$=1*1024*1024;function X$(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!zS(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const r=JSON.stringify(t);r.length>K$&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${K$}.`)}}function zS(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!zS(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!zS(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function nLe(t,e,n,r=console.log){const a=aLe(t),i=["Layer (type)","Input Shape","Output shape","Param #"];a?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(e*c)));let s;if(!a){i.push("Receives inputs"),s=[];for(const c in t.nodesByDepth)s.push(...t.nodesByDepth[c])}r("_".repeat(e)),Ab(i,n,r),r("=".repeat(e));const o=t.layers;for(let c=0;c<o.length;++c)a?iLe(o[c],n,r):sLe(o[c],n,s,r),r((c===o.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=rLe(t),u=kb(t.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(e))}function rLe(t){let e;return t.collectedTrainableWeights!=null?e=kb(t.collectedTrainableWeights):e=kb(t.trainableWeights),e}function aLe(t){let e=!0;const n=[],r=[];for(const a in t.nodesByDepth)n.push(t.nodesByDepth[a]);for(const a of n){if(a.length>1||a.length===1&&a[0].inboundLayers.length>1){e=!1;break}r.push(...a)}if(e)for(const a of t.layers){let i=!1;for(const s of a.inboundNodes)if(r.indexOf(s)!==-1)if(i){e=!1;break}else i=!0;if(!e)break}return e}function Ab(t,e,n=console.log){let r="";for(let a=0;a<t.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r+=t[a],r=r.slice(0,e[a]),r+=" ".repeat(e[a]-r.length);n(r)}function iLe(t,e,n){let r,a;try{a=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const i=t.name,s=t.getClassName(),o=[`${i} (${s})`,a,r,t.countParams().toString()];Ab(o,e,n)}function sLe(t,e,n,r){let a,i;try{i=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{i="multiple"}try{a=JSON.stringify(t.outputShape)}catch{a="multiple"}const s=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let f=0;f<d.inboundLayers.length;++f){const p=d.inboundLayers[f].name,m=d.nodeIndices[f],g=d.tensorIndices[f];s.push(`${p}[${m}][${g}]`)}const o=t.name,l=t.getClassName(),u=s.length===0?"":s[0],c=[`${o} (${l})`,i,a,t.countParams().toString(),u];Ab(c,e,r);for(let d=1;d<s.length;++d)Ab(["","","","",s[d]],e,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function QH(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function Db(t,e){if(t===null)return null;if(typeof t=="string")return cd(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let a=0;a<r;++a){const i=t[a];QH(e,a,i)?n.push(i):n.push(Db(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const a=t[r];if(r==="name"&&typeof a=="string")n[r]=a;else{const i=cd(r);n[i]=Db(a,i)}}return n}}function US(t,e){if(t==null)return null;if(typeof t=="string")return Vl(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],r=t.length;for(let a=0;a<r;++a){const i=t[a];QH(e,a,i)?n.push(i):n.push(US(i,e))}return n}else{const n={};for(const r of Object.keys(t)){const a=t[r],i=Vl(r);(r==="name"||r==="className")&&typeof a=="string"?n[i]=a:n[i]=US(a,r)}return n}}/** @license See the LICENSE file. */const ZH="3.21.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class xo extends rn{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const b=this.getClassName().toLowerCase();this.name=Bw(b)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],cc(this.inputs).length!==this.inputs.length)throw new fe(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(b=>b.name)}`);cc(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(b=>b.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const b of this.outputs){const w=b.sourceLayer,x=b.nodeIndex,k=b.tensorIndex;this.outputLayers.push(w),this.outputLayersNodeIndices.push(x),this.outputLayersTensorIndices.push(k)}for(const b of this.inputs){const w=b.sourceLayer,x=b.nodeIndex,k=b.tensorIndex;ul(x===0,"input layer has >1 nodes"),ul(k===0,"input layer has >1 tensors"),this.inputLayers.push(w),this.inputLayersNodeIndices.push(x),this.inputLayersTensorIndices.push(k)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){const w=this.inputLayers[b];if(!(w instanceof q0))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${b} (0-based) originates from layer type ${w.getClassName()}.`);this.inputNames.push(w.name),this.feedInputShapes.push(w.batchInputShape),this.feedInputNames.push(w.name)}for(const b of this.outputLayers)this.outputNames.push(b.name);this.internalInputShapes=this.inputs.map(b=>b.shape),this.internalOutputShapes=this.outputs.map(b=>b.shape);const n={},r={},a={},i={},s={},o=[],l=(b,w,x,k,S,E)=>{(k==null||S==null||E==null)&&(k=b.sourceLayer,S=b.nodeIndex,E=b.tensorIndex);const I=k.inboundNodes[S];if(x.indexOf(I)!==-1)throw new to(`The tensor ${b.name} at layer "${k.name}" is part of a cycle.`);if(w.indexOf(I)!==-1)return;this.containerNodes.add(xo.nodeKey(k,S)),k.id in s||(s[k.id]=Object.keys(s).length),x.indexOf(I)===-1&&x.push(I);const C=I.inboundLayers.length;for(let R=0;R<C;R++){const z=I.inputTensors[R],H=I.inboundLayers[R],U=I.nodeIndices[R],q=I.tensorIndices[R];l(z,w,x,H,U,q)}for(w.push(I);x.indexOf(I)>=0;)x.splice(x.indexOf(I),1);o.push(I)},u=[],c=[];for(const b of this.outputs)l(b,u,c);const d=o.slice().reverse();for(const b of d){r[b.id]=b,b.id in n||(n[b.id]=0);let w=n[b.id];const x=a[b.outboundLayer.id]==null?0:a[b.outboundLayer.id];w=Math.max(w,x),a[b.outboundLayer.id]=w,i[b.outboundLayer.id]=b.outboundLayer,n[b.id]=w;for(let k=0;k<b.inboundLayers.length;k++){const S=b.inboundLayers[k],E=b.nodeIndices[k],I=S.inboundNodes[E],C=n[I.id]==null?0:n[I.id];n[I.id]=Math.max(w+1,C),r[I.id]=I}}const f={};for(const b in n){const w=n[b];w in f||(f[w]=[]),f[w].push(r[b])}const p={};for(const b in a){const w=a[b];w in p||(p[w]=[]),p[w].push(i[b])}let m=Object.keys(p).map(b=>parseInt(b,10)).sort(i2);this.layers=[];for(const b of m){const w=p[b];w.sort((x,k)=>{const S=s[x.id],E=s[k.id];return S<E?-1:S>E?1:0});for(const x of w)x instanceof xo&&this.internalContainerRefs.push(x),this.layers.push(x)}this.layersByDepth=p,m=Object.keys(f).map(b=>parseInt(b,10)).sort(i2);const g=this.inputs.slice(),v=[];for(const b of m)for(const w of f[b]){const x=w.outboundLayer;if(x!=null){for(const k of w.inputTensors)if(g.indexOf(k)===-1)throw new to(`Graph disconnected: cannot obtain value for tensor ${k} at layer "${x.name}". The following previous layers were accessed without issue: ${v}`);for(const k of w.outputTensors)g.push(k);v.push(x.name)}}this.nodesByDepth=f;const y=this.layers.map(b=>b.name);for(const b of y){const w=y.filter(x=>x===b).length;if(w!==1)throw new to(`The name "${b}" is used ${w} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(y))}this.outboundNodes=[],this.inboundNodes=[],new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(b=>null),outputMasks:this.outputs.map(b=>null),inputShapes:this.inputs.map(b=>b.shape),outputShapes:this.outputs.map(b=>b.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(r=>r.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new fe("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.layers)n.push(...r.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let a=0;for(const s of this.layers)for(const o of s.weights){if(r[o.originalName]!=null)throw new fe(`Duplicate weight name: ${o.originalName}`);r[o.originalName]=o,a++}const i=[];for(const s in e){let o=s;if(r[s]==null){const l=s.split("/");o=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(r[o]!=null)i.push([r[o],e[s]]);else if(n)throw new fe(`Provided weight data has no target variable: ${s}`);delete r[o]}if(n){const s=[];for(const o in r)s.push(o);if(s.length>0)throw new fe(`${s.length} of ${a} weights are not set: ${s}`)}wI(i)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${ZH}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=US(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return me(()=>{e=qn(e);const r=new Hu;for(let a=0;a<this.inputs.length;++a)r.add(this.inputs[a],e[a]);return Sm(this.outputs,r,n)})}computeMask(e,n){return me(()=>{e=qn(e);let r;return n==null?r=uh(null,e.length):r=qn(n),this.runInternalGraph(e,r)[1]})}computeOutputShape(e){const n=_b(e);if(n.length!==this.inputLayers.length)throw new fe(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let o=0;o<n.length;o++){const l=this.inputLayers[o],u=n[o],c=l.name+"_0_0";r[c]=u}const a=Object.keys(this.nodesByDepth).map(o=>parseInt(o,10)).sort(i2);if(a.length>1)for(const o of a){const l=this.nodesByDepth[o];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(g=>g.id).indexOf(c.id)!==-1)continue;const d=[];for(let g=0;g<u.inboundLayers.length;g++){const v=u.inboundLayers[g],y=u.nodeIndices[g],b=u.tensorIndices[g],w=`${v.name}_${y}_${b}`,x=r[w];d.push(x)}const f=c.computeOutputShape(mi(d)),p=_b(f),m=c.inboundNodes.indexOf(u);for(let g=0;g<p.length;g++){const v=`${c.name}_${m}_${g}`;r[v]=p[g]}}}const i=[],s=[];for(let o=0;o<this.outputLayers.length;o++){const l=this.outputLayers[o],u=this.outputLayersNodeIndices[o],c=this.outputLayersTensorIndices[o],d=`${l.name}_${u}_${c}`;s.push(d)}for(let o=0;o<s.length;o++){const l=s[o];ul(l in r),i.push(r[l])}return mi(i)}runInternalGraph(e,n){n==null&&(n=uh(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=e[l],d=n[l];r[u.id]=[c,d]}const a=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(i2);for(const l of a){const u=this.nodesByDepth[l];for(const c of u){const d=c.outboundLayer,f=c.inputTensors,p=c.outputTensors,m=new Array;for(const g of f)g.id in r&&m.push(r[g.id]);if(m.length===f.length){let g={},v,y,b,w;if(c.callArgs!=null&&(g=c.callArgs),m.length===1){const[x,k]=m[0];g.mask==null&&(g.mask=k),b=qn(d.call(x,g)),w=qn(d.computeMask(x,k)),v=[x],y=[k]}else v=m.map(x=>x[0]),y=m.map(x=>x[1]),g.mask==null&&(g.mask=y),b=qn(d.call(v,g)),w=qn(d.computeMask(v,y));if(d.activityRegularizer)throw new Bt("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let x=0;x<p.length;++x){const k=p[x],S=b[x],E=w[x];r[k.id]=[S,E]}}}}const i=[],s=[],o=[];for(const l of this.outputs){ul(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=r[l.id];o.push(u.shape),i.push(u),s.push(c)}return[i,s,o]}buildNodeConversionMap(e){const n={};let r;for(const a of this.layers){r=a instanceof xo?1:0;for(let i=0;i<a.inboundNodes.length;i++){const s=xo.nodeKey(a,i);this.containerNodes.has(s)&&(n[s]=r,r+=1)}}return n}getLayer(e,n){if(n!=null){if(this.layers.length<=n)throw new fe(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}else if(e==null)throw new fe("Provide either a layer name or layer index");for(const r of this.layers)if(r.name===e)return r;throw new fe(`No such layer: ${e}`)}calculateLosses(){return me(()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const a=xo.nodeKey(n,r);this.containerNodes.has(a)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const s of this.layers){const o=s.getClassName(),l=s.getConfig(),u=[];for(let d=0;d<s.inboundNodes.length;d++){const f=s.inboundNodes[d],p=xo.nodeKey(s,d);let m={};if(this.containerNodes.has(p)){if(f.callArgs)try{JSON.stringify(f.callArgs),m=f.callArgs}catch{console.warn(`Layer ${s.name} was passed non-serializable keyword arguments: ${f.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),m={}}if(f.inboundLayers.length>0){const g=[];for(let v=0;v<f.inboundLayers.length;v++){const y=f.inboundLayers[v],b=f.nodeIndices[v],w=f.tensorIndices[v],x=xo.nodeKey(y,b);let k=n[x];k==null&&(k=0),g.push([y.name,k,w,m])}u.push(g)}}}const c={};c.name=s.name,c.className=o,c.config=l,c.inboundNodes=u,r.push(c)}e.layers=r;const a=[];for(let s=0;s<this.inputLayers.length;s++){const o=this.inputLayers[s],l=this.inputLayersNodeIndices[s],u=xo.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.inputLayersTensorIndices[s];a.push([o.name,c,d])}e.inputLayers=a;const i=[];for(let s=0;s<this.outputLayers.length;s++){const o=this.outputLayers[s],l=this.outputLayersNodeIndices[s],u=xo.nodeKey(o,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.outputLayersTensorIndices[s];i.push([o.name,c,d])}return e.outputLayers=i,e}static fromConfig(e,n,r={},a=!1){const i={},s={};function o(v,y){v.name in s?s[v.name].push(y):s[v.name]=[y]}function l(v,y){const b=[];let w;for(const x of y){const k=x[0],S=x[1],E=x[2];if(w=x[3]==null?{}:x[3],!(k in i)){o(v,y);return}const I=i[k];if(I.inboundNodes.length<=S){o(v,y);return}const C=I.inboundNodes[S];b.push(C.outputTensors[E])}b.length>0&&v.apply(mi(b),w)}function u(v){const y=v.name,b=_l(v,n.customObjects!=null?n.customObjects:{});b.setFastWeightInitDuringBuild(a),i[y]=b,v.inboundNodes.forEach(x=>{if(!(x instanceof Array))throw new fe(`Corrupted configuration, expected array for nodeData: ${x}`);o(b,x)})}const c=n.name,d=n.layers;for(const v of d)u(v);for(;!V8e(s);)for(const v of d){const y=i[v.name];if(y.name in s){const b=s[y.name];delete s[y.name];for(const w of b)l(y,w)}}const f=[],p=[],m=n.inputLayers;for(const v of m){const y=v[0],b=v[1],w=v[2];ul(y in i);const k=i[y].inboundNodes[b].outputTensors;f.push(k[w])}const g=n.outputLayers;for(const v of g){const y=v[0],b=v[1],w=v[2];ul(y in i);const k=i[y].inboundNodes[b].outputTensors;p.push(k[w])}return new e({inputs:f,outputs:p,name:c})}get stateful(){if(this._stateful)throw new fe("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){me(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function oLe(t,e,n){const r=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(a=>null);if(r===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==r)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const a=[];return e.forEach(i=>{i in t?a.push(t[i]):a.push(null)}),a}else throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function JH(t,e){return oLe(t,e,"classWeight")}async function eq(t,e,n,r){if(e!=null||r!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const a=me(()=>{if(t.shape.length===1)return nu(t);if(t.shape.length===2){if(t.shape[1]>1)return up(t,1);if(t.shape[1]===1)return ue(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),i=Array.from(await a.data());pt(a);const s=[];return i.forEach(o=>{if(n[o]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${o} exists in the data but not in classWeight`);s.push(n[o])}),Kn(s,"float32")}else return null}function lLe(t,e){return ee(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const uLe=32;function tq(t,e){let n,r;const a=e;n=a.xs,r=a.ys,V(n!=null&&r!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const i=Q$("input",t.inputNames,n),s=Q$("output",t.outputNames,r),o=i[0].shape[0];V(i.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),V(s.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${s.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<i.length;l++)V(i[l].shape[0]===o,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${i[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);for(let l=0;l<s.length;l++)V(s[l].shape[0]===o,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${s[l].shape[0]}; expected  ${o} based on input ${t.inputNames[0]}.`);return{xs:i,ys:s}}function Q$(t,e,n){if(n instanceof en)return[n];if(Array.isArray(n))return V(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const r=[];for(const a of e){if(n[a]==null)throw new fe(`The feature data generated by the dataset lacks the required ${t} key '${a}'.`);r.push(n[a])}return r}}function cLe(t){if(t.length===3)throw new Bt("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function dLe(t,e,n){const r=n.batchesPerEpoch!=null;if(V(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),V(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),V(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),V(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),V(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const a=n.validationData!=null;let i,s;if(a)if(Z$(n.validationData))V(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const v=cLe(n.validationData);i=v.xs,s=v.ys}const o=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let u;a?u=l.slice().concat(l.map(v=>"val_"+v)):u=l.slice();const c=WH(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:f,history:p}=GH(c,d,n.epochs,null,null,hLe(e,n),null,a,u);f.setModel(t),t.history=p,await f.onTrainBegin(),t.stopTraining_=!1;let m=n.initialEpoch==null?0:n.initialEpoch,g=await e.iterator();for(;m<n.epochs;){const v={};await f.onEpochBegin(m);let y=0,b=0;for(r||(g=await e.iterator());!r||y<n.batchesPerEpoch;){const w=await g.next();if(r&&w.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${y} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(w.value!=null){const{xs:x,ys:k}=tq(t,w.value),S={};S.batch=b,S.size=x[0].shape[0],await f.onBatchBegin(b,S);const E=[];if(n.classWeight!=null){const R=JH(n.classWeight,t.outputNames);for(let z=0;z<R.length;++z)E.push(await eq(k[z],null,R[z]))}const I=x.concat(k).concat(E),C=o(I);pt(I);for(let R=0;R<l.length;++R){const z=l[R],H=C[R];S[z]=H,va(H)}await f.onBatchEnd(b,S),VH(S),b++,y++}if(r?y>=n.batchesPerEpoch:w.done){if(a){let x;Z$(n.validationData)?x=qn(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):x=qn(t.evaluate(i,s,{batchSize:n.validationBatchSize==null?uLe:n.validationBatchSize,verbose:0}));for(let k=0;k<t.metricsNames.length;++k)v[`val_${t.metricsNames[k]}`]=x[k]}break}if(t.stopTraining_)break}if(await f.onEpochEnd(m,v),m++,t.stopTraining_)break}return await f.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function hLe(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function Z$(t){return typeof t.iterator=="function"}function fLe(t){return typeof t.next=="function"}async function pLe(t,e,n){n=n||{};const r=n.batches!=null,a=t.testFunction;let i=[];if(n.verbose>0)throw new Bt("Verbose mode is not implemented yet.");V(!r||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const s=fLe(e)?e:await e.iterator();let o=0,l=0;for(;!r||l<n.batches;){const u=await s.next();if(i=me(()=>{if(u.value){const{xs:c,ys:d}=tq(t,u.value),f=c.concat(d),p=me(()=>a(f));if(pt(f),l===0)for(let g=0;g<p.length;++g)i.push(wt(0));const m=f[0].shape[0];for(let g=0;g<p.length;++g){const v=p[g],y=i[g];i[g]=me(()=>Ae(i[g],ee(m,v))),l>0&&pt(y)}pt(p),o+=m,++l}return i}),u.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<i.length;++u){const c=i[u];i[u]=Je(i[u],o),pt(c)}return mi(i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function jS(t){V(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function Nm(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(r=>Ld(r,e,n-e)):Ld(t,e,n-e)}function SI(t,e){return me(()=>t==null?null:Array.isArray(t)?t.map(n=>SI(n,e)):TH(t,e.dtype==="int32"?e:tt(e,"int32")))}function VS(t,e){const n=[];let r=0,a=null;for(;r<t;)a=r+e,a>=t&&(a=t),n.push([r,a]),r=a;return n}async function mLe(t,e,n,r,a,i,s,o,l,u,c,d,f,p,m){a==null&&(a=32),i==null&&(i=1),c==null&&(c=!0),f==null&&(f=0);let g=!1;if(l!=null&&u!=null&&(g=!0),m!=null&&(g=!0,p==null))throw new fe("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const v=t.checkNumSamples(n,a,p,"steps_per_epoch");let y;v!=null&&(y=qo(0,v)),s==null&&(s=1);const{callbackList:b,history:w}=GH(o,s,i,f,v,p,a,g,d);b.setModel(t),t.history=w,await b.onTrainBegin(),t.stopTraining_=!1;for(let x=f;x<i;++x){await b.onEpochBegin(x);const k={};if(p!=null)throw new Bt("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Bt("batch shuffling is not implemneted yet");c&&Nye(y);const S=Kn(y),E=VS(v,a);for(let I=0;I<E.length;++I){const C={};if(await b.onBatchBegin(I,C),me(()=>{const R=E[I][0],z=E[I][1],H=Ld(S,R,z-R);C.batch=I,C.size=z-R;const U=SI(n,H),q=e(U);for(let Q=0;Q<r.length;++Q){const re=r[Q],he=q[Q];C[re]=he,va(he)}if(I===E.length-1&&g){const Q=t.testLoop(l,u,a);for(let re=0;re<r.length;++re){const he=r[re],ae=Q[re];va(ae),k["val_"+he]=ae}}}),await b.onBatchEnd(I,C),VH(C),t.stopTraining_)break}S.dispose()}if(await b.onEpochEnd(x,k),t.stopTraining_)break}return await b.onTrainEnd(),await t.history.syncData(),t.history}async function gLe(t,e,n,r={}){if(t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;let a,i,s,o,l,u,c,d,f;try{const p=r.batchSize==null?32:r.batchSize;jS(p);const m=!1,g=await t.standardizeUserData(e,n,r.sampleWeight,r.classWeight,m,p);a=g[0],i=g[1],f=g[2];let v=!1,y;if(r.validationData!=null&&r.validationData.length>0){if(v=!0,r.validationData.length===2)l=r.validationData[0],u=r.validationData[1];else throw r.validationData.length===3?new Bt("validationData including sample weights is not supported yet."):new fe(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${r.validationData} is invalid.`);const C=!0,R=await t.standardizeUserData(l,u,null,null,C,p);c=R[0],d=R[1],y=c.concat(d)}else if(r.validationSplit!=null&&r.validationSplit>0&&r.validationSplit<1){v=!0;const C=Math.floor(a[0].shape[0]*(1-r.validationSplit)),R=a[0].shape[0];c=Nm(a,C,R),s=a,a=Nm(a,0,C),d=Nm(i,C,R),o=i,i=Nm(i,0,C),y=c.concat(d)}else r.validationSteps!=null&&(v=!0);const b=a.concat(i).concat(f);t.checkTrainableWeightsConsistency();const w=t.makeTrainFunction(),x=t.getDedupedMetricsNames();let k,S;v?(t.makeTestFunction(),k=t.testFunction,S=x.slice().concat(x.map(C=>"val_"+C))):(k=null,y=[],S=x.slice());const E=WH(r.callbacks,r.yieldEvery);return await mLe(t,w,b,x,p,r.epochs,r.verbose,E,k,y,r.shuffle,S,r.initialEpoch,null,null)}finally{t.isTraining=!1,Ao(a,e),Ao(i,n),Ao(s,e),Ao(o,n),Ao(c,l),Ao(d,u),f!=null&&pt(f)}}function nq(t){const e=[];t instanceof en&&(t=[t]);for(let n=0;n<t.length;++n){const r=t[n];if(r.rank===1)e.push(W0(r,1));else{if(r.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(r)}}return e}function Ao(t,e){if(t==null)return;const n=[];if(e instanceof en)n.push(e.id);else if(Array.isArray(e))e.forEach(a=>n.push(a.id));else if(e!=null)for(const a in e){const i=e[a];n.push(i.id)}const r=[];if(t instanceof en)n.indexOf(t.id)===-1&&r.push(t);else if(Array.isArray(t))t.forEach(a=>{n.indexOf(a.id)===-1&&r.push(a)});else if(t!=null)for(const a in t){const i=t[a];n.indexOf(i.id)===-1&&r.push(i)}r.forEach(a=>{a.isDisposed||a.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function yLe(t){return t instanceof en}function WS(t){return Array.isArray(t)}function J$(t){return!yLe(t)&&!WS(t)}function eO(t,e,n,r=!0,a=""){if(e==null||e.length===0){if(t!=null){let s=!1;if(WS(t)&&t.length>0)s=!0;else if(J$(t)){for(const o in t)if(t.hasOwnProperty(o)){s=!0;break}}else s=!0;if(s)throw new fe(`Error when checking model ${a} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(s=>null);let i;if(J$(t)){t=t,i=[];for(const s of e){if(t[s]==null)throw new fe(`No data provided for "${s}". Need data for each key in: ${e}`);i.push(t[s])}}else if(WS(t)){if(t=t,t.length!==e.length)throw new fe(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);i=t}else{if(t=t,e.length>1)throw new fe(`The model ${a} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);i=[t]}if(i=nq(i),n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const o=i[s];if(o.shape.length!==n[s].length)throw new fe(`Error when checking ${a}: expected ${e[s]} to have ${n[s].length} dimension(s). but got array with shape ${o.shape}`);for(let l=0;l<n[s].length;++l){if(l===0&&!r)continue;const u=o.shape[l],c=n[s][l];if(c!=null&&c>=0&&u!==c)throw new fe(`${a} expected a batch of elements where each example has shape [${n[s].slice(1,n[s].length)}] (i.e.,tensor shape [*,${n[s].slice(1,n[s].length)}]) but the ${a} received an input with ${o.shape[0]} examples, each with shape [${o.shape.slice(1,o.shape.length)}] (tensor shape [${o.shape}])`)}}return i}function bLe(t,e,n){const r=cc(t.map(i=>i.shape[0]));r.sort();const a=cc(e.map(i=>i.shape[0]));if(a.sort(),r.length>1)throw new fe(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(i=>i.shape))}`);if(a.length>1)throw new fe(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(i=>i.shape))}`);if(r.length>0&&a.length>0&&!gn(r,a))throw new fe(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}function vLe(t,e,n){const r=[jw,Vw,Qg];for(let a=0;a<t.length;++a){const i=t[a],s=e[a],o=n[a];if(s!=null){if(s===Qg&&i.shape[i.shape.length-1]===1)throw new fe(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(r.indexOf(s)!==-1){const l=i.shape.slice(1),u=o.slice(1);for(let c=0;c<l.length;++c){const d=l[c],f=u[c];if(f!=null&&d!==f)throw new fe(`A target Tensor with shape ${i.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function tO(t,e,n,r=!0,a=""){let i;if(Array.isArray(t)){if(t.length!==e.length)throw new fe(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);i=t}else{if(e.length>1)throw new fe(`The model expects ${e.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);i=[t]}if(n!=null)for(let s=0;s<e.length;++s){if(n[s]==null)continue;const o=i[s];if(o.shape.length!==n[s].length)throw new fe(`Error when checking ${a}: expected ${e[s]} to have ${n[s].length} dimension(s), but got array with shape ${JSON.stringify(o.shape)}`);for(let l=0;l<n[s].length;++l){if(l===0&&!r)continue;const u=o.shape[l],c=n[s][l];if(c!=null&&c!==u)throw new fe(`Error when checking ${a}: expected ${e[s]} to have shape ${JSON.stringify(n[s])} but got array with shape ${JSON.stringify(o.shape)}.`)}}}function wLe(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(r=>n);{const r=[];for(const a of e){let i=n.hasOwnProperty(a)?n[a]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}}const xLe="layers-model";class Sf extends xo{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new fe("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");nLe(this,e,n,r)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=tLe(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof Vc))throw new fe("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const s in e.loss)if(this.outputNames.indexOf(s)===-1)throw new fe(`Unknown entry in loss dictionary: "${s}". Only expected the following keys: ${this.outputNames}`);for(const s of this.outputNames)e.loss[s]==null&&console.warn(`Output "${s}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${s} during training`),n.push(Zx(e.loss[s]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new fe(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(o=>Zx(o))}else{const s=Zx(e.loss);this.outputs.forEach(o=>{n.push(s)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let s=0;s<this.outputs.length;++s){const o=this.internalOutputShapes[s],l=this.outputNames[s];this.feedOutputNames.push(l),this.feedOutputShapes.push(o),this.feedLossFns.push(this.lossFunctions[s])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Od("loss",()=>{for(let s=0;s<this.outputs.length;++s){if(r.indexOf(s)!==-1)continue;const o=this.lossFunctions[s];this.outputs.length>1&&(this.metricsTensors.push([o,s]),this.metricsNames.push(this.outputNames[s]+"_loss"))}});const a=wLe(e.metrics,this.outputNames),i=(s,o,l)=>{this.outputNames.length>1&&(o=this.outputNames[s]+"_"+o),this.metricsNames.push(o),this.metricsTensors.push([l,s])};Od("metric",()=>{for(let s=0;s<this.outputs.length;++s){if(r.indexOf(s)!==-1)continue;const o=a[s];(u=>{const c="";let d,f,p;for(const m of u){if(typeof m=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(m)!==-1){const v=this.internalOutputShapes[s];v[v.length-1]===1||this.lossFunctions[s]===Vw?["accuracy","acc"].indexOf(m)!==-1?f=qH:["crossentropy","ce"].indexOf(m)!==-1&&(f=G9e):this.lossFunctions[s]===Tb?["accuracy","acc"].indexOf(m)!==-1?f=H9e:["crossentropy","ce"].indexOf(m)!==-1&&(f=XH):["accuracy","acc"].indexOf(m)!==-1?f=YH:["crossentropy","ce"].indexOf(m)!==-1&&(f=KH);let y;["accuracy","acc"].indexOf(m)!==-1?y="acc":["crossentropy","ce"].indexOf(m)!==-1&&(y="ce"),p=f,d=c+y}else p=eLe(m),d=c+l2(m);let g;Od(d,()=>{g=p}),i(s,d,g)}})(o)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const a=r.batchSize==null?32:r.batchSize;jS(a);const i=!0,s=this.standardizeUserDataXY(e,n,i,a);try{const o=s[0].concat(s[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,o,a,r.verbose,r.steps);return mi(u)}finally{Ao(s[0],e),Ao(s[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),pLe(this,e,n)}checkNumSamples(e,n,r,a="steps"){let i;if(r!=null){if(i=null,n!=null)throw new fe(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?i=e[0].shape[0]:i=e.shape[0];else throw new fe(`Either the input data should have a defined shape, or ${a} shoud be specified.`);return i}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new fe("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),a=r?n:[n],i=this.retrieveSymbolicTensors(a),s=new Hu;if(e instanceof en&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new fe(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)s.add(this.inputs[l],e[l])}else for(const l of this.inputs){const u=e[l.name];if(u==null)throw new fe(`No value is provided for the model's input ${l.name}`);s.add(l,u)}const o=Sm(i,s);return r?o:o[0]}retrieveSymbolicTensors(e){const n=uh(null,e.length);let r=e.length;for(const a of this.layers){const i=Array.isArray(a.output)?a.output:[a.output],s=i.map(o=>o.name);for(let o=0;o<e.length;++o){const l=s.indexOf(e[o]);if(l!==-1&&(n[o]=i[l],r--),r===0)break}if(r===0)break}if(r>0){const a=[];throw n.forEach((i,s)=>{i==null&&a.push(e[s])}),new fe(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(a)}`)}return n}predictLoop(e,n=32,r=!1){return me(()=>{const a=this.checkNumSamples(e);if(r)throw new Bt("Verbose predictLoop() is not implemented yet.");const i=VS(a,n),s=this.outputs.map(o=>[]);for(let o=0;o<i.length;++o)me(()=>{const u=i[o][0],c=i[o][1],d=Nm(e,u,c),f=[];if(Array.isArray(d))for(let m=0;m<d.length;++m)f.push({key:this.inputs[m],value:d[m]});else f.push({key:this.inputs[0],value:d});const p=new Hu(f);return Sm(this.outputs,p)}).forEach((u,c)=>s[c].push(u));return mi(s.map(o=>ar(o,0)))})}predict(e,n={}){const r=nq(e);tO(r,this.inputNames,this.feedInputShapes,!1);try{const a=n.batchSize==null?32:n.batchSize;return jS(a),this.predictLoop(r,a)}finally{Ao(r,e)}}predictOnBatch(e){tO(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,a){if(this.optimizer_==null)throw new to("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const i=[];for(let s=0;s<this.feedOutputShapes.length;++s){const o=this.feedOutputShapes[s];this.feedLossFns[s]===Tb?i.push(o.slice(0,o.length-1).concat([1])):i.push(o)}if(e=eO(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=eO(n,this.feedOutputNames,i,!1,"target"),bLe(e,n),vLe(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&a!=null&&a>0&&e[0].shape[0]%a!==0)throw new fe(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,a,i=!0,s){const[o,l]=this.standardizeUserDataXY(e,n,i,s);if(r!=null)throw new Error("sample weight is not supported yet.");let u=null;if(a!=null){const c=JH(a,this.outputNames);u=[];for(let d=0;d<c.length;++d)u.push(await eq(l[d],null,c[d]))}return[o,l,u]}testLoop(e,n,r,a=0,i){return me(()=>{const s=this.checkNumSamples(n,r,i,"steps"),o=[];if(a>0)throw new Bt("Verbose mode is not implemented yet.");if(i!=null)throw new Bt("steps mode in testLoop() is not implemented yet");{const l=VS(s,r),u=Kn(qo(0,s));for(let c=0;c<l.length;++c){const d=l[c][0],f=l[c][1],p=Ld(u,d,f-d),m=SI(n,p),g=e(m);if(c===0)for(let v=0;v<g.length;++v)o.push(wt(0));for(let v=0;v<g.length;++v){const y=g[v];o[v]=Ae(o[v],ee(f-d,y))}}for(let c=0;c<o.length;++c)o[c]=Je(o[c],s)}return o})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const a=e[r];let i=a;if($$(e,a)>1){const s=$$(e.slice(0,r),a);i+=`_${s}`}n.push(i)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),s=[],o=()=>{const d=[];for(let g=0;g<this.inputs.length;++g)d.push({key:this.inputs[g],value:r[g]});const f=new Hu(d),p=Sm(this.outputs,f,{training:!0});let m;for(let g=0;g<this.lossFunctions.length;++g){const v=this.lossFunctions[g];let y=v(a[g],p[g]);i[g]!=null&&(y=lLe(y,i[g]));const b=Tr(y);n.push(b),g===0?m=y:m=Ae(m,y)}for(let g=0;g<this.metricsTensors.length;++g){let v;if(this.outputs.length>1&&g<this.outputs.length)v=n[g];else{const y=this.metricsTensors[g][0],b=this.metricsTensors[g][1];v=Tr(y(a[b],p[b]))}va(v),s.push(v)}return m=Tr(m),this.calculateLosses().forEach(g=>{m=Ae(m,g)}),m},l=this.collectedTrainableWeights.map(d=>d.read()),u=!0;return[this.optimizer_.minimize(o,u,l)].concat(s)}}makeTestFunction(){this.testFunction=e=>me(()=>{const n=[];let r;const a=e.slice(0,this.inputs.length),i=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let u=0;u<this.inputs.length;++u)s.push({key:this.inputs[u],value:a[u]});const o=new Hu(s),l=Sm(this.outputs,o);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],d=Tr(c(i[u],l[u]));u===0?r=d:r=Ae(r,d),n.push(r)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],d=this.metricsTensors[u][1],f=Tr(c(i[d],l[d]));n.push(f)}return n})}async fit(e,n,r={}){return gLe(this,e,n,r)}async fitDataset(e,n){return dLe(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),a=r[0],i=r[1],o=this.makeTrainFunction()(a.concat(i)),l=[];for(const u of o){const c=await u.data();l.push(c[0])}return pt(o),Ao(r[0],e),Ao(r[1],n),mi(l)}getNamedWeights(e){const n=[],r=e!=null&&e.trainableOnly,a=r?this.trainableWeights:this.weights,i=this.getWeights(r);for(let s=0;s<a.length;++s)r&&!a[s].trainable||n.push({name:a[s].originalName,tensor:i[s]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=_S().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-_S().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=Vl(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>Vl(n))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const a of n)if(typeof r[a]=="string")e[a]=Vl(r[a]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[Vl(l2(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>Vl(l2(e)));{const e={};for(const n in this.metrics)e[n]=Vl(l2(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=Db(e.optimizer_config),r=_l(n);let a;if(typeof e.loss=="string")a=cd(e.loss);else if(Array.isArray(e.loss))a=e.loss.map(s=>cd(s));else if(e.loss!=null){a={};for(const s in e.loss)a[s]=cd(e.loss[s])}let i;if(Array.isArray(e.metrics))i=e.metrics.map(s=>cd(s));else if(e.metrics!=null){i={};for(const s in e.metrics)i[s]=cd(e.metrics[s])}this.compile({loss:a,metrics:i,optimizer:r})}async save(e,n){if(typeof e=="string"){const u=dV(e);if(u.length===0)throw new fe(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new fe(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new fe("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await yS(this.getNamedWeights(n)),a=!1,i=null,o={modelTopology:this.toJSON(i,a),format:xLe,generatedBy:`TensorFlow.js tfjs-layers v${ZH}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){o.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:d}=await yS(await this.optimizer.getWeights(),u);r.specs.push(...d),r.data=yw([r.data,c])}return this.userDefinedMetadata!=null&&(X$(this.userDefinedMetadata,this.name,!0),o.userDefinedMetadata=this.userDefinedMetadata),o.weightData=r.data,o.weightSpecs=r.specs,e.save(o)}setUserDefinedMetadata(e){X$(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Sf.className="Model";je(Sf);class rq extends Sf{}rq.className="Functional";je(rq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function _Le(t,e){if(e==null&&(e={}),typeof t=="string"){const n=hV(t,e);if(n.length===0)n.push(SV(t,e));else if(n.length>1)throw new fe(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return kLe(t,void 0,e)}async function kLe(t,e,n){if(n==null&&(n={}),t.load==null)throw new fe("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const r=await t.load();let a=r.modelTopology;a.model_config!=null&&(a=a.model_config);const i=n.strict==null?!0:n.strict,s=r.weightData!=null&&r.weightSpecs!=null&&i,o=_l(Db(a),e,s),l=r.trainingConfig;if(l!=null&&o.loadTrainingConfig(l),r.userDefinedMetadata!=null&&o.setUserDefinedMetadata(r.userDefinedMetadata),r.weightData!=null){if(r.weightSpecs==null)throw new fe("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=SLe(r.weightData,r.weightSpecs);o.loadWeights(u,i),o.optimizer!=null&&c.length>0&&await o.optimizer.setWeights(c),pt(u),pt(c.map(d=>d.tensor))}return o}function SLe(t,e){const n=r6(t,e),r={},a=[];return e.forEach(i=>{i.group==="optimizer"?a.push({name:i.name,tensor:n[i.name]}):r[i.name]=n[i.name]}),{modelWeights:r,optimizerWeights:a}}class Zg extends Sf{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:Bw("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(r=>r<0))throw new fe(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof Zg||e instanceof Sf;let r;if(n){if(r=e,r.outputs.length!==1)throw new fe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(r.inputs.length!==1)throw new fe("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new fe("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const a=b$e({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(e.inboundNodes.length!==1)throw new fe(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new fe("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=FH(this.outputs[0])}this.inboundNodes=[],new Uw({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:uh(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(a=>a.shape),outputShapes:this.outputs[0].shape})}else{const a=e.apply(this.outputs[0]);if(Array.isArray(a))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[a],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(En(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Sf({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new to("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new to("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new to("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new to("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},a=!1){let i,s={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new fe("Legacy serialization format not supported yet.");i=n}else V(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),i=n.layers,delete n.layers,s=n;const o=new e(s);if(!(o instanceof Zg))throw new Bt(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const l of i){const c=_l(l,void 0,a);a&&c.setFastWeightInitDuringBuild(!0),o.add(c)}return o}set stopTraining(e){if(this.model==null)throw new fe("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new fe("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}Zg.className="Sequential";je(Zg);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function NLe(t,e){return e==null&&(e={}),_Le(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let Ii=class extends Tp{getConfig(){return{}}};class aq extends Ii{apply(e,n=1){return a$e(e,n)}}aq.className="elu";je(aq);class iq extends Ii{apply(e){return _W(e)}}iq.className="selu";je(iq);class sq extends Ii{apply(e){return yu(e)}}sq.className="relu";je(sq);class oq extends Ii{apply(e){return me(()=>R0(6,yu(e)))}}oq.className="relu6";je(oq);class lq extends Ii{apply(e){return e}}lq.className="linear";je(lq);class uq extends Ii{apply(e){return xs(e)}}uq.className="sigmoid";je(uq);class cq extends Ii{apply(e){return s$e(e)}}cq.className="hardSigmoid";je(cq);class dq extends Ii{apply(e){return D0(e)}}dq.className="softplus";je(dq);class hq extends Ii{apply(e){return i$e(e)}}hq.className="softsign";je(hq);class fq extends Ii{apply(e){return Ug(e)}}fq.className="tanh";je(fq);let NI=class extends Ii{apply(e,n=-1){return F6(e,n)}};NI.className="softmax";je(NI);class pq extends Ii{apply(e,n=-1){return fW(e,n)}}pq.className="logSoftmax";je(pq);class mq extends Ii{apply(e,n=1){return me(()=>ee(xs(ee(e,n)),e))}}mq.className="swish";je(mq);class gq extends Ii{apply(e){return me(()=>ee(e,Ug(D0(e))))}}gq.className="mish";je(gq);function Cc(t){return t.getClassName()}function Jx(t,e={}){return j0(t,Ks.getMap().classNameMap,e,"activation")}function Ic(t){if(t==null){const e={};return e.className="linear",e.config={},Jx(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},Jx(e)}else return t instanceof Ii?t:Jx(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ELe(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class yq extends Tp{}class bq extends yq{constructor(e){super(),ELe(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return me(()=>{let n=Fr([1]);return this.hasL1&&(n=Ae(n,gt(ee(this.l1,aa(e))))),this.hasL2&&(n=Ae(n,gt(ee(this.l2,G0(e))))),ue(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}bq.className="L1L2";je(bq);const nO={l1l2:"L1L2"};function Ln(t){return cI(t)}function rO(t,e={}){return j0(t,Ks.getMap().classNameMap,e,"regularizer")}function ir(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in nO?nO[t]:t,config:{}};return rO(n)}else return t instanceof yq?t:rO(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class vq extends rn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=zt(e);let r=yu(e);return this.maxValue!=null&&(r=Si(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}vq.className="ReLU";je(vq);class wq extends rn{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=zt(e);return v6(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}wq.className="LeakyReLU";je(wq);class xq extends rn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=rr(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=ir(e.alphaRegularizer),this.alphaConstraint=Yr(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new fe(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=En(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const a of this.sharedAxes)n[a-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(this.sharedAxes!=null)for(let a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new Hr({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=zt(e),N6(e,this.alpha.read())}getConfig(){const e={alphaInitializer:pr(this.alphaInitializer),alphaRegularizer:Ln(this.alphaRegularizer),alphaConstraint:qr(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}xq.className="PReLU";je(xq);class _q extends rn{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new Bt(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=zt(e);return xw(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}_q.className="ELU";je(_q);class kq extends rn{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const r=zt(e);return ee(r,tt(ho(r,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}kq.className="ThresholdedReLU";je(kq);class Sq extends rn{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new NI().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){const r=zt(e);return this.softmax(r,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}Sq.className="Softmax";je(Sq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Nf(t,e,n){if(typeof t=="number")return uh(t,e);if(t.length!==e)throw new fe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let r=0;r<e;++r){const a=t[r];if(!e$e(a))throw new fe(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${a}`)}return t}function Po(t,e,n,r,a=1){if(t==null)return t;const i=e+(e-1)*(a-1);let s;return n==="same"?s=t:s=t-i+1,Math.floor((s+r-1)/r)}function cl(t,e,n,r){if(t==null)return null;if(r==="valid")t=t*e+Tc([n-e,0]);else if(r==="same")t=t*e;else throw new fe(`Unsupport padding mode: ${r}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function EI(t,e){return me(()=>(Ir(e),e==="channelsFirst"?tn(t,[0,2,3,1]):t))}function Nq(t,e){return me(()=>(Ir(e),e==="channelsFirst"?tn(t,[0,2,3,4,1]):t))}function TLe(t,e,n,r=1,a="valid",i,s=1){return me(()=>{if(i==null&&(i=Yo()),Ir(i),t.shape.length!==3)throw new fe(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new fe(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new fe(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(i==="channelsFirst"&&(t=tn(t,[0,2,1])),a==="causal")throw new Bt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let o=rW(t,e,r,a==="same"?"same":"valid","NWC",s);return n!=null&&(o=el(o,n)),o})}function aO(t,e,n,r=[1,1],a="valid",i,s,o=null){return me(()=>{if(i==null&&(i=Yo()),Ir(i),t.rank!==3&&t.rank!==4)throw new fe(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new fe(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=EI(t,i);if(a==="causal")throw new Bt("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=OW({x:l,filter:e,strides:r,pad:a==="same"?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:o}),i==="channelsFirst"&&(l=tn(l,[0,3,1,2])),l})}function CLe(t,e,n,r=[1,1,1],a="valid",i,s){return me(()=>{if(i==null&&(i=Yo()),Ir(i),t.rank!==4&&t.rank!==5)throw new fe(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new fe(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let o=Nq(t,i);if(a==="causal")throw new Bt("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return o=iW(o,e,r,a==="same"?"same":"valid","NDHWC",s),n!=null&&(o=el(o,n)),i==="channelsFirst"&&(o=tn(o,[0,4,1,2,3])),o})}class Ww extends rn{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Ww.verifyArgs(n),this.rank=e,la(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Bt(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Nf(n.kernelSize,e,"kernelSize"),this.strides=Nf(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,$s(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,Ir(this.dataFormat),this.activation=Ic(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=rr(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Yr(n.biasConstraint),this.biasRegularizer=ir(n.biasRegularizer),this.activityRegularizer=ir(n.activityRegularizer),this.dilationRate=Nf(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new fe(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new fe(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new fe(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if(ul("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!dI(e.kernelSize,"number",1,3))throw new fe(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Cc(this.activation),useBias:this.useBias,biasInitializer:pr(this.biasInitializer),biasRegularizer:Ln(this.biasRegularizer),activityRegularizer:Ln(this.activityRegularizer),biasConstraint:qr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class Up extends Ww{constructor(e,n){super(e,n),this.kernel=null,Up.verifyArgs(n),this.filters=n.filters,la(this.filters,"filters"),this.kernelInitializer=rr(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Yr(n.kernelConstraint),this.kernelRegularizer=ir(n.kernelRegularizer)}build(e){e=En(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new fe(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return me(()=>{e=zt(e);let r;const a=this.bias==null?null:this.bias.read(),i=xH(this.activation.getClassName());if(i!=null&&this.rank===2)r=aO(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate,i);else{if(this.rank===1)r=TLe(e,this.kernel.read(),a,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)r=aO(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)r=CLe(e,this.kernel.read(),a,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Bt("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(r=this.activation.apply(r))}return r})}computeOutputShape(e){e=En(e);const n=[],r=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let i=0;i<r.length;++i){const s=Po(r[i],this.kernelSize[i],this.padding,this.strides[i],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[i]);n.push(s)}let a=[e[0]];return this.dataFormat==="channelsLast"?(a=a.concat(n),a.push(this.filters)):(a.push(this.filters),a=a.concat(n)),a}getConfig(){const e={filters:this.filters,kernelInitializer:pr(this.kernelInitializer),kernelRegularizer:Ln(this.kernelRegularizer),kernelConstraint:qr(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new fe(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class K0 extends Up{constructor(e){super(2,e),K0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!dI(e.kernelSize,"number",1,2))throw new fe(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}K0.className="Conv2D";je(K0);class X0 extends Up{constructor(e){super(3,e),X0.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new fe(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}X0.className="Conv3D";je(X0);class Eq extends K0{constructor(e){if(super(e),this.inputSpec=[new Hr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new fe(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=En(e),e.length!==4)throw new fe("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new fe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Hr({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return me(()=>{let r=zt(e);if(r.shape.length!==4)throw new fe(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let s,o;this.dataFormat==="channelsFirst"?(s=2,o=3):(s=1,o=2);const l=a[s],u=a[o],c=this.kernelSize[0],d=this.kernelSize[1],f=this.strides[0],p=this.strides[1],m=cl(l,f,c,this.padding),g=cl(u,p,d,this.padding),v=[i,m,g,this.filters];this.dataFormat!=="channelsLast"&&(r=tn(r,[0,2,3,1]));let y=aW(r,this.kernel.read(),v,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(y=tn(y,[0,3,1,2])),this.bias!=null&&(y=el(y,this.bias.read(),this.dataFormat)),this.activation!=null&&(y=this.activation.apply(y)),y})}computeOutputShape(e){e=En(e);const n=e.slice();let r,a,i;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3):(r=3,a=1,i=2);const s=this.kernelSize[0],o=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[r]=this.filters,n[a]=cl(n[a],l,s,this.padding),n[i]=cl(n[i],u,o,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Eq.className="Conv2DTranspose";je(Eq);class Tq extends X0{constructor(e){if(super(e),this.inputSpec=[new Hr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new fe(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=En(e),e.length!==5)throw new fe("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new fe("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Hr({ndim:5,axes:{[n]:r}})],this.built=!0}call(e,n){return me(()=>{let r=zt(e);if(r.shape.length!==5)throw new fe(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${r.shape.length}`);const a=r.shape,i=a[0];let s,o,l;this.dataFormat==="channelsFirst"?(l=2,s=3,o=4):(l=1,s=2,o=3);const u=a[l],c=a[s],d=a[o],f=this.kernelSize[0],p=this.kernelSize[1],m=this.kernelSize[2],g=this.strides[0],v=this.strides[1],y=this.strides[2],b=cl(u,g,f,this.padding),w=cl(c,v,p,this.padding),x=cl(d,y,m,this.padding),k=[i,b,w,x,this.filters];this.dataFormat!=="channelsLast"&&(r=tn(r,[0,2,3,4,1]));let S=oW(r,this.kernel.read(),k,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(S=tn(S,[0,4,1,2,3])),this.bias!==null&&(S=el(S,this.bias.read(),this.dataFormat)),this.activation!==null&&(S=this.activation.apply(S)),S})}computeOutputShape(e){e=En(e);const n=e.slice();let r,a,i,s;this.dataFormat==="channelsFirst"?(r=1,a=2,i=3,s=4):(r=4,a=1,i=2,s=3);const o=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],d=this.strides[1],f=this.strides[2];return n[r]=this.filters,n[a]=cl(n[a],c,o,this.padding),n[i]=cl(n[i],d,l,this.padding),n[s]=cl(n[s],f,u,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Tq.className="Conv3DTranspose";je(Tq);class Cq extends Up{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new fe("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new fe("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new fe(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=rr(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=ir(n.depthwiseRegularizer),this.depthwiseConstraint=Yr(n.depthwiseConstraint),this.pointwiseInitializer=rr(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=ir(n.pointwiseRegularizer),this.pointwiseConstraint=Yr(n.pointwiseConstraint)}build(e){if(e=En(e),e.length<this.rank+2)throw new fe(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new fe(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],a=this.kernelSize.concat([r,this.depthMultiplier]),i=[];for(let o=0;o<this.rank;++o)i.push(1);i.push(r*this.depthMultiplier,this.filters);const s=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,s,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,s,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,s,this.biasConstraint):this.bias=null,this.inputSpec=[new Hr({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return me(()=>{e=zt(e);let r;if(this.rank===1)throw new Bt("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=tn(e,[0,2,3,1])),r=kW(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(r=el(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),this.dataFormat==="channelsFirst"&&(r=tn(r,[0,3,1,2])),r})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=pr(this.depthwiseInitializer),e.pointwiseInitializer=pr(this.pointwiseInitializer),e.depthwiseRegularizer=Ln(this.depthwiseRegularizer),e.pointwiseRegularizer=Ln(this.pointwiseRegularizer),e.depthwiseConstraint=qr(this.depthwiseConstraint),e.pointwiseConstraint=qr(this.pointwiseConstraint),e}}Cq.className="SeparableConv";class Iq extends Cq{constructor(e){super(2,e)}}Iq.className="SeparableConv2D";je(Iq);class Gw extends Up{constructor(e){super(1,e),Gw.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!dI(e.kernelSize,"number",1,1))throw new fe(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Gw.className="Conv1D";je(Gw);class Aq extends rn{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return me(()=>{if(e=zt(e),this.dataFormat==="channelsLast"){const r=o2(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return o2(r,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const r=o2(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return o2(r,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}Aq.className="Cropping2D";je(Aq);class Dq extends rn{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ir(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,Q8e(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],r=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,r]}else{const n=e[1]==null?null:this.size[0]*e[1],r=e[2]==null?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return me(()=>{let r=zt(e);const a=r.shape;if(this.dataFormat==="channelsFirst"){r=tn(r,[0,2,3,1]);const i=this.size[0]*a[2],s=this.size[1]*a[3],o=this.interpolation==="nearest"?wa.resizeNearestNeighbor(r,[i,s]):wa.resizeBilinear(r,[i,s]);return tn(o,[0,3,1,2])}else{const i=this.size[0]*a[1],s=this.size[1]*a[2];return this.interpolation==="nearest"?wa.resizeNearestNeighbor(r,[i,s]):wa.resizeBilinear(r,[i,s])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}Dq.className="UpSampling2D";je(Dq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function ILe(t,e,n=[1,1],r="valid",a,i){return me(()=>{a==null&&(a=Yo()),Ir(a);let s=EI(t,a);if(t.rank!==4)throw new fe(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new fe(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return s=ww(s,e,n,r==="same"?"same":"valid","NHWC",i),a==="channelsFirst"&&(s=tn(s,[0,3,1,2])),s})}class Rq extends Ww{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=rr(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Yr(e.depthwiseConstraint),this.depthwiseRegularizer=ir(e.depthwiseRegularizer)}build(e){if(e=En(e),e.length<4)throw new fe(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new fe(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],a=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return me(()=>{e=zt(e);let r=ILe(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(r=el(r,this.bias.read(),this.dataFormat)),this.activation!=null&&(r=this.activation.apply(r)),r})}computeOutputShape(e){e=En(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Po(n,this.kernelSize[0],this.padding,this.strides[0]),s=Po(r,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],a,i,s]:[e[0],i,s,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=pr(this.depthwiseInitializer),e.depthwiseRegularizer=Ln(this.depthwiseRegularizer),e.depthwiseConstraint=qr(this.depthwiseRegularizer),e}}Rq.className="DepthwiseConv2D";je(Rq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $q(t,e,n,r){if(Array.isArray(t)){if(e!=null||n!=null)throw new fe("When inputs is an array, neither initialState or constants should be provided");r!=null&&(n=t.slice(t.length-r,t.length),t=t.slice(0,t.length-r)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function a(i){return i==null||Array.isArray(i)?i:[i]}return e=a(e),n=a(n),{inputs:t,initialState:e,constants:n}}function Oq(t,e,n,r=!1,a,i,s=!1,o=!1){return me(()=>{const l=e.shape.length;if(l<3)throw new fe(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(qo(2,l));if(e=tn(e,u),i!=null)throw new Bt("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),a!=null&&(a=tt(tt(a,"bool"),"float32"),a.rank===l-1&&(a=hr(a,-1)),a=tn(a,u)),r&&(e=Wo(e,0),a!=null&&(a=Wo(a,0)));const c=[];let d,f=n;const p=e.shape[0],m=Il(e);let g;a!=null&&(g=Il(a));for(let y=0;y<p;++y){const b=m[y],w=me(()=>t(b,f));if(a==null)d=w[0],f=w[1];else{const x=me(()=>{const k=g[y],S=lt(oo(k),k),E=Ae(ee(w[0],k),ee(f[0],S)),I=f.map((C,R)=>Ae(ee(w[1][R],k),ee(C,S)));return{output:E,newStates:I}});d=x.output,f=x.newStates}o&&c.push(d)}let v;return o&&(v=Go(c,1)),[d,v,f]})}class Hc extends rn{constructor(e){super(e);let n;if(e.cell==null)throw new fe("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new II({cells:e.cell}):n=e.cell,n.stateSize==null)throw new fe("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new Hr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return qo(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){MS(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let a;if(this.returnSequences?a=[e[0],e[1],r]:a=[e[0],r],this.returnState){const i=[];for(const s of n)i.push([e[0],s]);return[a].concat(i)}else return a}computeMask(e,n){return me(()=>{Array.isArray(n)&&(n=n[0]);const r=this.returnSequences?n:null;if(this.returnState){const a=this.states.map(i=>null);return[r].concat(a)}else return r})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new Bt("Constants support is not implemented in RNN yet.");MS(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new Hr({shape:[n,null,...r]});const a=[e[0]].concat(e.slice(2));this.cell.build(a);let i;if(Array.isArray(this.cell.stateSize)?i=this.cell.stateSize:i=[this.cell.stateSize],this.stateSpec!=null){if(!gn(this.stateSpec.map(s=>s.shape[s.shape.length-1]),i))throw new fe(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=i.map(s=>new Hr({shape:[null,s]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){me(()=>{if(!this.stateful)throw new ll("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(r==null)throw new fe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>Fr([r,a])):this.states_=[Fr([r,this.cell.stateSize])];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(a=>Fr([r,a])):this.states_[0]=Fr([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new fe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let a=0;a<this.states_.length;++a){const i=e[a],s=Array.isArray(this.cell.stateSize)?this.cell.stateSize[a]:this.cell.stateSize,o=[r,s];if(!gn(i.shape,o))throw new fe(`State ${a} is incompatible with layer ${this.name}: expected shape=${o}, received shape=${i.shape}`);this.states_[a]=i}}this.states_=this.states_.map(a=>va(a.clone()))})}apply(e,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=$q(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;let s=[],o=[];if(r!=null){n.initialState=r,s=s.concat(r),this.stateSpec=[];for(const u of r)this.stateSpec.push(new Hr({shape:u.shape}));o=o.concat(this.stateSpec)}if(a!=null&&(n.constants=a,s=s.concat(a),this.numConstants=a.length),s[0]instanceof pl){const u=[e].concat(s),c=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=c;const f=super.apply(u,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return me(()=>{const r=n==null?null:n.mask,a=n==null?null:n.training;let i=n==null?null:n.initialState;e=zt(e),i==null&&(this.stateful?i=this.states_:i=this.getInitialState(e));const s=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==s)throw new fe(`RNN Layer has ${s} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const o={training:a},u=Oq((m,g)=>{const v=this.cell.call([m].concat(g),o);return[v[0],v.slice(1)]},e,i,this.goBackwards,r,null,this.unroll,this.returnSequences),c=u[0],d=u[1],f=u[2];this.stateful&&this.resetStates(f,a);const p=this.returnSequences?d:c;return this.returnState?[p].concat(f):p})}getInitialState(e){return me(()=>{let n=Fr(e.shape);return n=gt(n,[1,2]),n=W0(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(r=>r>1?FS(n,[1,r]):n):this.cell.stateSize>1?[FS(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===Hc.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,n)}static fromConfig(e,n,r={}){const a=n.cell,i=_l(a,r);return new e(Object.assign(n,{cell:i}))}}Hc.className="RNN";je(Hc);class Hw extends rn{}class TI extends Hw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,la(this.units,"units"),this.activation=Ic(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=rr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=rr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=rr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ir(e.kernelRegularizer),this.recurrentRegularizer=ir(e.recurrentRegularizer),this.biasRegularizer=ir(e.biasRegularizer),this.kernelConstraint=Yr(e.kernelConstraint),this.recurrentConstraint=Yr(e.recurrentConstraint),this.biasConstraint=Yr(e.biasConstraint),this.dropout=fp([1,Tc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=fp([1,Tc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=En(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return me(()=>{if(e=e,e.length!==2)throw new fe(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const a=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Ac({ones:()=>oo(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Ac({ones:()=>oo(r),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));let i;const s=this.dropoutMask,o=this.recurrentDropoutMask;s!=null?i=xl(ee(e,s),this.kernel.read()):i=xl(e,this.kernel.read()),this.bias!=null&&(i=el(i,this.bias.read())),o!=null&&(r=ee(r,o));let l=Ae(i,xl(r,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Cc(this.activation),useBias:this.useBias,kernelInitializer:pr(this.kernelInitializer),recurrentInitializer:pr(this.recurrentInitializer),biasInitializer:pr(this.biasInitializer),kernelRegularizer:Ln(this.kernelRegularizer),recurrentRegularizer:Ln(this.recurrentRegularizer),biasRegularizer:Ln(this.biasRegularizer),activityRegularizer:Ln(this.activityRegularizer),kernelConstraint:qr(this.kernelConstraint),recurrentConstraint:qr(this.recurrentConstraint),biasConstraint:qr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,n)}}TI.className="SimpleRNNCell";je(TI);class Lq extends Hc{constructor(e){e.cell=new TI(e),super(e)}call(e,n){return me(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:i})})}static fromConfig(e,n){return new e(n)}}Lq.className="SimpleRNN";je(Lq);class CI extends Hw{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new fe("GRUCell does not support reset_after parameter set to true.");this.units=e.units,la(this.units,"units"),this.activation=Ic(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Ic(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=rr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=rr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=rr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=ir(e.kernelRegularizer),this.recurrentRegularizer=ir(e.recurrentRegularizer),this.biasRegularizer=ir(e.biasRegularizer),this.kernelConstraint=Yr(e.kernelConstraint),this.recurrentConstraint=Yr(e.recurrentConstraint),this.biasConstraint=Yr(e.biasConstraint),this.dropout=fp([1,Tc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=fp([1,Tc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=En(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return me(()=>{if(e=e,e.length!==2)throw new fe(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training==null?!1:n.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Ac({ones:()=>oo(e),rate:this.dropout,training:r,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Ac({ones:()=>oo(a),rate:this.recurrentDropout,training:r,count:3,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=this.recurrentDropoutMask;let o,l,u;0<this.dropout&&this.dropout<1&&(e=ee(e,i[0]));let c=xl(e,this.kernel.read());this.useBias&&(c=el(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ee(a,s[0]));const d=this.recurrentKernel.read(),[f,p]=Hi(d,[2*this.units,this.units],d.rank-1),m=xl(a,f),[g,v,y]=Hi(c,3,c.rank-1),[b,w]=Hi(m,2,m.rank-1);o=this.recurrentActivation.apply(Ae(g,b)),l=this.recurrentActivation.apply(Ae(v,w));const x=xl(ee(l,a),p);u=this.activation.apply(Ae(y,x));const k=Ae(ee(o,a),ee(Ae(1,mr(o)),u));return[k,k]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Cc(this.activation),recurrentActivation:Cc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:pr(this.kernelInitializer),recurrentInitializer:pr(this.recurrentInitializer),biasInitializer:pr(this.biasInitializer),kernelRegularizer:Ln(this.kernelRegularizer),recurrentRegularizer:Ln(this.recurrentRegularizer),biasRegularizer:Ln(this.biasRegularizer),activityRegularizer:Ln(this.activityRegularizer),kernelConstraint:qr(this.kernelConstraint),recurrentConstraint:qr(this.recurrentConstraint),biasConstraint:qr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,n)}}CI.className="GRUCell";je(CI);class Fq extends Hc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new CI(e),super(e)}call(e,n){return me(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Fq.className="GRU";je(Fq);class qw extends Hw{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,la(this.units,"units"),this.activation=Ic(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Ic(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=rr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=rr(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=rr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=ir(e.kernelRegularizer),this.recurrentRegularizer=ir(e.recurrentRegularizer),this.biasRegularizer=ir(e.biasRegularizer),this.kernelConstraint=Yr(e.kernelConstraint),this.recurrentConstraint=Yr(e.recurrentConstraint),this.biasConstraint=Yr(e.biasConstraint),this.dropout=fp([1,Tc([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=fp([1,Tc([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=En(e);const r=e[e.length-1];this.kernel=this.addWeight("kernel",[r,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let a;if(this.useBias){if(this.unitForgetBias){const i=this.biasInitializer,s=this.units;a=new(n=class extends po{apply(l,u){const c=i.apply([s]),d=new fI().apply([s]),f=i.apply([s*2]);return L$(L$(c,d),f)}},n.className="CustomInit",n)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return me(()=>{const r=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new fe(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const i=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Ac({ones:()=>oo(e),rate:this.dropout,training:r,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Ac({ones:()=>oo(a),rate:this.recurrentDropout,training:r,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=this.recurrentDropoutMask;let l,u,c,d;0<this.dropout&&this.dropout<1&&(e=ee(e,s[0]));let f=xl(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=ee(a,o[0])),f=Ae(f,xl(a,this.recurrentKernel.read())),this.useBias&&(f=el(f,this.bias.read()));const[p,m,g,v]=Hi(f,4,f.rank-1);l=this.recurrentActivation.apply(p),u=this.recurrentActivation.apply(m),c=Ae(ee(u,i),ee(l,this.activation.apply(g))),d=this.recurrentActivation.apply(v);const y=ee(d,this.activation.apply(c));return[y,y,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:Cc(this.activation),recurrentActivation:Cc(this.recurrentActivation),useBias:this.useBias,kernelInitializer:pr(this.kernelInitializer),recurrentInitializer:pr(this.recurrentInitializer),biasInitializer:pr(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Ln(this.kernelRegularizer),recurrentRegularizer:Ln(this.recurrentRegularizer),biasRegularizer:Ln(this.biasRegularizer),activityRegularizer:Ln(this.activityRegularizer),kernelConstraint:qr(this.kernelConstraint),recurrentConstraint:qr(this.recurrentConstraint),biasConstraint:qr(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,n)}}qw.className="LSTMCell";je(qw);class Pq extends Hc{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new qw(e),super(e)}call(e,n){return me(()=>{this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:i})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}Pq.className="LSTM";je(Pq);class II extends Hw{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return me(()=>{e=e;let r=e.slice(1);const a=[];for(const o of this.cells.slice().reverse())Array.isArray(o.stateSize)?a.push(r.splice(0,o.stateSize.length)):a.push(r.splice(0,1));a.reverse();const i=[];let s;for(let o=0;o<this.cells.length;++o){const l=this.cells[o];r=a[o],o===0?s=[e[0]].concat(r):s=[s[0]].concat(r),s=l.call(s,n),i.push(s.slice(1))}r=[];for(const o of i.slice().reverse())r.push(...o);return[s[0]].concat(r)})}build(e){MS(e)&&(e=e[0]),e=e;let n;this.cells.forEach((r,a)=>{Od(`RNNCell_${a}`,()=>{r.build(e),Array.isArray(r.stateSize)?n=r.stateSize[0]:n=r.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=i=>({className:i.getClassName(),config:i.getConfig()}),a={cells:this.cells.map(n)};return Object.assign({},e,a)}static fromConfig(e,n,r={}){const a=[];for(const i of n.cells)a.push(_l(i,r));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const r of this.cells)n.push(...r.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return BS(e)}setWeights(e){const n=[];for(const r of this.cells){const a=r.weights.length,i=e.splice(a);for(let s=0;s<r.weights.length;++s)n.push([r.weights[s],i[s]])}wI(n)}}II.className="StackedRNNCells";je(II);function Ac(t){const{ones:e,rate:n,training:r=!1,count:a=1,dropoutFunc:i}=t,s=()=>i!=null?i(e(),n):CH(e(),n),o=()=>H0(s,e,r);return!a||a<=1?va(o().clone()):Array(a).fill(void 0).map(o).map(u=>va(u.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var ALe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};class Mq extends Hc{constructor(e){if(e.unroll)throw new Bt("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Bt("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Hr({ndim:5})]}call(e,n){return me(()=>{if(this.cell.dropoutMask!=null&&(pt(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(pt(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new fe("ConvRNN2D cell does not support constants");const r=n==null?null:n.mask,a=n==null?null:n.training,i=n==null?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:i})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return me(()=>{const{stateSize:n}=this.cell,r=e.shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)],s=Fr(i);return Array.isArray(n)?Array(n.length).fill(s):[s]})}resetStates(e,n=!1){me(()=>{if(!this.stateful)throw new ll("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),i=[a[0],...a.slice(2)];if(r[0]==null)throw new fe("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Fr(i)):this.states_=[Fr(i)];else if(e==null)pt(this.states_),this.keptStates!=null&&(pt(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>Fr(i)):this.states_[0]=Fr(i);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new fe(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):pt(this.states_);for(let o=0;o<this.states_.length;++o){const l=e[o],u=i;if(!gn(l.shape,u))throw new fe(`State ${o} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[o]=l}}this.states_=this.states_.map(o=>va(o.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:a,padding:i,strides:s,dilationRate:o}=this.cell,l=n==="channelsFirst",u=e[l?3:2],c=e[l?4:3],d=Po(u,a[0],i,s[0],o[0]),f=Po(c,a[1],i,s[1],o[1]);return[...e.slice(0,2),...l?[r,d,f]:[d,f,r]]}}Mq.className="ConvRNN2D";class AI extends qw{constructor(e){const{filters:n,kernelSize:r,strides:a,padding:i,dataFormat:s,dilationRate:o}=e;super(Object.assign({},e,{units:n})),this.filters=n,la(this.filters,"filters"),this.kernelSize=Nf(r,2,"kernelSize"),this.kernelSize.forEach(l=>la(l,"kernelSize")),this.strides=Nf(a||1,2,"strides"),this.strides.forEach(l=>la(l,"strides")),this.padding=i||"valid",$s(this.padding),this.dataFormat=s||"channelsLast",Ir(this.dataFormat),this.dilationRate=Nf(o||1,2,"dilationRate"),this.dilationRate.forEach(l=>la(l,"dilationRate"))}build(e){var n;e=En(e);const r=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[r]==null)throw new fe(`The channel dimension of the input should be defined. Found ${e[r]}`);const a=e[r],i=4,s=this.kernelSize.concat([a,this.filters*i]);this.kernel=this.addWeight("kernel",s,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,this.filters*i]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends po{apply(f,p){const m=u.apply([c]),g=bs([c]),v=u.apply([c*2]);return hI([m,g,v])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*i],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return me(()=>{if(e.length!==3)throw new fe(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,a=e[0],i=e[1],s=e[2],o=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=Ac({ones:()=>oo(a),rate:this.dropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(X,ne,ke)=>!ne||!ne[ke]?X:ee(ne[ke],X);let c=u(a,l,0),d=u(a,l,1),f=u(a,l,2),p=u(a,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=Ac({ones:()=>oo(i),rate:this.recurrentDropout,training:r,count:o,dropoutFunc:this.dropoutFunc}));const m=this.recurrentDropoutMask;let g=u(i,m,0),v=u(i,m,1),y=u(i,m,2),b=u(i,m,3);const w=3,[x,k,S,E]=Hi(this.kernel.read(),o,w),[I,C,R,z]=this.useBias?Hi(this.bias.read(),o):[null,null,null,null];c=this.inputConv(c,x,I,this.padding),d=this.inputConv(d,k,C,this.padding),f=this.inputConv(f,S,R,this.padding),p=this.inputConv(p,E,z,this.padding);const[H,U,q,Q]=Hi(this.recurrentKernel.read(),o,w);g=this.recurrentConv(g,H),v=this.recurrentConv(v,U),y=this.recurrentConv(y,q),b=this.recurrentConv(b,Q);const re=this.recurrentActivation.apply(Ae(c,g)),he=this.recurrentActivation.apply(Ae(d,v)),ae=Ae(ee(he,s),ee(re,this.activation.apply(Ae(f,y)))),se=ee(this.recurrentActivation.apply(Ae(p,b)),this.activation.apply(ae));return[se,se,ae]})}getConfig(){const e=super.getConfig(),n=ALe(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,r)}inputConv(e,n,r,a){const i=sh(e,n,this.strides,a||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return r?el(i,r,this.dataFormat):i}recurrentConv(e,n){return sh(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}AI.className="ConvLSTM2DCell";je(AI);class Bq extends Mq{constructor(e){const n=new AI(e);super(Object.assign({},e,{cell:n}))}static fromConfig(e,n){return new e(n)}}Bq.className="ConvLSTM2D";je(Bq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class DI extends rn{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(this.noiseShape[a]==null?n[a]:this.noiseShape[a]);return r}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e);if(0<this.rate&&this.rate<1){const a=n.training==null?!1:n.training,i=this.getNoiseShape(r);return H0(()=>CH(r,this.rate,i,this.seed),()=>r,a)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}DI.className="Dropout";je(DI);class zq extends DI{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}zq.className="SpatialDropout1D";je(zq);class Uq extends rn{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,la(this.units,"units"),this.activation=Ic(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=rr(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=rr(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Yr(e.kernelConstraint),this.biasConstraint=Yr(e.biasConstraint),this.kernelRegularizer=ir(e.kernelRegularizer),this.biasRegularizer=ir(e.biasRegularizer),this.activityRegularizer=ir(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=En(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=En(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e),a=xH(this.activation.getClassName());let i;return a!=null?i=xl(r,this.kernel.read(),a,this.bias?this.bias.read():null):(i=xl(r,this.kernel.read()),this.bias!=null&&(i=el(i,this.bias.read())),this.activation!=null&&(i=this.activation.apply(i))),i})}getConfig(){const e={units:this.units,activation:Cc(this.activation),useBias:this.useBias,kernelInitializer:pr(this.kernelInitializer),biasInitializer:pr(this.biasInitializer),kernelRegularizer:Ln(this.kernelRegularizer),biasRegularizer:Ln(this.biasRegularizer),activityRegularizer:Ln(this.activityRegularizer),kernelConstraint:qr(this.kernelConstraint),biasConstraint:qr(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}Uq.className="Dense";je(Uq);class jq extends rn{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=En(e);for(const n of e.slice(1))if(n==null)throw new fe(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],dc(e,1)]}call(e,n){return me(()=>{this.invokeCallHook(e,n);let r=zt(e);if(this.dataFormat==="channelsFirst"&&r.rank>1){const a=[0];for(let i=2;i<r.rank;++i)a.push(i);a.push(1),r=tn(r,a)}return r$e(r)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}jq.className="Flatten";je(jq);class Vq extends rn{constructor(e){super(e),this.supportsMasking=!0,this.activation=Ic(e.activation)}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e);return this.activation.apply(r)})}getConfig(){const e={activation:Cc(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}Vq.className="Activation";je(Vq);class Wq extends rn{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return me(()=>(e=zt(e),t$e(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}Wq.className="RepeatVector";je(Wq);class Gq extends rn{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",a=n.slice();let i=1,s=null;for(let l=0;l<a.length;++l){const u=a[l];if(this.isUnknown(u))if(s===null)s=l;else throw new fe("Can only specifiy one unknown dimension.");else i*=u}const o=dc(e);if(s!==null){if(i===0||o%i!==0)throw new fe(r);a[s]=o/i}else if(o!==i)throw new fe(r);return a}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e),a=r.shape,i=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return ue(r,i)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}Gq.className="Reshape";je(Gq);class Hq extends rn{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=qo(1,e.dims.length+1);if(!gn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Hr({ndim:this.dims.length+1})]}computeOutputShape(e){e=En(e);const n=e.slice();return this.dims.forEach((r,a)=>{n[a+1]=e[r]}),n}call(e,n){return tn(zt(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}Hq.className="Permute";je(Hq);class qq extends rn{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=zt(e),a=-1;return SS(jg(r,this.maskValue),a)}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e),a=-1,i=!0,s=SS(jg(r,this.maskValue),a,i);return ee(r,tt(s,r.dtype))})}}qq.className="Masking";je(qq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Yq extends rn{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(qn(e.inputLength))}this.inputDim=e.inputDim,la(this.inputDim,"inputDim"),this.outputDim=e.outputDim,la(this.outputDim,"outputDim"),this.embeddingsInitializer=rr(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=ir(e.embeddingsRegularizer),this.activityRegularizer=ir(e.activityRegularizer),this.embeddingsConstraint=Yr(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return me(()=>this.maskZero?(e=zt(e),jg(e,sn(e))):null)}computeOutputShape(e){if(e=En(e),this.inputLength==null)return[...e,this.outputDim];const n=qn(this.inputLength);if(n.length!==e.length-1)throw new fe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let a=0;a<n.length;++a){const i=n[a],s=e[a+1];if(i!=null&&s!=null&&i!==s)throw new fe(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);i==null&&(n[r]=s),r++}}return[e[0],...n,this.outputDim]}call(e,n){return me(()=>{this.invokeCallHook(e,n);let r=zt(e);r.dtype!=="int32"&&(r=V0(r,"int32"));const a=TH(this.embeddings.read(),ue(r,[r.size]));return ue(a,En(this.computeOutputShape(r.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:pr(this.embeddingsInitializer),embeddingsRegularizer:Ln(this.embeddingsRegularizer),activityRegularizer:Ln(this.activityRegularizer),embeddingsConstraint:qr(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}Yq.className="Embedding";je(Yq);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class kh extends rn{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Bt}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const r=e.slice(0,e.length-n.length);for(let a=0;a<n.length;++a){const i=e[e.length-n.length+a],s=n[a];if(i==null||s==null||i<0||s<0)r.push(null);else if(i===1)r.push(s);else if(s===1)r.push(i);else{if(i!==s)throw new fe("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(i)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[En(e)]),e=e,e.length<2)throw new fe(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const i of e)i!=null&&i[0]!==null&&n.push(i[0]);if(n=cc(n),n.length>1)throw new fe(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=e[0]==null?null:e[0].slice(1);for(let i=1;i<e.length;++i){const s=e[i]==null?null:e[i].slice(1);r=this.computeElementwiseOpOutputShape(r,s)}const a=e.map(i=>i.length);e.indexOf(null)===-1&&cc(a).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return me(()=>{if(e=e,this.reshapeRequired){const r=[],a=e.map(i=>i.rank);if(a.indexOf(null)===-1){const i=Tc(a);for(let s of e){const o=s.rank;for(let l=0;l<i-o;++l)s=W0(s,1);r.push(s)}return this.mergeFunction(r)}else{let i=!1;for(const l of e){const u=l.rank;if(u==null){const c=l.shape,d=c[0],f=c.slice(1).concat([d]);let p=ue(l,[d].concat(dc(c.slice(1))));p=tn(p,[1,0]),p=ue(p,f),r.push(p),i=!0}else if(u>1){const c=qo(1,u).concat([0]);r.push(tn(l,c)),i=!0}else r.push(l)}let s=this.mergeFunction(r);const o=s.rank;if(i){if(o==null){const l=s.shape,u=l.length,c=l[u-1],d=[c].concat(l.slice(0,l.length-1));s=ue(tn(ue(s,[-1,c]),[1,0]),d)}else if(o>1){const l=[o-1].concat(qo(0,o-1));s=tn(s,l)}}return s}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let a=1;a<e.length;++a){const i=e[a]==null?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,i)}let r=[];for(const a of e)a!=null&&a[0]!==null&&r.push(a[0]);return r=cc(r),r.length===1?n=r.concat(n):n=[null].concat(n),n}computeMask(e,n){return me(()=>{if(n==null)return null;if(!Array.isArray(n))throw new fe("`mask` should be an Array");if(!Array.isArray(e))throw new fe("`inputs` should be an Array");if(n.length!==e.length)throw new fe(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(a=>a==null))return null;n=n.map(a=>a==null?a:hr(a,0));let r=n[0];for(let a=1;a<n.length-1;++a)r=hu(r,n[a]);return r})}}class Kq extends kh{constructor(e){super(e)}mergeFunction(e){return me(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ae(n,e[r]);return n})}}Kq.className="Add";je(Kq);class Xq extends kh{constructor(e){super(e)}mergeFunction(e){return me(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=ee(n,e[r]);return n})}}Xq.className="Multiply";je(Xq);class Qq extends kh{constructor(e){super(e)}mergeFunction(e){return me(()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=Ae(n,e[r]);return ee(1/e.length,n)})}}Qq.className="Average";je(Qq);class Zq extends kh{constructor(e){super(e)}mergeFunction(e){return me(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=jc(n,e[r]);return n})}}Zq.className="Maximum";je(Zq);class Jq extends kh{constructor(e){super(e)}mergeFunction(e){return me(()=>{let n=e[0];for(let r=1;r<e.length;++r)n=R0(n,e[r]);return n})}}Jq.className="Minimum";je(Jq);class eY extends kh{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new fe("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const a of e)if(a!=null){n=!1;break}if(n)return;const r=[];for(let a=0;a<e.length;++a){const i=e[a].slice();i.splice(this.axis,1);let s=!1;for(const o of r)if(gn(o,i)){s=!0;break}s||r.push(i)}if(r.length>1)throw new fe("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return me(()=>hI(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new fe("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const i of n.slice(1)){if(r[a]==null||i[a]==null){r[a]=null;break}r[a]+=i[a]}return r}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new fe("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new fe("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new fe(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return me(()=>{let r=!0;if(n.forEach(s=>{if(s!=null){r=!1;return}}),r)return null;const a=[];for(let s=0;s<e.length;++s)n[s]==null?a.push(tt(oo(e[s]),"bool")):n[s].rank<e[s].rank?a.push(hr(n[s],-1)):a.push(n[s]);const i=ar(a,this.axis);return HV(i,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}eY.className="Concatenate";je(eY);function lm(t,e){for(;t<0;)t+=e;return t}function DLe(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Bt("batchDot is not implemented for tensors of 4D or higher rank yet");if(V(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),V(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new Bt("batchDot is not implemented for complex64-type Tensors yet.");const r=t.shape.length,a=e.shape.length;n==null&&(n=[r-1,a-2]);const i=n;return me(()=>{let s;if(r>a){s=r-a;const l=[];for(let u=0;u<s;++u)l.push(1);e=ue(e,e.shape.concat(l))}else if(a>r){s=a-r;const l=[];for(let u=0;u<s;++u)l.push(1);t=ue(t,t.shape.concat(l))}else s=0;let o;if(t.shape.length===2&&e.shape.length===2)i[0]===i[1]?o=gt(ee(t,e),i[0]):o=gt(ee(tn(t,[1,0]),e),i[1]);else{const l=i[0]!==t.shape.length-1,u=i[1]===e.shape.length-1;o=Xt(t,e,l,u)}if(s>0){let l;r>a?l=r+a-3:l=r-1;const u=[];for(let c=l;c<l+s;++c)u.push(c);o=Rt(o,u)}return o.shape.length===1&&(o=hr(o,1)),o})}class tY extends kh{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){V(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new Bt("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);if(n[a[0]]!==r[a[1]])throw new fe(`Dimension incompatibility: ${n[a[0]]} !== ${r[a[1]]}`)}mergeFunction(e){if(e.length!==2)throw new fe(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],r=e[1],a;return Array.isArray(this.axes)?a=this.axes.map((i,s)=>lm(i,e[s].shape.length)):a=[lm(this.axes,n.shape.length),lm(this.axes,r.shape.length)],this.normalize&&(n=Eb(n,a[0]),r=Eb(r,a[1])),DLe(n,r,a)}interpretAxes(e,n){let r;return Array.isArray(this.axes)?r=this.axes:r=[lm(this.axes,e.length),lm(this.axes,n.length)],r}computeOutputShape(e){V(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new Bt("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);n.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const i=n.concat(r);return i.length===1&&i.push(1),i}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}tY.className="Dot";je(tY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class nY extends rn{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e);return H0(()=>Ae(zw(r.shape,0,this.stddev),r),()=>r,n.training||!1)})}}nY.className="GaussianNoise";je(nY);class rY extends rn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return me(()=>{this.invokeCallHook(e,n);const r=zt(e);return this.rate>0&&this.rate<1?H0(()=>{const i=Math.sqrt(this.rate/(1-this.rate));return ee(r,zw(r.shape,1,i))},()=>r,n.training||!1):r})}}rY.className="GaussianDropout";je(rY);class aY extends rn{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||zt(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return me(()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return H0(()=>{const i=zt(e),s=1.6732632423543772,o=1.0507009873554805,l=-s*o;let u=Dp($0(r),this.rate);u=V0(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-c*l*this.rate,f=Ae(ee(i,u),ee(Ae(u,-1),l));return Ae(ee(f,c),d)},()=>zt(e),n.training||!1)}return e})}}aY.className="AlphaDropout";je(aY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Jg(t,e,n,r,a,i=.001){let s;if(t.rank===2)s=KV(t,e,n,r,a,i);else if(t.rank===3)s=XV(t,e,n,r,a,i);else if(t.rank===4)s=QV(t,e,n,r,a,i);else throw new Bt(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return s}function RLe(t,e,n,r,a=.001){return me(()=>{const i=Nw(t,r),s=i.mean,o=i.variance;return[Jg(t,s,o,n,e,a),s,o]})}function $Le(t,e,n,r,a=.001){return me(()=>{const i=Nw(t,r),s=i.mean,o=i.variance,l=[];for(const m of qo(0,t.rank))r.indexOf(m)!==-1?l.push(1):l.push(t.shape[m]);const u=ue(s,l),c=ue(o,l),d=e==null?null:ue(e,l),f=n==null?null:ue(n,l);return[Jg(t,u,c,f,d,a),s,o]})}function OLe(t,e,n,r,a=.001){return gn(r.slice().sort(),qo(0,t.rank-1))?RLe(t,e,n,r,a):$Le(t,e,n,r,a)}class iY extends rn{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=rr(e.betaInitializer||"zeros"),this.gammaInitializer=rr(e.gammaInitializer||"ones"),this.movingMeanInitializer=rr(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=rr(e.movingVarianceInitializer||"ones"),this.betaConstraint=Yr(e.betaConstraint),this.gammaConstraint=Yr(e.gammaConstraint),this.betaRegularizer=ir(e.betaRegularizer),this.gammaRegularizer=ir(e.gammaRegularizer)}build(e){e=En(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(r==null)throw new fe(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Hr({ndim:e.length,axes:{[n]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return me(()=>{const r=n.training==null?!1:n.training,a=zt(e),i=a.shape,s=i.length,o=qo(0,s),l=this.axis>=0?this.axis:this.axis+s;o.splice(l,1);const u=uh(1,s);u[l]=i[l];const c=o.slice();c.sort();const d=!gn(c,qo(0,s).slice(0,s-1)),f=()=>{if(d){const b=ue(this.movingMean.read(),u),w=ue(this.movingVariance.read(),u),x=this.center?ue(this.beta.read(),u):null,k=this.scale?ue(this.gamma.read(),u):null;return Jg(a,b,w,x,k,this.epsilon)}else return Jg(a,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!r)return f();const[p,m,g]=OLe(a,this.gamma.read(),this.beta.read(),o,this.epsilon),v=(b,w,x)=>{me(()=>{const k=1-x,S=b.read(),E=ee(lt(S,w),k);b.write(lt(S,E))})};return(()=>{v(this.movingMean,m,this.momentum),v(this.movingVariance,g,this.momentum)})(),p})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:pr(this.betaInitializer),gammaInitializer:pr(this.gammaInitializer),movingMeanInitializer:pr(this.movingMeanInitializer),movingVarianceInitializer:pr(this.movingVarianceInitializer),betaRegularizer:Ln(this.betaRegularizer),gammaRegularizer:Ln(this.gammaRegularizer),betaConstraint:qr(this.betaConstraint),gammaConstraint:qr(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}iY.className="BatchNormalization";je(iY);class sY extends rn{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=rr(e.betaInitializer||"zeros"),this.gammaInitializer=rr(e.gammaInitializer||"ones"),this.betaRegularizer=ir(e.betaRegularizer),this.gammaRegularizer=ir(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=En(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let i=0;i<this.axis.length;++i)this.axis[i]<0&&(this.axis[i]+=n);for(const i of this.axis)if(i<0||i>=n)throw new Error(`Invalid axis: ${i}`);if(this.axis.length!==cc(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map(i=>e[i]),a=!0;this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,a):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,a):this.beta=null,this.built=!0}call(e,n){const r=zt(e),a=r.shape,i=a.length;return me(()=>{let{mean:o,variance:l}=Nw(r,this.axis,!0);const u=uh(1,i);for(const g of this.axis)u[g]=a[g];const c=g=>g!=null&&g.shape.length!==i?ue(g,u):g;let d=this.scale?c(this.gamma.read()):null,f=this.center?c(this.beta.read()):null;const p=[],m=[];for(let g=0;g<i;++g)this.axis.indexOf(g)!==-1?(p.push(a[g]),m.push(1)):(p.push(1),m.push(a[g]));return o=Ro(o,p),l=Ro(l,p),d!=null&&(d=Ro(d,m)),f!=null&&(f=Ro(f,m)),Jg(r,o,l,f,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:pr(this.betaInitializer),gammaInitializer:pr(this.gammaInitializer),betaRegularizer:Ln(this.betaRegularizer),gammaRegularizer:Ln(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}sY.className="LayerNormalization";je(sY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function LLe(t,e,n){return me(()=>{if(t.rank!==4)throw new fe(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new fe("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=Yo()),n!=="channelsLast"&&n!=="channelsFirst")throw new fe(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return n==="channelsFirst"?r=[[0,0],[0,0],e[0],e[1]]:r=[[0,0],e[0],e[1],[0,0]],Cl(t,r)})}class oY extends rn{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?Yo():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new fe(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new fe(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new fe(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new Hr({ndim:4})]}computeOutputShape(e){e=En(e);let n,r;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?r=e[3]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],e[1],n,r]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?r=e[2]+this.padding[1][0]+this.padding[1][1]:r=null,[e[0],n,r,e[3]])}call(e,n){return me(()=>LLe(zt(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}oY.className="ZeroPadding2D";je(oY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Yw(t,e,n,r,a,i){return me(()=>{Ir(a),kH(i),$s(r),n==null&&(n=[1,1]),r==null&&(r="valid"),a==null&&(a=Yo()),i==null&&(i="max"),t=EI(t,a);let s;const o=r==="same"?"same":"valid";return i==="max"?s=k6(t,e,n,o):s=f6(t,e,n,o),a==="channelsFirst"&&(s=tn(s,[0,3,1,2])),s})}function lY(t,e,n,r,a,i){return me(()=>{Ir(a),kH(i),$s(r),n==null&&(n=[1,1,1]),r==null&&(r="valid"),a==null&&(a=Yo()),i==null&&(i="max"),t=Nq(t,a);let s;const o=r==="same"?"same":"valid";return i==="max"?s=gW(t,e,n,o):s=YV(t,e,n,o),a==="channelsFirst"&&(s=tn(s,[0,4,1,2,3])),s})}class uY extends rn{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new fe(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(la(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new fe(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);la(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,$s(this.padding),this.inputSpec=[new Hr({ndim:3})]}computeOutputShape(e){e=En(e);const n=Po(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return me(()=>{this.invokeCallHook(e,n),e=W0(zt(e),2);const r=this.poolingFunction(zt(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return Rt(r,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class cY extends uY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),Yw(e,n,r,a,i,"max")}}cY.className="MaxPooling1D";je(cY);class dY extends uY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),Yw(e,n,r,a,i,"avg")}}dY.className="AveragePooling1D";je(dY);class hY extends rn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new fe(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];la(this.poolSize,"poolSize"),la(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ir(this.dataFormat),$s(this.padding),this.inputSpec=[new Hr({ndim:4})]}computeOutputShape(e){e=En(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=Po(n,this.poolSize[0],this.padding,this.strides[0]),r=Po(r,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return me(()=>(this.invokeCallHook(e,n),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class fY extends hY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),Yw(e,n,r,a,i,"max")}}fY.className="MaxPooling2D";je(fY);class pY extends hY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),Yw(e,n,r,a,i,"avg")}}pY.className="AveragePooling2D";je(pY);class mY extends rn{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new fe(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];la(this.poolSize,"poolSize"),la(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ir(this.dataFormat),$s(this.padding),this.inputSpec=[new Hr({ndim:5})]}computeOutputShape(e){e=En(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],r=this.dataFormat==="channelsFirst"?e[3]:e[2],a=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=Po(n,this.poolSize[0],this.padding,this.strides[0]),r=Po(r,this.poolSize[1],this.padding,this.strides[1]),a=Po(a,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,r,a]:[e[0],n,r,a,e[4]]}call(e,n){return me(()=>(this.invokeCallHook(e,n),this.poolingFunction(zt(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class gY extends mY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),lY(e,n,r,a,i,"max")}}gY.className="MaxPooling3D";je(gY);class yY extends mY{constructor(e){super(e)}poolingFunction(e,n,r,a,i){return Ir(i),$s(a),lY(e,n,r,a,i,"avg")}}yY.className="AveragePooling3D";je(yY);class bY extends rn{constructor(e){super(e),this.inputSpec=[new Hr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new Bt}}class vY extends bY{constructor(e){super(e||{})}call(e,n){return me(()=>{const r=zt(e);return Tr(r,1)})}}vY.className="GlobalAveragePooling1D";je(vY);class wY extends bY{constructor(e){super(e||{})}call(e,n){return me(()=>{const r=zt(e);return wl(r,1)})}}wY.className="GlobalMaxPooling1D";je(wY);class xY extends rn{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,Ir(this.dataFormat),this.inputSpec=[new Hr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new Bt}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class _Y extends xY{call(e,n){return me(()=>{const r=zt(e);return this.dataFormat==="channelsLast"?Tr(r,[1,2]):Tr(r,[2,3])})}}_Y.className="GlobalAveragePooling2D";je(_Y);class kY extends xY{call(e,n){return me(()=>{const r=zt(e);return this.dataFormat==="channelsLast"?wl(r,[1,2]):wl(r,[2,3])})}}kY.className="GlobalMaxPooling2D";je(kY);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class SY extends rn{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const a=n.layer,i=_l(a,r);delete n.layer;const s={layer:i};return Object.assign(s,n),new e(s)}}class NY extends SY{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=En(e),e.length<3)throw new fe(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=En(e);const n=[e[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),a=e[1];return[r[0],a].concat(r.slice(1))}call(e,n){return me(()=>(e=zt(e),Oq((s,o)=>[zt(this.layer.call(s,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}NY.className="TimeDistributed";je(NY);function FLe(t){_h(X8e,"BidirectionalMergeMode",t)}const PLe="concat";class EY extends SY{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=_l(r),n.goBackwards=n.goBackwards!==!0;const a={};if(a.className=e.layer.getClassName(),a.config=n,this.backwardLayer=_l(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?PLe:e.mergeMode,FLe(this.mergeMode),e.weights)throw new Bt("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let r,a,i;return this.returnState&&(i=n.slice(1)),r=n[0],r=r,this.mergeMode==="concat"?(r[r.length-1]*=2,a=[r]):this.mergeMode==null?a=[r,r.slice()]:a=[r],this.returnState?this.mergeMode==null?a.concat(i).concat(i.slice()):[r].concat(i).concat(i.slice()):mi(a)}apply(e,n){let r=n==null?null:n.initialState,a=n==null?null:n.constants;n==null&&(n={});const i=$q(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(r==null||r.length===0)&&a==null)return super.apply(e,n);const s=[],o=[];if(r!=null){const u=r.length;if(u%2>0)throw new fe("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,s.push(...r);const c=r.map(d=>new Hr({shape:d.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),o.push(...c)}if(a!=null)throw new Bt("Support for constants in Bidirectional layers is not implemented yet.");const l=s[0]instanceof pl;for(const u of s)if(u instanceof pl!==l)throw new fe("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[e].concat(s),c=this.inputSpec.concat(o),d=this.inputSpec;this.inputSpec=c;const f=super.apply(u,n);return this.inputSpec=d,f}else return super.apply(e,n)}call(e,n){return me(()=>{const r=n.initialState;let a,i;if(r==null)a=this.forwardLayer.call(e,n),i=this.backwardLayer.call(e,n);else{const l=r.slice(0,r.length/2),u=r.slice(r.length/2);a=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),i=this.backwardLayer.call(e,Object.assign(n,{initialState:u}))}let s;this.returnState&&(Array.isArray(a)&&(s=a.slice(1).concat(i.slice(1))),a=a[0],i=i[0]),this.returnSequences&&(i=Wo(i,1));let o;return this.mergeMode==="concat"?o=hI([a,i]):this.mergeMode==="sum"?o=Ae(a,i):this.mergeMode==="ave"?o=ee(.5,Ae(a,i)):this.mergeMode==="mul"?o=ee(a,i):this.mergeMode==null&&(o=[a,i]),this.returnState?this.mergeMode==null?o.concat(s):[o].concat(s):o})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Od(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),Od(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let r;if(this.returnSequences?this.mergeMode==null?r=[n,n]:r=n:this.mergeMode==null?r=[null,null]:r=null,this.returnState){const i=this.forwardLayer.states.map(s=>null);return Array.isArray(r)?r.concat(i).concat(i):[r].concat(i).concat(i)}else return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=_l(n.layer);if(delete n.layer,n.numConstants!=null)throw new Bt("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=n;return a.layer=r,new e(a)}}EY.className="Bidirectional";je(EY);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class TY extends rn{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return me(()=>(e=zt(e),e.dtype!=="float32"&&(e=V0(e,"float32")),Ae(ee(e,this.scale),this.offset)))}}TY.className="Rescaling";je(TY);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MLe=Ne();MLe.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var zs;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(zs||(zs={}));var iO;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(iO||(iO={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BLe={};function CY(t){return BLe[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L(t,e,n,r,a){const i=e.inputParams[t];if(i&&i.inputIndexStart!==void 0){const o=i.inputIndexStart,l=i.inputIndexEnd===0?void 0:i.inputIndexEnd===void 0?o+1:i.inputIndexEnd;if(i.type==="tensor")return Qa(e.inputNames[i.inputIndexStart],n,r,a);if(i.type==="tensors")return e.inputNames.slice(o,l).map(f=>Qa(f,n,r,a));const u=Qa(e.inputNames.slice(o)[0],n,r,a),c=u.dataSync();return i.type==="number"?c[0]:nS(u.shape,c)}const s=e.attrParams[t];return s&&s.value}function Qa(t,e,n,r){const[a,i]=Fi(t);if(r!=null){const o=r.getHashTableHandleByName(a);if(o!=null)return o}const s=n.currentContextIds.find(o=>!!e[Rb(a,o)]);return s!==void 0?e[Rb(a,s)][i]:void 0}function zLe(t,e,n){return e[Rb(t,n.currentContextId)]}function dl(t,e){const[n,r,a]=Fi(t);return[Rb(n,e&&e.currentContextId),r,a]}function Rb(t,e){return e?`${t}-${e}`:t}function Fi(t){const e=t.split(":");if(e.length===1)return[t,0,void 0];const n=e[0],r=e.length===3?e[1]:void 0,a=Number(e[e.length-1]);return[n,a,r]}function Q2(t,e,n){let r=L("pad",t,e,n);if(r==="explicit"){r=L("explicitPaddings",t,e,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let i=0;i<4;i++)a[i][0]=r[i*2],a[i][1]=r[i*2+1];return a}return r}function Wl(t){return t.kept?t:nu(t)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ULe=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],jLe=Object.freeze(Object.defineProperty({__proto__:null,json:ULe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VLe=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],WLe=Object.freeze(Object.defineProperty({__proto__:null,json:VLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GLe=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],HLe=Object.freeze(Object.defineProperty({__proto__:null,json:GLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qLe=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],YLe=Object.freeze(Object.defineProperty({__proto__:null,json:qLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KLe=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],XLe=Object.freeze(Object.defineProperty({__proto__:null,json:KLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QLe=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ZLe=Object.freeze(Object.defineProperty({__proto__:null,json:QLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JLe=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],eFe=Object.freeze(Object.defineProperty({__proto__:null,json:JLe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tFe=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],nFe=Object.freeze(Object.defineProperty({__proto__:null,json:tFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rFe=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],aFe=Object.freeze(Object.defineProperty({__proto__:null,json:rFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iFe=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],sFe=Object.freeze(Object.defineProperty({__proto__:null,json:iFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oFe=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],lFe=Object.freeze(Object.defineProperty({__proto__:null,json:oFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uFe=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],cFe=Object.freeze(Object.defineProperty({__proto__:null,json:uFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dFe=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],hFe=Object.freeze(Object.defineProperty({__proto__:null,json:dFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fFe=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],pFe=Object.freeze(Object.defineProperty({__proto__:null,json:fFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mFe=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],gFe=Object.freeze(Object.defineProperty({__proto__:null,json:mFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yFe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],bFe=Object.freeze(Object.defineProperty({__proto__:null,json:yFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vFe=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],wFe=Object.freeze(Object.defineProperty({__proto__:null,json:vFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xFe=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],_Fe=Object.freeze(Object.defineProperty({__proto__:null,json:xFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kFe=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],SFe=Object.freeze(Object.defineProperty({__proto__:null,json:kFe},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sO{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[jLe,WLe,HLe,YLe,XLe,ZLe,eFe,nFe,aFe,sFe,lFe,cFe,hFe,pFe,gFe,bFe,wFe,_Fe,SFe],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,a)=>(r[a.tfOpName]=a,r),{})}transformGraph(e,n={}){const r=e.node,a=[],i=[],s=[],o=r.reduce((g,v)=>(g[v.name]=this.mapNode(v),v.op.startsWith("Placeholder")?a.push(g[v.name]):v.op==="Const"?i.push(g[v.name]):(v.input==null||v.input.length===0)&&s.push(g[v.name]),g),{});let l=[];const u=[];let c={},d={};n!=null&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const f=Object.keys(o);f.forEach(g=>{const v=o[g];v.inputNames.forEach((y,b)=>{const[w,,x]=dl(y),k=o[w];if(k.outputs!=null){const S=k.outputs.indexOf(x);if(S!==-1){const E=`${w}:${S}`;v.inputNames[b]=E}}v.inputs.push(k),k.children.push(v)})}),Object.keys(d).length===0?f.forEach(g=>{const v=o[g];v.children.length===0&&u.push(v)}):Object.keys(d).forEach(g=>{const[v]=dl(g),y=o[v];y!=null&&(y.signatureKey=d[g],u.push(y))}),Object.keys(c).length>0?Object.keys(c).forEach(g=>{const[v]=dl(g),y=o[v];y&&(y.signatureKey=c[g],l.push(y))}):l=a;let p={};e.library!=null&&e.library.function!=null&&(p=e.library.function.reduce((g,v)=>(g[v.signature.name]=this.mapFunction(v),g),{}));const m={nodes:o,inputs:l,outputs:u,weights:i,placeholders:a,signature:n,functions:p};return s.length>0&&(m.initNodes=s),m}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=CY(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(a=>a.startsWith("^")?a.slice(1):a),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((a,i)=>(a[i.name]={type:i.type,inputIndexStart:i.start,inputIndexEnd:i.end},a),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((a,i)=>{const s=i.type;let o;switch(i.type){case"string":o=GS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=GS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"string[]":o=ZS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=ZS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number":o=qS(e.attr,i.tfName,i.defaultValue||0),o===void 0&&i.tfDeprecatedName&&(o=qS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"number[]":o=QS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=QS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool":o=HS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=HS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"bool[]":o=e5(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=e5(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape":o=XS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=XS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"shape[]":o=JS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=JS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype":o=YS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=YS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"dtype[]":o=KS(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=KS(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"func":o=oO(e.attr,i.tfName,i.defaultValue),o===void 0&&i.tfDeprecatedName&&(o=oO(e.attr,i.tfDeprecatedName,i.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${i.type} for op: ${e.op}`)}return a[i.name]={value:o,type:s},a},{})),r}mapFunction(e){const n=e.nodeDef,r=[],a=[];let i={};n!=null&&(i=n.reduce((d,f)=>(d[f.name]=this.mapNode(f),f.op==="Const"&&a.push(d[f.name]),d),{}));const s=[],o=[];e.signature.inputArg.forEach(d=>{const[f]=dl(d.name),p={name:f,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:RI(d.type),type:"dtype"}},children:[]};p.signatureKey=d.name,s.push(p),i[f]=p}),Object.keys(i).forEach(d=>{const f=i[d];f.inputNames.forEach((p,m)=>{const[g,,v]=dl(p),y=i[g];if(y.outputs!=null){const b=y.outputs.indexOf(v);if(b!==-1){const w=`${g}:${b}`;f.inputNames[m]=w}}f.inputs.push(y),y.children.push(f)})});const u=e.ret;e.signature.outputArg.forEach(d=>{const[f,p]=dl(u[d.name]),m=i[f];m!=null&&(m.defaultOutput=p,o.push(m))});const c=this.mapArgsToSignature(e);return{nodes:i,inputs:s,outputs:o,weights:a,placeholders:r,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function NFe(t){const e=Ne().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function IY(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):NFe(t);return e?n:n.toLowerCase()}function GS(t,e,n,r=!1){const a=t[e];return a!=null?IY(a.s,r):n}function HS(t,e,n){const r=t[e];return r?r.b:n}function qS(t,e,n){const r=t[e]||{},a=r.i!=null?r.i:r.f!=null?r.f:n;return typeof a=="number"?a:parseInt(a,10)}function RI(t){switch(typeof t=="string"&&(t=zs[t]),t){case zs.DT_FLOAT:case zs.DT_HALF:return"float32";case zs.DT_INT32:case zs.DT_INT64:case zs.DT_INT8:case zs.DT_UINT8:return"int32";case zs.DT_BOOL:return"bool";case zs.DT_DOUBLE:return"float32";case zs.DT_STRING:return"string";default:return null}}function oO(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function YS(t,e,n){const r=t[e];return r&&r.type?RI(r.type):n}function KS(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(a=>RI(a)):n}function AY(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function XS(t,e,n){const r=t[e];return r&&r.shape?AY(r.shape):n}function QS(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function ZS(t,e,n,r=!1){const a=t[e];return a&&a.list&&a.list.s?a.list.s.map(i=>IY(i,r)):n}function JS(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(a=>AY(a)):n}function e5(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EFe{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(a=>this.getInput(a)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((a,i)=>(a[i]=this.getAttr(i),a),{}))}getInput(e){return Qa(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return Qa(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return qS(this.node.rawAttrs,e,n);if(r.s!=null)return GS(this.node.rawAttrs,e,n);if(r.b!=null)return HS(this.node.rawAttrs,e,n);if(r.shape!=null)return XS(this.node.rawAttrs,e,n);if(r.type!=null)return YS(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return QS(this.node.rawAttrs,e,n);if(r.list.s!=null)return ZS(this.node.rawAttrs,e,n);if(r.list.shape!=null)return JS(this.node.rawAttrs,e,n);if(r.list.b!=null)return e5(this.node.rawAttrs,e,n);if(r.list.type!=null)return KS(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ba=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:oV,abs:aa,acos:Tve,acosh:Ive,add:Ae,addN:Dve,all:HV,any:SS,argMax:up,argMin:Fve,asin:Mve,asinh:zve,atan:jve,atan2:Wve,atanh:Hve,avgPool:f6,avgPool3d:YV,basicLSTMCell:iwe,batchNorm:vw,batchNorm2d:KV,batchNorm3d:XV,batchNorm4d:QV,batchToSpaceND:p6,bincount:ZV,booleanMaskAsync:ake,broadcastArgs:pwe,broadcastTo:Ym,buffer:gr,cast:tt,ceil:ywe,clipByValue:Si,clone:nu,complex:Nc,concat:ar,concat1d:JV,concat2d:eW,concat3d:tW,concat4d:nW,conv1d:rW,conv2d:sh,conv2dTranspose:aW,conv3d:iW,conv3dTranspose:oW,cos:g6,cosh:lW,cosineWindow:z6,cumprod:ES,cumsum:uW,denseBincount:Lwe,depthToSpace:Pwe,depthwiseConv2d:ww,diag:zwe,dilation2d:jwe,div:Je,divNoNan:qwe,dot:Kwe,dropout:RW,einsum:Qwe,elu:xw,enclosingPowerOfTwo:$W,equal:Tl,erf:e3e,euclideanNorm:u3e,exp:ni,expandDims:hr,expm1:f3e,eye:b6,fft:P6,fill:Ip,floor:kw,floorDiv:GV,fused:Nke,gather:Sw,gatherND:fke,greater:ho,greaterEqual:Dp,ifft:gb,imag:bw,image:wa,inTopKAsync:yke,irfft:EW,isFinite:x3e,isInf:k3e,isNaN:N3e,leakyRelu:v6,less:hW,lessEqual:Rp,linalg:jW,linspace:I3e,localResponseNormalization:D3e,log:so,log1p:w6,logSigmoid:P3e,logSoftmax:fW,logSumExp:pW,logicalAnd:hu,logicalNot:x6,logicalOr:mW,logicalXor:G3e,losses:eSe,lowerBound:q3e,matMul:Xt,max:wl,maxPool:k6,maxPool3d:gW,maxPoolWithArgmax:Q3e,maximum:jc,mean:Tr,meshgrid:exe,min:TS,minimum:R0,mirrorPad:yW,mod:axe,moments:Nw,movingAverage:ske,mul:ee,multiRNNCell:oxe,multinomial:uxe,neg:mr,norm:_w,notEqual:jg,oneHot:CV,ones:bs,onesLike:oo,op:ie,outerProduct:fxe,pad:Cl,pad1d:gxe,pad2d:bxe,pad3d:wxe,pad4d:_xe,pool:Txe,pow:oh,prelu:N6,print:wV,prod:Axe,raggedGather:Rxe,raggedTensorToTensor:Oxe,rand:Fxe,randomGamma:Jxe,randomNormal:O6,randomStandardNormal:n_e,randomUniform:$0,range:Vg,real:zg,reciprocal:i_e,relu:yu,relu6:vW,reshape:ue,reverse:Wo,reverse1d:c_e,reverse2d:h_e,reverse3d:p_e,reverse4d:g_e,rfft:M6,round:wW,rsqrt:xW,scalar:wt,scatterND:lke,searchSorted:_6,selu:_W,separableConv2d:kW,setdiff1dAsync:__e,sigmoid:xs,sign:S_e,signal:J4e,sin:SW,sinh:NW,slice:bt,slice1d:Ew,slice2d:L6,slice3d:Tw,slice4d:Wg,softmax:F6,softplus:D0,spaceToBatchND:S6,sparse:tSe,sparseToDense:dke,spectral:Z4e,split:Hi,sqrt:ti,square:On,squaredDifference:TW,squeeze:Rt,stack:Go,step:O0,stridedSlice:j_e,string:nSe,sub:lt,sum:gt,tan:W_e,tanh:Ug,tensor:vl,tensor1d:Kn,tensor2d:_i,tensor3d:AV,tensor4d:G_e,tensor5d:H_e,tensor6d:q_e,tile:Ro,topk:K_e,transpose:tn,truncatedNormal:B6,unique:Z_e,unsortedSegmentSum:CW,unstack:Il,upperBound:tke,variable:IW,where:Xi,whereAsync:DW,zeros:Fr,zerosLike:sn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TFe=(t,e,n,r=Ba)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(L("a",t,e,n),L("b",t,e,n))];case"AddN":return[r.addN(L("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(L("a",t,e,n),L("b",t,e,n))];case"Mul":return[r.mul(L("a",t,e,n),L("b",t,e,n))];case"RealDiv":case"Div":return[r.div(L("a",t,e,n),L("b",t,e,n))];case"DivNoNan":return[r.divNoNan(L("a",t,e,n),L("b",t,e,n))];case"FloorDiv":return[r.floorDiv(L("a",t,e,n),L("b",t,e,n))];case"Sub":return[r.sub(L("a",t,e,n),L("b",t,e,n))];case"Minimum":return[r.minimum(L("a",t,e,n),L("b",t,e,n))];case"Maximum":return[r.maximum(L("a",t,e,n),L("b",t,e,n))];case"Pow":return[r.pow(L("a",t,e,n),L("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(L("a",t,e,n),L("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CFe=(t,e,n,r=Ba)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(L("x",t,e,n))];case"Acos":return[r.acos(L("x",t,e,n))];case"Acosh":return[r.acosh(L("x",t,e,n))];case"Asin":return[r.asin(L("x",t,e,n))];case"Asinh":return[r.asinh(L("x",t,e,n))];case"Atan":return[r.atan(L("x",t,e,n))];case"Atan2":return[r.atan2(L("x",t,e,n),L("y",t,e,n))];case"Atanh":return[r.atanh(L("x",t,e,n))];case"Ceil":return[r.ceil(L("x",t,e,n))];case"Complex":return[r.complex(L("real",t,e,n),L("imag",t,e,n))];case"Cos":return[r.cos(L("x",t,e,n))];case"Cosh":return[r.cosh(L("x",t,e,n))];case"Elu":return[r.elu(L("x",t,e,n))];case"Erf":return[r.erf(L("x",t,e,n))];case"Exp":return[r.exp(L("x",t,e,n))];case"Expm1":return[r.expm1(L("x",t,e,n))];case"Floor":return[r.floor(L("x",t,e,n))];case"Log":return[r.log(L("x",t,e,n))];case"Log1p":return[r.log1p(L("x",t,e,n))];case"Imag":return[r.imag(L("x",t,e,n))];case"Neg":return[r.neg(L("x",t,e,n))];case"Reciprocal":return[r.reciprocal(L("x",t,e,n))];case"Real":return[r.real(L("x",t,e,n))];case"Relu":return[r.relu(L("x",t,e,n))];case"Round":return[r.round(L("x",t,e,n))];case"Selu":return[r.selu(L("x",t,e,n))];case"Sigmoid":return[r.sigmoid(L("x",t,e,n))];case"Sin":return[r.sin(L("x",t,e,n))];case"Sign":return[r.sign(L("x",t,e,n))];case"Sinh":return[r.sinh(L("x",t,e,n))];case"Softplus":return[r.softplus(L("x",t,e,n))];case"Sqrt":return[r.sqrt(L("x",t,e,n))];case"Square":return[r.square(L("x",t,e,n))];case"Tanh":return[r.tanh(L("x",t,e,n))];case"Tan":return[r.tan(L("x",t,e,n))];case"ClipByValue":return[r.clipByValue(L("x",t,e,n),L("clipValueMin",t,e,n),L("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(L("x",t,e,n))];case"Rsqrt":return[r.rsqrt(Qa(t.inputNames[0],e,n))];case"Prod":return[r.prod(L("x",t,e,n),L("axes",t,e,n))];case"LeakyRelu":return[r.leakyRelu(L("x",t,e,n),L("alpha",t,e,n))];case"Prelu":return[r.prelu(L("x",t,e,n),L("alpha",t,e,n))];case"IsNan":return[r.isNaN(Qa(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function js(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){V(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const a=t[r],i=e[r];V(a<0||i<0||a===i,()=>n+` Shapes ${t} and ${e} must match`)}}}function lO(t){return!(typeof t=="number"||t.some(e=>e<0))}function um(t,e,n){let r=t5(t,n);const a=!lO(r);if(a&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&e.forEach(i=>{r=t5(i.shape,r)}),!lO(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function t5(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const a=t[r],i=e[r];if(a>=0&&i>=0&&a!==i)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=a>=0?a:i}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IFe{constructor(e,n,r,a,i,s,o){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=s,this.clearAfterRead=o,this.tensors=[],this.closed_=!1,this.idTensor=wt(0),va(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),js(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,va(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,a)=>this.write(r,n[a]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let a=0;a<this.size();a++)e.push(a)}if(e.length===0)return vl([],[0].concat(this.elementShape));const r=this.readMany(e);return js(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Go(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return vl([],[0].concat(this.elementShape));const n=[];for(let a=0;a<this.size();a++)n.push(a);const r=this.readMany(n);return js(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),ar(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Il(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const a=e.map(l=>(r+=l,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=r===0?0:n.size/r,s=[];me(()=>{n=ue(n,[1,r,i]);for(let l=0;l<e.length;++l){const c=[0,l===0?0:a[l-1],0],d=[1,e[l],i];s[l]=ue(bt(n,c,d),this.elementShape)}return s});const o=[];for(let l=0;l<e.length;l++)o[l]=l;this.writeMany(o,s)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ch{constructor(e,n,r,a=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(i=>{if(r!==i.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${i.dtype}`);js(n,i.shape,"TensorList shape mismatch: "),va(i)}),this.idTensor=wt(0),this.maxNumElements=a,va(this.idTensor)}get id(){return this.idTensor.id}copy(){return new ch([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);js(e,this.elementShape,"TensorList shape mismatch: ");const a=um(this.elementShape,this.tensors,e);return me(()=>{const i=this.tensors.map(s=>ue(s,a));return Go(i,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=um(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,js(a.shape,e,"TensorList shape mismatch: "),ue(a,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(js(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");va(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new ch([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);js(this.tensors[e].shape,n,"TensorList shape mismatch: ");const a=um(this.elementShape,this.tensors,n);return ue(this.tensors[e],a)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);js(this.elementShape,n.shape,"TensorList shape mismatch: "),va(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);js(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=um(this.elementShape,this.tensors,r);return e.length===0?vl([],[0].concat(a)):me(()=>{const i=e.map(s=>ue(this.tensors[s],a));return Go(i,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);js(this.elementShape,n,"TensorList shape mismatch: ");const r=um(this.elementShape,this.tensors,n);return this.size()===0?vl([],[0].concat(r)):me(()=>{const a=this.tensors.map(i=>ue(i,r));return ar(a,0)})}}function AFe(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const a=t.shape.slice(1);js(a,e,"TensorList shape mismatch: ");const i=Il(t);return new ch(i,e,r)}function DFe(t,e,n,r){return new ch([],t,e,r)}function RFe(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const a=Math.max(...e);if(r!=null&&r!==-1&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const i=new ch([],n,t.dtype,r),s=Il(t,0);return e.forEach((o,l)=>{i.setItem(o,s[l])}),i}function $Fe(t,e,n){let r=0;const a=e.map(c=>(r+=c,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const i=t.shape.slice(1),s=t5(i,n),o=r===0?0:t.size/r,l=me(()=>{const c=[];t=ue(t,[1,r,o]);for(let d=0;d<e.length;++d){const p=[0,d===0?0:a[d-1],0],m=[1,e[d],o];c[d]=ue(bt(t,p,m),s)}return t.dispose(),c}),u=new ch([],n,t.dtype,e.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OFe=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=L("thenBranch",t,e,n),a=L("elseBranch",t,e,n),i=L("cond",t,e,n),s=L("args",t,e,n);return(await i.data())[0]?n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=L("body",t,e,n),a=L("cond",t,e,n),i=L("args",t,e,n),s=await n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),o=i.map(c=>c.id);let l=await s[0].data();s.forEach(c=>{!c.kept&&o.indexOf(c.id)===-1&&c.dispose()});let u=i;for(;l[0];){const c=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const d=u.map(p=>p.id);c.forEach(p=>{!p.kept&&o.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()});const f=await n.functionMap[a].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await f[0].data(),f.forEach(p=>{!p.kept&&o.indexOf(p.id)===-1&&d.indexOf(p.id)===-1&&p.dispose()})}return u}case"LoopCond":{const r=L("pred",t,e,n);return[Wl(r)]}case"Switch":{const r=L("pred",t,e,n);let a=L("data",t,e,n);return a.kept||(a=Wl(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>Qa(a,e,n)!==void 0);if(r){const a=Qa(r,e,n);return[Wl(a)]}return}case"Enter":{const r=L("frameName",t,e,n),a=L("tensor",t,e,n);return n.enterFrame(r),[Wl(a)]}case"Exit":{const r=L("tensor",t,e,n);return n.exitFrame(),[Wl(r)]}case"NextIteration":{const r=L("tensor",t,e,n);return n.nextIteration(),[Wl(r)]}case"TensorArrayV3":{const r=L("size",t,e,n),a=L("dtype",t,e,n),i=L("elementShape",t,e,n),s=L("dynamicSize",t,e,n),o=L("clearAfterRead",t,e,n),l=L("identicalElementShapes",t,e,n),u=L("name",t,e,n),c=new IFe(u,a,r,i,l,s,o);return n.addTensorArray(c),[c.idTensor,wt(1)]}case"TensorArrayWriteV3":{const r=L("tensorArrayId",t,e,n),a=L("index",t,e,n),i=L("tensor",t,e,n),s=n.getTensorArray(r.id);return s.write(a,i),[s.idTensor]}case"TensorArrayReadV3":{const r=L("tensorArrayId",t,e,n),a=L("index",t,e,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=L("tensorArrayId",t,e,n),a=L("indices",t,e,n),i=L("dtype",t,e,n);return[n.getTensorArray(r.id).gather(a,i)]}case"TensorArrayScatterV3":{const r=L("tensorArrayId",t,e,n),a=L("indices",t,e,n),i=L("tensor",t,e,n),s=n.getTensorArray(r.id);return s.scatter(a,i),[s.idTensor]}case"TensorArrayConcatV3":{const r=L("tensorArrayId",t,e,n),a=n.getTensorArray(r.id),i=L("dtype",t,e,n);return[a.concat(i)]}case"TensorArraySplitV3":{const r=L("tensorArrayId",t,e,n),a=L("tensor",t,e,n),i=L("lengths",t,e,n),s=n.getTensorArray(r.id);return s.split(i,a),[s.idTensor]}case"TensorArraySizeV3":{const r=L("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return[wt(a.size(),"int32")]}case"TensorArrayCloseV3":{const r=L("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=L("tensorListId",t,e,n),a=L("index",t,e,n),i=L("tensor",t,e,n),s=n.getTensorList(r.id);return s.setItem(a,i),[s.idTensor]}case"TensorListGetItem":{const r=L("tensorListId",t,e,n),a=L("index",t,e,n),i=L("elementShape",t,e,n),s=L("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(a,i,s)]}case"TensorListScatterV2":case"TensorListScatter":{const r=L("indices",t,e,n),a=L("tensor",t,e,n),i=L("elementShape",t,e,n),s=L("numElements",t,e,n),o=RFe(a,r,i,s);return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=L("elementShape",t,e,n),a=L("elementDType",t,e,n);let i;t.op==="TensorListReserve"?i="numElements":i="maxNumElements";const s=L(i,t,e,n),o=t.op==="TensorListReserve"?-1:s,l=DFe(r,a,s,o);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const r=L("tensorListId",t,e,n),a=L("indices",t,e,n),i=L("elementShape",t,e,n),s=L("elementDType",t,e,n);return[n.getTensorList(r.id).gather(a,s,i)]}case"TensorListStack":{const r=L("tensorListId",t,e,n),a=L("elementShape",t,e,n),i=L("elementDType",t,e,n),s=L("numElements",t,e,n);return[n.getTensorList(r.id).stack(a,i,s)]}case"TensorListFromTensor":{const r=L("tensor",t,e,n),a=L("elementShape",t,e,n),i=L("elementDType",t,e,n),s=AFe(r,a,i);return n.addTensorList(s),[s.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=L("tensorListId",t,e,n),a=n.getTensorList(r.id),i=L("dtype",t,e,n),s=L("elementShape",t,e,n);return[a.concat(i,s)]}case"TensorListPushBack":{const r=L("tensorListId",t,e,n),a=L("tensor",t,e,n),i=n.getTensorList(r.id);return i.pushBack(a),[i.idTensor]}case"TensorListPopBack":{const r=L("tensorListId",t,e,n),a=L("elementShape",t,e,n),i=L("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(a,i)]}case"TensorListSplit":{const r=L("tensor",t,e,n),a=L("elementShape",t,e,n),i=L("lengths",t,e,n),s=$Fe(r,i,a);return n.addTensorList(s),[s.idTensor]}case"TensorListLength":{const r=L("tensorListId",t,e,n),a=n.getTensorList(r.id);return[wt(a.size(),"int32")]}case"TensorListResize":{const r=L("tensorListId",t,e,n),a=L("size",t,e,n),s=n.getTensorList(r.id).resize(a);return n.addTensorList(s),[s.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uO(t,e,n){const[r,a]=L("fusedOps",t,e,n),i=r==="biasadd",s=!i,o=a==="prelu",l=r==="fusedbatchnorm",u=L("numArgs",t,e,n);if(i){if(o&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&i&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=L("strides",t,e,n),d=Q2(t,e,n),f=L("dataFormat",t,e,n).toUpperCase(),p=L("dilations",t,e,n);let[m,g]=L("args",t,e,n);s&&(g=m,m=void 0);const v=L("leakyreluAlpha",t,e,n);return{stride:c,pad:d,dataFormat:f,dilations:p,biasArg:m,preluArg:g,activationFunc:a,leakyreluAlpha:v}}const LFe=(t,e,n,r=Ba)=>{switch(t.op){case"Conv1D":{const a=L("stride",t,e,n),i=L("pad",t,e,n),s=L("dataFormat",t,e,n).toUpperCase(),o=L("dilation",t,e,n);return[r.conv1d(L("x",t,e,n),L("filter",t,e,n),a,i,s,o)]}case"Conv2D":{const a=L("strides",t,e,n),i=Q2(t,e,n),s=L("dataFormat",t,e,n).toUpperCase(),o=L("dilations",t,e,n);return[r.conv2d(L("x",t,e,n),L("filter",t,e,n),[a[1],a[2]],i,s,[o[1],o[2]])]}case"_FusedConv2D":{const{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=uO(t,e,n);return[r.fused.conv2d({x:L("x",t,e,n),filter:L("filter",t,e,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:i,dataFormat:s,dilations:o,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=uO(t,e,n);return[r.fused.depthwiseConv2d({x:L("x",t,e,n),filter:L("filter",t,e,n),strides:[a[1],a[2]],pad:i,dataFormat:s,dilations:[o[1],o[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=L("outputShape",t,e,n),i=L("strides",t,e,n),s=Q2(t,e,n);return[r.conv2dTranspose(L("x",t,e,n),L("filter",t,e,n),a,[i[1],i[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=L("strides",t,e,n),i=Q2(t,e,n),s=L("dilations",t,e,n),o=L("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(L("input",t,e,n),L("filter",t,e,n),[a[1],a[2]],i,o,[s[1],s[2]])]}case"Conv3D":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("dataFormat",t,e,n).toUpperCase(),o=L("dilations",t,e,n);return[r.conv3d(L("x",t,e,n),L("filter",t,e,n),[a[1],a[2],a[3]],i,s,[o[1],o[2],o[3]])]}case"AvgPool":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("kernelSize",t,e,n);return[r.avgPool(L("x",t,e,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPool":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("kernelSize",t,e,n);return[r.maxPool(L("x",t,e,n),[s[1],s[2]],[a[1],a[2]],i)]}case"MaxPoolWithArgmax":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("kernelSize",t,e,n),o=L("includeBatchInIndex",t,e,n),{result:l,indexes:u}=r.maxPoolWithArgmax(L("x",t,e,n),[s[1],s[2]],[a[1],a[2]],i,o);return[l,u]}case"AvgPool3D":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("kernelSize",t,e,n);return[r.avgPool3d(L("x",t,e,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"MaxPool3D":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("kernelSize",t,e,n);return[r.maxPool3d(L("x",t,e,n),[s[1],s[2],s[3]],[a[1],a[2],a[3]],i)]}case"Dilation2D":{const a=L("strides",t,e,n),i=L("pad",t,e,n),s=L("dilations",t,e,n),o=a[1],l=a[2],u=s[1],c=s[2];return[r.dilation2d(L("x",t,e,n),L("filter",t,e,n),[o,l],i,[u,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FFe=(t,e,n,r=Ba)=>{switch(t.op){case"Fill":{const a=L("shape",t,e,n),i=L("dtype",t,e,n),s=L("value",t,e,n);return[r.fill(a,s,i)]}case"LinSpace":{const a=L("start",t,e,n),i=L("stop",t,e,n),s=L("num",t,e,n);return[r.linspace(a,i,s)]}case"Multinomial":{const a=L("logits",t,e,n),i=L("numSamples",t,e,n),s=L("seed",t,e,n);return[r.multinomial(a,i,s)]}case"OneHot":{const a=L("indices",t,e,n),i=L("depth",t,e,n),s=L("onValue",t,e,n),o=L("offValue",t,e,n),l=L("dtype",t,e,n);return[r.oneHot(a,i,s,o,l)]}case"Ones":return[r.ones(L("shape",t,e,n),L("dtype",t,e,n))];case"OnesLike":return[r.onesLike(L("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(L("shape",t,e,n),L("dtype",t,e,n),L("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(L("shape",t,e,n),L("minval",t,e,n),L("maxval",t,e,n),L("dtype",t,e,n))];case"Range":{const a=L("start",t,e,n),i=L("stop",t,e,n),s=L("step",t,e,n);return[r.range(a,i,s,L("dtype",t,e,n))]}case"TruncatedNormal":{const a=L("shape",t,e,n),i=L("mean",t,e,n),s=L("stdDev",t,e,n),o=L("seed",t,e,n);return[r.truncatedNormal(a,i,s,L("dtype",t,e,n),o)]}case"Zeros":return[r.zeros(L("shape",t,e,n),L("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(L("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e_(t,e,n){const r=L("boxes",t,e,n),a=L("scores",t,e,n),i=L("maxOutputSize",t,e,n),s=L("iouThreshold",t,e,n),o=L("scoreThreshold",t,e,n),l=L("softNmsSigma",t,e,n);return{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:o,softNmsSigma:l}}const PFe=async(t,e,n,r,a=Ba)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=e_(t,e,n),d=await a.image.nonMaxSuppressionWithScoreAsync(i,s,o,l,u,c);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=e_(t,e,n),c=L("padToMaxOutputSize",t,e,n),d=await a.image.nonMaxSuppressionPaddedAsync(i,s,o,l,u,c);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:i,scores:s,maxOutputSize:o,iouThreshold:l,scoreThreshold:u}=e_(t,e,n);return[await a.image.nonMaxSuppressionAsync(i,s,o,l,u)]}case"Where":{const i=a.cast(L("condition",t,e,n),"bool"),s=[await a.whereAsync(i)];return i.dispose(),s}case"ListDiff":return a.setdiff1dAsync(L("x",t,e,n),L("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MFe=(t,e,n,r=Ba)=>{switch(t.op){case"LowerBound":{const a=L("sortedSequence",t,e,n),i=L("values",t,e,n);return[r.lowerBound(a,i)]}case"TopKV2":{const a=L("x",t,e,n),i=L("k",t,e,n),s=L("sorted",t,e,n),o=r.topk(a,i,s);return[o.values,o.indices]}case"UpperBound":{const a=L("sortedSequence",t,e,n),i=L("values",t,e,n);return[r.upperBound(a,i)]}case"Unique":{const a=L("x",t,e,n),i=r.unique(a);return[i.values,i.indices]}case"UniqueV2":{const a=L("x",t,e,n),i=L("axis",t,e,n),s=r.unique(a,i);return[s.values,s.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BFe=(t,e,n,r=Ba)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const a=L("default",t,e,n);return[Qa(t.name,e,n)||a];case"Placeholder":return[Qa(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=L("x",t,e,n);return[Wl(c)]}case"IdentityN":return L("x",t,e,n).map(c=>Wl(c));case"Snapshot":const i=L("x",t,e,n);return[Wl(i)];case"Shape":return[r.tensor1d(L("x",t,e,n).shape,"int32")];case"ShapeN":return L("x",t,e,n).map(c=>r.tensor1d(c.shape));case"Size":return[r.scalar(L("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(L("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const s=L("x",t,e,n),o=L("data",t,e,n),l=L("message",t,e,n),u=L("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<o.length;c++)console.log(Array.prototype.slice.call(o[c].dataSync()).slice(0,u));return[s];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class zFe{constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=wt(0),this.tensorMap=new Map,va(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return wt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(a=>a.dispose()),this.tensorMap.clear(),me(()=>{const a=Il(n),i=r.length,s=a.length;V(i===s,()=>`The number of elements doesn't match, keys has ${i} elements, the values has ${s} elements.`);for(let o=0;o<i;o++){const l=r[o],u=a[o];va(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return me(()=>{const a=[];for(let i=0;i<r.length;i++){const s=r[i],o=this.findWithDefault(s,n);a.push(o)}return Go(a)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UFe=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const a=L("keyDType",t,e,n),i=L("valueDType",t,e,n),s=new zFe(a,i);return r.addHashTable(t.name,s),[s.handle]}case"LookupTableImport":case"LookupTableImportV2":{const a=L("tableHandle",t,e,n,r),i=L("keys",t,e,n),s=L("values",t,e,n);return[await r.getHashTableById(a.id).import(i,s)]}case"LookupTableFind":case"LookupTableFindV2":{const a=L("tableHandle",t,e,n,r),i=L("keys",t,e,n),s=L("defaultValue",t,e,n);return[await r.getHashTableById(a.id).find(i,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=L("tableHandle",t,e,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jFe=(t,e,n,r=Ba)=>{switch(t.op){case"ResizeBilinear":{const a=L("images",t,e,n),i=L("size",t,e,n),s=L("alignCorners",t,e,n),o=L("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(a,[i[0],i[1]],s,o)]}case"ResizeNearestNeighbor":{const a=L("images",t,e,n),i=L("size",t,e,n),s=L("alignCorners",t,e,n),o=L("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(a,[i[0],i[1]],s,o)]}case"CropAndResize":{const a=L("image",t,e,n),i=L("boxes",t,e,n),s=L("boxInd",t,e,n),o=L("cropSize",t,e,n),l=L("method",t,e,n),u=L("extrapolationValue",t,e,n);return[r.image.cropAndResize(a,i,s,o,l,u)]}case"ImageProjectiveTransformV3":{const a=L("images",t,e,n),i=L("transforms",t,e,n),s=L("outputShape",t,e,n),o=L("fillValue",t,e,n),l=L("interpolation",t,e,n),u=L("fillMode",t,e,n);return[r.image.transform(a,i,l.toLowerCase(),u.toLowerCase(),o,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VFe=(t,e,n,r=Ba)=>{switch(t.op){case"Equal":return[r.equal(L("a",t,e,n),L("b",t,e,n))];case"NotEqual":return[r.notEqual(L("a",t,e,n),L("b",t,e,n))];case"Greater":return[r.greater(L("a",t,e,n),L("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(L("a",t,e,n),L("b",t,e,n))];case"Less":return[r.less(L("a",t,e,n),L("b",t,e,n))];case"LessEqual":return[r.lessEqual(L("a",t,e,n),L("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(L("a",t,e,n),L("b",t,e,n))];case"LogicalNot":return[r.logicalNot(L("a",t,e,n))];case"LogicalOr":return[r.logicalOr(L("a",t,e,n),L("b",t,e,n))];case"Select":case"SelectV2":return[r.where(L("condition",t,e,n),L("a",t,e,n),L("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WFe=(t,e,n,r=Ba)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(L("a",t,e,n),L("b",t,e,n),L("transposeA",t,e,n),L("transposeB",t,e,n))];case"Einsum":return[r.einsum(L("equation",t,e,n),...L("tensors",t,e,n))];case"Transpose":return[r.transpose(L("x",t,e,n),L("perm",t,e,n))];case"_FusedMatMul":const[a,i]=L("fusedOps",t,e,n),s=a==="biasadd",o=i==="prelu",l=L("numArgs",t,e,n),u=L("leakyreluAlpha",t,e,n);if(s){if(o&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=L("args",t,e,n);return[r.fused.matMul({a:L("a",t,e,n),b:L("b",t,e,n),transposeA:L("transposeA",t,e,n),transposeB:L("transposeB",t,e,n),bias:c,activation:i,preluActivationWeights:d,leakyreluAlpha:u})];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GFe=(t,e,n,r=Ba)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(L("x",t,e,n),L("axis",t,e,n),L("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(L("x",t,e,n),L("mean",t,e,n),L("variance",t,e,n),L("offset",t,e,n),L("scale",t,e,n),L("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(L("x",t,e,n),L("mean",t,e,n),L("variance",t,e,n),L("offset",t,e,n),L("scale",t,e,n),L("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(L("x",t,e,n),L("radius",t,e,n),L("bias",t,e,n),L("alpha",t,e,n),L("beta",t,e,n))];case"Softmax":return[r.softmax(L("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(L("x",t,e,n))];case"SparseToDense":return[r.sparseToDense(L("sparseIndices",t,e,n),L("outputShape",t,e,n),L("sparseValues",t,e,n),L("defaultValue",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HFe=(t,e,n,r=Ba)=>{switch(t.op){case"Max":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.max(L("x",t,e,n),o,l)]}case"Mean":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.mean(L("x",t,e,n),o,l)]}case"Min":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.min(L("x",t,e,n),o,l)]}case"Sum":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.sum(L("x",t,e,n),o,l)]}case"All":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.all(L("x",t,e,n),o,l)]}case"Any":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.any(L("x",t,e,n),o,l)]}case"ArgMax":{const o=L("axis",t,e,n);return[r.argMax(L("x",t,e,n),o)]}case"ArgMin":{const o=L("axis",t,e,n);return[r.argMin(L("x",t,e,n),o)]}case"Prod":{const o=L("axis",t,e,n),l=L("keepDims",t,e,n);return[r.prod(L("x",t,e,n),o,l)]}case"Cumprod":{const o=L("axis",t,e,n),l=L("exclusive",t,e,n),u=L("reverse",t,e,n);return[r.cumprod(L("x",t,e,n),o,l,u)]}case"Cumsum":{const o=L("axis",t,e,n),l=L("exclusive",t,e,n),u=L("reverse",t,e,n);return[r.cumsum(L("x",t,e,n),o,l,u)]}case"Bincount":const a=L("x",t,e,n),i=L("weights",t,e,n),s=L("size",t,e,n);return[r.bincount(a,i,s)];case"DenseBincount":{const o=L("x",t,e,n),l=L("weights",t,e,n),u=L("size",t,e,n),c=L("binaryOutput",t,e,n);return[r.denseBincount(o,l,u,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qFe=(t,e,n,r=Ba)=>{switch(t.op){case"ConcatV2":case"Concat":{const a=L("n",t,e,n),i=L("axis",t,e,n);let s=L("tensors",t,e,n);return s=s.slice(0,a),[r.concat(s,i)]}case"Gather":{const a=L("x",t,e,n),i=L("indices",t,e,n);return[r.gather(a,r.cast(i,"int32"),0)]}case"GatherV2":{const a=L("axis",t,e,n),i=L("batchDims",t,e,n),s=L("x",t,e,n),o=L("indices",t,e,n);return[r.gather(s,r.cast(o,"int32"),a,i)]}case"Reverse":{const a=L("dims",t,e,n),i=[];for(let o=0;o<a.length;o++)a[o]&&i.push(o);const s=L("x",t,e,n);return[r.reverse(s,i)]}case"ReverseV2":{const a=L("axis",t,e,n),i=L("x",t,e,n);return[r.reverse(i,a)]}case"Slice":{const a=L("begin",t,e,n),i=L("size",t,e,n);return[r.slice(L("x",t,e,n),a,i)]}case"StridedSlice":{const a=L("begin",t,e,n),i=L("end",t,e,n),s=L("strides",t,e,n),o=L("beginMask",t,e,n),l=L("endMask",t,e,n),u=L("ellipsisMask",t,e,n),c=L("newAxisMask",t,e,n),d=L("shrinkAxisMask",t,e,n),f=L("x",t,e,n);return[r.stridedSlice(f,a,i,s,o,l,u,c,d)]}case"Pack":return me(()=>{const a=L("axis",t,e,n),i=L("tensors",t,e,n),s=i[0].shape,o=r.squeeze(i[0]).shape,l=i.map(u=>{const c=gn(u.shape,s);if(!c&&!gn(r.squeeze(u).shape,o))throw new Error("the input tensors shape does not match");return c?u:r.reshape(u,s)});return[r.stack(l,a)]});case"Unpack":{const a=L("axis",t,e,n),i=L("tensor",t,e,n);return r.unstack(i,a)}case"Tile":{const a=L("reps",t,e,n);return[r.tile(L("x",t,e,n),a)]}case"Split":case"SplitV":{const a=L("axis",t,e,n),i=L("numOrSizeSplits",t,e,n),s=L("x",t,e,n);return r.split(s,i,a)}case"ScatterNd":{const a=L("indices",t,e,n),i=L("values",t,e,n),s=L("shape",t,e,n);return[r.scatterND(a,i,s)]}case"GatherNd":{const a=L("x",t,e,n),i=L("indices",t,e,n);return[r.gatherND(a,i)]}case"SparseToDense":{const a=L("sparseIndices",t,e,n),i=L("outputShape",t,e,n),s=L("sparseValues",t,e,n),o=L("defaultValue",t,e,n);return[r.sparseToDense(a,s,i,s.dtype===o.dtype?o:r.cast(o,s.dtype))]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YFe=(t,e,n,r=Ba)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:i,emptyRowIndicator:s,reverseIndexMap:o}=r.sparse.sparseFillEmptyRows(L("indices",t,e,n),L("values",t,e,n),L("denseShape",t,e,n),L("defaultValue",t,e,n));return[a,i,s,o]}case"SparseReshape":{const{outputIndices:a,outputShape:i}=r.sparse.sparseReshape(L("inputIndices",t,e,n),L("inputShape",t,e,n),L("newShape",t,e,n));return[a,i]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(L("data",t,e,n),L("indices",t,e,n),L("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(L("data",t,e,n),L("indices",t,e,n),L("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KFe=(t,e,n,r=Ba)=>{switch(t.op){case"FFT":return[r.fft(L("x",t,e,n))];case"IFFT":return[r.ifft(L("x",t,e,n))];case"RFFT":return[r.rfft(L("x",t,e,n))];case"IRFFT":return[r.irfft(L("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XFe=(t,e,n,r=Ba)=>{switch(t.op){case"StringNGrams":{const{nGrams:a,nGramsSplits:i}=r.string.stringNGrams(L("data",t,e,n),L("dataSplits",t,e,n),L("separator",t,e,n),L("nGramWidths",t,e,n),L("leftPad",t,e,n),L("rightPad",t,e,n),L("padWidth",t,e,n),L("preserveShortSequences",t,e,n));return[a,i]}case"StringSplit":{const{indices:a,values:i,shape:s}=r.string.stringSplit(L("input",t,e,n),L("delimiter",t,e,n),L("skipEmpty",t,e,n));return[a,i,s]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(L("input",t,e,n),L("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QFe=(t,e,n,r=Ba)=>{switch(t.op){case"Cast":return[r.cast(L("x",t,e,n),L("dtype",t,e,n))];case"ExpandDims":{const a=L("axis",t,e,n);return[r.expandDims(L("x",t,e,n),a)]}case"Squeeze":{const a=L("axis",t,e,n);return[r.squeeze(L("x",t,e,n),a)]}case"Reshape":return[r.reshape(L("x",t,e,n),L("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(L("x",t,e,n),L("padding",t,e,n),L("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(L("x",t,e,n),L("padding",t,e,n),L("constantValue",t,e,n))];case"SpaceToBatchND":{const a=L("blockShape",t,e,n),i=L("paddings",t,e,n);return[r.spaceToBatchND(L("x",t,e,n),a,i)]}case"BatchToSpaceND":{const a=L("blockShape",t,e,n),i=L("crops",t,e,n);return[r.batchToSpaceND(L("x",t,e,n),a,i)]}case"DepthToSpace":{const a=L("blockSize",t,e,n),i=L("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(L("x",t,e,n),a,i)]}case"BroadcastTo":return[r.broadcastTo(L("x",t,e,n),L("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(L("s0",t,e,n),L("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cO(t,e,n,r,a=me){const i=((s,o,l)=>{switch(s.category){case"arithmetic":return a(()=>TFe(s,o,l));case"basic_math":return a(()=>CFe(s,o,l));case"control":return OFe(s,o,l);case"convolution":return a(()=>LFe(s,o,l));case"creation":return a(()=>FFe(s,o,l));case"dynamic":return PFe(s,o,l);case"evaluation":return a(()=>MFe(s,o,l));case"image":return a(()=>jFe(s,o,l));case"graph":return a(()=>BFe(s,o,l));case"logical":return a(()=>VFe(s,o,l));case"matrices":return a(()=>WFe(s,o,l));case"normalization":return a(()=>GFe(s,o,l));case"reduction":return a(()=>HFe(s,o,l));case"slice_join":return a(()=>qFe(s,o,l));case"sparse":return a(()=>YFe(s,o,l));case"spectral":return a(()=>KFe(s,o,l));case"string":return a(()=>XFe(s,o,l));case"transformation":return a(()=>QFe(s,o,l));case"hash_table":return UFe(s,o,l,r);case"custom":const u=CY(s.op);if(u&&u.customExecutor)return u.customExecutor(new EFe(s,o,l));throw TypeError(`Custom op ${s.op} is not registered.`);default:throw TypeError(`Unknown op '${s.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return ip(i)?i.then(s=>[].concat(s)):[].concat(i)}class dO{constructor(e={},n={},r={},a={}){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hO(t,e,n,r){const a=new Set,i=[];let s=null,o=null;const l=new Set,u=Object.keys(t).map(f=>Fi(f)[0]);let c=[];r!=null&&(c=r.map(f=>Fi(f.name)[0]));const d=[...e];for(;d.length>0;){const f=d.pop();if((DY(f)||nPe(f)||rPe(f))&&s==null&&(s=f,o=s.children.map(p=>p.name).filter(p=>a.has(p))),a.add(f.name),n[f.name]==null&&u.indexOf(f.name)===-1&&c.indexOf(f.name)===-1){if(f.inputs.length===0){i.push(f.name);continue}f.inputs.forEach(p=>{l.has(p.name)||(l.add(p.name),d.push(p))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:i,dynamicNode:s,syncInputs:o}}function ZFe(t,e,n){const{usedNodes:r,inputs:a}=n,i=[],s=Object.keys(a).map(c=>Fi(c)[0]).map(c=>t.nodes[c]),o=t.initNodes;s.forEach(c=>{r.has(c.name)&&i.push(c)}),t.weights.forEach(c=>{r.has(c.name)&&i.push(c)}),o!=null&&o.forEach(c=>{r.has(c.name)&&i.push(c)});const l=new Set,u=[];for(;i.length>0;){const c=i.pop();l.add(c.name),e[c.name]||u.push(c),c.children.forEach(d=>{!l.has(d.name)&&r.has(d.name)&&d.inputs.every(f=>l.has(f.name))&&i.push(d)})}return u}const JFe=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],ePe=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],tPe=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function DY(t){return JFe.indexOf(t.op)>=0}function nPe(t){return ePe.indexOf(t.op)>=0}function rPe(t){return tPe.indexOf(t.op)>=0}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $b{constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new $b(e.functions[r],this)})}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}getCompilationKey(e,n){const r=e.map(i=>i.name).sort(),a=n.map(i=>i.name).sort();return r.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,n){const r=hO(e,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:i,syncInputs:s}=r;if(i!=null)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${s}]`);if(a.length>0){const o=n.map(u=>u.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${o}] from the provided inputs [${l}]. Missing the following inputs: [${a}]`)}return ZFe(this.graph,this.weightMap,r)}execute(e,n){e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const a=r.map(d=>this.graph.nodes[Fi(d)[0]]),i=n.map(d=>Fi(d)[0]);let s=i.map(d=>this.graph.nodes[d]);this.resetIntermediateTensors(),s.length===0&&(s=this._outputs);const o=this.getCompilationKey(a,s);let l=this.compiledMap.get(o);l==null&&(l=this.compile(e,s),this.compiledMap.set(o,l));const u={},c={};return me(()=>{const d=new dO(this.weightMap,u,c,this.functionExecutorMap),f=Object.assign({},this.weightMap);Object.keys(e).forEach(g=>{const[v,y]=Fi(g),b=[];b[y]=e[g],f[v]=b});const p=this.getFrozenTensorIds(f),m={};for(let g=0;g<l.length;g++){const v=l[g];if(!f[v.name]){const y=cO(v,f,d,this._resourceManager);if(ip(y))throw new Error(`The execution of the op '${v.op}' returned a promise. Please use model.executeAsync() instead.`);f[v.name]=y,this.checkTensorForDisposal(v.name,v,f,d,p,i,m)}}return this.parent==null&&d.dispose(p),n.map(g=>Qa(g,f,d))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(e,n,r,a,i,s,o){n.category==="control"||s.indexOf(e)!==-1||(r[e].forEach(l=>{l!=null&&(o[l.id]=(o[l.id]||0)+n.children.length)}),n.inputs.forEach(l=>{if(l.category!=="control"){const u=zLe(l.name,r,a);u!=null&&u.forEach(c=>{if(c&&!c.kept&&!i.has(c.id)){const d=o[c.id];if(d===1){if(!this.keepTensorForDebug)c.dispose();else{const[f,p]=dl(n.name,a);this.intermediateTensors[f]?this.intermediateTensors[f][p]=c:(this.intermediateTensors[f]=[],this.intermediateTensors[f][p]=c)}delete o[c.id]}else d!=null&&o[c.id]--}})}}))}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach(e=>this.intermediateTensors[e].forEach(n=>n.dispose())),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach(e=>{this.tensorsMap[e].forEach(r=>{r&&!r.kept&&!r.isDisposed&&!this.keepIds.has(r.id)&&r.dispose()})})}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach(n=>n.dispose()),delete this.intermediateTensors[e]}async _executeAsync(e,n,r=!1,a={},i={}){r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=Ne().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();const s=new dO(this.weightMap,a,i,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,s,n,r);const o=n.map(c=>Qa(c,this.tensorsMap,s)),l=o.map(c=>c.id),u=Object.keys(e).map(c=>e[c].id);return this.keepIds=new Set([...l,...u,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),this.parent==null&&s.dispose(this.keepIds),o}async executeFunctionAsync(e,n,r){const a=e.reduce((i,s,o)=>(i[this.inputs[o].name]=s,i),{});return this._executeAsync(a,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,a){const i=Object.keys(e),s=i.map(w=>this.graph.nodes[Fi(w)[0]]),o=r.map(w=>Fi(w)[0]);let l=o.map(w=>this.graph.nodes[w]);l.length===0&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:f}=hO(e,l,this.weightMap,this._initNodes),p=[...s,...this.graph.weights,...this._initNodes||[]].map(w=>({node:w,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(w=>{const[x,k]=Fi(w),S=[];S[k]=e[w],m[x]=S});const g={},v=this.getFrozenTensorIds(m),y={};for(;p.length>0;){const w=this.processStack(s,p,n,m,y,v,o,g,u);await Promise.all(w)}d==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter(w=>!DY(w)&&!Qa(w.name,m,n)).map(w=>w.name);if(b.length>0){let w="";throw d!=null&&(w=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${i}]. Consider providing the following inputs: [${c}]. ${w}`)}return m}processStack(e,n,r,a,i,s,o,l,u){const c=[];for(;n.length>0;){const d=n.pop();r.currentContext=d.contexts;let f="";if(d.node.op==="Enter"&&L("isConstant",d.node,a,r)&&([f]=dl(d.node.name,r)),a[d.node.name]==null){const p=cO(d.node,a,r,this._resourceManager);f||([f]=dl(d.node.name,r));const m=r.currentContext;ip(p)?c.push(p.then(g=>(a[f]=g,r.currentContext=m,this.checkTensorForDisposal(f,d.node,a,r,s,o,l),this.processChildNodes(d.node,n,r,a,i,u),g))):(a[f]=p,this.checkTensorForDisposal(f,d.node,a,r,s,o,l),this.processChildNodes(d.node,n,r,a,i,u))}else this.processChildNodes(d.node,n,r,a,i,u)}return c}processChildNodes(e,n,r,a,i,s){e.children.forEach(o=>{const[l]=dl(o.name,r);i[l]||!s.has(o.name)||(o.op==="Merge"?o.inputNames.some(u=>!!Qa(u,a,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})):o.inputNames.every(u=>!!Qa(u,a,r))&&(i[l]=!0,n.push({contexts:r.currentContext,node:o})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[a]=Fi(n),i=this.graph.nodes[a];if(i.attrParams.shape&&i.attrParams.shape.value){const s=i.attrParams.shape.value,o=s.length===r.shape.length&&r.shape.every((l,u)=>s[u]===-1||s[u]===l);V(o,()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${s}], but was [${r.shape}]`)}i.attrParams.dtype&&i.attrParams.dtype.value&&V(r.dtype===i.attrParams.dtype.value,()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){const n={};for(const r in e)if(this._signature!=null&&this._signature.inputs!=null&&this._signature.inputs[r]!=null){const a=this._signature.inputs[r];n[a.name]=e[r]}else n[r]=e[r];return n}checkInputs(e){const n=Object.keys(e).filter(r=>{const[a]=Fi(r);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>this._signature!=null&&this._signature.outputs!=null&&this._signature.outputs[n]!=null?this._signature.outputs[n].name:n,{})}checkOutputs(e){e.forEach(n=>{const[r]=Fi(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class aPe{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iPe="?tfjs-format=file",sPe="model.json";class oPe{constructor(e,n={},r=TV){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new aPe}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return ip(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const i=this.artifacts.userDefinedMetadata;i.signature!=null&&(r=i.signature),i.structuredOutputKeys!=null&&(this.structuredOutputKeys=i.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new $b(sO.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const i=sO.Instance.transformGraph(e.modelInitializer);this.initializer=new $b(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,n){const r=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){const a=r instanceof en?[r]:r,i={};return a.forEach((s,o)=>i[this.structuredOutputKeys[o]]=s),i}return r}normalizeInputs(e){if(!(e instanceof en)&&!Array.isArray(e))return e;if(e=Array.isArray(e)?e:[e],e.length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((n,r,a)=>(n[r]=e[a],n),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function Dc(t,e={},n=TV){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=lPe(t));const r=new oPe(t,e,n);return await r.load(),r}function lPe(t){return t.endsWith("/")||(t=t+"/"),`${t}${sPe}${iPe}`}/**
    * @license
    * Copyright 2022 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var Mo=function(){return Mo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Mo.apply(this,arguments)};function Ql(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(u){try{l(r.next(u))}catch(c){i(c)}}function o(u){try{l(r.throw(u))}catch(c){i(c)}}function l(u){var c;u.done?a(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,o)}l((r=r.apply(t,e||[])).next())})}function Zl(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!((a=a.length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(c[0]===6&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function Nu(t){var e=t.map(function(n){return n[0]});return e.push(t[t.length-1][1]),e}var RY={lips:Nu([[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]]),leftEye:Nu([[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]]),leftEyebrow:Nu([[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]]),leftIris:Nu([[474,475],[475,476],[476,477],[477,474]]),rightEye:Nu([[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]]),rightEyebrow:Nu([[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]]),rightIris:Nu([[469,470],[470,471],[471,472],[472,469]]),faceOval:Nu([[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]])},uPe=[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]],cPe=Object.entries(RY).map(function(t){var e=t[0];return t[1].map(function(n){return[n,e]})}).flat(),$Y=new Map(cPe);function n5(t){for(var e={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=0;s<t.length;++s){var o=t[s];n=Math.min(n,o.x),r=Math.max(r,o.x),a=Math.min(a,o.y),i=Math.max(i,o.y),e.locationData.relativeKeypoints.push({x:o.x,y:o.y})}return e.locationData.relativeBoundingBox={xMin:n,yMin:a,xMax:r,yMax:i,width:r-n,height:i-a},e}var t_={runtime:"mediapipe",maxFaces:1,refineLandmarks:!1},dPe=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceMeshSolution=new wye({locateFile:function(r,a){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+r:a+"/"+r}}),this.faceMeshSolution.setOptions({refineLandmarks:e.refineLandmarks,selfieMode:this.selfieMode,maxNumFaces:e.maxFaces}),this.faceMeshSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.multiFaceLandmarks!==null)for(var a=r.multiFaceLandmarks,i=0;i<a.length;i++){var s=n.translateOutput(a[i]);n.faces.push({keypoints:s,box:n5(s).locationData.relativeBoundingBox})}})}return t.prototype.translateOutput=function(e){var n=this;return e.map(function(r,a){var i={x:r.x*n.width,y:r.y*n.height,z:r.z*n.width},s=$Y.get(a);return s!=null&&(i.name=s),i})},t.prototype.estimateFaces=function(e,n){return Ql(this,void 0,void 0,function(){var r,a;return Zl(this,function(i){switch(i.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceMeshSolution.setOptions({selfieMode:this.selfieMode})),e instanceof en?(a=ImageData.bind,[4,T0(e)]):[3,2];case 1:return r=new(a.apply(ImageData,[void 0,i.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,i.label=3;case 3:return e=r,[4,this.faceMeshSolution.send({image:e})];case 4:return i.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceMeshSolution.close()},t.prototype.reset=function(){this.faceMeshSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceMeshSolution.initialize()},t}();function hPe(t){return Ql(this,void 0,void 0,function(){var e,n;return Zl(this,function(r){switch(r.label){case 0:return e=function(a){if(a==null)return Mo({},t_);var i=Mo({},a);return i.runtime="mediapipe",i.maxFaces==null&&(i.maxFaces=t_.maxFaces),i.refineLandmarks==null&&(i.refineLandmarks=t_.refineLandmarks),i}(t),[4,(n=new dPe(e)).initialize()];case 1:return r.sent(),[2,n]}})})}var n_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fPe={};(function(){var t;function e(N){var F=0;return function(){return F<N.length?{done:!1,value:N[F++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(N,F,B){return N==Array.prototype||N==Object.prototype||(N[F]=B.value),N},r=function(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof n_=="object"&&n_];for(var F=0;F<N.length;++F){var B=N[F];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}(this);function a(N,F){if(F)e:{var B=r;N=N.split(".");for(var j=0;j<N.length-1;j++){var Z=N[j];if(!(Z in B))break e;B=B[Z]}(F=F(j=B[N=N[N.length-1]]))!=j&&F!=null&&n(B,N,{configurable:!0,writable:!0,value:F})}}function i(N){return(N={next:N})[Symbol.iterator]=function(){return this},N}function s(N){var F=typeof Symbol<"u"&&Symbol.iterator&&N[Symbol.iterator];return F?F.call(N):{next:e(N)}}function o(N){if(!(N instanceof Array)){N=s(N);for(var F,B=[];!(F=N.next()).done;)B.push(F.value);N=B}return N}a("Symbol",function(N){function F(Z,Y){this.g=Z,n(this,"description",{configurable:!0,writable:!0,value:Y})}if(N)return N;F.prototype.toString=function(){return this.g};var B="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",j=0;return function Z(Y){if(this instanceof Z)throw new TypeError("Symbol is not a constructor");return new F(B+(Y||"")+"_"+j++,Y)}}),a("Symbol.iterator",function(N){if(N)return N;N=Symbol("Symbol.iterator");for(var F="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),B=0;B<F.length;B++){var j=r[F[B]];typeof j=="function"&&typeof j.prototype[N]!="function"&&n(j.prototype,N,{configurable:!0,writable:!0,value:function(){return i(e(this))}})}return N});var l,u=typeof Object.create=="function"?Object.create:function(N){function F(){}return F.prototype=N,new F};if(typeof Object.setPrototypeOf=="function")l=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch{}c=!1}l=c?function(N,F){if(N.__proto__=F,N.__proto__!==F)throw new TypeError(N+" is not extensible");return N}:null}var f=l;function p(N,F){if(N.prototype=u(F.prototype),N.prototype.constructor=N,f)f(N,F);else for(var B in F)if(B!="prototype")if(Object.defineProperties){var j=Object.getOwnPropertyDescriptor(F,B);j&&Object.defineProperty(N,B,j)}else N[B]=F[B];N.na=F.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function g(N){if(N.l)throw new TypeError("Generator is already running");N.l=!0}function v(N,F){N.j={da:F,ea:!0},N.g=N.o||N.u}function y(N,F,B){return N.g=B,{value:F}}function b(N){this.g=new m,this.h=N}function w(N,F,B,j){try{var Z=F.call(N.g.i,B);if(!(Z instanceof Object))throw new TypeError("Iterator result "+Z+" is not an object");if(!Z.done)return N.g.l=!1,Z;var Y=Z.value}catch(J){return N.g.i=null,v(N.g,J),x(N)}return N.g.i=null,j.call(N.g,Y),x(N)}function x(N){for(;N.g.g;)try{var F=N.h(N.g);if(F)return N.g.l=!1,{value:F.value,done:!1}}catch(B){N.g.h=void 0,v(N.g,B)}if(N.g.l=!1,N.g.j){if(F=N.g.j,N.g.j=null,F.ea)throw F.da;return{value:F.return,done:!0}}return{value:void 0,done:!0}}function k(N){this.next=function(F){return g(N.g),N.g.i?F=w(N,N.g.i.next,F,N.g.s):(N.g.s(F),F=x(N)),F},this.throw=function(F){return g(N.g),N.g.i?F=w(N,N.g.i.throw,F,N.g.s):(v(N.g,F),F=x(N)),F},this.return=function(F){return function(B,j){g(B.g);var Z=B.g.i;return Z?w(B,"return"in Z?Z.return:function(Y){return{value:Y,done:!0}},j,B.g.return):(B.g.return(j),x(B))}(N,F)},this[Symbol.iterator]=function(){return this}}function S(N){return function(F){function B(Z){return F.next(Z)}function j(Z){return F.throw(Z)}return new Promise(function(Z,Y){(function J(oe){oe.done?Z(oe.value):Promise.resolve(oe.value).then(B,j).then(J,Y)})(F.next())})}(new k(new b(N)))}m.prototype.s=function(N){this.h=N},m.prototype.return=function(N){this.j={return:N},this.g=this.u},a("Promise",function(N){function F(J){this.h=0,this.i=void 0,this.g=[],this.s=!1;var oe=this.j();try{J(oe.resolve,oe.reject)}catch(Se){oe.reject(Se)}}function B(){this.g=null}function j(J){return J instanceof F?J:new F(function(oe){oe(J)})}if(N)return N;B.prototype.h=function(J){if(this.g==null){this.g=[];var oe=this;this.i(function(){oe.l()})}this.g.push(J)};var Z=r.setTimeout;B.prototype.i=function(J){Z(J,0)},B.prototype.l=function(){for(;this.g&&this.g.length;){var J=this.g;this.g=[];for(var oe=0;oe<J.length;++oe){var Se=J[oe];J[oe]=null;try{Se()}catch($e){this.j($e)}}}this.g=null},B.prototype.j=function(J){this.i(function(){throw J})},F.prototype.j=function(){function J($e){return function(Be){Se||(Se=!0,$e.call(oe,Be))}}var oe=this,Se=!1;return{resolve:J(this.D),reject:J(this.l)}},F.prototype.D=function(J){if(J===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(J instanceof F)this.H(J);else{e:switch(typeof J){case"object":var oe=J!=null;break e;case"function":oe=!0;break e;default:oe=!1}oe?this.A(J):this.o(J)}},F.prototype.A=function(J){var oe=void 0;try{oe=J.then}catch(Se){return void this.l(Se)}typeof oe=="function"?this.I(oe,J):this.o(J)},F.prototype.l=function(J){this.u(2,J)},F.prototype.o=function(J){this.u(1,J)},F.prototype.u=function(J,oe){if(this.h!=0)throw Error("Cannot settle("+J+", "+oe+"): Promise already settled in state"+this.h);this.h=J,this.i=oe,this.h===2&&this.G(),this.B()},F.prototype.G=function(){var J=this;Z(function(){if(J.C()){var oe=r.console;oe!==void 0&&oe.error(J.i)}},1)},F.prototype.C=function(){if(this.s)return!1;var J=r.CustomEvent,oe=r.Event,Se=r.dispatchEvent;return Se===void 0||(typeof J=="function"?J=new J("unhandledrejection",{cancelable:!0}):typeof oe=="function"?J=new oe("unhandledrejection",{cancelable:!0}):(J=r.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,J),J.promise=this,J.reason=this.i,Se(J))},F.prototype.B=function(){if(this.g!=null){for(var J=0;J<this.g.length;++J)Y.h(this.g[J]);this.g=null}};var Y=new B;return F.prototype.H=function(J){var oe=this.j();J.M(oe.resolve,oe.reject)},F.prototype.I=function(J,oe){var Se=this.j();try{J.call(oe,Se.resolve,Se.reject)}catch($e){Se.reject($e)}},F.prototype.then=function(J,oe){function Se(et,ot){return typeof et=="function"?function(Ot){try{$e(et(Ot))}catch(Wt){Be(Wt)}}:ot}var $e,Be,Ze=new F(function(et,ot){$e=et,Be=ot});return this.M(Se(J,$e),Se(oe,Be)),Ze},F.prototype.catch=function(J){return this.then(void 0,J)},F.prototype.M=function(J,oe){function Se(){switch($e.h){case 1:J($e.i);break;case 2:oe($e.i);break;default:throw Error("Unexpected state: "+$e.h)}}var $e=this;this.g==null?Y.h(Se):this.g.push(Se),this.s=!0},F.resolve=j,F.reject=function(J){return new F(function(oe,Se){Se(J)})},F.race=function(J){return new F(function(oe,Se){for(var $e=s(J),Be=$e.next();!Be.done;Be=$e.next())j(Be.value).M(oe,Se)})},F.all=function(J){var oe=s(J),Se=oe.next();return Se.done?j([]):new F(function($e,Be){function Ze(Ot){return function(Wt){et[Ot]=Wt,--ot==0&&$e(et)}}var et=[],ot=0;do et.push(void 0),ot++,j(Se.value).M(Ze(et.length-1),Be),Se=oe.next();while(!Se.done)})},F});var E=typeof Object.assign=="function"?Object.assign:function(N,F){for(var B=1;B<arguments.length;B++){var j=arguments[B];if(j)for(var Z in j)Object.prototype.hasOwnProperty.call(j,Z)&&(N[Z]=j[Z])}return N};a("Object.assign",function(N){return N||E}),a("Object.is",function(N){return N||function(F,B){return F===B?F!==0||1/F==1/B:F!=F&&B!=B}}),a("Array.prototype.includes",function(N){return N||function(F,B){var j=this;j instanceof String&&(j=String(j));var Z=j.length;for(0>(B=B||0)&&(B=Math.max(B+Z,0));B<Z;B++){var Y=j[B];if(Y===F||Object.is(Y,F))return!0}return!1}}),a("String.prototype.includes",function(N){return N||function(F,B){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(F instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(F,B||0)!==-1}}),a("Array.prototype.keys",function(N){return N||function(){return function(F,B){F instanceof String&&(F+="");var j=0,Z=!1,Y={next:function(){if(!Z&&j<F.length){var J=j++;return{value:B(J,F[J]),done:!1}}return Z=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}(this,function(F){return F})}});var I=this||self;function C(N,F){N=N.split(".");var B,j=I;for((N[0]in j)||j.execScript===void 0||j.execScript("var "+N[0]);N.length&&(B=N.shift());)N.length||F===void 0?j=j[B]&&j[B]!==Object.prototype[B]?j[B]:j[B]={}:j[B]=F}function R(){throw Error("Invalid UTF8")}function z(N,F){return F=String.fromCharCode.apply(null,F),N==null?F:N+F}var H,U,q=typeof TextDecoder<"u",Q=typeof TextEncoder<"u",re={},he=null;function ae(N){var F;F===void 0&&(F=0),X(),F=re[F];for(var B=Array(Math.floor(N.length/3)),j=F[64]||"",Z=0,Y=0;Z<N.length-2;Z+=3){var J=N[Z],oe=N[Z+1],Se=N[Z+2],$e=F[J>>2];J=F[(3&J)<<4|oe>>4],oe=F[(15&oe)<<2|Se>>6],Se=F[63&Se],B[Y++]=$e+J+oe+Se}switch($e=0,Se=j,N.length-Z){case 2:Se=F[(15&($e=N[Z+1]))<<2]||j;case 1:N=N[Z],B[Y]=F[N>>2]+F[(3&N)<<4|$e>>4]+Se+j}return B.join("")}function se(N){var F=N.length,B=3*F/4;B%3?B=Math.floor(B):"=.".indexOf(N[F-1])!=-1&&(B="=.".indexOf(N[F-2])!=-1?B-2:B-1);var j=new Uint8Array(B),Z=0;return function(Y,J){function oe(ot){for(;Se<Y.length;){var Ot=Y.charAt(Se++),Wt=he[Ot];if(Wt!=null)return Wt;if(!/^[\s\xa0]*$/.test(Ot))throw Error("Unknown base64 encoding at char: "+Ot)}return ot}X();for(var Se=0;;){var $e=oe(-1),Be=oe(0),Ze=oe(64),et=oe(64);if(et===64&&$e===-1)break;J($e<<2|Be>>4),Ze!=64&&(J(Be<<4&240|Ze>>2),et!=64&&J(Ze<<6&192|et))}}(N,function(Y){j[Z++]=Y}),Z!==B?j.subarray(0,Z):j}function X(){if(!he){he={};for(var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),F=["+/=","+/","-_=","-_.","-_"],B=0;5>B;B++){var j=N.concat(F[B].split(""));re[B]=j;for(var Z=0;Z<j.length;Z++){var Y=j[Z];he[Y]===void 0&&(he[Y]=Z)}}}}var ne,ke=typeof Uint8Array=="function";function Oe(N){return ke&&N!=null&&N instanceof Uint8Array}function We(N){if(this.L=N,N!==null&&N.length===0)throw Error("ByteString should be constructed with non-empty values")}var ze=typeof Uint8Array.prototype.slice=="function",be=0;function Ie(N,F){return Error("Invalid wire type: "+N+" (at position "+F+")")}function Le(){return Error("Failed to read varint, encoding is invalid.")}function Ge(N,F){F=(F=F===void 0?{}:F).v!==void 0&&F.v,this.h=null,this.g=this.i=this.j=0,this.v=F,N&&at(this,N)}function at(N,F){N.h=function(B,j){if(B.constructor===Uint8Array)return B;if(B.constructor===ArrayBuffer)return new Uint8Array(B);if(B.constructor===Array)return new Uint8Array(B);if(B.constructor===String)return se(B);if(B.constructor===We)return!j&&(j=B.L)&&j.constructor===Uint8Array?j:(j=(j=B.L)==null||Oe(j)?j:typeof j=="string"?se(j):null,(B=B.L=j)?new Uint8Array(B):ne||(ne=new Uint8Array(0)));if(B instanceof Uint8Array)return new Uint8Array(B.buffer,B.byteOffset,B.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}(F,N.v),N.j=0,N.i=N.h.length,N.g=N.j}function pe(N){if(N.g>N.i)throw Error("Tried to read past the end of the data "+N.g+" > "+N.i)}function de(N){var F=N.h,B=F[N.g],j=127&B;if(128>B)return N.g+=1,pe(N),j;if(j|=(127&(B=F[N.g+1]))<<7,128>B)return N.g+=2,pe(N),j;if(j|=(127&(B=F[N.g+2]))<<14,128>B)return N.g+=3,pe(N),j;if(j|=(127&(B=F[N.g+3]))<<21,128>B)return N.g+=4,pe(N),j;if(B=F[N.g+4],N.g+=5,j|=(15&B)<<28,128>B)return pe(N),j;if(128<=F[N.g++]&&128<=F[N.g++]&&128<=F[N.g++]&&128<=F[N.g++]&&128<=F[N.g++])throw Le();return pe(N),j}Ge.prototype.reset=function(){this.g=this.j};var De=[];function nt(){this.g=[]}function Et(N,F){for(;127<F;)N.g.push(127&F|128),F>>>=7;N.g.push(F)}function $t(N){var F={},B=F.W!==void 0&&F.W;this.l={v:F.v!==void 0&&F.v},this.W=B,F=this.l,De.length?(B=De.pop(),F&&(B.v=F.v),N&&at(B,N),N=B):N=new Ge(N,F),this.g=N,this.j=this.g.g,this.h=this.i=-1}function yn(N){var F=N.g;if(F.g==F.i)return!1;N.j=N.g.g;var B=de(N.g)>>>0;if(F=B>>>3,!(0<=(B&=7)&&5>=B))throw Ie(B,N.j);if(1>F)throw Error("Invalid field number: "+F+" (at position "+N.j+")");return N.i=F,N.h=B,!0}function sr(N){switch(N.h){case 0:if(N.h!=0)sr(N);else e:{for(var F=(N=N.g).g,B=F+10;F<B;)if(!(128&N.h[F++])){N.g=F,pe(N);break e}throw Le()}break;case 1:(N=N.g).g+=8,pe(N);break;case 2:N.h!=2?sr(N):(F=de(N.g)>>>0,(N=N.g).g+=F,pe(N));break;case 5:(N=N.g).g+=4,pe(N);break;case 3:for(F=N.i;;){if(!yn(N))throw Error("Unmatched start-group tag: stream EOF");if(N.h==4){if(N.i!=F)throw Error("Unmatched end-group tag");break}sr(N)}break;default:throw Ie(N.h,N.j)}}nt.prototype.length=function(){return this.g.length},nt.prototype.end=function(){var N=this.g;return this.g=[],N},$t.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};var Ar=[];function za(){this.i=[],this.h=0,this.g=new nt}function or(N,F){F.length!==0&&(N.i.push(F),N.h+=F.length)}var Ai=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function li(N,F){Object.isFrozen(N)||(Ai?N[Ai]|=F:N.N!==void 0?N.N|=F:Object.defineProperties(N,{N:{value:F,configurable:!0,writable:!0,enumerable:!1}}))}function Qr(N){var F;return(F=Ai?N[Ai]:N.N)==null?0:F}function Mr(N){return li(N,1),N}function Pn(N){return!!Array.isArray(N)&&!!(2&Qr(N))}function ns(N){if(!Array.isArray(N))throw Error("cannot mark non-array as immutable");li(N,2)}function Br(N){return N!==null&&typeof N=="object"&&!Array.isArray(N)&&N.constructor===Object}var Di=Object.freeze(Mr([]));function tl(N){if(Pn(N.m))throw Error("Cannot mutate an immutable Message")}var Os,ui=typeof Symbol<"u"&&Symbol.hasInstance!==void 0;function Ea(N){return{value:N,configurable:!1,writable:!1,enumerable:!1}}function Qt(N,F,B){return F===-1?null:F>=N.i?N.g?N.g[F]:void 0:B!==void 0&&B&&N.g&&(B=N.g[F])!=null?B:N.m[F+N.h]}function vn(N,F,B,j){j=j!==void 0&&j,tl(N),F<N.i&&!j?N.m[F+N.h]=B:(N.g||(N.g=N.m[N.i+N.h]={}))[F]=B}function Dn(N,F,B,j){B=B===void 0||B;var Z=Qt(N,F,j=j!==void 0&&j);return Z==null&&(Z=Di),Pn(N.m)?B&&(ns(Z),Object.freeze(Z)):(Z===Di||Pn(Z))&&vn(N,F,Z=Mr(Z.slice()),j),Z}function Gt(N,F,B){return(N=(N=Qt(N,F))==null?N:+N)==null?B===void 0?0:B:N}function ca(N,F,B,j){N.j||(N.j={});var Z=Pn(N.m),Y=N.j[B];if(!Y){j=Dn(N,B,!0,j!==void 0&&j),Y=[],Z=Z||Pn(j);for(var J=0;J<j.length;J++)Y[J]=new F(j[J]),Z&&ns(Y[J].m);Z&&(ns(Y),Object.freeze(Y)),N.j[B]=Y}return Y}function Ht(N,F,B,j,Z){var Y=Y!==void 0&&Y;return tl(N),Y=ca(N,B,F,Y),B=j||new B,N=Dn(N,F),Z!=null?(Y.splice(Z,0,B),N.splice(Z,0,B.m)):(Y.push(B),N.push(B.m)),B}function qt(N,F){return(N=Qt(N,F))==null?0:N}function Rn(N,F){return(N=Qt(N,F))==null?"":N}function zr(N){var F=mo;return Lt(N,F=F===void 0?rs:F)}function Sr(N,F){if(N!=null){if(Array.isArray(N))N=Lt(N,F);else if(Br(N)){var B,j={};for(B in N)j[B]=Sr(N[B],F);N=j}else N=F(N);return N}}function Lt(N,F){for(var B=N.slice(),j=0;j<B.length;j++)B[j]=Sr(B[j],F);return Array.isArray(N)&&1&Qr(N)&&Mr(B),B}function mo(N){return N&&typeof N=="object"&&N.toJSON?N.toJSON():(N=function(F){switch(typeof F){case"number":return isFinite(F)?F:String(F);case"object":if(F&&!Array.isArray(F)){if(Oe(F))return ae(F);if(F instanceof We){var B=F.L;return B=B==null||typeof B=="string"?B:ke&&B instanceof Uint8Array?ae(B):null,(F.L=B)||""}}}return F}(N),Array.isArray(N)?zr(N):N)}function rs(N){return Oe(N)?new Uint8Array(N):N}function Ua(N,F,B){N||(N=Os),Os=null;var j=this.constructor.h;if(N||(N=j?[j]:[]),this.h=(j?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=N,N=(j=this.m.length)-1,j&&Br(j=this.m[N])?(this.i=N-this.h,this.g=j):F!==void 0&&-1<F?(this.i=Math.max(F,N+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE,B)for(F=0;F<B.length;F++)if((N=B[F])<this.i)N+=this.h,(j=this.m[N])?Array.isArray(j)&&Mr(j):this.m[N]=Di;else{var Z=(j=this.g||(this.g=this.m[this.i+this.h]={}))[N];Z?Array.isArray(Z)&&Mr(Z):j[N]=Di}}function jn(){Ua.apply(this,arguments)}if(Ua.prototype.toJSON=function(){return zr(this.m)},Ua.prototype.toString=function(){return this.m.toString()},p(jn,Ua),ui){var Dr={};Object.defineProperties(jn,(Dr[Symbol.hasInstance]=Ea(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),Dr))}function Ls(N,F,B){if(B){var j,Z={};for(j in B){var Y=B[j],J=Y.ha;J||(Z.F=Y.la||Y.fa.P,Y.aa?(Z.U=as(Y.aa),J=function(oe){return function(Se,$e,Be){return oe.F(Se,$e,Be,oe.U)}}(Z)):Y.ca?(Z.T=Jr(Y.X.g,Y.ca),J=function(oe){return function(Se,$e,Be){return oe.F(Se,$e,Be,oe.T)}}(Z)):J=Z.F,Y.ha=J),J(F,N,Y.X),Z={F:Z.F,U:Z.U,T:Z.T}}}(function(oe,Se){if(Se=Se.ba){or(oe,oe.g.end());for(var $e=0;$e<Se.length;$e++)or(oe,Se[$e])}})(F,N)}var Zr=Symbol();function Ur(N,F,B){return N[Zr]||(N[Zr]=function(j,Z){return F(j,Z,B)})}function Ri(N){var F=N[Zr];if(!F){var B=ea(N);F=function(j,Z){return Wn(j,Z,B)},N[Zr]=F}return F}function wu(N){var F=function(Z){var Y=Z.aa;return Y?Ri(Y):(Y=Z.ka)?Ur(Z.X.g,Y,Z.ca):void 0}(N),B=N.X,j=N.fa.O;return F?function(Z,Y){return j(Z,Y,B,F)}:function(Z,Y){return j(Z,Y,B)}}function lr(N,F,B,j,Z,Y){var J=0;for((N=N()).length&&typeof N[0]!="number"&&(B(F,N[0]),J++);J<N.length;){B=N[J++];for(var oe=J+1;oe<N.length&&typeof N[oe]!="number";)oe++;var Se=N[J++];switch(oe-=J){case 0:j(F,B,Se);break;case 1:j(F,B,Se,N[J++]);break;case 2:Z(F,B,Se,N[J++],N[J++]);break;case 3:oe=N[J++];var $e=N[J++],Be=N[J++];Array.isArray(Be)?Z(F,B,Se,oe,$e,Be):Y(F,B,Se,oe,$e,Be);break;case 4:Y(F,B,Se,N[J++],N[J++],N[J++],N[J++]);break;default:throw Error("unexpected number of binary field arguments: "+oe)}}return F}var $i=Symbol();function as(N){var F=N[$i];if(!F){var B=_t(N);F=function(j,Z){return ci(j,Z,B)},N[$i]=F}return F}function Jr(N,F){var B=N[$i];return B||(B=function(j,Z){return Ls(j,Z,F)},N[$i]=B),B}var Fl=Symbol();function is(N,F){N.push(F)}function nl(N,F,B){N.push(F,B.P)}function go(N,F,B,j,Z){var Y=as(Z),J=B.P;N.push(F,function(oe,Se,$e){return J(oe,Se,$e,j,Y)})}function Pl(N,F,B,j,Z,Y){var J=Jr(j,Y),oe=B.P;N.push(F,function(Se,$e,Be){return oe(Se,$e,Be,j,J)})}function _t(N){var F=N[Fl];return F||lr(N,N[Fl]=[],is,nl,go,Pl)}var ye=Symbol();function Ve(N,F){N[0]=F}function st(N,F,B,j){var Z=B.O;N[F]=j?function(Y,J,oe){return Z(Y,J,oe,j)}:Z}function an(N,F,B,j,Z,Y){var J=B.O,oe=Ri(Z);N[F]=function(Se,$e,Be){return J(Se,$e,Be,j,oe,Y)}}function Vn(N,F,B,j,Z,Y,J){var oe=B.O,Se=Ur(j,Z,Y);N[F]=function($e,Be,Ze){return oe($e,Be,Ze,j,Se,J)}}function ea(N){var F=N[ye];return F||lr(N,N[ye]={},Ve,st,an,Vn)}function Wn(N,F,B){for(;yn(F)&&F.h!=4;){var j=F.i,Z=B[j];if(!Z){var Y=B[0];Y&&(Y=Y[j])&&(Z=B[j]=wu(Y))}if(!(Z&&Z(F,N,j)||(Z=F,j=N,Y=Z.j,sr(Z),Z.W))){var J=Z.g.h;Z=Y===(Z=Z.g.g)?ne||(ne=new Uint8Array(0)):ze?J.slice(Y,Z):new Uint8Array(J.subarray(Y,Z)),(Y=j.ba)?Y.push(Z):j.ba=[Z]}}return N}function Rr(N,F,B){if(Ar.length){var j=Ar.pop();N&&(at(j.g,N),j.i=-1,j.h=-1),N=j}else N=new $t(N);try{return Wn(new F,N,ea(B))}finally{(F=N.g).h=null,F.j=0,F.i=0,F.g=0,F.v=!1,N.i=-1,N.h=-1,100>Ar.length&&Ar.push(N)}}function ci(N,F,B){for(var j=B.length,Z=j%2==1,Y=Z?1:0;Y<j;Y+=2)(0,B[Y+1])(F,N,B[Y]);Ls(N,F,Z?B[0]:void 0)}function ss(N,F){var B=new za;ci(N,B,_t(F)),or(B,B.g.end()),N=new Uint8Array(B.h);for(var j=(F=B.i).length,Z=0,Y=0;Y<j;Y++){var J=F[Y];N.set(J,Z),Z+=J.length}return B.i=[N],N}function os(N,F){return{O:N,P:F}}var ta=os(function(N,F,B){if(N.h!==5)return!1;var j=(N=N.g).h[N.g],Z=N.h[N.g+1],Y=N.h[N.g+2],J=N.h[N.g+3];return N.g+=4,pe(N),N=2*((Z=(j<<0|Z<<8|Y<<16|J<<24)>>>0)>>31)+1,j=Z>>>23&255,Z&=8388607,vn(F,B,j==255?Z?NaN:1/0*N:j==0?N*Math.pow(2,-149)*Z:N*Math.pow(2,j-150)*(Z+Math.pow(2,23))),!0},function(N,F,B){if((F=Qt(F,B))!=null){Et(N.g,8*B+5),N=N.g;var j=F;(j=(B=0>j?1:0)?-j:j)===0?0<1/j?be=0:be=2147483648:isNaN(j)?be=2147483647:34028234663852886e22<j?be=(B<<31|2139095040)>>>0:11754943508222875e-54>j?(j=Math.round(j/Math.pow(2,-149)),be=(B<<31|j)>>>0):(F=Math.floor(Math.log(j)/Math.LN2),j*=Math.pow(2,-F),16777216<=(j=Math.round(8388608*j))&&++F,be=(B<<31|F+127<<23|8388607&j)>>>0),B=be,N.g.push(B>>>0&255),N.g.push(B>>>8&255),N.g.push(B>>>16&255),N.g.push(B>>>24&255)}}),jp=os(function(N,F,B){if(N.h!==0)return!1;for(var j=N.g,Z=128,Y=0,J=N=0;4>J&&128<=Z;J++)Z=j.h[j.g++],pe(j),Y|=(127&Z)<<7*J;if(128<=Z&&(Z=j.h[j.g++],pe(j),Y|=(127&Z)<<28,N|=(127&Z)>>4),128<=Z)for(J=0;5>J&&128<=Z;J++)Z=j.h[j.g++],pe(j),N|=(127&Z)<<7*J+3;if(!(128>Z))throw Le();return j=Y>>>0,(N=2147483648&(Z=N>>>0))&&(Z=~Z>>>0,(j=1+~j>>>0)==0&&(Z=Z+1>>>0)),j=4294967296*Z+(j>>>0),vn(F,B,N?-j:j),!0},function(N,F,B){if((F=Qt(F,B))!=null&&F!=null){Et(N.g,8*B),N=N.g;var j=F;for(B=0>j,F=(j=Math.abs(j))>>>0,j=Math.floor((j-F)/4294967296),j>>>=0,B&&(j=~j>>>0,4294967295<(F=1+(~F>>>0))&&(F=0,4294967295<++j&&(j=0))),B=be=F,F=j;0<F||127<B;)N.g.push(127&B|128),B=(B>>>7|F<<25)>>>0,F>>>=7;N.g.push(B)}}),Vp=os(function(N,F,B){return N.h===0&&(vn(F,B,de(N.g)),!0)},function(N,F,B){if((F=Qt(F,B))!=null&&F!=null)if(Et(N.g,8*B),N=N.g,0<=(B=F))Et(N,B);else{for(F=0;9>F;F++)N.g.push(127&B|128),B>>=7;N.g.push(1)}}),Sh=os(function(N,F,B){if(N.h!==2)return!1;var j,Z=de(N.g)>>>0,Y=(N=N.g).g;if(N.g+=Z,pe(N),N=N.h,q)(j=H)||(j=H=new TextDecoder("utf-8",{fatal:!0})),j=j.decode(N.subarray(Y,Y+Z));else{Z=Y+Z;for(var J,oe,Se,$e=[],Be=null;Y<Z;)128>(J=N[Y++])?$e.push(J):224>J?Y>=Z?R():(oe=N[Y++],194>J||(192&oe)!=128?(Y--,R()):$e.push((31&J)<<6|63&oe)):240>J?Y>=Z-1?R():(192&(oe=N[Y++]))!=128||J===224&&160>oe||J===237&&160<=oe||(192&(j=N[Y++]))!=128?(Y--,R()):$e.push((15&J)<<12|(63&oe)<<6|63&j):244>=J?Y>=Z-2?R():(192&(oe=N[Y++]))!=128||oe-144+(J<<28)>>30||(192&(j=N[Y++]))!=128||(192&(Se=N[Y++]))!=128?(Y--,R()):(J=(7&J)<<18|(63&oe)<<12|(63&j)<<6|63&Se,J-=65536,$e.push(55296+(J>>10&1023),56320+(1023&J))):R(),8192<=$e.length&&(Be=z(Be,$e),$e.length=0);j=z(Be,$e)}return vn(F,B,j),!0},function(N,F,B){if((F=Qt(F,B))!=null){var j=!1;if(j=j!==void 0&&j,Q){if(j&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(F))throw Error("Found an unpaired surrogate");F=(U||(U=new TextEncoder)).encode(F)}else{for(var Z=0,Y=new Uint8Array(3*F.length),J=0;J<F.length;J++){var oe=F.charCodeAt(J);if(128>oe)Y[Z++]=oe;else{if(2048>oe)Y[Z++]=oe>>6|192;else{if(55296<=oe&&57343>=oe){if(56319>=oe&&J<F.length){var Se=F.charCodeAt(++J);if(56320<=Se&&57343>=Se){oe=1024*(oe-55296)+Se-56320+65536,Y[Z++]=oe>>18|240,Y[Z++]=oe>>12&63|128,Y[Z++]=oe>>6&63|128,Y[Z++]=63&oe|128;continue}J--}if(j)throw Error("Found an unpaired surrogate");oe=65533}Y[Z++]=oe>>12|224,Y[Z++]=oe>>6&63|128}Y[Z++]=63&oe|128}}F=Y.subarray(0,Z)}Et(N.g,8*B+2),Et(N.g,F.length),or(N,N.g.end()),or(N,F)}}),xu=os(function(N,F,B,j,Z){if(N.h!==2)return!1;F=Ht(F,B,j),B=N.g.i,j=de(N.g)>>>0;var Y=N.g.g+j,J=Y-B;if(0>=J&&(N.g.i=Y,Z(F,N),J=Y-N.g.g),J)throw Error("Message parsing ended unexpectedly. Expected to read "+j+" bytes, instead read "+(j-J)+" bytes, either the data ended unexpectedly or the message misreported its own length");return N.g.g=Y,N.g.i=B,!0},function(N,F,B,j,Z){if((F=ca(F,j,B))!=null)for(j=0;j<F.length;j++){var Y=N;Et(Y.g,8*B+2);var J=Y.g.end();or(Y,J),J.push(Y.h),Y=J,Z(F[j],N),J=N;var oe=Y.pop();for(oe=J.h+J.g.length()-oe;127<oe;)Y.push(127&oe|128),oe>>>=7,J.h++;Y.push(oe),J.h++}});function Ta(){jn.apply(this,arguments)}if(p(Ta,jn),ui){var A={};Object.defineProperties(Ta,(A[Symbol.hasInstance]=Ea(Object[Symbol.hasInstance]),A))}function P(N){Ta.call(this,N)}function M(){return[1,Vp,2,ta,3,Sh,4,Sh]}function te(N){Ta.call(this,N,-1,Fe)}function ve(){return[1,xu,P,M]}p(P,Ta),p(te,Ta),te.prototype.addClassification=function(N,F){return Ht(this,1,P,N,F),this};var Fe=[1];function _e(N){Ta.call(this,N)}function Re(){return[1,ta,2,ta,3,ta,4,ta,5,ta]}function He(N){Ta.call(this,N,-1,At)}function ut(){return[1,xu,_e,Re]}p(_e,Ta),p(He,Ta);var At=[1];function Zt(N){Ta.call(this,N)}function Mt(){return[1,ta,2,ta,3,ta,4,ta,5,ta,6,jp]}p(Zt,Ta);var Dt=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ht=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],Ct=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],Ft=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],Vt=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],yr=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],fn=[].concat(o(Dt),o(ht),o(Ct),o(Ft),o(Vt),o(yr));function T(N,F,B){if(B=N.createShader(B===0?N.VERTEX_SHADER:N.FRAGMENT_SHADER),N.shaderSource(B,F),N.compileShader(B),!N.getShaderParameter(B,N.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+N.getShaderInfoLog(B));return B}function $(N){return ca(N,P,1).map(function(F){return{index:qt(F,1),ga:Gt(F,2),label:Qt(F,3)!=null?Rn(F,3):void 0,displayName:Qt(F,4)!=null?Rn(F,4):void 0}})}function O(N){return{x:Gt(N,1),y:Gt(N,2),z:Gt(N,3),visibility:Qt(N,4)!=null?Gt(N,4):void 0}}function G(N,F){this.h=N,this.g=F,this.l=0}function ce(N,F,B){return function(j,Z){var Y=j.g;if(j.o===void 0){var J=T(Y,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),oe=T(Y,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),Se=Y.createProgram();if(Y.attachShader(Se,J),Y.attachShader(Se,oe),Y.linkProgram(Se),!Y.getProgramParameter(Se,Y.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+Y.getProgramInfoLog(Se));J=j.o=Se,Y.useProgram(J),oe=Y.getUniformLocation(J,"sampler0"),j.j={K:Y.getAttribLocation(J,"aVertex"),J:Y.getAttribLocation(J,"aTex"),ma:oe},j.u=Y.createBuffer(),Y.bindBuffer(Y.ARRAY_BUFFER,j.u),Y.enableVertexAttribArray(j.j.K),Y.vertexAttribPointer(j.j.K,2,Y.FLOAT,!1,0,0),Y.bufferData(Y.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),Y.STATIC_DRAW),Y.bindBuffer(Y.ARRAY_BUFFER,null),j.s=Y.createBuffer(),Y.bindBuffer(Y.ARRAY_BUFFER,j.s),Y.enableVertexAttribArray(j.j.J),Y.vertexAttribPointer(j.j.J,2,Y.FLOAT,!1,0,0),Y.bufferData(Y.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),Y.STATIC_DRAW),Y.bindBuffer(Y.ARRAY_BUFFER,null),Y.uniform1i(oe,0)}J=j.j,Y.useProgram(j.o),Y.canvas.width=Z.width,Y.canvas.height=Z.height,Y.viewport(0,0,Z.width,Z.height),Y.activeTexture(Y.TEXTURE0),j.h.bindTexture2d(Z.glName),Y.enableVertexAttribArray(J.K),Y.bindBuffer(Y.ARRAY_BUFFER,j.u),Y.vertexAttribPointer(J.K,2,Y.FLOAT,!1,0,0),Y.enableVertexAttribArray(J.J),Y.bindBuffer(Y.ARRAY_BUFFER,j.s),Y.vertexAttribPointer(J.J,2,Y.FLOAT,!1,0,0),Y.bindFramebuffer(Y.DRAW_FRAMEBUFFER?Y.DRAW_FRAMEBUFFER:Y.FRAMEBUFFER,null),Y.clearColor(0,0,0,0),Y.clear(Y.COLOR_BUFFER_BIT),Y.colorMask(!0,!0,!0,!0),Y.drawArrays(Y.TRIANGLE_FAN,0,4),Y.disableVertexAttribArray(J.K),Y.disableVertexAttribArray(J.J),Y.bindBuffer(Y.ARRAY_BUFFER,null),j.h.bindTexture2d(0)}(N,F),typeof N.g.canvas.transferToImageBitmap=="function"?Promise.resolve(N.g.canvas.transferToImageBitmap()):B?Promise.resolve(N.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(N.g.canvas):(N.i===void 0&&(N.i=document.createElement("canvas")),new Promise(function(j){N.i.height=N.g.canvas.height,N.i.width=N.g.canvas.width,N.i.getContext("2d",{}).drawImage(N.g.canvas,0,0,N.g.canvas.width,N.g.canvas.height),j(N.i)}))}function we(N){this.g=N}var ge=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function xe(N,F){return F+N}function Pe(N,F){window[N]=F}function Ke(N){if(this.g=N,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=N&&N.locateFile||xe,typeof window=="object")var F=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if(typeof location>"u")throw Error("solutions can only be loaded on a web page or in a web worker");F=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.$=F,N.options)for(var B=(F=s(Object.keys(N.options))).next();!B.done;B=F.next()){B=B.value;var j=N.options[B].default;j!==void 0&&(this.j[B]=typeof j=="function"?j():j)}}function It(N){var F,B,j,Z,Y,J,oe,Se,$e,Be,Ze;return S(function(et){switch(et.g){case 1:return N.Z?(F=N.g.files===void 0?[]:typeof N.g.files=="function"?N.g.files(N.j):N.g.files,y(et,S(function(ot){switch(ot.g){case 1:return ot.o=2,y(ot,WebAssembly.instantiate(ge),4);case 4:ot.g=3,ot.o=0;break;case 2:return ot.o=0,ot.j=null,ot.return(!1);case 3:return ot.return(!0)}}),2)):et.return();case 2:if(B=et.h,typeof window=="object")return Pe("createMediapipeSolutionsWasm",{locateFile:N.locateFile}),Pe("createMediapipeSolutionsPackedAssets",{locateFile:N.locateFile}),J=F.filter(function(ot){return ot.data!==void 0}),oe=F.filter(function(ot){return ot.data===void 0}),Se=Promise.all(J.map(function(ot){var Ot=Ut(N,ot.url);if(ot.path!==void 0){var Wt=ot.path;Ot=Ot.then(function($n){return N.overrideFile(Wt,$n),Promise.resolve($n)})}return Ot})),$e=Promise.all(oe.map(function(ot){return ot.simd===void 0||ot.simd&&B||!ot.simd&&!B?function(Ot){var Wt=document.createElement("script");return Wt.setAttribute("src",Ot),Wt.setAttribute("crossorigin","anonymous"),new Promise(function($n){Wt.addEventListener("load",function(){$n()},!1),Wt.addEventListener("error",function(){$n()},!1),document.body.appendChild(Wt)})}(N.locateFile(ot.url,N.$)):Promise.resolve()})).then(function(){var ot,Ot,Wt;return S(function($n){if($n.g==1)return ot=window.createMediapipeSolutionsWasm,Ot=window.createMediapipeSolutionsPackedAssets,Wt=N,y($n,ot(Ot),2);Wt.h=$n.h,$n.g=0})}),Be=S(function(ot){return N.g.graph&&N.g.graph.url?ot=y(ot,Ut(N,N.g.graph.url),0):(ot.g=0,ot=void 0),ot}),y(et,Promise.all([$e,Se,Be]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return j=F.filter(function(ot){return ot.simd===void 0||ot.simd&&B||!ot.simd&&!B}).map(function(ot){return N.locateFile(ot.url,N.$)}),importScripts.apply(null,o(j)),Z=N,y(et,createMediapipeSolutionsWasm(Module),6);case 6:Z.h=et.h,N.l=new OffscreenCanvas(1,1),N.h.canvas=N.l,Y=N.h.GL.createContext(N.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),N.h.GL.makeContextCurrent(Y),et.g=4;break;case 7:if(N.l=document.createElement("canvas"),!(Ze=N.l.getContext("webgl2",{}))&&!(Ze=N.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),et.return();N.G=Ze,N.h.canvas=N.l,N.h.createContext(N.l,!0,!0,{});case 4:N.i=new N.h.SolutionWasm,N.Z=!1,et.g=0}})}function Ut(N,F){var B,j;return S(function(Z){return F in N.H?Z.return(N.H[F]):(B=N.locateFile(F,""),j=fetch(B).then(function(Y){return Y.arrayBuffer()}),N.H[F]=j,Z.return(j))})}function Yt(N,F,B){var j,Z,Y,J,oe,Se,$e,Be,Ze,et,ot,Ot,Wt,$n;return S(function(Gn){switch(Gn.g){case 1:if(!B)return Gn.return(F);for(j={},Z=0,Y=s(Object.keys(B)),J=Y.next();!J.done;J=Y.next())oe=J.value,typeof(Se=B[oe])!="string"&&Se.type==="texture"&&F[Se.stream]!==void 0&&++Z;1<Z&&(N.I=!1),$e=s(Object.keys(B)),J=$e.next();case 2:if(J.done){Gn.g=4;break}if(Be=J.value,typeof(Ze=B[Be])=="string")return Wt=j,$n=Be,y(Gn,function(qc,OI,Nh){var Q0;return S(function(Kw){return typeof Nh=="number"||Nh instanceof Uint8Array||Nh instanceof qc.h.Uint8BlobList?Kw.return(Nh):Nh instanceof qc.h.Texture2dDataOut?((Q0=qc.u[OI])||(Q0=new G(qc.h,qc.G),qc.u[OI]=Q0),Kw.return(ce(Q0,Nh,qc.I))):Kw.return(void 0)})}(N,Be,F[Ze]),14);if(et=F[Ze.stream],Ze.type==="detection_list"){if(et){for(var di=et.getRectList(),Fs=et.getLandmarksList(),Oi=et.getClassificationsList(),wn=[],Ca=0;Ca<di.size();++Ca){var _u=Rr(di.get(Ca),Zt,Mt);_u={boundingBox:{xCenter:Gt(_u,1),yCenter:Gt(_u,2),height:Gt(_u,3),width:Gt(_u,4),rotation:Gt(_u,5,0),rectId:qt(_u,6)},landmarks:ca(Rr(Fs.get(Ca),He,ut),_e,1).map(O),V:$(Rr(Oi.get(Ca),te,ve))},wn.push(_u)}di=wn}else di=[];j[Be]=di,Gn.g=7;break}if(Ze.type==="proto_list"){if(et){for(di=Array(et.size()),Fs=0;Fs<et.size();Fs++)di[Fs]=et.get(Fs);et.delete()}else di=[];j[Be]=di,Gn.g=7;break}if(et===void 0){Gn.g=3;break}if(Ze.type==="float_list"){j[Be]=et,Gn.g=7;break}if(Ze.type==="proto"){j[Be]=et,Gn.g=7;break}if(Ze.type!=="texture")throw Error("Unknown output config type: '"+Ze.type+"'");return(ot=N.u[Be])||(ot=new G(N.h,N.G),N.u[Be]=ot),y(Gn,ce(ot,et,N.I),13);case 13:Ot=Gn.h,j[Be]=Ot;case 7:Ze.transform&&j[Be]&&(j[Be]=Ze.transform(j[Be])),Gn.g=3;break;case 14:Wt[$n]=Gn.h;case 3:J=$e.next(),Gn.g=2;break;case 4:return Gn.return(j)}})}function Pt(N,F){for(var B=F.name||"$",j=[].concat(o(F.wants)),Z=new N.h.StringList,Y=s(F.wants),J=Y.next();!J.done;J=Y.next())Z.push_back(J.value);Y=N.h.PacketListener.implement({onResults:function(oe){for(var Se={},$e=0;$e<F.wants.length;++$e)Se[j[$e]]=oe.get($e);var Be=N.listeners[B];Be&&(N.D=Yt(N,Se,F.outs).then(function(Ze){Ze=Be(Ze);for(var et=0;et<F.wants.length;++et){var ot=Se[j[et]];typeof ot=="object"&&ot.hasOwnProperty&&ot.hasOwnProperty("delete")&&ot.delete()}Ze&&(N.D=Ze)}))}}),N.i.attachMultiListener(Z,Y),Z.delete()}function vt(N){var F=this;N=N||{};var B={url:"face_detection_short.binarypb"},j={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new Ke({locateFile:N.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:B,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window=="object"&&window.navigator!==void 0&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(Z){var Y,J,oe,Se,$e;return S(function(Be){switch(Be.g){case 1:Y=s(Z==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"]),J=Y.next();case 2:if(J.done){Be.g=4;break}return oe=J.value,Se="third_party/mediapipe/modules/face_detection/"+oe,y(Be,Ut(F.g,oe),5);case 5:$e=Be.h,F.g.overrideFile(Se,$e),J=Y.next(),Be.g=2;break;case 4:return B.url=Z==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",j.graphOptionXref.calculatorName=Z==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",Be.return(!0)}})}},minDetectionConfidence:j}})}(t=Ke.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},t.reset=function(){var N=this;return S(function(F){N.i&&(N.i.reset(),N.o={},N.u={}),F.g=0})},t.setOptions=function(N,F){var B=this;if(F=F||this.g.options){for(var j=[],Z=[],Y={},J=s(Object.keys(N)),oe=J.next();!oe.done;Y={R:Y.R,S:Y.S},oe=J.next()){var Se=oe.value;Se in this.j&&this.j[Se]===N[Se]||(this.j[Se]=N[Se],(oe=F[Se])!==void 0&&(oe.onChange&&(Y.R=oe.onChange,Y.S=N[Se],j.push(function($e){return function(){return S(function(Be){if(Be.g==1)return y(Be,$e.R($e.S),2);Be.h===!0&&(B.s=!0),Be.g=0})}}(Y))),oe.graphOptionXref&&(Se={valueNumber:oe.type===1?N[Se]:0,valueBoolean:oe.type===0&&N[Se],valueString:oe.type===2?N[Se]:""},oe=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),oe.graphOptionXref),Se),Z.push(oe))))}j.length===0&&Z.length===0||(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(Z),this.A=(this.A===void 0?[]:this.A).concat(j))}},t.initialize=function(){var N=this;return S(function(F){return F.g==1?y(F,It(N),2):F.g!=3?y(F,function(B){var j,Z,Y,J,oe,Se,$e,Be;return S(function(Ze){if(Ze.g==1)return B.g.graph&&B.g.graph.url&&B.Y===B.g.graph.url?Ze.return():(B.s=!0,B.g.graph&&B.g.graph.url?(B.Y=B.g.graph.url,y(Ze,Ut(B,B.g.graph.url),3)):void(Ze.g=2));for(Ze.g!=2&&(j=Ze.h,B.i.loadGraph(j)),Z=s(Object.keys(B.C)),Y=Z.next();!Y.done;Y=Z.next())J=Y.value,B.i.overrideFile(J,B.C[J]);if(B.C={},B.g.listeners)for(oe=s(B.g.listeners),Se=oe.next();!Se.done;Se=oe.next())$e=Se.value,Pt(B,$e);Be=B.j,B.j={},B.setOptions(Be),Ze.g=0})}(N),3):y(F,function(B){var j,Z,Y,J,oe,Se;return S(function($e){switch($e.g){case 1:if(!B.s)return $e.return();if(!B.A){$e.g=2;break}j=s(B.A),Z=j.next();case 3:if(Z.done){$e.g=5;break}return y($e,(0,Z.value)(),4);case 4:Z=j.next(),$e.g=3;break;case 5:B.A=void 0;case 2:if(B.B){for(Y=new B.h.GraphOptionChangeRequestList,J=s(B.B),oe=J.next();!oe.done;oe=J.next())Se=oe.value,Y.push_back(Se);B.i.changeOptions(Y),Y.delete(),B.B=void 0}B.s=!1,$e.g=0}})}(N),0)})},t.overrideFile=function(N,F){this.i?this.i.overrideFile(N,F):this.C[N]=F},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(N,F){var B,j,Z,Y,J,oe,Se,$e,Be,Ze=this;return S(function(et){switch(et.g){case 1:return Ze.g.inputs?(B=1e3*(F??performance.now()),y(et,Ze.D,2)):et.return();case 2:return y(et,Ze.initialize(),3);case 3:for(j=new Ze.h.PacketDataList,Z=s(Object.keys(N)),Y=Z.next();!Y.done;Y=Z.next())if(J=Y.value,oe=Ze.g.inputs[J]){e:{var ot=N[J];switch(oe.type){case"video":var Ot=Ze.o[oe.stream];if(Ot||(Ot=new G(Ze.h,Ze.G),Ze.o[oe.stream]=Ot),Ot.l===0&&(Ot.l=Ot.h.createTexture()),typeof HTMLVideoElement<"u"&&ot instanceof HTMLVideoElement)var Wt=ot.videoWidth,$n=ot.videoHeight;else typeof HTMLImageElement<"u"&&ot instanceof HTMLImageElement?(Wt=ot.naturalWidth,$n=ot.naturalHeight):(Wt=ot.width,$n=ot.height);$n={glName:Ot.l,width:Wt,height:$n},(Wt=Ot.g).canvas.width=$n.width,Wt.canvas.height=$n.height,Wt.activeTexture(Wt.TEXTURE0),Ot.h.bindTexture2d(Ot.l),Wt.texImage2D(Wt.TEXTURE_2D,0,Wt.RGBA,Wt.RGBA,Wt.UNSIGNED_BYTE,ot),Ot.h.bindTexture2d(0),Ot=$n;break e;case"detections":for((Ot=Ze.o[oe.stream])||(Ot=new we(Ze.h),Ze.o[oe.stream]=Ot),Ot.data||(Ot.data=new Ot.g.DetectionListData),Ot.data.reset(ot.length),$n=0;$n<ot.length;++$n){Wt=ot[$n];var Gn=Ot.data,di=Gn.setBoundingBox,Fs=$n,Oi=Wt.boundingBox,wn=new Zt;if(vn(wn,1,Oi.xCenter),vn(wn,2,Oi.yCenter),vn(wn,3,Oi.height),vn(wn,4,Oi.width),vn(wn,5,Oi.rotation),vn(wn,6,Oi.rectId),Oi=ss(wn,Mt),di.call(Gn,Fs,Oi),Wt.landmarks)for(Gn=0;Gn<Wt.landmarks.length;++Gn){var Ca=!!(wn=Wt.landmarks[Gn]).visibility;Fs=(di=Ot.data).addNormalizedLandmark,Oi=$n,wn=Object.assign(Object.assign({},wn),{visibility:Ca?wn.visibility:0}),vn(Ca=new _e,1,wn.x),vn(Ca,2,wn.y),vn(Ca,3,wn.z),wn.visibility&&vn(Ca,4,wn.visibility),wn=ss(Ca,Re),Fs.call(di,Oi,wn)}if(Wt.V)for(Gn=0;Gn<Wt.V.length;++Gn)Fs=(di=Ot.data).addClassification,Oi=$n,wn=Wt.V[Gn],vn(Ca=new P,2,wn.ga),wn.index&&vn(Ca,1,wn.index),wn.label&&vn(Ca,3,wn.label),wn.displayName&&vn(Ca,4,wn.displayName),wn=ss(Ca,M),Fs.call(di,Oi,wn)}Ot=Ot.data;break e;default:Ot={}}}switch(Se=Ot,$e=oe.stream,oe.type){case"video":j.pushTexture2d(Object.assign(Object.assign({},Se),{stream:$e,timestamp:B}));break;case"detections":(Be=Se).stream=$e,Be.timestamp=B,j.pushDetectionList(Be);break;default:throw Error("Unknown input config type: '"+oe.type+"'")}}return Ze.i.send(j),y(et,Ze.D,4);case 4:j.delete(),et.g=0}})},t.onResults=function(N,F){this.listeners[F||"$"]=N},C("Solution",Ke),C("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(t=vt.prototype).close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(N){this.g.onResults(N)},t.initialize=function(){var N=this;return S(function(F){return y(F,N.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(N){var F=this;return S(function(B){return y(B,F.g.send(N),0)})},t.setOptions=function(N){this.g.setOptions(N)},C("FaceDetection",vt),C("FACEDETECTION_LIPS",Dt),C("FACEDETECTION_LEFT_EYE",ht),C("FACEDETECTION_LEFT_EYEBROW",Ct),C("FACEDETECTION_RIGHT_EYE",Ft),C("FACEDETECTION_RIGHT_EYEBROW",Vt),C("FACEDETECTION_FACE_OVAL",yr),C("FACEDETECTION_CONTOURS",fn),C("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),C("VERSION","0.4.1646425229")}).call(n_);var Rc=function(){return Rc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Rc.apply(this,arguments)};function fu(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(u){try{l(r.next(u))}catch(c){i(c)}}function o(u){try{l(r.throw(u))}catch(c){i(c)}}function l(u){var c;u.done?a(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,o)}l((r=r.apply(t,e||[])).next())})}function pu(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(c[0]===6&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}var OY=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],r_={modelType:"short",runtime:"mediapipe",maxFaces:1},pPe=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new fPe.FaceDetection({locateFile:function(r,a){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+r:a+"/"+r}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var a=0,i=r.detections;a<i.length;a++){var s=i[a];n.faces.push(n.normalizedToAbsolute(s.landmarks,{xMin:l=(o=s.boundingBox).xCenter-o.width/2,xMax:l+o.width,yMin:u=o.yCenter-o.height/2,yMax:u+o.height,width:o.width,height:o.height}))}var o,l,u})}return t.prototype.normalizedToAbsolute=function(e,n){var r=this;return{keypoints:e.map(function(a,i){return{x:a.x*r.width,y:a.y*r.height,name:OY[i]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return fu(this,void 0,void 0,function(){var r,a;return pu(this,function(i){switch(i.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof en?(a=ImageData.bind,[4,T0(e)]):[3,2];case 1:return r=new(a.apply(ImageData,[void 0,i.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,i.label=3;case 3:return e=r,[4,this.faceDetectorSolution.send({image:e})];case 4:return i.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t}();function mPe(t){return fu(this,void 0,void 0,function(){var e,n;return pu(this,function(r){switch(r.label){case 0:return e=function(a){if(a==null)return Rc({},r_);var i=Rc({},a);return i.runtime="mediapipe",i.modelType==null&&(i.modelType=r_.modelType),i.maxFaces==null&&(i.maxFaces=r_.maxFaces),i}(t),[4,(n=new pPe(e)).initialize()];case 1:return r.sent(),[2,n]}})})}function LY(t){return t instanceof en?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function FY(t){return t instanceof en?t:C0(t)}function a_(t,e){V(t.width!==0,function(){return e+" width cannot be 0."}),V(t.height!==0,function(){return e+" height cannot be 0."})}function gPe(t,e,n){var r=e.outputTensorSize,a=e.keepAspectRatio,i=e.borderMode,s=e.outputTensorFloatRange,o=LY(t),l=function(f,p){return p?{xCenter:p.xCenter*f.width,yCenter:p.yCenter*f.height,width:p.width*f.width,height:p.height*f.height,rotation:p.rotation}:{xCenter:.5*f.width,yCenter:.5*f.height,width:f.width,height:f.height,rotation:0}}(o,n),u=function(f,p,m){if(m===void 0&&(m=!1),!m)return{top:0,left:0,right:0,bottom:0};var g=p.height,v=p.width;a_(p,"targetSize"),a_(f,"roi");var y,b,w=g/v,x=f.height/f.width,k=0,S=0;return w>x?(y=f.width,b=f.width*w,S=(1-x/w)/2):(y=f.height/w,b=f.height,k=(1-w/x)/2),f.width=y,f.height=b,{top:S,left:k,right:k,bottom:S}}(l,r,a),c=function(f,p,m,g){var v=f.width,y=f.height,b=g?-1:1,w=Math.cos(f.rotation),x=Math.sin(f.rotation),k=f.xCenter,S=f.yCenter,E=1/p,I=1/m,C=new Array(16);return C[0]=v*w*b*E,C[1]=-y*x*E,C[2]=0,C[3]=(-.5*v*w*b+.5*y*x+k)*E,C[4]=v*x*b*I,C[5]=y*w*I,C[6]=0,C[7]=(-.5*y*w-.5*v*x*b+S)*I,C[8]=0,C[9]=0,C[10]=v*E,C[11]=0,C[12]=0,C[13]=0,C[14]=0,C[15]=1,function(R){if(R.length!==16)throw new Error("Array length must be 16 but got "+R.length);return[[R[0],R[1],R[2],R[3]],[R[4],R[5],R[6],R[7]],[R[8],R[9],R[10],R[11]],[R[12],R[13],R[14],R[15]]]}(C)}(l,o.width,o.height,!1),d=me(function(){var f=FY(t),p=_i(function(v,y,b){return a_(b,"inputResolution"),[1/b.width*v[0][0]*y.width,1/b.height*v[0][1]*y.width,v[0][3]*y.width,1/b.width*v[1][0]*y.height,1/b.height*v[1][1]*y.height,v[1][3]*y.height,0,0]}(c,o,r),[1,8]),m=i==="zero"?"constant":"nearest",g=wa.transform(hr(tt(f,"float32")),p,"bilinear",m,0,[r.height,r.width]);return s!=null?function(v,y){var b=function(w,x,k,S){var E=(S-k)/255;return{scale:E,offset:k-0*E}}(0,0,y[0],y[1]);return me(function(){return Ae(ee(v,b.scale),b.offset)})}(g,s):g});return{imageTensor:d,padding:u,transformationMatrix:c}}function fO(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var r=[],a=[],i=[],s=[],o=n;o<t.strides.length&&t.strides[o]===t.strides[n];){var l=pO(t.minScale,t.maxScale,o,t.strides.length);if(o===0&&t.reduceBoxesInLowestLayer)i.push(1),i.push(2),i.push(.5),s.push(.1),s.push(l),s.push(l);else{for(var u=0;u<t.aspectRatios.length;++u)i.push(t.aspectRatios[u]),s.push(l);if(t.interpolatedScaleAspectRatio>0){var c=o===t.strides.length-1?1:pO(t.minScale,t.maxScale,o+1,t.strides.length);s.push(Math.sqrt(l*c)),i.push(t.interpolatedScaleAspectRatio)}}o++}for(var d=0;d<i.length;++d){var f=Math.sqrt(i[d]);r.push(s[d]/f),a.push(s[d]*f)}var p=0,m=0;if(t.featureMapHeight.length>0)p=t.featureMapHeight[n],m=t.featureMapWidth[n];else{var g=t.strides[n];p=Math.ceil(t.inputSizeHeight/g),m=Math.ceil(t.inputSizeWidth/g)}for(var v=0;v<p;++v)for(var y=0;y<m;++y)for(var b=0;b<r.length;++b){var w={xCenter:(y+t.anchorOffsetX)/m,yCenter:(v+t.anchorOffsetY)/p,width:0,height:0};t.fixedAnchorSize?(w.width=1,w.height=1):(w.width=a[b],w.height=r[b]),e.push(w)}n=o}return e}function pO(t,e,n,r){return r===1?.5*(t+e):t+(e-t)*n/(r-1)}function mO(t,e){var n=e[0],r=e[1];return[n*t[0]+r*t[1]+t[3],n*t[4]+r*t[5]+t[7]]}function yPe(t,e,n,r){return fu(this,void 0,void 0,function(){var a,i,s,o,l;return pu(this,function(u){switch(u.label){case 0:return t.sort(function(c,d){return Math.max.apply(Math,d.score)-Math.max.apply(Math,c.score)}),a=_i(t.map(function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]})),i=Kn(t.map(function(c){return c.score[0]})),[4,wa.nonMaxSuppressionAsync(a,i,e,n)];case 1:return[4,(s=u.sent()).array()];case 2:return o=u.sent(),l=t.filter(function(c,d){return o.indexOf(d)>-1}),pt([a,i,s]),[2,l]}})})}function bPe(t,e,n){return fu(this,void 0,void 0,function(){var r,a,i,s,o;return pu(this,function(l){switch(l.label){case 0:return r=t[0],a=t[1],i=function(u,c,d){return me(function(){var f,p,m,g;d.reverseOutputOrder?(p=Rt(bt(u,[0,d.boxCoordOffset+0],[-1,1])),f=Rt(bt(u,[0,d.boxCoordOffset+1],[-1,1])),g=Rt(bt(u,[0,d.boxCoordOffset+2],[-1,1])),m=Rt(bt(u,[0,d.boxCoordOffset+3],[-1,1]))):(f=Rt(bt(u,[0,d.boxCoordOffset+0],[-1,1])),p=Rt(bt(u,[0,d.boxCoordOffset+1],[-1,1])),m=Rt(bt(u,[0,d.boxCoordOffset+2],[-1,1])),g=Rt(bt(u,[0,d.boxCoordOffset+3],[-1,1]))),p=Ae(ee(Je(p,d.xScale),c.w),c.x),f=Ae(ee(Je(f,d.yScale),c.h),c.y),d.applyExponentialOnBoxSize?(m=ee(ni(Je(m,d.hScale)),c.h),g=ee(ni(Je(g,d.wScale)),c.w)):(m=ee(Je(m,d.hScale),c.h),g=ee(Je(g,d.wScale),c.h));var v=lt(f,Je(m,2)),y=lt(p,Je(g,2)),b=Ae(f,Je(m,2)),w=Ae(p,Je(g,2)),x=ar([ue(v,[d.numBoxes,1]),ue(y,[d.numBoxes,1]),ue(b,[d.numBoxes,1]),ue(w,[d.numBoxes,1])],1);if(d.numKeypoints)for(var k=0;k<d.numKeypoints;++k){var S=d.keypointCoordOffset+k*d.numValuesPerKeypoint,E=void 0,I=void 0;d.reverseOutputOrder?(E=Rt(bt(u,[0,S],[-1,1])),I=Rt(bt(u,[0,S+1],[-1,1]))):(I=Rt(bt(u,[0,S],[-1,1])),E=Rt(bt(u,[0,S+1],[-1,1])));var C=Ae(ee(Je(E,d.xScale),c.w),c.x),R=Ae(ee(Je(I,d.yScale),c.h),c.y);x=ar([x,ue(C,[d.numBoxes,1]),ue(R,[d.numBoxes,1])],1)}return x})}(a,e,n),s=me(function(){var u=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(u=Si(r,-n.scoreClippingThresh,n.scoreClippingThresh)),u=xs(u)):u}),[4,vPe(i,s,n)];case 1:return o=l.sent(),pt([i,s]),[2,o]}})})}function vPe(t,e,n){return fu(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m;return pu(this,function(g){switch(g.label){case 0:return r=[],[4,t.data()];case 1:return a=g.sent(),[4,e.data()];case 2:for(i=g.sent(),s=0;s<n.numBoxes;++s)if(!(n.minScoreThresh!=null&&i[s]<n.minScoreThresh||(o=s*n.numCoords,l=wPe(a[o+0],a[o+1],a[o+2],a[o+3],i[s],n.flipVertically,s),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,f=0;f<d;f+=n.numValuesPerKeypoint)p=o+n.keypointCoordOffset+f,m={x:a[p+0],y:n.flipVertically?1-a[p+1]:a[p+1]},c.relativeKeypoints.push(m);r.push(l)}return[2,r]}})})}function wPe(t,e,n,r,a,i,s){return{score:[a],ind:s,locationData:{relativeBoundingBox:{xMin:e,yMin:i?1-n:t,xMax:r,yMax:i?1-t:n,width:r-e,height:n-t}}}}var Ob,xPe={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},_Pe={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},i_={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},kPe={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},SPe={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},NPe={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},EPe={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},TPe=function(){function t(e,n,r){this.detectorModel=n,this.maxFaces=r,e==="full"?(this.imageToTensorConfig=EPe,this.tensorsToDetectionConfig=SPe,this.anchors=fO(_Pe)):(this.imageToTensorConfig=NPe,this.tensorsToDetectionConfig=kPe,this.anchors=fO(xPe));var a=Kn(this.anchors.map(function(l){return l.width})),i=Kn(this.anchors.map(function(l){return l.height})),s=Kn(this.anchors.map(function(l){return l.xCenter})),o=Kn(this.anchors.map(function(l){return l.yCenter}));this.anchorTensor={x:s,y:o,w:a,h:i}}return t.prototype.dispose=function(){this.detectorModel.dispose(),pt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),fu(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p;return pu(this,function(m){switch(m.label){case 0:return e==null?(this.reset(),[2,[]]):(r=me(function(){var g=tt(FY(e),"float32");return n&&(g=Rt(wa.flipLeftRight(hr(g,0)),[0])),g}),a=gPe(r,this.imageToTensorConfig),i=a.imageTensor,s=a.transformationMatrix,o=this.detectorModel.execute(i,"Identity:0"),l=function(g){return me(function(){var v=function(w){return me(function(){return[bt(w,[0,0,0],[1,-1,1]),bt(w,[0,0,1],[1,-1,-1])]})}(g),y=v[0],b=v[1];return{boxes:Rt(b),logits:Rt(y)}})}(o),u=l.boxes,[4,bPe([c=l.logits,u],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(d=m.sent()).length===0?(pt([r,i,o,c,u]),[2,d]):[4,yPe(d,this.maxFaces,.3)];case 2:return f=m.sent(),p=function(g,v){g===void 0&&(g=[]);var y,b=(y=v,[].concat.apply([],y));return g.forEach(function(w){var x=w.locationData;x.relativeKeypoints.forEach(function(R){var z=mO(b,[R.x,R.y]),H=z[0],U=z[1];R.x=H,R.y=U});var k=x.relativeBoundingBox,S=Number.MAX_VALUE,E=Number.MAX_VALUE,I=Number.MIN_VALUE,C=Number.MIN_VALUE;[[k.xMin,k.yMin],[k.xMin+k.width,k.yMin],[k.xMin+k.width,k.yMin+k.height],[k.xMin,k.yMin+k.height]].forEach(function(R){var z=mO(b,R),H=z[0],U=z[1];S=Math.min(S,H),I=Math.max(I,H),E=Math.min(E,U),C=Math.max(C,U)}),x.relativeBoundingBox={xMin:S,xMax:I,yMin:E,yMax:C,width:I-S,height:C-E}}),g}(f,s),pt([r,i,o,c,u]),[2,p]}})})},t.prototype.estimateFaces=function(e,n){return fu(this,void 0,void 0,function(){var r,a;return pu(this,function(i){return r=LY(e),a=!!n&&n.flipHorizontal,[2,this.detectFaces(e,a).then(function(s){return s.map(function(o){for(var l=o.locationData.relativeKeypoints.map(function(m,g){return Rc(Rc({},m),{x:m.x*r.width,y:m.y*r.height,name:OY[g]})}),u=o.locationData.relativeBoundingBox,c=0,d=["width","xMax","xMin"];c<d.length;c++)u[d[c]]*=r.width;for(var f=0,p=["height","yMax","yMin"];f<p.length;f++)u[p[f]]*=r.height;return{keypoints:l,box:u}})})]})})},t}();function CPe(t){return fu(this,void 0,void 0,function(){var e,n,r;return pu(this,function(a){switch(a.label){case 0:return e=function(i){if(i==null)return Rc({},i_);var s=Rc({},i);return s.modelType==null&&(s.modelType=i_.modelType),s.maxFaces==null&&(s.maxFaces=i_.maxFaces),s.detectorModelUrl==null&&(s.modelType==="full"?s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":s.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),s}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,Dc(e.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new TPe(e.modelType,r,e.maxFaces)]}})})}function IPe(t,e){return fu(this,void 0,void 0,function(){var n,r;return pu(this,function(a){if(t===Ob.MediaPipeFaceDetector){if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,CPe(n)];if(n.runtime==="mediapipe")return[2,mPe(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(t+" is not a supported model name.")})})}function s_(t){return t.width*t.height}function gO(t){var e=t.xCenter-t.width/2,n=e+t.width,r=t.yCenter-t.height/2;return{xMin:e,xMax:n,yMin:r,yMax:r+t.height,width:t.width,height:t.height}}function APe(t,e){var n=gO(t),r=gO(e);if(!function(s,o){return!(s.xMax<o.xMin||o.xMax<s.xMin||s.yMax<o.yMin||o.yMax<s.yMin)}(n,r))return 0;var a=s_(function(s,o){var l=Math.max(s.xMin,o.xMin),u=Math.min(s.xMax,o.xMax),c=Math.max(s.yMin,o.yMin),d=Math.min(s.yMax,o.yMax);return{xMin:l,xMax:u,yMin:c,yMax:d,width:Math.max(u-l,0),height:Math.max(d-c,0)}}(n,r)),i=s_(n)+s_(r)-a;return i>0?a/i:0}function DPe(t,e,n,r){var a=t.width,i=t.height,s=r?-1:1,o=Math.cos(t.rotation),l=Math.sin(t.rotation),u=t.xCenter,c=t.yCenter,d=1/e,f=1/n,p=new Array(16);return p[0]=a*o*s*d,p[1]=-i*l*d,p[2]=0,p[3]=(-.5*a*o*s+.5*i*l+u)*d,p[4]=a*l*s*f,p[5]=i*o*f,p[6]=0,p[7]=(-.5*i*o-.5*a*l*s+c)*f,p[8]=0,p[9]=0,p[10]=a*d,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,function(m){if(m.length!==16)throw new Error("Array length must be 16 but got "+m.length);return[[m[0],m[1],m[2],m[3]],[m[4],m[5],m[6],m[7]],[m[8],m[9],m[10],m[11]],[m[12],m[13],m[14],m[15]]]}(p)}function PY(t){return t instanceof en?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function MY(t){return t-2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function BY(t){return t instanceof en?t:C0(t)}function o_(t,e){V(t.width!==0,function(){return e+" width cannot be 0."}),V(t.height!==0,function(){return e+" height cannot be 0."})}function RPe(t,e){var n=function(r,a,i,s){var o=a-r,l=s-i;if(o===0)throw new Error("Original min and max are both "+r+", range cannot be 0.");var u=l/o;return{scale:u,offset:i-r*u}}(0,255,e[0],e[1]);return me(function(){return Ae(ee(t,n.scale),n.offset)})}function $Pe(t,e,n){var r=e.outputTensorSize,a=e.keepAspectRatio,i=e.borderMode,s=e.outputTensorFloatRange,o=PY(t),l=function(f,p){return p?{xCenter:p.xCenter*f.width,yCenter:p.yCenter*f.height,width:p.width*f.width,height:p.height*f.height,rotation:p.rotation}:{xCenter:.5*f.width,yCenter:.5*f.height,width:f.width,height:f.height,rotation:0}}(o,n),u=function(f,p,m){if(m===void 0&&(m=!1),!m)return{top:0,left:0,right:0,bottom:0};var g=p.height,v=p.width;o_(p,"targetSize"),o_(f,"roi");var y,b,w=g/v,x=f.height/f.width,k=0,S=0;return w>x?(y=f.width,b=f.width*w,S=(1-x/w)/2):(y=f.height/w,b=f.height,k=(1-w/x)/2),f.width=y,f.height=b,{top:S,left:k,right:k,bottom:S}}(l,r,a),c=DPe(l,o.width,o.height,!1),d=me(function(){var f=BY(t),p=_i(function(v,y,b){return o_(b,"inputResolution"),[1/b.width*v[0][0]*y.width,1/b.height*v[0][1]*y.width,v[0][3]*y.width,1/b.width*v[1][0]*y.height,1/b.height*v[1][1]*y.height,v[1][3]*y.height,0,0]}(c,o,r),[1,8]),m=i==="zero"?"constant":"nearest",g=wa.transform(hr(tt(f,"float32")),p,"bilinear",m,0,[r.height,r.width]);return s!=null?RPe(g,s):g});return{imageTensor:d,padding:u,transformationMatrix:c}}function yO(t){return{xCenter:t.xMin+t.width/2,yCenter:t.yMin+t.height/2,width:t.width,height:t.height}}function bO(t){var e=t.relativeKeypoints;if(e.length<=1)throw new Error("2 or more keypoints required to calculate a rect.");var n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,i=Number.MIN_VALUE;return e.forEach(function(s){n=Math.min(n,s.x),a=Math.max(a,s.x),r=Math.min(r,s.y),i=Math.max(i,s.y)}),{xCenter:(n+a)/2,yCenter:(r+i)/2,width:a-n,height:i-r}}function vO(t,e,n,r,a){var i=n==="rect"?function(s,o,l){var u,c=s.locationData;if(o==="boundingbox")u=yO(c.boundingBox);else{u=bO(c);var d=l.width,f=l.height;u.xCenter=Math.round(u.xCenter*d),u.yCenter=Math.round(u.yCenter*f),u.width=Math.round(u.width*d),u.height=Math.round(u.height*f)}return u}(t,e,r):function(s,o){var l=s.locationData;return o==="boundingbox"?yO(l.relativeBoundingBox):bO(l)}(t,e);return a&&(i.rotation=function(s,o,l){var u,c=s.locationData,d=l.rotationVectorStartKeypointIndex,f=l.rotationVectorEndKeypointIndex;u=l.rotationVectorTargetAngle?l.rotationVectorTargetAngle:Math.PI*l.rotationVectorTargetAngleDegree/180;var p=c.relativeKeypoints[d].x*o.width,m=c.relativeKeypoints[d].y*o.height,g=c.relativeKeypoints[f].x*o.width,v=c.relativeKeypoints[f].y*o.height;return MY(u-Math.atan2(-(v-m),g-p))}(t,r,a)),i}function OPe(t,e,n){for(var r=0;r<e.length;++r){var a=e[r],i=n[t[r]];i.x=a.x,i.y=a.y}}function LPe(t,e,n,r){if(typeof e=="string"){if(e==="copy")for(var a=0;a<n.length;++a)r[t[a]].z=n[a].z}else{var i=function(s,o){for(var l=0,u=0;u<o.length;++u)l+=s[o[u]].z;return l/o.length}(r,e);for(a=0;a<t.length;++a)r[t[a]].z=i}}function FPe(t,e){for(var n=function(o){var l=[].concat.apply([],o.map(function(p){return p.indexesMapping}));if(l.length===0)throw new Error("There should be at least one landmark in indexes mapping");var u=l[0],c=l[0],d=new Set(l);d.forEach(function(p){u=Math.min(u,p),c=Math.max(c,p)});var f=d.size;if(u!==0)throw new Error("Indexes are expected to start with 0 instead of "+u);if(c+1!==f)throw new Error("Indexes should have no gaps but "+(c-f+1)+" indexes are missing");return f}(e),r=new Array(n).fill(null).map(Object),a=0;a<t.length;++a){var i=t[a],s=e[a];if(i.length!==s.indexesMapping.length)throw new Error("There are "+i.length+" refinement landmarks while mapping has "+s.indexesMapping.length);OPe(s.indexesMapping,i,r),LPe(s.indexesMapping,s.zRefinement,i,r)}return r}function PPe(t,e){return t.map(function(n){var r=Mo(Mo({},n),{x:n.x*e.width,y:n.y*e.height});return n.z!=null&&(r.z=n.z*e.width),r})}function MPe(t,e){return t==="none"?e:function(n){return 1/(1+Math.exp(-n))}(e)}function td(t,e,n,r){return Ql(this,void 0,void 0,function(){var a,i,s,o,l,u,c,d;return Zl(this,function(f){switch(f.label){case 0:return n=n||e.flipHorizontally||!1,r=r||e.flipVertically||!1,a=t.size,i=a/e.numLandmarks,[4,t.data()];case 1:for(s=f.sent(),o=[],l=0;l<e.numLandmarks;++l)u=l*i,(d={x:0,y:0}).x=n?e.inputImageWidth-s[u]:s[u],i>1&&(d.y=r?e.inputImageHeight-s[u+1]:s[u+1]),i>2&&(d.z=s[u+2]),i>3&&(d.score=MPe(e.visibilityActivation,s[u+3])),o.push(d);for(c=0;c<o.length;++c)(d=o[c]).x=d.x/e.inputImageWidth,d.y=d.y/e.inputImageHeight,d.z=d.z/e.inputImageWidth/(e.normalizeZ||1);return[2,o]}})})}function wO(t,e,n){var r=t.width,a=t.height,i=t.rotation;if(n.rotation==null&&n.rotationDegree==null||(i=function(c,d){return d.rotation!=null?c+=d.rotation:d.rotationDegree!=null&&(c+=Math.PI*d.rotationDegree/180),MY(c)}(i,n)),i===0)t.xCenter=t.xCenter+r*n.shiftX,t.yCenter=t.yCenter+a*n.shiftY;else{var s=(e.width*r*n.shiftX*Math.cos(i)-e.height*a*n.shiftY*Math.sin(i))/e.width,o=(e.width*r*n.shiftX*Math.sin(i)+e.height*a*n.shiftY*Math.cos(i))/e.height;t.xCenter=t.xCenter+s,t.yCenter=t.yCenter+o}if(n.squareLong){var l=Math.max(r*e.width,a*e.height);r=l/e.width,a=l/e.height}else if(n.squareShort){var u=Math.min(r*e.width,a*e.height);r=u/e.width,a=u/e.height}return t.width=r*n.scaleX,t.height=a*n.scaleY,t}(Ob||(Ob={})).MediaPipeFaceDetector="MediaPipeFaceDetector";var l_={runtime:"tfjs",maxFaces:1,refineLandmarks:!1,landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"},u_={flipHorizontal:!1,staticImageMode:!1},xO={shiftX:0,shiftY:0,scaleX:1.5,scaleY:1.5,squareLong:!0},BPe={outputTensorSize:{width:192,height:192},outputTensorFloatRange:[0,1],borderMode:"replicate"},_O={numLandmarks:468,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},zPe={numLandmarks:80,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},kO={numLandmarks:71,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},SO={numLandmarks:5,inputImageWidth:192,inputImageHeight:192,visibilityActivation:"none",flipHorizontally:!1,flipVertically:!1},UPe={indexesMapping:Array.from(Array(468).keys()),zRefinement:"copy"},jPe={indexesMapping:[61,146,91,181,84,17,314,405,321,375,291,185,40,39,37,0,267,269,270,409,78,95,88,178,87,14,317,402,318,324,308,191,80,81,82,13,312,311,310,415,76,77,90,180,85,16,315,404,320,307,306,184,74,73,72,11,302,303,304,408,62,96,89,179,86,15,316,403,319,325,292,183,42,41,38,12,268,271,272,407],zRefinement:"none"},VPe={indexesMapping:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173,130,25,110,24,23,22,26,112,243,247,30,29,27,28,56,190,226,31,228,229,230,231,232,233,244,113,225,224,223,222,221,189,35,124,46,53,52,65,143,111,117,118,119,120,121,128,245,156,70,63,105,66,107,55,193],zRefinement:"none"},WPe={indexesMapping:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398,359,255,339,254,253,252,256,341,463,467,260,259,257,258,286,414,446,261,448,449,450,451,452,453,464,342,445,444,443,442,441,413,265,353,276,283,282,295,372,340,346,347,348,349,350,357,465,383,300,293,334,296,336,285,417],zRefinement:"none"},GPe={indexesMapping:[468,469,470,471,472],zRefinement:[33,7,163,144,145,153,154,155,133,246,161,160,159,158,157,173]},HPe={indexesMapping:[473,474,475,476,477],zRefinement:[263,249,390,373,374,380,381,382,362,466,388,387,386,385,384,398]},dh,qPe=function(){function t(e,n,r,a){this.detector=e,this.landmarkModel=n,this.maxFaces=r,this.withAttention=a,this.prevFaceRectsFromLandmarks=null}return t.prototype.estimateFaces=function(e,n){return Ql(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m,g,v=this;return Zl(this,function(y){switch(y.label){case 0:return r=function(x){if(x==null)return Mo({},u_);var k=Mo({},x);return k.flipHorizontal==null&&(k.flipHorizontal=u_.flipHorizontal),k.staticImageMode==null&&(k.staticImageMode=u_.staticImageMode),k}(n),e==null?(this.reset(),[2,[]]):(a=PY(e),i=me(function(){var x=tt(BY(e),"float32");return r.flipHorizontal&&(x=Rt(wa.flipLeftRight(hr(x,0)),[0])),x}),s=this.prevFaceRectsFromLandmarks,r.staticImageMode||s==null||s.length<this.maxFaces?[4,this.detector.detectFaces(i,!1)]:[3,2]);case 1:return(l=y.sent()).length===0?(this.reset(),i.dispose(),[2,[]]):(o=l.map(function(x){return v.faceDetectionFrontDetectionToRoi(x,a)}),[3,3]);case 2:o=[],y.label=3;case 3:return b=.5,w=[],[o,s||[]].forEach(function(x){return x.forEach(function(k){(w=w.filter(function(S){return APe(k,S)<=b})).push(k)})}),u=w,[4,Promise.all(u.map(function(x){return v.faceLandmark(x,i)}))];case 4:for(c=y.sent(),d=[],this.prevFaceRectsFromLandmarks=[],f=0;f<c.length;++f)(p=c[f])!=null&&(this.prevFaceRectsFromLandmarks.push(this.faceLandmarksToRoi(p,a)),(m=PPe(p,a))!=null&&m.forEach(function(x,k){var S=$Y.get(k);S!=null&&(x.name=S)}),g=n5(m),d.push({keypoints:m,box:g.locationData.relativeBoundingBox}));return i.dispose(),[2,d]}var b,w})})},t.prototype.dispose=function(){this.detector.dispose(),this.landmarkModel.dispose()},t.prototype.reset=function(){this.detector.reset(),this.prevFaceRectsFromLandmarks=null},t.prototype.faceDetectionFrontDetectionToRoi=function(e,n){return wO(vO(e,"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:0}),n,xO)},t.prototype.faceLandmark=function(e,n){return Ql(this,void 0,void 0,function(){var r,a,i,s,o,l,u;return Zl(this,function(c){switch(c.label){case 0:return r=$Pe(n,BPe,e).imageTensor,a=["output_faceflag"].concat(this.withAttention?["output_mesh_identity","output_lips","Identity_6:0","Identity_1:0","Identity_2:0","Identity_5:0"]:["output_mesh"]),i=this.landmarkModel.execute(r,a),s=i[0],o=i.slice(1),[4,s.data()];case 1:return c.sent()[0]<.5?(pt(i),pt(r),[2,null]):this.withAttention?[4,this.tensorsToFaceLandmarksWithAttention(o)]:[3,3];case 2:return l=c.sent(),[3,5];case 3:return[4,this.tensorsToFaceLandmarks(o)];case 4:l=c.sent(),c.label=5;case 5:return u=function(d,f,p){p===void 0&&(p={ignoreRotation:!1});for(var m=[],g=0,v=d;g<v.length;g++){var y=v[g],b=y.x-.5,w=y.y-.5,x=p.ignoreRotation?0:f.rotation,k=Math.cos(x)*b-Math.sin(x)*w,S=Math.sin(x)*b+Math.cos(x)*w;k=k*f.width+f.xCenter,S=S*f.height+f.yCenter;var E=y.z*f.width,I=Mo({},y);I.x=k,I.y=S,I.z=E,m.push(I)}return m}(l,e),pt(i),pt(r),[2,u]}})})},t.prototype.tensorsToFaceLandmarks=function(e){return Ql(this,void 0,void 0,function(){return Zl(this,function(n){return[2,td(e[0],_O)]})})},t.prototype.tensorsToFaceLandmarksWithAttention=function(e){return Ql(this,void 0,void 0,function(){var n,r,a,i,s,o;return Zl(this,function(l){switch(l.label){case 0:return[4,td(e[0],_O)];case 1:return n=l.sent(),[4,td(e[1],zPe)];case 2:return r=l.sent(),[4,td(e[3],kO)];case 3:return a=l.sent(),[4,td(e[5],kO)];case 4:return i=l.sent(),[4,td(e[4],SO)];case 5:return s=l.sent(),[4,td(e[2],SO)];case 6:return o=l.sent(),[2,FPe([n,r,a,i,s,o],[UPe,jPe,VPe,WPe,GPe,HPe])]}})})},t.prototype.faceLandmarksToRoi=function(e,n){return wO(vO(n5(e),"boundingbox","normRect",n,{rotationVectorStartKeypointIndex:33,rotationVectorEndKeypointIndex:263,rotationVectorTargetAngleDegree:0}),n,xO)},t}();function YPe(t){return Ql(this,void 0,void 0,function(){var e,n,r,a;return Zl(this,function(i){switch(i.label){case 0:return e=function(s){if(s==null)return Mo({},l_);var o=Mo({},s);return o.runtime="tfjs",o.maxFaces==null&&(o.maxFaces=l_.maxFaces),o.refineLandmarks==null&&(o.refineLandmarks=l_.refineLandmarks),o.landmarkModelUrl==null&&(o.landmarkModelUrl=o.refineLandmarks?"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/attention_mesh/1":"https://tfhub.dev/mediapipe/tfjs-model/face_landmarks_detection/face_mesh/1"),o}(t),n=typeof e.landmarkModelUrl=="string"&&e.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Dc(e.landmarkModelUrl,{fromTFHub:n})];case 1:return r=i.sent(),[4,IPe(Ob.MediaPipeFaceDetector,{modelType:"short",maxFaces:e.maxFaces,detectorModelUrl:e.detectorModelUrl,runtime:e.runtime})];case 2:return a=i.sent(),[2,new qPe(a,r,e.maxFaces,e.refineLandmarks)]}})})}function KPe(t,e){return Ql(this,void 0,void 0,function(){var n,r;return Zl(this,function(a){if(t===dh.MediaPipeFaceMesh){if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,YPe(n)];if(n.runtime==="mediapipe")return[2,hPe(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r)}throw new Error(t+" is not a supported model name.")})})}(function(t){t.MediaPipeFaceMesh="MediaPipeFaceMesh"})(dh||(dh={}));var XPe=Object.freeze({__proto__:null,getKeypointIndexByContour:function(t){if(t===dh.MediaPipeFaceMesh)return RY;throw new Error("Model "+t+" is not supported.")},getAdjacentPairs:function(t){if(t===dh.MediaPipeFaceMesh)return uPe;throw new Error("Model "+t+" is not supported.")}});/**
    * @license
    * Copyright 2022 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var zY=function(t,e){return(zY=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])})(t,e)};function UY(t,e){function n(){this.constructor=t}zY(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fn=function(){return(Fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function cn(t,e,n,r){return new(n||(n=Promise))(function(a,i){function s(u){try{l(r.next(u))}catch(c){i(c)}}function o(u){try{l(r.throw(u))}catch(c){i(c)}}function l(u){var c;u.done?a(u.value):(c=u.value,c instanceof n?c:new n(function(d){d(c)})).then(s,o)}l((r=r.apply(t,e||[])).next())})}function dn(t,e){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(a=s.trys,!((a=a.length>0&&a[a.length-1])||c[0]!==6&&c[0]!==2)){s=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){s.label=c[1];break}if(c[0]===6&&s.label<a[1]){s.label=a[1],a=c;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(c);break}a[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(d){c=[6,d],r=0}finally{n=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([l,u])}}}function _d(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),a=0;for(e=0;e<n;e++)for(var i=arguments[e],s=0,o=i.length;s<o;s++,a++)r[a]=i[s];return r}var Al=["nose","left_eye","right_eye","left_ear","right_ear","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle"],e0=["nose","left_eye_inner","left_eye","left_eye_outer","right_eye_inner","right_eye","right_eye_outer","left_ear","right_ear","mouth_left","mouth_right","left_shoulder","right_shoulder","left_elbow","right_elbow","left_wrist","right_wrist","left_pinky","right_pinky","left_index","right_index","left_thumb","right_thumb","left_hip","right_hip","left_knee","right_knee","left_ankle","right_ankle","left_heel","right_heel","left_foot_index","right_foot_index"],QPe={left:[1,2,3,7,9,11,13,15,17,19,21,23,25,27,29,31],right:[4,5,6,8,10,12,14,16,18,20,22,24,26,28,30,32],middle:[0]},ZPe={left:[1,3,5,7,9,11,13,15],right:[2,4,6,8,10,12,14,16],middle:[0]},JPe=[[0,1],[0,2],[1,3],[2,4],[5,6],[5,7],[5,11],[6,8],[6,12],[7,9],[8,10],[11,12],[11,13],[12,14],[13,15],[14,16]],eMe=[[0,1],[0,4],[1,2],[2,3],[3,7],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[11,23],[12,14],[14,16],[12,24],[13,15],[15,17],[16,18],[16,20],[15,17],[15,19],[15,21],[16,22],[17,19],[18,20],[23,25],[23,24],[24,26],[25,27],[26,28],[27,29],[28,30],[27,31],[28,32],[29,31],[30,32]];function Lb(t){return t instanceof SVGAnimatedLength?t.baseVal.value:t}function jY(t){return cn(this,void 0,void 0,function(){var e,n;return dn(this,function(r){switch(r.label){case 0:return e=document.createElement("canvas"),t instanceof en?[4,T0(t,e)]:[3,2];case 1:return r.sent(),[3,3];case 2:e.width=Lb(t.width),e.height=Lb(t.height),n=e.getContext("2d"),t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0),r.label=3;case 3:return[2,e]}})})}function VY(t){return cn(this,void 0,void 0,function(){var e,n,r,a,i,s;return dn(this,function(o){switch(o.label){case 0:return t instanceof en?(e=t.shape.slice(0,2),n=e[0],r=e[1],a=ImageData.bind,[4,T0(t)]):[3,2];case 1:return[2,new(a.apply(ImageData,[void 0,o.sent(),r,n]))];case 2:return i=document.createElement("canvas"),s=i.getContext("2d"),i.width=Lb(t.width),i.height=Lb(t.height),s.drawImage(t,0,0),[2,s.getImageData(0,0,i.width,i.height)]}})})}function tMe(t){return cn(this,void 0,void 0,function(){var e,n;return dn(this,function(r){switch(r.label){case 0:return t instanceof SVGImageElement||t instanceof OffscreenCanvas?[4,jY(t)]:[3,2];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:return e=n,[2,C0(e,4)]}})})}function WY(t){if(t<0||t>=256)throw new Error("Mask value must be in range [0, 255] but got "+t);if(!Number.isInteger(t))throw new Error("Mask value must be an integer but got "+t)}var cm={runtime:"mediapipe",enableSmoothing:!0,enableSegmentation:!1,smoothSegmentation:!0,modelType:"full"},nMe=function(){function t(e){this.mask=e}return t.prototype.toCanvasImageSource=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,this.mask]})})},t.prototype.toImageData=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,VY(this.mask)]})})},t.prototype.toTensor=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,tMe(this.mask)]})})},t.prototype.getUnderlyingType=function(){return"canvasimagesource"},t}();function rMe(t){return WY(t),"person"}var aMe=function(){function t(e){var n,r=this;switch(this.width=0,this.height=0,this.selfieMode=!1,this.poseSolution=new xye({locateFile:function(a,i){return e.solutionPath?e.solutionPath.replace(/\/+$/,"")+"/"+a:i+"/"+a}}),e.modelType){case"lite":n=0;break;case"heavy":n=2;break;case"full":default:n=1}this.poseSolution.setOptions({modelComplexity:n,smoothLandmarks:e.enableSmoothing,enableSegmentation:e.enableSegmentation,smoothSegmentation:e.smoothSegmentation,selfieMode:this.selfieMode}),this.poseSolution.onResults(function(a){if(r.height=a.image.height,r.width=a.image.width,a.poseLandmarks==null)r.poses=[];else{var i=r.translateOutput(a.poseLandmarks,a.poseWorldLandmarks);a.segmentationMask&&(i.segmentation={maskValueToLabel:rMe,mask:new nMe(a.segmentationMask)}),r.poses=[i]}})}return t.prototype.translateOutput=function(e,n){var r=this,a={keypoints:e.map(function(i,s){return{x:i.x*r.width,y:i.y*r.height,z:i.z,score:i.visibility,name:e0[s]}})};return n!=null&&(a.keypoints3D=n.map(function(i,s){return{x:i.x,y:i.y,z:i.z,score:i.visibility,name:e0[s]}})),a},t.prototype.estimatePoses=function(e,n,r){return cn(this,void 0,void 0,function(){var a,i;return dn(this,function(s){switch(s.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.poseSolution.setOptions({selfieMode:this.selfieMode})),e instanceof en?(i=ImageData.bind,[4,T0(e)]):[3,2];case 1:return a=new(i.apply(ImageData,[void 0,s.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:a=e,s.label=3;case 3:return e=a,[4,this.poseSolution.send({image:e},r)];case 4:return s.sent(),[2,this.poses]}})})},t.prototype.dispose=function(){this.poseSolution.close()},t.prototype.reset=function(){this.poseSolution.reset()},t.prototype.initialize=function(){return this.poseSolution.initialize()},t}();function iMe(t){return cn(this,void 0,void 0,function(){var e,n;return dn(this,function(r){switch(r.label){case 0:return e=function(a){if(a==null)return Fn({},cm);var i=Fn({},a);return i.runtime="mediapipe",i.enableSegmentation==null&&(i.enableSegmentation=cm.enableSegmentation),i.enableSmoothing==null&&(i.enableSmoothing=cm.enableSmoothing),i.smoothSegmentation==null&&(i.smoothSegmentation=cm.smoothSegmentation),i.modelType==null&&(i.modelType=cm.modelType),i}(t),[4,(n=new aMe(e)).initialize()];case 1:return r.sent(),[2,n]}})})}function t0(t){return t instanceof en?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function GY(t){return t-2*Math.PI*Math.floor((t+Math.PI)/(2*Math.PI))}function $I(t){return t instanceof en?t:C0(t)}function HY(t,e,n){return r5(n,"inputResolution"),[1/n.width*t[0][0]*e.width,1/n.height*t[0][1]*e.width,t[0][3]*e.width,1/n.width*t[1][0]*e.height,1/n.height*t[1][1]*e.height,t[1][3]*e.height,0,0]}function r5(t,e){V(t.width!==0,function(){return e+" width cannot be 0."}),V(t.height!==0,function(){return e+" height cannot be 0."})}function c_(t,e,n){var r=n.rotationVectorStartKeypointIndex,a=n.rotationVectorEndKeypointIndex,i=t.locationData,s=i.relativeKeypoints[r].x*e.width,o=i.relativeKeypoints[r].y*e.height,l=i.relativeKeypoints[a].x*e.width,u=i.relativeKeypoints[a].y*e.height,c=2*Math.sqrt((l-s)*(l-s)+(u-o)*(u-o)),d=function(f,p,m){var g,v=f.locationData,y=m.rotationVectorStartKeypointIndex,b=m.rotationVectorEndKeypointIndex;g=m.rotationVectorTargetAngle?m.rotationVectorTargetAngle:Math.PI*m.rotationVectorTargetAngleDegree/180;var w=v.relativeKeypoints[y].x*p.width,x=v.relativeKeypoints[y].y*p.height,k=v.relativeKeypoints[b].x*p.width,S=v.relativeKeypoints[b].y*p.height;return GY(g-Math.atan2(-(S-x),k-w))}(t,e,n);return{xCenter:s/e.width,yCenter:o/e.height,width:c/e.width,height:c/e.height,rotation:d}}function qY(t){if(t.length!==16)throw new Error("Array length must be 16 but got "+t.length);return[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}function d_(t,e,n,r,a,i,s){return t[e][a]*(t[n][i]*t[r][s]-t[n][s]*t[r][i])}function Wa(t,e,n){var r=(e+1)%4,a=(e+2)%4,i=(e+3)%4,s=(n+1)%4,o=(n+2)%4,l=(n+3)%4;return d_(t,r,a,i,s,o,l)+d_(t,a,i,r,s,o,l)+d_(t,i,r,a,s,o,l)}function NO(t,e,n){n===void 0&&(n={ignoreRotation:!1});for(var r=[],a=0,i=t;a<i.length;a++){var s=i[a],o=s.x-.5,l=s.y-.5,u=n.ignoreRotation?0:e.rotation,c=Math.cos(u)*o-Math.sin(u)*l,d=Math.sin(u)*o+Math.cos(u)*l;c=c*e.width+e.xCenter,d=d*e.height+e.yCenter;var f=s.z*e.width,p=Fn({},s);p.x=c,p.y=d,p.z=f,r.push(p)}return r}function YY(t,e){var n=function(r,a,i,s){var o=a-r,l=s-i;if(o===0)throw new Error("Original min and max are both "+r+", range cannot be 0.");var u=l/o;return{scale:u,offset:i-r*u}}(0,255,e[0],e[1]);return me(function(){return Ae(ee(t,n.scale),n.offset)})}function a5(t,e,n){var r,a,i,s,o,l,u,c,d,f,p,m,g,v,y=e.outputTensorSize,b=e.keepAspectRatio,w=e.borderMode,x=e.outputTensorFloatRange,k=t0(t),S=function(C,R){return R?{xCenter:R.xCenter*C.width,yCenter:R.yCenter*C.height,width:R.width*C.width,height:R.height*C.height,rotation:R.rotation}:{xCenter:.5*C.width,yCenter:.5*C.height,width:C.width,height:C.height,rotation:0}}(k,n),E=function(C,R,z){if(z===void 0&&(z=!1),!z)return{top:0,left:0,right:0,bottom:0};var H=R.height,U=R.width;r5(R,"targetSize"),r5(C,"roi");var q,Q,re=H/U,he=C.height/C.width,ae=0,se=0;return re>he?(q=C.width,Q=C.width*re,se=(1-he/re)/2):(q=C.height/re,Q=C.height,ae=(1-re/he)/2),C.width=q,C.height=Q,{top:se,left:ae,right:ae,bottom:se}}(S,y,b),I=(r=S,a=k.width,i=k.height,s=!1,o=r.width,l=r.height,u=s?-1:1,c=Math.cos(r.rotation),d=Math.sin(r.rotation),f=r.xCenter,p=r.yCenter,m=1/a,g=1/i,(v=new Array(16))[0]=o*c*u*m,v[1]=-l*d*m,v[2]=0,v[3]=(-.5*o*c*u+.5*l*d+f)*m,v[4]=o*d*u*g,v[5]=l*c*g,v[6]=0,v[7]=(-.5*l*c-.5*o*d*u+p)*g,v[8]=0,v[9]=0,v[10]=o*m,v[11]=0,v[12]=0,v[13]=0,v[14]=0,v[15]=1,qY(v));return{imageTensor:me(function(){var C=$I(t),R=_i(HY(I,k,y),[1,8]),z=w==="zero"?"constant":"nearest",H=wa.transform(hr(tt(C,"float32")),R,"bilinear",z,0,[y.height,y.width]);return x!=null?YY(H,x):H}),padding:E,transformationMatrix:I}}function EO(t,e,n,r){return r===1?.5*(t+e):t+(e-t)*n/(r-1)}function sMe(t){return me(function(){var e=function(a){return me(function(){return[bt(a,[0,0,0],[1,-1,1]),bt(a,[0,0,1],[1,-1,-1])]})}(t),n=e[0],r=e[1];return{boxes:Rt(r),logits:Rt(n)}})}function KY(t){return t!=null&&t.currentTime!=null}function TO(t){for(var e={locationData:{relativeKeypoints:[]}},n=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,s=0;s<t.length;++s){var o=t[s];n=Math.min(n,o.x),r=Math.max(r,o.x),a=Math.min(a,o.y),i=Math.max(i,o.y),e.locationData.relativeKeypoints.push({x:o.x,y:o.y})}return e.locationData.relativeBoundingBox={xMin:n,yMin:a,xMax:r,yMax:i,width:r-n,height:i-a},e}function oMe(t,e,n,r){return cn(this,void 0,void 0,function(){var a,i,s,o,l;return dn(this,function(u){switch(u.label){case 0:return t.sort(function(c,d){return Math.max.apply(Math,d.score)-Math.max.apply(Math,c.score)}),a=_i(t.map(function(c){return[c.locationData.relativeBoundingBox.yMin,c.locationData.relativeBoundingBox.xMin,c.locationData.relativeBoundingBox.yMax,c.locationData.relativeBoundingBox.xMax]})),i=Kn(t.map(function(c){return c.score[0]})),[4,wa.nonMaxSuppressionAsync(a,i,e,n)];case 1:return[4,(s=u.sent()).array()];case 2:return o=u.sent(),l=t.filter(function(c,d){return o.indexOf(d)>-1}),pt([a,i,s]),[2,l]}})})}function XY(t,e){return t.map(function(n){var r=Fn(Fn({},n),{x:n.x*e.width,y:n.y*e.height});return n.z!=null&&(r.z=n.z*e.width),r})}function lMe(t,e,n){return cn(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m,g,v,y,b,w,x,k,S,E,I,C,R;return dn(this,function(z){switch(z.label){case 0:if(r=Rt(e,[0]),a=r.shape,i=a[0],s=a[1],o=a[2],t.length!==o)throw new Error("Expected heatmap to have same number of channels as the number of landmarks. But got landmarks length: "+t.length+", heatmap length: "+o);return l=[],[4,r.buffer()];case 1:for(u=z.sent(),c=0;c<t.length;c++)if(d=t[c],f=Fn({},d),l.push(f),p=Math.trunc(f.x*s),m=Math.trunc(f.y*i),!(p<0||p>=s||m<0||p>=i)){for(g=Math.trunc((n.kernelSize-1)/2),v=Math.max(0,p-g),y=Math.min(s,p+g+1),b=Math.max(0,m-g),w=Math.min(i,m+g+1),x=0,k=0,S=0,E=0,I=b;I<w;++I)for(C=v;C<y;++C)R=u.get(I,C,c),x+=R,E=Math.max(E,R),k+=C*R,S+=I*R;E>=n.minConfidenceToRefine&&x>0&&(f.x=k/s/x,f.y=S/i/x)}return r.dispose(),[2,l]}})})}function CO(t,e){var n=e.left,r=e.top,a=e.left+e.right,i=e.top+e.bottom;return t.map(function(s){return Fn(Fn({},s),{x:(s.x-n)/(1-a),y:(s.y-r)/(1-i),z:s.z/(1-a)})})}function uMe(t,e,n){return fb()==="webgl"?function(r,a,i){var s=i.combineWithPreviousRatio.toFixed(2),o={variableNames:["prevMask","newMask"],outputShape:r.shape,userCode:`
  void main() {
      ivec2 coords = getOutputCoords();
      int height = coords[0];
      int width = coords[1];

      float prevMaskValue = getPrevMask(height, width);
      float newMaskValue = getNewMask(height, width);

      /*
      * Assume p := newMaskValue
      * H(p) := 1 + (p * log(p) + (1-p) * log(1-p)) / log(2)
      * uncertainty alpha(p) =
      *   Clamp(1 - (1 - H(p)) * (1 - H(p)), 0, 1) [squaring the
      * uncertainty]
      *
      * The following polynomial approximates uncertainty alpha as a
      * function of (p + 0.5):
      */
      const float c1 = 5.68842;
      const float c2 = -0.748699;
      const float c3 = -57.8051;
      const float c4 = 291.309;
      const float c5 = -624.717;
      float t = newMaskValue - 0.5;
      float x = t * t;

      float uncertainty =
        1.0 - min(1.0, x * (c1 + x * (c2 + x * (c3 + x * (c4 + x * c5)))));

      float outputValue = newMaskValue + (prevMaskValue - newMaskValue) *
                             (uncertainty * `+s+`);

      setOutput(outputValue);
    }
`},l=IV();return me(function(){var u=l.compileAndRun(o,[r,a]);return sd().makeTensorFromDataId(u.dataId,u.shape,u.dtype)})}(t,e,n):me(function(){var r=lt(e,.5),a=On(r),i=lt(1,R0(1,ee(a,Ae(5.68842,ee(a,Ae(-.748699,ee(a,Ae(-57.8051,ee(a,Ae(291.309,ee(a,-624.717)))))))))));return Ae(e,ee(lt(t,e),ee(i,n.combineWithPreviousRatio)))})}function cMe(t,e,n){return cn(this,void 0,void 0,function(){var r,a,i,s,o;return dn(this,function(l){switch(l.label){case 0:return r=t[0],a=t[1],i=function(u,c,d){return me(function(){var f,p,m,g;d.reverseOutputOrder?(p=Rt(bt(u,[0,d.boxCoordOffset+0],[-1,1])),f=Rt(bt(u,[0,d.boxCoordOffset+1],[-1,1])),g=Rt(bt(u,[0,d.boxCoordOffset+2],[-1,1])),m=Rt(bt(u,[0,d.boxCoordOffset+3],[-1,1]))):(f=Rt(bt(u,[0,d.boxCoordOffset+0],[-1,1])),p=Rt(bt(u,[0,d.boxCoordOffset+1],[-1,1])),m=Rt(bt(u,[0,d.boxCoordOffset+2],[-1,1])),g=Rt(bt(u,[0,d.boxCoordOffset+3],[-1,1]))),p=Ae(ee(Je(p,d.xScale),c.w),c.x),f=Ae(ee(Je(f,d.yScale),c.h),c.y),d.applyExponentialOnBoxSize?(m=ee(ni(Je(m,d.hScale)),c.h),g=ee(ni(Je(g,d.wScale)),c.w)):(m=ee(Je(m,d.hScale),c.h),g=ee(Je(g,d.wScale),c.h));var v=lt(f,Je(m,2)),y=lt(p,Je(g,2)),b=Ae(f,Je(m,2)),w=Ae(p,Je(g,2)),x=ar([ue(v,[d.numBoxes,1]),ue(y,[d.numBoxes,1]),ue(b,[d.numBoxes,1]),ue(w,[d.numBoxes,1])],1);if(d.numKeypoints)for(var k=0;k<d.numKeypoints;++k){var S=d.keypointCoordOffset+k*d.numValuesPerKeypoint,E=void 0,I=void 0;d.reverseOutputOrder?(E=Rt(bt(u,[0,S],[-1,1])),I=Rt(bt(u,[0,S+1],[-1,1]))):(I=Rt(bt(u,[0,S],[-1,1])),E=Rt(bt(u,[0,S+1],[-1,1])));var C=Ae(ee(Je(E,d.xScale),c.w),c.x),R=Ae(ee(Je(I,d.yScale),c.h),c.y);x=ar([x,ue(C,[d.numBoxes,1]),ue(R,[d.numBoxes,1])],1)}return x})}(a,e,n),s=me(function(){var u=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(u=Si(r,-n.scoreClippingThresh,n.scoreClippingThresh)),u=xs(u)):u}),[4,dMe(i,s,n)];case 1:return o=l.sent(),pt([i,s]),[2,o]}})})}function dMe(t,e,n){return cn(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m;return dn(this,function(g){switch(g.label){case 0:return r=[],[4,t.data()];case 1:return a=g.sent(),[4,e.data()];case 2:for(i=g.sent(),s=0;s<n.numBoxes;++s)if(!(n.minScoreThresh!=null&&i[s]<n.minScoreThresh||(o=s*n.numCoords,l=hMe(a[o+0],a[o+1],a[o+2],a[o+3],i[s],n.flipVertically,s),(u=l.locationData.relativeBoundingBox).width<0||u.height<0))){if(n.numKeypoints>0)for((c=l.locationData).relativeKeypoints=[],d=n.numKeypoints*n.numValuesPerKeypoint,f=0;f<d;f+=n.numValuesPerKeypoint)p=o+n.keypointCoordOffset+f,m={x:a[p+0],y:n.flipVertically?1-a[p+1]:a[p+1]},c.relativeKeypoints.push(m);r.push(l)}return[2,r]}})})}function hMe(t,e,n,r,a,i,s){return{score:[a],ind:s,locationData:{relativeBoundingBox:{xMin:e,yMin:i?1-n:t,xMax:r,yMax:i?1-t:n,width:r-e,height:n-t}}}}function fMe(t,e){return t==="none"?e:function(n){return 1/(1+Math.exp(-n))}(e)}function IO(t,e,n,r){return cn(this,void 0,void 0,function(){var a,i,s,o,l,u,c,d;return dn(this,function(f){switch(f.label){case 0:return n=n||e.flipHorizontally||!1,r=r||e.flipVertically||!1,a=t.size,i=a/e.numLandmarks,[4,t.data()];case 1:for(s=f.sent(),o=[],l=0;l<e.numLandmarks;++l)u=l*i,(d={x:0,y:0}).x=n?e.inputImageWidth-s[u]:s[u],i>1&&(d.y=r?e.inputImageHeight-s[u+1]:s[u+1]),i>2&&(d.z=s[u+2]),i>3&&(d.score=fMe(e.visibilityActivation,s[u+3])),o.push(d);for(c=0;c<o.length;++c)(d=o[c]).x=d.x/e.inputImageWidth,d.y=d.y/e.inputImageHeight,d.z=d.z/e.inputImageWidth/(e.normalizeZ||1);return[2,o]}})})}function AO(t,e,n){var r=t.width,a=t.height,i=t.rotation;if(n.rotation==null&&n.rotationDegree==null||(i=function(c,d){return d.rotation!=null?c+=d.rotation:d.rotationDegree!=null&&(c+=Math.PI*d.rotationDegree/180),GY(c)}(i,n)),i===0)t.xCenter=t.xCenter+r*n.shiftX,t.yCenter=t.yCenter+a*n.shiftY;else{var s=(e.width*r*n.shiftX*Math.cos(i)-e.height*a*n.shiftY*Math.sin(i))/e.width,o=(e.width*r*n.shiftX*Math.sin(i)+e.height*a*n.shiftY*Math.cos(i))/e.height;t.xCenter=t.xCenter+s,t.yCenter=t.yCenter+o}if(n.squareLong){var l=Math.max(r*e.width,a*e.height);r=l/e.width,a=l/e.height}else if(n.squareShort){var u=Math.min(r*e.width,a*e.height);r=u/e.width,a=u/e.height}return t.width=r*n.scaleX,t.height=a*n.scaleY,t}function pMe(t,e){return t.map(function(n){var r=Fn(Fn({},n),{x:n.x/e.width,y:n.y/e.height});return n.z!=null&&(n.z=n.z/e.width),r})}var qu=function(){function t(e){this.alpha=e,this.initialized=!1}return t.prototype.apply=function(e,n){var r;return this.initialized?r=n==null?this.storedValue+this.alpha*(e-this.storedValue):this.storedValue+this.alpha*n*Math.asinh((e-this.storedValue)/n):(r=e,this.initialized=!0),this.rawValue=e,this.storedValue=r,r},t.prototype.applyWithAlpha=function(e,n,r){return this.alpha=n,this.apply(e,r)},t.prototype.hasLastRawValue=function(){return this.initialized},t.prototype.lastRawValue=function(){return this.rawValue},t.prototype.reset=function(){this.initialized=!1},t}(),h_=function(){function t(e){this.frequency=e.frequency,this.minCutOff=e.minCutOff,this.beta=e.beta,this.thresholdCutOff=e.thresholdCutOff,this.thresholdBeta=e.thresholdBeta,this.derivateCutOff=e.derivateCutOff,this.x=new qu(this.getAlpha(this.minCutOff)),this.dx=new qu(this.getAlpha(this.derivateCutOff)),this.lastTimestamp=0}return t.prototype.apply=function(e,n,r){if(e==null)return e;var a=Math.trunc(n);if(this.lastTimestamp>=a)return e;this.lastTimestamp!==0&&a!==0&&(this.frequency=1/(1e-6*(a-this.lastTimestamp))),this.lastTimestamp=a;var i=this.x.hasLastRawValue()?(e-this.x.lastRawValue())*r*this.frequency:0,s=this.dx.applyWithAlpha(i,this.getAlpha(this.derivateCutOff)),o=this.minCutOff+this.beta*Math.abs(s),l=this.thresholdCutOff!=null?this.thresholdCutOff+this.thresholdBeta*Math.abs(s):null;return this.x.applyWithAlpha(e,this.getAlpha(o),l)},t.prototype.getAlpha=function(e){return 1/(1+this.frequency/(2*Math.PI*e))},t}(),i5=function(){function t(e){this.config=e}return t.prototype.apply=function(e,n,r){var a=this;if(e==null)return this.reset(),null;this.initializeFiltersIfEmpty(e);var i=1;if(!this.config.disableValueScaling){if(r<this.config.minAllowedObjectScale)return _d(e);i=1/r}return e.map(function(s,o){var l=Fn(Fn({},s),{x:a.xFilters[o].apply(s.x,n,i),y:a.yFilters[o].apply(s.y,n,i)});return s.z!=null&&(l.z=a.zFilters[o].apply(s.z,n,i)),l})},t.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},t.prototype.initializeFiltersIfEmpty=function(e){var n=this;this.xFilters!=null&&this.xFilters.length===e.length||(this.xFilters=e.map(function(r){return new h_(n.config)}),this.yFilters=e.map(function(r){return new h_(n.config)}),this.zFilters=e.map(function(r){return new h_(n.config)}))},t}(),f_=function(){function t(e){this.config=e,this.window=[],this.lowPassFilter=new qu(1),this.lastValue=0,this.lastValueScale=1,this.lastTimestamp=-1}return t.prototype.apply=function(e,n,r){if(e==null)return e;var a,i=Math.trunc(n);if(this.lastTimestamp>=i)return e;if(this.lastTimestamp===-1)a=1;else{for(var s=e*r-this.lastValue*this.lastValueScale,o=i-this.lastTimestamp,l=s,u=o,c=(1+this.window.length)*(1e6/30),d=0,f=this.window;d<f.length;d++){var p=f[d];if(u+p.duration>c)break;l+=p.distance,u+=p.duration}var m=l/(1e-6*u);a=1-1/(1+this.config.velocityScale*Math.abs(m)),this.window.unshift({distance:s,duration:o}),this.window.length>this.config.windowSize&&this.window.pop()}return this.lastValue=e,this.lastValueScale=r,this.lastTimestamp=i,this.lowPassFilter.applyWithAlpha(e,a)},t}(),mMe=function(){function t(e){this.config=e}return t.prototype.apply=function(e,n,r){var a=this;if(e==null)return this.reset(),null;var i=1;if(!this.config.disableValueScaling){if(r<this.config.minAllowedObjectScale)return _d(e);i=1/r}return this.initializeFiltersIfEmpty(e),e.map(function(s,o){var l=Fn(Fn({},s),{x:a.xFilters[o].apply(s.x,n,i),y:a.yFilters[o].apply(s.y,n,i)});return s.z!=null&&(l.z=a.zFilters[o].apply(s.z,n,i)),l})},t.prototype.reset=function(){this.xFilters=null,this.yFilters=null,this.zFilters=null},t.prototype.initializeFiltersIfEmpty=function(e){var n=this;this.xFilters!=null&&this.xFilters.length===e.length||(this.xFilters=e.map(function(r){return new f_(n.config)}),this.yFilters=e.map(function(r){return new f_(n.config)}),this.zFilters=e.map(function(r){return new f_(n.config)}))},t}(),p_=function(){function t(e){if(e.velocityFilter!=null)this.keypointsFilter=new mMe(e.velocityFilter);else{if(e.oneEuroFilter==null)throw new Error("Either configure velocityFilter or oneEuroFilter, but got "+e+".");this.keypointsFilter=new i5(e.oneEuroFilter)}}return t.prototype.apply=function(e,n,r,a,i){if(a===void 0&&(a=!1),e==null)return this.keypointsFilter.reset(),null;var s=i!=null?function(u,c){return(u.width*c.width+u.height*c.height)/2}(i,r):1,o=a?XY(e,r):e,l=this.keypointsFilter.apply(o,n,s);return a?pMe(l,r):l},t}(),DO=function(){function t(e){this.alpha=e.alpha}return t.prototype.apply=function(e){var n=this;if(e==null)return this.visibilityFilters=null,null;this.visibilityFilters!=null&&this.visibilityFilters.length===e.length||(this.visibilityFilters=e.map(function(o){return new qu(n.alpha)}));for(var r=[],a=0;a<e.length;++a){var i=e[a],s=Fn({},i);s.score=this.visibilityFilters[a].apply(i.score),r.push(s)}return r},t}(),gMe={reduceBoxesInLowestlayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:5,minScale:.1484375,maxScale:.75,inputSizeHeight:224,inputSizeWidth:224,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,32,32,32],aspectRatios:[1],fixedAnchorSize:!0},Ph={runtime:"tfjs",modelType:"full",enableSmoothing:!0,enableSegmentation:!1,smoothSegmentation:!0,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/detector/1",landmarkModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/2"},yMe={maxPoses:1,flipHorizontal:!1},bMe={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2254,numCoords:12,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:4,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:224,yScale:224,hScale:224,wScale:224,minScoreThresh:.5},vMe=.3,RO={shiftX:0,shiftY:0,scaleX:1.25,scaleY:1.25,squareLong:!0},wMe={outputTensorSize:{width:224,height:224},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},xMe={outputTensorSize:{width:256,height:256},keepAspectRatio:!0,outputTensorFloatRange:[0,1],borderMode:"zero"},_Me={numLandmarks:39,inputImageWidth:256,inputImageHeight:256,visibilityActivation:"sigmoid",flipHorizontally:!1,flipVertically:!1},kMe={numLandmarks:39,inputImageWidth:1,inputImageHeight:1,visibilityActivation:"sigmoid",flipHorizontally:!1,flipVertically:!1},SMe={kernelSize:7,minConfidenceToRefine:.5},$O={alpha:.1},NMe={oneEuroFilter:{frequency:30,minCutOff:.05,beta:80,derivateCutOff:1,minAllowedObjectScale:1e-6}},EMe={oneEuroFilter:{frequency:30,minCutOff:.01,beta:10,derivateCutOff:1,minAllowedObjectScale:1e-6}},TMe={oneEuroFilter:{frequency:30,minCutOff:.1,beta:40,derivateCutOff:1,minAllowedObjectScale:1e-6,disableValueScaling:!0}},CMe={activation:"none"},IMe={combineWithPreviousRatio:.7},AMe=function(){function t(e){this.mask=e}return t.prototype.toCanvasImageSource=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,jY(this.mask)]})})},t.prototype.toImageData=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,VY(this.mask)]})})},t.prototype.toTensor=function(){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,this.mask]})})},t.prototype.getUnderlyingType=function(){return"tensor"},t}();function DMe(t){return WY(t),"person"}var RMe=function(){function t(e,n,r,a,i,s){this.detectorModel=e,this.landmarkModel=n,this.enableSmoothing=r,this.enableSegmentation=a,this.smoothSegmentation=i,this.modelType=s,this.regionOfInterest=null,this.prevFilteredSegmentationMask=null,this.anchors=function(d){d.reduceBoxesInLowestLayer==null&&(d.reduceBoxesInLowestLayer=!1),d.interpolatedScaleAspectRatio==null&&(d.interpolatedScaleAspectRatio=1),d.fixedAnchorSize==null&&(d.fixedAnchorSize=!1);for(var f=[],p=0;p<d.numLayers;){for(var m=[],g=[],v=[],y=[],b=p;b<d.strides.length&&d.strides[b]===d.strides[p];){var w=EO(d.minScale,d.maxScale,b,d.strides.length);if(b===0&&d.reduceBoxesInLowestLayer)v.push(1),v.push(2),v.push(.5),y.push(.1),y.push(w),y.push(w);else{for(var x=0;x<d.aspectRatios.length;++x)v.push(d.aspectRatios[x]),y.push(w);if(d.interpolatedScaleAspectRatio>0){var k=b===d.strides.length-1?1:EO(d.minScale,d.maxScale,b+1,d.strides.length);y.push(Math.sqrt(w*k)),v.push(d.interpolatedScaleAspectRatio)}}b++}for(var S=0;S<v.length;++S){var E=Math.sqrt(v[S]);m.push(y[S]/E),g.push(y[S]*E)}var I=0,C=0;if(d.featureMapHeight.length>0)I=d.featureMapHeight[p],C=d.featureMapWidth[p];else{var R=d.strides[p];I=Math.ceil(d.inputSizeHeight/R),C=Math.ceil(d.inputSizeWidth/R)}for(var z=0;z<I;++z)for(var H=0;H<C;++H)for(var U=0;U<m.length;++U){var q={xCenter:(H+d.anchorOffsetX)/C,yCenter:(z+d.anchorOffsetY)/I,width:0,height:0};d.fixedAnchorSize?(q.width=1,q.height=1):(q.width=g[U],q.height=m[U]),f.push(q)}p=b}return f}(gMe);var o=Kn(this.anchors.map(function(d){return d.width})),l=Kn(this.anchors.map(function(d){return d.height})),u=Kn(this.anchors.map(function(d){return d.xCenter})),c=Kn(this.anchors.map(function(d){return d.yCenter}));this.anchorTensor={x:u,y:c,w:o,h:l},this.prevFilteredSegmentationMask=this.enableSegmentation?_i([],[0,0]):null}return t.prototype.estimatePoses=function(e,n,r){return cn(this,void 0,void 0,function(){var a,i,s,o,l,u,c,d,f,p,m,g,v,y,b,w,x,k,S,E,I,C,R;return dn(this,function(z){switch(z.label){case 0:return a=function(H){var U;if((U=H==null?yMe:Fn({},H)).maxPoses==null&&(U.maxPoses=1),U.maxPoses<=0)throw new Error("Invalid maxPoses "+U.maxPoses+". Should be > 0.");if(U.maxPoses>1)throw new Error("Multi-pose detection is not implemented yet. Please set maxPoses to 1.");return U}(n),e==null?(this.reset(),[2,[]]):(this.maxPoses=a.maxPoses,this.timestamp=r!=null?1e3*r:KY(e)?1e6*e.currentTime:null,i=t0(e),s=me(function(){return tt($I(e),"float32")}),(o=this.regionOfInterest)!=null?[3,2]:[4,this.detectPose(s)]);case 1:if((l=z.sent()).length===0)return this.reset(),s.dispose(),[2,[]];u=l[0],o=this.poseDetectionToRoi(u,i),z.label=2;case 2:return[4,this.poseLandmarksByRoi(o,s)];case 3:return c=z.sent(),s.dispose(),c==null?(this.reset(),[2,[]]):(d=c.landmarks,f=c.auxiliaryLandmarks,p=c.poseScore,m=c.worldLandmarks,g=c.segmentationMask,v=this.poseLandmarkFiltering(d,f,m,i),y=v.actualLandmarksFiltered,b=v.auxiliaryLandmarksFiltered,w=v.actualWorldLandmarksFiltered,x=this.poseLandmarksToRoi(b,i),this.regionOfInterest=x,k=this.smoothSegmentation&&g!=null?this.poseSegmentationFiltering(g):g,(S=y!=null?XY(y,i):null)!=null&&S.forEach(function(H,U){H.name=e0[U]}),(E=w)!=null&&E.forEach(function(H,U){H.name=e0[U]}),I={score:p,keypoints:S,keypoints3D:E},k!==null&&(C=me(function(){var H=hr(k,2),U=Cl(H,[[0,0],[0,0],[0,1]]);return yW(U,[[0,0],[0,0],[0,2]],"symmetric")}),this.smoothSegmentation||pt(k),R={maskValueToLabel:DMe,mask:new AMe(C)},I.segmentation=R),[2,[I]])}})})},t.prototype.poseSegmentationFiltering=function(e){var n=this.prevFilteredSegmentationMask;return n.size===0?this.prevFilteredSegmentationMask=e:(this.prevFilteredSegmentationMask=uMe(n,e,IMe),pt(e)),pt(n),this.prevFilteredSegmentationMask},t.prototype.dispose=function(){this.detectorModel.dispose(),this.landmarkModel.dispose(),pt([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h,this.prevFilteredSegmentationMask])},t.prototype.reset=function(){this.regionOfInterest=null,this.enableSegmentation&&(pt(this.prevFilteredSegmentationMask),this.prevFilteredSegmentationMask=_i([],[0,0])),this.visibilitySmoothingFilterActual=null,this.visibilitySmoothingFilterAuxiliary=null,this.landmarksSmoothingFilterActual=null,this.landmarksSmoothingFilterAuxiliary=null},t.prototype.detectPose=function(e){return cn(this,void 0,void 0,function(){var n,r,a,i,s,o,l,u,c,d;return dn(this,function(f){switch(f.label){case 0:return n=a5(e,wMe),r=n.imageTensor,a=n.padding,i=this.detectorModel.predict(r),s=sMe(i),o=s.boxes,[4,cMe([l=s.logits,o],this.anchorTensor,bMe)];case 1:return(u=f.sent()).length===0?(pt([r,i,l,o]),[2,u]):[4,oMe(u,this.maxPoses,vMe)];case 2:return c=f.sent(),d=function(p,m){p===void 0&&(p=[]);for(var g=m.left,v=m.top,y=m.left+m.right,b=m.top+m.bottom,w=0;w<p.length;w++){var x=p[w],k=x.locationData.relativeBoundingBox,S=(k.xMin-g)/(1-y),E=(k.yMin-v)/(1-b),I=k.width/(1-y),C=k.height/(1-b);k.xMin=S,k.yMin=E,k.width=I,k.height=C,k.xMax=S+I,k.yMax=E+C;var R=x.locationData.relativeKeypoints;R&&R.forEach(function(z){var H=(z.x-g)/(1-y),U=(z.y-v)/(1-b);z.x=H,z.y=U})}return p}(c,a),pt([r,i,l,o]),[2,d]}})})},t.prototype.poseDetectionToRoi=function(e,n){return AO(c_(e,n,{rotationVectorEndKeypointIndex:1,rotationVectorStartKeypointIndex:0,rotationVectorTargetAngleDegree:90}),n,RO)},t.prototype.poseLandmarksByRoi=function(e,n){return cn(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m,g,v;return dn(this,function(y){switch(y.label){case 0:if(r=t0(n),a=a5(n,xMe,e),i=a.imageTensor,s=a.padding,o=a.transformationMatrix,this.modelType!=="lite"&&this.modelType!=="full"&&this.modelType!=="heavy")throw new Error("Model type must be one of lite, full or heavy,but got "+this.modelType);return l=["ld_3d","output_poseflag","activation_heatmap","world_3d"],this.enableSegmentation&&l.push("activation_segmentation"),u=this.landmarkModel.execute(i,l),[4,this.tensorsToPoseLandmarksAndSegmentation(u)];case 1:return(c=y.sent())==null?(pt(u),pt(i),[2,null]):(d=c.landmarks,f=c.auxiliaryLandmarks,p=c.poseScore,m=c.worldLandmarks,g=c.segmentationMask,[4,this.poseLandmarksAndSegmentationInverseProjection(r,e,s,o,d,f,m,g)]);case 2:return v=y.sent(),pt(u),pt(i),[2,Fn({poseScore:p},v)]}})})},t.prototype.poseLandmarksAndSegmentationInverseProjection=function(e,n,r,a,i,s,o,l){return cn(this,void 0,void 0,function(){var u,c,d,f,p,m;return dn(this,function(g){return u=CO(i,r),c=CO(s,r),d=NO(u,n),f=NO(c,n),p=function(v,y){for(var b=[],w=0,x=v;w<x.length;w++){var k=x[w],S=k.x,E=k.y,I=y.rotation,C=Math.cos(I)*S-Math.sin(I)*E,R=Math.sin(I)*S+Math.cos(I)*E,z=Fn({},k);z.x=C,z.y=R,b.push(z)}return b}(o,n),m=null,this.enableSegmentation&&(m=me(function(){var v=l.shape,y=v[0],b=v[1],w=function(S){var E=qY(new Array(16).fill(0));E[0][0]=Wa(S,0,0),E[1][0]=-Wa(S,0,1),E[2][0]=Wa(S,0,2),E[3][0]=-Wa(S,0,3),E[0][2]=Wa(S,2,0),E[1][2]=-Wa(S,2,1),E[2][2]=Wa(S,2,2),E[3][2]=-Wa(S,2,3),E[0][1]=-Wa(S,1,0),E[1][1]=Wa(S,1,1),E[2][1]=-Wa(S,1,2),E[3][1]=Wa(S,1,3),E[0][3]=-Wa(S,3,0),E[1][3]=Wa(S,3,1),E[2][3]=-Wa(S,3,2),E[3][3]=Wa(S,3,3);for(var I=S[0][0]*E[0][0]+S[1][0]*E[0][1]+S[2][0]*E[0][2]+S[3][0]*E[0][3],C=0;C<E.length;C++)for(var R=0;R<E.length;R++)E[C][R]/=I;return E}(a),x=_i(HY(w,{width:b,height:y},e),[1,8]),k=[1,y,b,1];return Rt(wa.transform(ue(l,k),x,"bilinear","constant",0,[e.height,e.width]),[0,3])}),pt(l)),[2,{landmarks:d,auxiliaryLandmarks:f,worldLandmarks:p,segmentationMask:m}]})})},t.prototype.tensorsToPoseLandmarksAndSegmentation=function(e){return cn(this,void 0,void 0,function(){var n,r,a,i,s,o,l,u,c,d,f,p,m;return dn(this,function(g){switch(g.label){case 0:return n=e[0],r=e[1],a=e[2],i=e[3],s=this.enableSegmentation?e[4]:null,[4,r.data()];case 1:return(o=g.sent()[0])<.5?[2,null]:[4,IO(n,_Me)];case 2:return[4,lMe(g.sent(),a,SMe)];case 3:return l=g.sent(),u=l.slice(0,33),c=l.slice(33,35),[4,IO(i,kMe)];case 4:return d=g.sent(),f=d.slice(0,33),p=function(v,y,b){b===void 0&&(b=!0);for(var w=[],x=0;x<v.length;x++){var k=Fn({},y[x]);b&&(k.score=v[x].score),w.push(k)}return w}(u,f,!0),m=this.enableSegmentation?function(v,y,b){return me(function(){var w=Rt(v,[0]),x=w.shape[2];if(x===1){var k=w;switch(y.activation){case"none":break;case"sigmoid":k=xs(k);break;case"softmax":throw new Error("Softmax activation requires two channels.");default:throw new Error("Activation not supported ("+y.activation+")")}var S=b?wa.resizeBilinear(k,[b.height,b.width]):k;return Rt(S,[2])}throw new Error("Unsupported number of tensor channels "+x)})}(s,CMe):null,[2,{landmarks:u,auxiliaryLandmarks:c,poseScore:o,worldLandmarks:p,segmentationMask:m}]}})})},t.prototype.poseLandmarksToRoi=function(e,n){return AO(c_(TO(e),n,{rotationVectorStartKeypointIndex:0,rotationVectorEndKeypointIndex:1,rotationVectorTargetAngleDegree:90}),n,RO)},t.prototype.poseLandmarkFiltering=function(e,n,r,a){var i,s,o;if(this.timestamp!=null&&this.enableSmoothing){var l=c_(TO(n),a,{rotationVectorEndKeypointIndex:0,rotationVectorStartKeypointIndex:1,rotationVectorTargetAngleDegree:90});this.visibilitySmoothingFilterActual==null&&(this.visibilitySmoothingFilterActual=new DO($O)),i=this.visibilitySmoothingFilterActual.apply(e),this.visibilitySmoothingFilterAuxiliary==null&&(this.visibilitySmoothingFilterAuxiliary=new DO($O)),s=this.visibilitySmoothingFilterAuxiliary.apply(n),o=this.visibilitySmoothingFilterActual.apply(r),this.landmarksSmoothingFilterActual==null&&(this.landmarksSmoothingFilterActual=new p_(NMe)),i=this.landmarksSmoothingFilterActual.apply(i,this.timestamp,a,!0,l),this.landmarksSmoothingFilterAuxiliary==null&&(this.landmarksSmoothingFilterAuxiliary=new p_(EMe)),s=this.landmarksSmoothingFilterAuxiliary.apply(s,this.timestamp,a,!0,l),this.worldLandmarksSmoothingFilterActual==null&&(this.worldLandmarksSmoothingFilterActual=new p_(TMe)),o=this.worldLandmarksSmoothingFilterActual.apply(r,this.timestamp)}else i=e,s=n,o=r;return{actualLandmarksFiltered:i,auxiliaryLandmarksFiltered:s,actualWorldLandmarksFiltered:o}},t}();function $Me(t){return cn(this,void 0,void 0,function(){var e,n,r,a,i,s;return dn(this,function(o){switch(o.label){case 0:return e=function(l){var u=Fn({},l??Ph);if(u.enableSmoothing==null&&(u.enableSmoothing=Ph.enableSmoothing),u.enableSegmentation==null&&(u.enableSegmentation=Ph.enableSegmentation),u.smoothSegmentation==null&&(u.smoothSegmentation=Ph.smoothSegmentation),u.modelType==null&&(u.modelType=Ph.modelType),u.detectorModelUrl==null&&(u.detectorModelUrl=Ph.detectorModelUrl),u.landmarkModelUrl==null)switch(u.modelType){case"lite":u.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/lite/2";break;case"heavy":u.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/heavy/2";break;case"full":default:u.landmarkModelUrl="https://tfhub.dev/mediapipe/tfjs-model/blazepose_3d/landmark/full/2"}return u}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,r=typeof e.landmarkModelUrl=="string"&&e.landmarkModelUrl.indexOf("https://tfhub.dev")>-1,[4,Promise.all([Dc(e.detectorModelUrl,{fromTFHub:n}),Dc(e.landmarkModelUrl,{fromTFHub:r})])];case 1:return a=o.sent(),i=a[0],s=a[1],[2,new RMe(i,s,e.enableSmoothing,e.enableSegmentation,e.smoothSegmentation,e.modelType)]}})})}var Fd,Oa,QY=function(){function t(e){(function(n){if(n.maxTracks<1)throw new Error("Must specify 'maxTracks' to be at least 1, but encountered "+n.maxTracks);if(n.maxAge<=0)throw new Error("Must specify 'maxAge' to be positive, but encountered "+n.maxAge);if(n.keypointTrackerParams!==void 0){if(n.keypointTrackerParams.keypointConfidenceThreshold<0||n.keypointTrackerParams.keypointConfidenceThreshold>1)throw new Error("Must specify 'keypointConfidenceThreshold' to be in the range [0, 1], but encountered "+n.keypointTrackerParams.keypointConfidenceThreshold);if(n.keypointTrackerParams.minNumberOfKeypoints<1)throw new Error("Must specify 'minNumberOfKeypoints' to be at least 1, but encountered "+n.keypointTrackerParams.minNumberOfKeypoints);for(var r=0,a=n.keypointTrackerParams.keypointFalloff;r<a.length;r++){var i=a[r];if(i<=0)throw new Error("Must specify each keypoint falloff parameterto be positive but encountered "+i)}}})(e),this.tracks=[],this.maxTracks=e.maxTracks,this.maxAge=1e3*e.maxAge,this.minSimilarity=e.minSimilarity,this.nextID=1}return t.prototype.apply=function(e,n){this.filterOldTracks(n);var r=this.computeSimilarity(e);return this.assignTracks(e,r,n),this.updateTracks(n),e},t.prototype.getTracks=function(){return this.tracks.slice()},t.prototype.getTrackIDs=function(){return new Set(this.tracks.map(function(e){return e.id}))},t.prototype.filterOldTracks=function(e){var n=this;this.tracks=this.tracks.filter(function(r){return e-r.lastTimestamp<=n.maxAge})},t.prototype.assignTracks=function(e,n,r){for(var a=Array.from(Array(n[0].length).keys()),i=[],s=0,o=Array.from(Array(e.length).keys());s<o.length;s++){var l=o[s];if(a.length!==0){for(var u=-1,c=-1,d=0,f=a;d<f.length;d++){var p=f[d],m=n[l][p];m>=this.minSimilarity&&m>c&&(u=p,c=m)}if(u>=0){var g=this.tracks[u];g=Object.assign(g,this.createTrack(e[l],r,g.id)),e[l].id=g.id;var v=a.indexOf(u);a.splice(v,1)}else i.push(l)}else i.push(l)}for(var y=0,b=i;y<b.length;y++){l=b[y];var w=this.createTrack(e[l],r);this.tracks.push(w),e[l].id=w.id}},t.prototype.updateTracks=function(e){this.tracks.sort(function(n,r){return r.lastTimestamp-n.lastTimestamp}),this.tracks=this.tracks.slice(0,this.maxTracks)},t.prototype.createTrack=function(e,n,r){var a={id:r||this.nextTrackID(),lastTimestamp:n,keypoints:_d(e.keypoints).map(function(i){return Fn({},i)})};return e.box!==void 0&&(a.box=Fn({},e.box)),a},t.prototype.nextTrackID=function(){var e=this.nextID;return this.nextID+=1,e},t.prototype.remove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.tracks=this.tracks.filter(function(r){return!e.includes(r.id)})},t.prototype.reset=function(){this.tracks=[]},t}(),OMe=function(t){function e(n){return t.call(this,n)||this}return UY(e,t),e.prototype.computeSimilarity=function(n){var r=this;return n.length===0||this.tracks.length===0?[[]]:n.map(function(a){return r.tracks.map(function(i){return r.iou(a,i)})})},e.prototype.iou=function(n,r){var a=Math.max(n.box.xMin,r.box.xMin),i=Math.max(n.box.yMin,r.box.yMin),s=Math.min(n.box.xMax,r.box.xMax),o=Math.min(n.box.yMax,r.box.yMax);if(a>=s||i>=o)return 0;var l=(s-a)*(o-i);return l/(n.box.width*n.box.height+r.box.width*r.box.height-l)},e}(QY),LMe=function(t){function e(n){var r=t.call(this,n)||this;return r.keypointThreshold=n.keypointTrackerParams.keypointConfidenceThreshold,r.keypointFalloff=n.keypointTrackerParams.keypointFalloff,r.minNumKeyoints=n.keypointTrackerParams.minNumberOfKeypoints,r}return UY(e,t),e.prototype.computeSimilarity=function(n){if(n.length===0||this.tracks.length===0)return[[]];for(var r=[],a=0,i=n;a<i.length;a++){for(var s=i[a],o=[],l=0,u=this.tracks;l<u.length;l++){var c=u[l];o.push(this.oks(s,c))}r.push(o)}return r},e.prototype.oks=function(n,r){for(var a=this.area(r.keypoints)+1e-6,i=0,s=0,o=0;o<n.keypoints.length;++o){var l=n.keypoints[o],u=r.keypoints[o];if(!(l.score<this.keypointThreshold||u.score<this.keypointThreshold)){s+=1;var c=Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2),d=2*this.keypointFalloff[o];i+=Math.exp(-1*c/(2*a*Math.pow(d,2)))}}return s<this.minNumKeyoints?0:i/s},e.prototype.area=function(n){var r=this,a=n.filter(function(l){return l.score>r.keypointThreshold}),i=Math.min.apply(Math,_d([1],a.map(function(l){return l.x}))),s=Math.max.apply(Math,_d([0],a.map(function(l){return l.x}))),o=Math.min.apply(Math,_d([1],a.map(function(l){return l.y})));return(s-i)*(Math.max.apply(Math,_d([0],a.map(function(l){return l.y})))-o)},e}(QY);function ZY(t){switch(t){case Oa.BlazePose:return e0.reduce(function(e,n,r){return e[n]=r,e},{});case Oa.PoseNet:case Oa.MoveNet:return Al.reduce(function(e,n,r){return e[n]=r,e},{});default:throw new Error("Model "+t+" is not supported.")}}(function(t){t.Keypoint="keypoint",t.BoundingBox="boundingBox"})(Fd||(Fd={})),function(t){t.MoveNet="MoveNet",t.BlazePose="BlazePose",t.PoseNet="PoseNet"}(Oa||(Oa={}));var FMe=Object.freeze({__proto__:null,getKeypointIndexBySide:function(t){switch(t){case Oa.BlazePose:return QPe;case Oa.PoseNet:case Oa.MoveNet:return ZPe;default:throw new Error("Model "+t+" is not supported.")}},getAdjacentPairs:function(t){switch(t){case Oa.BlazePose:return eMe;case Oa.PoseNet:case Oa.MoveNet:return JPe;default:throw new Error("Model "+t+" is not supported.")}},getKeypointIndexByName:ZY}),OO=["SinglePose.Lightning","SinglePose.Thunder","MultiPose.Lightning"],JY={modelType:"SinglePose.Lightning",enableSmoothing:!0},LO={},FO={frequency:30,minCutOff:2.5,beta:300,derivateCutOff:2.5,thresholdCutOff:.5,thresholdBeta:5,disableValueScaling:!0},m_={maxTracks:18,maxAge:1e3,minSimilarity:.2,keypointTrackerParams:{keypointConfidenceThreshold:.3,keypointFalloff:[.026,.025,.025,.035,.035,.079,.079,.072,.072,.062,.062,.107,.107,.087,.087,.089,.089],minNumberOfKeypoints:4}},PO={maxTracks:18,maxAge:1e3,minSimilarity:.15,trackerParams:{}};function PMe(t,e,n,r){for(var a={},i=0,s=Al;i<s.length;i++){var o=s[i];a[o]=[e[n[o]].y*r.height,e[n[o]].x*r.width]}if(function(b,w){return(b[w.left_hip].score>.2||b[w.right_hip].score>.2)&&(b[w.left_shoulder].score>.2||b[w.right_shoulder].score>.2)}(e,n)){var l=(a.left_hip[0]+a.right_hip[0])/2,u=(a.left_hip[1]+a.right_hip[1])/2,c=function(b,w,x,k,S){for(var E=["left_shoulder","right_shoulder","left_hip","right_hip"],I=0,C=0,R=0;R<E.length;R++)(Q=Math.abs(k-x[E[R]][0]))>I&&(I=Q),(re=Math.abs(S-x[E[R]][1]))>C&&(C=re);for(var z=0,H=0,U=0,q=Object.keys(x);U<q.length;U++){var Q,re,he=q[U];b[w[he]].score<.2||((Q=Math.abs(k-x[he][0]))>z&&(z=Q),(re=Math.abs(S-x[he][1]))>H&&(H=re))}return[I,C,z,H]}(e,n,a,l,u),d=c[0],f=c[1],p=c[2],m=c[3],g=Math.max(1.9*f,1.9*d,1.2*p,1.2*m),v=[l-(g=Math.min(g,Math.max(u,r.width-u,l,r.height-l))),u-g];if(g>Math.max(r.width,r.height)/2)return s5(t==null,r);var y=2*g;return{yMin:v[0]/r.height,xMin:v[1]/r.width,yMax:(v[0]+y)/r.height,xMax:(v[1]+y)/r.width,height:(v[0]+y)/r.height-v[0]/r.height,width:(v[1]+y)/r.width-v[1]/r.width}}return s5(t==null,r)}function s5(t,e){var n,r,a,i;return t?e.width>e.height?(n=1,r=e.height/e.width,a=0,i=(e.width/2-e.height/2)/e.width):(n=e.width/e.height,r=1,a=(e.height/2-e.width/2)/e.height,i=0):e.width>e.height?(n=e.width/e.height,r=1,a=(e.height/2-e.width/2)/e.height,i=0):(n=1,r=e.height/e.width,a=0,i=(e.width/2-e.height/2)/e.width),{yMin:a,xMin:i,yMax:a+n,xMax:i+r,height:n,width:r}}function MMe(t){var e,n=t==null?JY:Fn({},t);if(n.modelType==null)n.modelType="SinglePose.Lightning";else if(OO.indexOf(n.modelType)<0)throw new Error("Invalid architecture "+n.modelType+". Should be one of "+OO);if(n.enableSmoothing==null&&(n.enableSmoothing=!0),n.minPoseScore!=null&&(n.minPoseScore<0||n.minPoseScore>1))throw new Error("minPoseScore should be between 0.0 and 1.0");if(n.multiPoseMaxDimension!=null&&(n.multiPoseMaxDimension%32!=0||n.multiPoseMaxDimension<32))throw new Error("multiPoseMaxDimension must be a multiple of 32 and higher than 0");if(n.modelType==="MultiPose.Lightning"&&n.enableTracking==null&&(n.enableTracking=!0),n.modelType==="MultiPose.Lightning"&&n.enableTracking===!0)if(n.trackerType==null&&(n.trackerType=Fd.BoundingBox),n.trackerType===Fd.Keypoint)n.trackerConfig!=null?n.trackerConfig=function(r){var a=MO(m_,r);return a.keypointTrackerParams=Fn({},m_.keypointTrackerParams),r.keypointTrackerParams!=null&&(r.keypointTrackerParams.keypointConfidenceThreshold!=null&&(a.keypointTrackerParams.keypointConfidenceThreshold=r.keypointTrackerParams.keypointConfidenceThreshold),r.keypointTrackerParams.keypointFalloff!=null&&(a.keypointTrackerParams.keypointFalloff=r.keypointTrackerParams.keypointFalloff),r.keypointTrackerParams.minNumberOfKeypoints!=null&&(a.keypointTrackerParams.minNumberOfKeypoints=r.keypointTrackerParams.minNumberOfKeypoints)),a}(n.trackerConfig):n.trackerConfig=m_;else{if(n.trackerType!==Fd.BoundingBox)throw new Error("Tracker type not supported by MoveNet");n.trackerConfig!=null?n.trackerConfig=(e=n.trackerConfig,MO(PO,e)):n.trackerConfig=PO}return n}function MO(t,e){var n={maxTracks:t.maxTracks,maxAge:t.maxAge,minSimilarity:t.minSimilarity};return e.maxTracks!=null&&(n.maxTracks=e.maxTracks),e.maxAge!=null&&(n.maxAge=e.maxAge),e.minSimilarity!=null&&(n.minSimilarity=e.minSimilarity),n}var BMe=function(){function t(e,n){this.moveNetModel=e,this.modelInputResolution={height:0,width:0},this.keypointIndexByName=ZY(Oa.MoveNet),n.modelType==="SinglePose.Lightning"?(this.modelInputResolution.width=192,this.modelInputResolution.height=192):n.modelType==="SinglePose.Thunder"&&(this.modelInputResolution.width=256,this.modelInputResolution.height=256),this.multiPoseModel=n.modelType==="MultiPose.Lightning",this.multiPoseModel||(this.keypointFilter=new i5(FO),this.cropRegionFilterYMin=new qu(.9),this.cropRegionFilterXMin=new qu(.9),this.cropRegionFilterYMax=new qu(.9),this.cropRegionFilterXMax=new qu(.9)),this.enableSmoothing=n.enableSmoothing,n.minPoseScore?this.minPoseScore=n.minPoseScore:this.minPoseScore=.25,n.multiPoseMaxDimension?this.multiPoseMaxDimension=n.multiPoseMaxDimension:this.multiPoseMaxDimension=256,this.enableTracking=n.enableTracking,this.multiPoseModel&&this.enableTracking&&(n.trackerType===Fd.Keypoint?this.tracker=new LMe(n.trackerConfig):n.trackerType===Fd.BoundingBox&&(this.tracker=new OMe(n.trackerConfig)),this.enableSmoothing&&(this.keypointFilterMap=new Map))}return t.prototype.runSinglePersonPoseModel=function(e){return cn(this,void 0,void 0,function(){var n,r,a,i,s;return dn(this,function(o){switch(o.label){case 0:if((n=this.moveNetModel.execute(e)).shape.length!==4||n.shape[0]!==1||n.shape[1]!==1||n.shape[2]!==17||n.shape[3]!==3)throw n.dispose(),new Error("Unexpected output shape from model: ["+n.shape+"]");return fb()==="webgpu"?[3,1]:(r=n.dataSync(),[3,3]);case 1:return[4,n.data()];case 2:r=o.sent(),o.label=3;case 3:for(n.dispose(),a={keypoints:[],score:0},i=0,s=0;s<17;++s)a.keypoints[s]={y:r[3*s],x:r[3*s+1],score:r[3*s+2]},a.keypoints[s].score>.2&&(++i,a.score+=a.keypoints[s].score);return i>0&&(a.score/=i),[2,a]}})})},t.prototype.runMultiPersonPoseModel=function(e){return cn(this,void 0,void 0,function(){var n,r,a,i,s,o,l,u;return dn(this,function(c){switch(c.label){case 0:if((n=this.moveNetModel.execute(e)).shape.length!==3||n.shape[0]!==1||n.shape[2]!==56)throw n.dispose(),new Error("Unexpected output shape from model: ["+n.shape+"]");return fb()==="webgpu"?[3,1]:(r=n.dataSync(),[3,3]);case 1:return[4,n.data()];case 2:r=c.sent(),c.label=3;case 3:for(n.dispose(),a=[],i=r.length/56,s=0;s<i;++s)for(a[s]={keypoints:[]},o=56*s+51,a[s].box={yMin:r[o],xMin:r[o+1],yMax:r[o+2],xMax:r[o+3],width:r[o+3]-r[o+1],height:r[o+2]-r[o]},l=56*s+55,a[s].score=r[l],a[s].keypoints=[],u=0;u<17;++u)a[s].keypoints[u]={y:r[56*s+3*u],x:r[56*s+3*u+1],score:r[56*s+3*u+2]};return[2,a]}})})},t.prototype.estimatePoses=function(e,n,r){return n===void 0&&(n=LO),cn(this,void 0,void 0,function(){var a,i,s,o,l,u;return dn(this,function(c){switch(c.label){case 0:return n=function(d){return d==null?LO:Fn({},d)}(n),e==null?(this.reset(),[2,[]]):(r==null?KY(e)&&(r=1e6*e.currentTime):r*=1e3,a=$I(e),i=t0(a),s=hr(a,0),e instanceof en||a.dispose(),o=[],this.multiPoseModel?[3,2]:[4,this.estimateSinglePose(s,i,r)]);case 1:return o=c.sent(),[3,4];case 2:return[4,this.estimateMultiplePoses(s,i,r)];case 3:o=c.sent(),c.label=4;case 4:for(l=0;l<o.length;++l)for(u=0;u<o[l].keypoints.length;++u)o[l].keypoints[u].name=Al[u],o[l].keypoints[u].y*=i.height,o[l].keypoints[u].x*=i.width;return[2,o]}})})},t.prototype.estimateSinglePose=function(e,n,r){return cn(this,void 0,void 0,function(){var a,i,s,o,l=this;return dn(this,function(u){switch(u.label){case 0:return this.cropRegion||(this.cropRegion=s5(this.cropRegion==null,n)),a=me(function(){var c=_i([[l.cropRegion.yMin,l.cropRegion.xMin,l.cropRegion.yMax,l.cropRegion.xMax]]),d=Fr([1],"int32"),f=[l.modelInputResolution.height,l.modelInputResolution.width];return tt(wa.cropAndResize(e,c,d,f,"bilinear",0),"int32")}),e.dispose(),[4,this.runSinglePersonPoseModel(a)];case 1:if(i=u.sent(),a.dispose(),i.score<this.minPoseScore)return this.reset(),[2,[]];for(s=0;s<i.keypoints.length;++s)i.keypoints[s].y=this.cropRegion.yMin+i.keypoints[s].y*this.cropRegion.height,i.keypoints[s].x=this.cropRegion.xMin+i.keypoints[s].x*this.cropRegion.width;return r!=null&&this.enableSmoothing&&(i.keypoints=this.keypointFilter.apply(i.keypoints,r,1)),o=PMe(this.cropRegion,i.keypoints,this.keypointIndexByName,n),this.cropRegion=this.filterCropRegion(o),[2,[i]]}})})},t.prototype.estimateMultiplePoses=function(e,n,r){return cn(this,void 0,void 0,function(){var a,i,s,o,l,u,c,d,f,p,m,g=this;return dn(this,function(v){switch(v.label){case 0:return n.width>n.height?(i=this.multiPoseMaxDimension,s=Math.round(this.multiPoseMaxDimension*n.height/n.width),a=wa.resizeBilinear(e,[s,i]),l=i,u=32*Math.ceil(s/32),o=Cl(a,[[0,0],[0,u-s],[0,0],[0,0]])):(i=Math.round(this.multiPoseMaxDimension*n.width/n.height),s=this.multiPoseMaxDimension,a=wa.resizeBilinear(e,[s,i]),l=32*Math.ceil(i/32),u=s,o=Cl(a,[[0,0],[0,0],[0,l-i],[0,0]])),a.dispose(),e.dispose(),c=tt(o,"int32"),o.dispose(),[4,this.runMultiPersonPoseModel(c)];case 1:for(d=v.sent(),c.dispose(),d=d.filter(function(y){return y.score>=g.minPoseScore}),p=0;p<d.length;++p)for(f=0;f<d[p].keypoints.length;++f)d[p].keypoints[f].y*=u/s,d[p].keypoints[f].x*=l/i;if(this.enableTracking&&(this.tracker.apply(d,r),this.enableSmoothing)){for(p=0;p<d.length;++p)this.keypointFilterMap.has(d[p].id)||this.keypointFilterMap.set(d[p].id,new i5(FO)),d[p].keypoints=this.keypointFilterMap.get(d[p].id).apply(d[p].keypoints,r,1);m=this.tracker.getTrackIDs(),this.keypointFilterMap.forEach(function(y,b){m.has(b)||g.keypointFilterMap.delete(b)})}return[2,d]}})})},t.prototype.filterCropRegion=function(e){if(e){var n=this.cropRegionFilterYMin.apply(e.yMin),r=this.cropRegionFilterXMin.apply(e.xMin),a=this.cropRegionFilterYMax.apply(e.yMax),i=this.cropRegionFilterXMax.apply(e.xMax);return{yMin:n,xMin:r,yMax:a,xMax:i,height:a-n,width:i-r}}return this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset(),null},t.prototype.dispose=function(){this.moveNetModel.dispose()},t.prototype.reset=function(){this.cropRegion=null,this.resetFilters()},t.prototype.resetFilters=function(){this.keypointFilter.reset(),this.cropRegionFilterYMin.reset(),this.cropRegionFilterXMin.reset(),this.cropRegionFilterYMax.reset(),this.cropRegionFilterXMax.reset()},t}();function zMe(t){return t===void 0&&(t=JY),cn(this,void 0,void 0,function(){var e,n,r,a;return dn(this,function(i){switch(i.label){case 0:return e=MMe(t),r=!0,e.modelUrl?(r=typeof e.modelUrl=="string"&&e.modelUrl.indexOf("https://tfhub.dev")>-1,[4,Dc(e.modelUrl,{fromTFHub:r})]):[3,2];case 1:return n=i.sent(),[3,4];case 2:return a=void 0,e.modelType==="SinglePose.Lightning"?a="https://tfhub.dev/google/tfjs-model/movenet/singlepose/lightning/4":e.modelType==="SinglePose.Thunder"?a="https://tfhub.dev/google/tfjs-model/movenet/singlepose/thunder/4":e.modelType==="MultiPose.Lightning"&&(a="https://tfhub.dev/google/tfjs-model/movenet/multipose/lightning/1"),[4,Dc(a,{fromTFHub:r})];case 3:n=i.sent(),i.label=4;case 4:return fb()==="webgl"&&Ne().set("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",0),[2,new BMe(n,e)]}})})}var BO={architecture:"MobileNetV1",outputStride:16,multiplier:.75,inputResolution:{height:257,width:257}},zO=["MobileNetV1","ResNet50"],UO={MobileNetV1:[8,16],ResNet50:[16]},UMe=[8,16,32],jO={MobileNetV1:[.5,.75,1],ResNet50:[1]},VO=[1,2,4],jMe={maxPoses:1,flipHorizontal:!1},VMe={maxPoses:5,flipHorizontal:!1,scoreThreshold:.5,nmsRadius:20},WMe=[-123.15,-115.9,-103.06];function g_(t){return Math.floor(t/2)}var GMe=function(){function t(e,n){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=n}return t.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},t.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},t.prototype.empty=function(){return this.numberOfElements===-1},t.prototype.size=function(){return this.numberOfElements+1},t.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},t.prototype.max=function(){return this.priorityQueue[0]},t.prototype.swim=function(e){for(;e>0&&this.less(g_(e),e);)this.exchange(e,g_(e)),e=g_(e)},t.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var n=2*e;if(n<this.numberOfElements&&this.less(n,n+1)&&n++,!this.less(e,n))break;this.exchange(e,n),e=n}},t.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},t.prototype.less=function(e,n){return this.getValueAt(e)<this.getValueAt(n)},t.prototype.exchange=function(e,n){var r=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[n],this.priorityQueue[n]=r},t}();function HMe(t,e,n,r,a,i){for(var s=i.shape,o=s[0],l=s[1],u=!0,c=Math.max(n-a,0),d=Math.min(n+a+1,o),f=c;f<d;++f){for(var p=Math.max(r-a,0),m=Math.min(r+a+1,l),g=p;g<m;++g)if(i.get(f,g,t)>e){u=!1;break}if(!u)break}return u}function qMe(t){return cn(this,void 0,void 0,function(){return dn(this,function(e){return[2,Promise.all(t.map(function(n){return n.buffer()}))]})})}function eK(t,e,n,r){return{y:r.get(t,e,n),x:r.get(t,e,n+17)}}function tK(t,e,n){var r=eK(t.heatmapY,t.heatmapX,t.id,n),a=r.y,i=r.x;return{x:t.heatmapX*e+i,y:t.heatmapY*e+a}}function nK(t,e,n,r){var a=n.x,i=n.y;return t.some(function(s){var o,l,u,c,d,f,p=s.keypoints;return o=i,l=a,u=p[r].y,c=p[r].x,(d=u-o)*d+(f=c-l)*f<=e})}var WO=Al.reduce(function(t,e,n){return t[e]=n,t},{}),rK=[["nose","left_eye"],["left_eye","left_ear"],["nose","right_eye"],["right_eye","right_ear"],["nose","left_shoulder"],["left_shoulder","left_elbow"],["left_elbow","left_wrist"],["left_shoulder","left_hip"],["left_hip","left_knee"],["left_knee","left_ankle"],["nose","right_shoulder"],["right_shoulder","right_elbow"],["right_elbow","right_wrist"],["right_shoulder","right_hip"],["right_hip","right_knee"],["right_knee","right_ankle"]].map(function(t){var e=t[0],n=t[1];return[WO[e],WO[n]]}),y_=rK.map(function(t){return t[1]}),GO=rK.map(function(t){return t[0]});function HO(t,e,n){return t<e?e:t>n?n:t}function b_(t,e,n,r){return{y:HO(Math.round(t.y/e),0,n-1),x:HO(Math.round(t.x/e),0,r-1)}}function qO(t,e){return{x:t.x+e.x,y:t.y+e.y}}function YO(t,e,n,r,a,i,s,o){o===void 0&&(o=2);for(var l=r.shape,u=l[0],c=l[1],d={y:e.y,x:e.x},f=qO(d,function(b,w,x){var k=x.shape[2]/2;return{y:x.get(w.y,w.x,b),x:x.get(w.y,w.x,k+b)}}(t,b_(d,i,u,c),s)),p=0;p<o;p++){var m=b_(f,i,u,c),g=eK(m.y,m.x,n,a);f=qO({x:m.x*i,y:m.y*i},{x:g.x,y:g.y})}var v=b_(f,i,u,c),y=r.get(v.y,v.x,n);return{y:f.y,x:f.x,name:Al[n],score:y}}function YMe(t,e,n,r,a,i){var s=e.shape[2],o=y_.length,l=new Array(s),u=t.part,c=t.score,d=tK(u,r,n);l[u.id]={score:c,name:Al[u.id],y:d.y,x:d.x};for(var f=o-1;f>=0;--f){var p=y_[f],m=GO[f];l[p]&&!l[m]&&(l[m]=YO(f,l[p],m,e,n,r,i))}for(f=0;f<o;++f)p=GO[f],m=y_[f],l[p]&&!l[m]&&(l[m]=YO(f,l[p],m,e,n,r,a));return l}function KMe(t,e,n){return n.reduce(function(r,a,i){var s=a.y,o=a.x,l=a.score;return nK(t,e,{y:s,x:o},i)||(r+=l),r},0)/n.length}function XMe(t,e,n,r,a,i,s,o){return s===void 0&&(s=.5),o===void 0&&(o=20),cn(this,void 0,void 0,function(){var l,u,c,d,f,p,m,g,v,y,b,w;return dn(this,function(x){switch(x.label){case 0:return[4,qMe([t,e,n,r])];case 1:for(l=x.sent(),u=l[0],c=l[1],d=l[2],f=l[3],p=[],m=function(k,S,E){for(var I=E.shape,C=I[0],R=I[1],z=I[2],H=new GMe(C*R*z,function(he){return he.score}),U=0;U<C;++U)for(var q=0;q<R;++q)for(var Q=0;Q<z;++Q){var re=E.get(U,q,Q);re<k||HMe(Q,re,U,q,S,E)&&H.enqueue({score:re,part:{heatmapY:U,heatmapX:q,id:Q}})}return H}(s,1,u),g=o*o;p.length<i&&!m.empty();)v=m.dequeue(),y=tK(v.part,a,c),nK(p,g,y,v.part.id)||(b=YMe(v,u,c,a,d,f),w=KMe(p,g,b),p.push({keypoints:b,score:w}));return[2,p]}})})}function QMe(t){var e=t.shape,n=e[0],r=e[1],a=e[2];return me(function(){var i,s,o=ue(t,[n*r,a]),l=up(o,0),u=hr(Je(l,wt(r,"int32")),1),c=hr((i=l,s=r,me(function(){var d=Je(i,wt(s,"int32"));return lt(i,ee(d,wt(s,"int32")))})),1);return ar([u,c],1)})}function ZMe(t,e,n){return me(function(){var r=function(a,i){for(var s=[],o=0;o<Al.length;o++){var l=a.get(o,0).valueOf(),u=a.get(o,1).valueOf(),c=JMe(l,u,o,i),d=c.x,f=c.y;s.push(f),s.push(d)}return _i(s,[Al.length,2])}(t,n);return Ae(tt(ee(t.toTensor(),wt(e,"int32")),"float32"),r)})}function JMe(t,e,n,r){return{y:r.get(t,e,n),x:r.get(t,e,n+Al.length)}}function eBe(t,e,n){return cn(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f;return dn(this,function(p){switch(p.label){case 0:return r=0,a=QMe(t),[4,Promise.all([t.buffer(),e.buffer(),a.buffer()])];case 1:return i=p.sent(),s=i[0],o=i[1],l=i[2],[4,(u=ZMe(l,n,o)).buffer()];case 2:return c=p.sent(),d=Array.from(function(m,g){for(var v=g.shape[0],y=new Float32Array(v),b=0;b<v;b++){var w=g.get(b,0),x=g.get(b,1);y[b]=m.get(w,x,b)}return y}(s,l)),f=d.map(function(m,g){return r+=m,{y:c.get(g,0),x:c.get(g,1),score:m,name:Al[g]}}),a.dispose(),u.dispose(),[2,{keypoints:f,score:r/f.length}]}})})}function KO(t,e){return(t-1)%e==0}var XO="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/mobilenet/",QO="https://storage.googleapis.com/tfjs-models/savedmodel/posenet/resnet50/";function ZO(t,e){return function(n,r){return(n-1)%r==0}(t,e)?t:Math.floor(t/e)*e+1}var JO=function(){function t(e,n){this.posenetModel=e;var r=this.posenetModel.inputs[0].shape;V(r[1]===-1&&r[2]===-1,function(){return"Input shape ["+r[1]+", "+r[2]+"] must both be equal to or -1"});var a,i,s=(a=n.inputResolution,i=n.outputStride,{height:ZO(a.height,i),width:ZO(a.width,i)});(function(o){V(UMe.indexOf(o)>=0,function(){return"outputStride of "+o+" is invalid. It must be either 8 or 16."})})(n.outputStride),function(o,l){V(KO(o.height,l),function(){return"height of "+o.height+" is invalid for output stride "+l+"."}),V(KO(o.width,l),function(){return"width of "+o.width+" is invalid for output stride "+l+"."})}(s,n.outputStride),this.inputResolution=s,this.outputStride=n.outputStride,this.architecture=n.architecture}return t.prototype.estimatePoses=function(e,n){return n===void 0&&(n=jMe),cn(this,void 0,void 0,function(){var r,a,i,s,o,l,u,c,d,f,p,m,g,v,y;return dn(this,function(b){switch(b.label){case 0:return r=function(w){var x=w;if(x.maxPoses==null&&(x.maxPoses=1),x.maxPoses<=0)throw new Error("Invalid maxPoses "+x.maxPoses+". Should be > 0.");if(x.maxPoses>1){if((x=Fn(Fn({},VMe),x)).scoreThreshold<0||x.scoreThreshold>1)throw new Error("Invalid scoreThreshold "+x.scoreThreshold+". Should be in range [0.0, 1.0]");if(x.nmsRadius<=0)throw new Error("Invalid nmsRadius "+x.nmsRadius+".")}return x}(n),e==null?[2,[]]:(this.maxPoses=r.maxPoses,a=a5(e,{outputTensorSize:this.inputResolution,keepAspectRatio:!0,borderMode:"replicate"}),i=a.imageTensor,s=a.padding,o=this.architecture==="ResNet50"?Ae(i,WMe):YY(i,[-1,1]),l=this.posenetModel.predict(o),this.architecture==="ResNet50"?(u=Rt(l[2],[0]),c=Rt(l[3],[0]),d=Rt(l[0],[0]),f=Rt(l[1],[0])):(u=Rt(l[0],[0]),c=Rt(l[1],[0]),d=Rt(l[2],[0]),f=Rt(l[3],[0])),p=xs(c),this.maxPoses!==1?[3,2]:[4,eBe(p,u,this.outputStride)]);case 1:return g=b.sent(),m=[g],[3,4];case 2:return[4,XMe(p,u,d,f,this.outputStride,this.maxPoses,r.scoreThreshold,r.nmsRadius)];case 3:m=b.sent(),b.label=4;case 4:return v=t0(e),y=function(w,x,k,S){var E=x.height,I=x.width,C=E/(k.height*(1-S.top-S.bottom)),R=I/(k.width*(1-S.left-S.right)),z=-S.top*k.height,H=-S.left*k.width;if(R===1&&C===1&&z===0&&H===0)return w;for(var U=0,q=w;U<q.length;U++)for(var Q=0,re=q[U].keypoints;Q<re.length;Q++){var he=re[Q];he.x=(he.x+H)*R,he.y=(he.y+z)*C}return w}(m,v,this.inputResolution,s),r.flipHorizontal&&(y=function(w,x){for(var k=0,S=w;k<S.length;k++)for(var E=0,I=S[k].keypoints;E<I.length;E++){var C=I[E];C.x=x.width-1-C.x}return w}(y,v)),i.dispose(),o.dispose(),pt(l),u.dispose(),c.dispose(),d.dispose(),f.dispose(),p.dispose(),[2,y]}})})},t.prototype.dispose=function(){this.posenetModel.dispose()},t.prototype.reset=function(){},t}();function tBe(t){return t===void 0&&(t=BO),cn(this,void 0,void 0,function(){var e,n,r,a,i;return dn(this,function(s){switch(s.label){case 0:return(e=function(c){var d=c||BO;if(d.architecture==null&&(d.architecture="MobileNetV1"),zO.indexOf(d.architecture)<0)throw new Error("Invalid architecture "+d.architecture+". Should be one of "+zO);if(d.inputResolution==null&&(d.inputResolution={height:257,width:257}),d.outputStride==null&&(d.outputStride=16),UO[d.architecture].indexOf(d.outputStride)<0)throw new Error("Invalid outputStride "+d.outputStride+". Should be one of "+UO[d.architecture]+" for architecture "+d.architecture+".");if(d.multiplier==null&&(d.multiplier=1),jO[d.architecture].indexOf(d.multiplier)<0)throw new Error("Invalid multiplier "+d.multiplier+". Should be one of "+jO[d.architecture]+" for architecture "+d.architecture+".");if(d.quantBytes==null&&(d.quantBytes=4),VO.indexOf(d.quantBytes)<0)throw new Error("Invalid quantBytes "+d.quantBytes+". Should be one of "+VO+" for architecture "+d.architecture+".");if(d.architecture==="MobileNetV1"&&d.outputStride===32&&d.multiplier!==1)throw new Error("When using an output stride of 32, you must select 1 as the multiplier.");return d}(t)).architecture!=="ResNet50"?[3,2]:(o=e.outputStride,l=e.quantBytes,u="model-stride"+o+".json",n=l===4?QO+"float/"+u:QO+"quant"+l+"/"+u,[4,Dc(e.modelUrl||n)]);case 1:return r=s.sent(),[2,new JO(r,e)];case 2:return a=function(c,d,f){var p={1:"100",.75:"075",.5:"050"},m="model-stride"+c+".json";return f===4?XO+"float/"+p[d]+"/"+m:XO+"quant"+f+"/"+p[d]+"/"+m}(e.outputStride,e.multiplier,e.quantBytes),[4,Dc(e.modelUrl||a)];case 3:return i=s.sent(),[2,new JO(i,e)]}var o,l,u})})}function nBe(t,e){return cn(this,void 0,void 0,function(){var n,r;return dn(this,function(a){switch(t){case Oa.PoseNet:return[2,tBe(e)];case Oa.BlazePose:if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,$Me(e)];if(n.runtime==="mediapipe")return[2,iMe(e)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' or 'mediapipe', but got "+r);case Oa.MoveNet:return[2,zMe(e)];default:throw new Error(t+" is not a supported model name.")}})})}var aK=(t=>(t.Nose="nose",t.LeftShoulder="left_shoulder",t.RightShoulder="right_shoulder",t))(aK||{});class e9{constructor(e){$r(this,"x");$r(this,"y");$r(this,"score");this.x=e.x,this.y=e.y,this.score=e.score}toJSON(){return[this.x,this.y,this.score]}}class rBe{constructor(e){$r(this,"xMin");$r(this,"yMin");$r(this,"xMax");$r(this,"yMax");this.xMin=e.xMin,this.xMax=e.xMax,this.yMin=e.yMin,this.yMax=e.yMax}toJSON(){return[this.xMin,this.yMin,this.xMax,this.yMax]}}class aBe{constructor(e,n){$r(this,"box");$r(this,"keypoints");$r(this,"emotions");this.box=e,this.keypoints=n,this.emotions=[]}toJSON(){return{bb:this.box,kp:this.keypoints,em:this.emotions}}}let iBe=class{constructor(e){$r(this,"keypoints");this.keypoints=e}toJSON(){return{kp:this.keypoints}}};class sBe{constructor(){$r(this,"faceDetector",null);$r(this,"poseDetector",null);$r(this,"emotionDetector",null);$r(this,"isLoading",!1);$r(this,"isReady",!1);$r(this,"setReady");$r(this,"faces",[]);$r(this,"poses",[]);$r(this,"imageWidth",0)}toJSON(){return{f:this.faces,p:this.poses,iw:this.imageWidth}}async loadModel(){var e,n;this.isLoading||this.isReady||(console.info("loading models"),(e=this.setReady)==null||e.call(this,!1),this.isReady=!1,this.isLoading=!0,this.faceDetector=await KPe(dh.MediaPipeFaceMesh,{runtime:"mediapipe",refineLandmarks:!0,maxFaces:1,solutionPath:"/models/face_mesh"}),this.poseDetector=await nBe(Oa.BlazePose,{runtime:"mediapipe",modelType:"full",solutionPath:"/models/pose"}),this.emotionDetector=await NLe("/models/FER/model.json"),this.isReady=!0,await this.startPrediction(document.createElement("canvas")),(n=this.setReady)==null||n.call(this,!0),this.isLoading=!1,console.info("all models loaded"))}drawPath(e,n,r){const a=new Path2D;a.moveTo(n[0].x,n[0].y);for(let i=1;i<n.length;i++){const s=n[i];a.lineTo(s.x,s.y)}r&&a.closePath(),e.stroke(a)}draw(e){const n=XPe.getKeypointIndexByContour(dh.MediaPipeFaceMesh);this.faces.forEach(a=>{e.strokeStyle="blue",e.lineWidth=2;const i=a.box.xMax-a.box.xMin,s=a.box.yMax-a.box.yMin;e.strokeRect(a.box.xMin,a.box.yMin,i,s);for(const[o,l]of Object.entries(n)){const u=l.map(c=>a.keypoints[c]);u.every(c=>c!=null)&&(e.strokeStyle="red",e.lineWidth=2,this.drawPath(e,u,!1))}});const r=FMe.getKeypointIndexByName(Oa.BlazePose);this.poses.forEach(a=>{for(const i of Object.values(aK)){const s=a.keypoints[r[i]];s&&(e.fillStyle="green",e.beginPath(),e.arc(s.x,s.y,5,0,2*Math.PI),e.fill())}})}async detectPoses(e){var r;const n=await((r=this.poseDetector)==null?void 0:r.estimatePoses(e,{maxPoses:1,scoreThreshold:.3}))||[];this.poses=n.map(({keypoints:a})=>new iBe(a.map(i=>new e9(i))))}async detectFaces(e){var n;this.faces=(await((n=this.faceDetector)==null?void 0:n.estimateFaces(e))||[]).map(r=>new aBe(new rBe(r.box),r.keypoints.map(a=>new e9(a))))}predictEmotions(e,n){const[r,a]=e.shape;return me(()=>{var l;const i=me(()=>{const u=hr(tt(ee(e,255),"int32"),0),c=hr(Kn([n.box.yMin/r,n.box.xMin/a,n.box.yMax/r,n.box.xMax/a]),0);return wa.cropAndResize(u,c,[0],[48,48])}),s=hr(ue(i,[48,48,1]),0);let o=(l=this.emotionDetector)==null?void 0:l.predict(s);return o?(Array.isArray(o)&&(o=o[0]),o.arraySync()[0]):[]})}async startPrediction(e){if(!this.isReady)return;const n=me(()=>{let i=C0(e);return i=me(()=>{const[s,o,l]=Hi(Je(i,255),3,2),u=Ae(Ae(ee(s,.299),ee(o,.587)),ee(l,.114));return[s,o,l].forEach(c=>c.dispose()),u}),i}),[r,a]=n.shape;this.imageWidth=a,await this.detectFaces(e),this.faces.forEach(i=>{const s=this.predictEmotions(n,i);i.emotions=s}),await this.detectPoses(e),n.dispose()}dispose(){var e,n,r,a;console.info("disposing models"),(e=this.faceDetector)==null||e.dispose(),(n=this.poseDetector)==null||n.dispose(),(r=this.emotionDetector)==null||r.dispose(),this.isLoading=!1,this.isReady=!1,(a=this.setReady)==null||a.call(this,!1)}}const t9=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[]));function oBe(t,e){const n=ba(t);if(!n.length)return;const r=n.findIndex((a,i)=>!a.answer&&i+1!==e);if(!(r<0))return r+1}const lBe=function(){var We,ze;const{eventId:t=""}=Ko(),{t:e,lang:n}=ct(),{module:r}=uo(),{submissionId:a,totalQuestions:i,setTotalQuestions:s}=Ll(),o=`ASM_${a}`,[l,u]=D.useState(!1);D.useEffect(()=>{async function be(){await Sl(`dev_${t}`)||u(!0)}const Ie=setTimeout(be,100);return()=>clearTimeout(Ie)},[]);const[c,d]=lo("questionId",1),[f,p]=D.useState(),m=f==null?void 0:f.find((be,Ie)=>Ie+1===c);D.useEffect(()=>{const be=ba(o);if(!be.length)return;const Ie=be.findIndex(Le=>!Le.answer);Ie<=0||d(Ie+1)},[]),D.useEffect(()=>{async function be(){var at;if(!(r!=null&&r.id))return;const{result:Le,error:Ge}=await Ol(r.id,1,CU);if(!(Le!=null&&Le.data)){Xe({message:e(Ge||((at=Le==null?void 0:Le.error)==null?void 0:at.message)||"err_networkProblem"),type:"error"});return}p(Le.data.items),s(Le.data.totalItems)}const Ie=setTimeout(be,100);return()=>clearTimeout(Ie)},[r==null?void 0:r.id]);const{value:g,update:v}=ow(o,c-1),[y,b]=D.useState(0),[w,x]=D.useState(!1),[k,S]=D.useState(0),[E,I]=D.useState(!1),C=D.useRef(null),R=D.useRef(),z=D.useRef(),H=new Date(y*1e3).toISOString().substring(14,19),[U,q]=D.useState(!1),Q=D.useRef(null),re=D.useRef(new sBe),he=D.useMemo(()=>{const be=C.current&&Q.current,Ie=y<=0,Le=k>0;return be&&U&&!Ie&&!Le},[C.current,Q.current,k,U,y]),[ae]=bpe();D.useEffect(()=>{if(!re.current)return;re.current.setReady=q;let be,Ie=3;function Le(){be=setTimeout(async()=>{try{await re.current.loadModel()}catch(Ge){console.error(Ge),Ie-- >0?Le():Xe({message:e("int_errDownloadModel"),type:"error"})}},3e3)}return Le(),()=>{clearTimeout(be),U&&re.current.dispose()}},[]),D.useEffect(()=>{var Le;if(!he)return;const be=(Le=Q.current)==null?void 0:Le.getContext("2d"),Ie=setInterval(async()=>{if(!C.current||!Q.current||!be||!m)return;const{videoWidth:Ge,videoHeight:at}=C.current;Q.current.width=Ge,Q.current.height=at,be.clearRect(0,0,Ge,at),be.drawImage(C.current,0,0,Ge,at),await re.current.startPrediction(Q.current),re.current.draw(be);const pe=await new Promise((nt,Et)=>{try{Q.current.toBlob(nt,"image/jpeg",1)}catch($t){Et($t)}});if(!pe)return;const{data:de,errors:De}=await ae({variables:{input:{image:new File([pe],"snapshot.jpg",{type:"image/jpeg"}),metadata:re.current,questionId:m.id,submissionId:a}}});De!=null&&De.length?console.error(De):de!=null&&de.createInterviewPrediciton||console.error("failed")},5e3);return()=>clearInterval(Ie)},[he]);async function se(){const be=ba(o);if(!be.length||!m||!C.current||!U)return;if(!R.current)try{if(!("mediaDevices"in navigator)||!("getUserMedia"in navigator.mediaDevices))return;x(!0);const Le=await Sl(`dev_${t}`),Ge=await navigator.mediaDevices.getUserMedia({video:{deviceId:Le==null?void 0:Le.videoId,width:640,height:480,frameRate:30},audio:{deviceId:Le==null?void 0:Le.audioId}});C.current.autoplay=!0,C.current.srcObject=Ge,R.current=Ge;for(const at of Ge.getTracks())at.kind==="video"&&at.applyConstraints({width:640,height:480,frameRate:30})}catch{tu({message:e("int_cameraPermission"),title:e("int_cameraPermissionDesc")});return}await new Promise(async Le=>{const Ge=await bye(a,m.id);z.current=Ge,Ge.onopen=()=>{S(3);let at=m.duration*60-be[c-1].timeSpent;at<0&&(at=5),b(at),x(!1),I(!1)},Ge.onclose=at=>{switch(at.code){case 1e3:switch(at.reason){case"expired":Le(!1);break;case"unauthenticated":Le(!1);break;case"not found":Le(!1);break}break;case 1005:case 1006:Le(!0);break;case 1011:default:Le(!1);break}}})&&(await O8(!0,1e3),await se())}async function X(be){if(be)if(await Zd({title:e("int_finish"),message:e("int_confirmMsg")}))b(0);else return;ne(),v(!0);const Ie=c-1,Le=ba(o);Le.length&&(Le[Ie].answer=!0,Le[Ie].submitted=!0,Le[Ie].videoStatus="uploading",localStorage.setItem(o,JSON.stringify(Le)),tp((r==null?void 0:r.id)||0,Le))}function ne(){R.current&&(R.current.getTracks().forEach(be=>be.stop()),R.current=void 0,z.current&&z.current.readyState<=WebSocket.OPEN&&z.current.close(1e3))}function ke(be){if(!R.current)return null;const Ie=vye.find(MediaRecorder.isTypeSupported);if(!Ie)throw new Error("no video types supported");const Le=new MediaRecorder(R.current,{audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:Ie});let Ge=!1;return new ReadableStream({start:at=>{let pe=0;Le.ondataavailable=async de=>{const De=Math.round((Date.now()-pe)/1e3),nt=await de.data.arrayBuffer();at.enqueue({dur:De,data:nt}),Ge&&(at.close(),stop())},Le.onstop=de=>{Ge=!0},Le.start(be),pe=Date.now()}})}D.useEffect(()=>{if(w||E)return;async function be(Le){if(!z.current||z.current.readyState!==WebSocket.OPEN)return!1;try{return z.current.send(Le.data),z.current.send(Le.dur.toString()),!0}catch{return await O8(!0,1e3),await be(Le)}}function Ie(){try{const Le=ke(1e3);if(!Le)return;const Ge=Le.getReader();new Promise(async()=>{for(;;){const{done:at,value:pe}=await Ge.read();if(at||!pe||!await be(pe))break}})}catch(Le){throw Le}}Ie()},[w,m,E]),D.useEffect(()=>{let be;if(!m)return;function Ie(){I(!0),b(0),ne(),se()}return window.addEventListener("offline",Ie),()=>{clearTimeout(be),window.removeEventListener("offline",Ie)}},[m]),D.useEffect(()=>{if(y<=0)return;const be=setTimeout(()=>{const Ie=y-1;Ie<=10&&Ie>0&&S0e(Ie),Ie||X(!1),b(Ie);const Le=c-1,Ge=ba(o);Ge.length&&(Ge.splice(Le,1,{...Ge[Le],timeSpent:Ge[Le].timeSpent+1}),localStorage.setItem(o,JSON.stringify(Ge)))},1e3);return()=>clearTimeout(be)},[y]),D.useEffect(()=>()=>ne(),[]),D.useEffect(()=>{if(k<=0)return;const be=setTimeout(()=>S(k-1),1e3);return()=>clearTimeout(be)},[k]);const Oe=oBe(o,c);return!r||!f?_(St,{children:[h("div",{className:"md:hidden flex-1 animate-pulse",children:_("div",{className:"w-full p-4 space-y-2",children:[h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"hidden md:flex h-test",children:[h("div",{className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",style:{width:window.innerWidth/2},children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"grow flex flex-col min-w-0 p-5 space-y-3 animate-pulse",children:[h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("div",{className:"h-10 w-full bg-gray-300 rounded-lg dark:bg-gray-700"})]})]})]}):m?l?h(uBe,{setInitId:u}):_(St,{children:[_("div",{className:"md:hidden flex-1",children:[h("div",{hidden:!E,className:"dark:text-gray-300",children:h("div",{className:"flex items-center justify-center p-4",children:_("div",{className:"p-5 flex flex-col items-center justify-center border border-slate-700 rounded",children:[h(Za,{}),h("p",{className:"text-center text-xl font-medium mt-3",children:e("int_reconnect")}),h("p",{className:"text-center font-medium",children:e("int_noConnection")})]})})}),_("div",{hidden:y>0||E,className:"space-y-2 dark:text-gray-300 p-4",children:[_(K,{when:!!g,children:[h("div",{className:"w-full md:w-1/2 h-48 rounded-lg m-auto !my-2 flex items-center justify-center dark:bg-slate-800 bg-gray-200",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"w-16 h-16 fill-gray-500 dark:fill-gray-300",children:h("path",{d:"M473.66 210c-16.56-12.3-37.7-20.75-59.52-24-6.62-39.18-24.21-72.67-51.3-97.45-28.69-26.3-66.63-40.76-106.84-40.76-35.35 0-68 11.08-94.37 32.05a149.61 149.61 0 00-45.32 60.49c-29.94 4.6-57.12 16.68-77.39 34.55C13.46 197.33 0 227.24 0 261.39c0 34.52 14.49 66 40.79 88.76 25.12 21.69 58.94 33.64 95.21 33.64h104V230.42l-48 48-22.63-22.63L256 169.17l86.63 86.62L320 278.42l-48-48v153.37h124c31.34 0 59.91-8.8 80.45-24.77 23.26-18.1 35.55-44 35.55-74.83 0-29.94-13.26-55.61-38.34-74.19zM240 383.79h32v80.41h-32z"})})}),h("p",{className:"text-center font-medium text-lime-600",children:e("int_finished")}),h("p",{className:"",children:e("int_saved")}),h("p",{className:"",children:e("int_saved2")}),h("br",{}),h(K,{when:Oe!=null,children:h("button",{className:"p-2 w-full bg-blue-700 rounded hover:opacity-80 text-white",onClick:()=>Oe?d(Oe):null,children:e("gen_nextQuestion")})})]}),_(K,{when:!g,children:[_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"1"}),h("p",{children:e("int_before")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"2"}),h("p",{children:e("int_startIns")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"3"}),h("p",{children:e("int_weUse")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"4"}),h("p",{children:e("int_AI")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"5"}),_("p",{children:[" ",e("int_resource")]})]}),h("div",{className:"text-red-600 font-medium p-4 bg-red-50 rounded dark:bg-slate-800/50 dark:text-red-500",children:e("int_enableWebcam")}),h("br",{}),_("button",{className:"flex justify-center items-center py-4 px-2 w-full bg-lime-600 rounded hover:bg-lime-700 text-white disabled:bg-gray-500 disabled:hover:opacity-80",onClick:()=>se(),disabled:w||!U,children:[_(K,{when:!U,children:[h(Za,{className:"!h-5 !w-5"}),h("span",{children:e("int_preparing")})]}),h(K,{when:U,children:h("span",{children:e("int_start")})})]}),h("button",{className:"py-4 px-2 w-full bg-blue-600 rounded hover:bg-blue-700 text-white disabled:bg-gray-500 disabled:hover:opacity-80",onClick:()=>u(!0),disabled:w,children:e("int_setup")})]})]}),_("div",{hidden:!y||E,className:"dark:text-white p-4 pt-2",children:[_("p",{className:"py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white italic",children:[e("int_duration")," : ",_("b",{children:[m.duration," ",e("gen_minutes")]})]}),h("div",{className:Ce("text-center text-xl mb-2 font-medium",{"text-red-600":y<60}),children:H}),_("div",{className:"relative",children:[_(K,{when:window.innerWidth<768,children:[h("video",{className:"block w-1/2 rounded-lg m-auto",ref:C,muted:!0}),h("canvas",{className:"absolute inset-0 w-1/2 rounded-lg m-auto",ref:Q,hidden:!0})]}),h(K,{when:k>0,children:h("div",{className:"absolute w-1/2 h-full top-0 left-1/2 -translate-x-1/2 rounded-lg z-10 flex items-center justify-center bg-slate-400 dark:bg-slate-700",children:h("div",{className:"fill-slate-600 text-gray-300 text-6xl",children:k})})})]}),h("br",{}),h(X4,{stream:(We=C.current)==null?void 0:We.srcObject}),h("br",{}),h(zn,{fallback:h(u2,{title:e("test_failedDescription")}),children:h(D.Suspense,{fallback:h(u2,{title:e("test_loadDescription")}),children:h(t9,{className:"p-0 overflow-auto",content:vr({en:m.description,id:m.description_id},n,r.enabled_translations)})})}),h("br",{}),h("button",{className:"px-4 py-2 w-fit text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400 border rounded font-medium hover:bg-blue-600 hover:text-white hover:dark:text-white",onClick:()=>X(!0),children:e("int_finish")})]})]}),_("div",{className:"hidden md:flex h-test",children:[_(Ma,{direction:"e",initSize:window.innerWidth/2,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:[_(K,{when:y>0,children:[_("p",{className:"py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 text-gray-800 dark:text-white italic",children:[e("int_duration")," : ",_("b",{children:[m.duration," ",e("gen_minutes")]})]}),h(zn,{fallback:h(u2,{title:e("test_failedDescription")}),children:h(D.Suspense,{fallback:h(u2,{title:e("test_loadDescription")}),children:h(t9,{content:vr({en:m.description,id:m.description_id},n,r.enabled_translations)})})})]}),h(K,{when:y<=0,children:_("div",{className:"py-5 px-3 text-gray-800 dark:text-white italic h-full flex flex-col items-center",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 opacity-20 mb-2",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}),e("int_description")]})})]}),_("div",{className:"grow flex flex-col p-4 overflow-auto",children:[h("div",{hidden:!E,className:"dark:text-gray-300",children:h("div",{className:"flex items-center justify-center mt-24",children:_("div",{className:"p-5 flex flex-col items-center justify-center border border-slate-700 rounded",children:[h(Za,{}),h("p",{className:"text-center text-xl font-medium mt-3",children:e("int_reconnect")}),h("p",{className:"text-center font-medium",children:e("int_noConnection")})]})})}),_("div",{hidden:y>0||E,className:"space-y-2 dark:text-gray-300",children:[_("p",{hidden:i<=1,className:"font-medium",children:[e("gen_question")," ",c]}),_(K,{when:!!g,children:[h("div",{className:"w-1/2 h-48 rounded-lg m-auto !my-2 flex items-center justify-center dark:bg-slate-800 bg-gray-200",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:"w-16 h-16 fill-gray-500 dark:fill-gray-300",children:h("path",{d:"M473.66 210c-16.56-12.3-37.7-20.75-59.52-24-6.62-39.18-24.21-72.67-51.3-97.45-28.69-26.3-66.63-40.76-106.84-40.76-35.35 0-68 11.08-94.37 32.05a149.61 149.61 0 00-45.32 60.49c-29.94 4.6-57.12 16.68-77.39 34.55C13.46 197.33 0 227.24 0 261.39c0 34.52 14.49 66 40.79 88.76 25.12 21.69 58.94 33.64 95.21 33.64h104V230.42l-48 48-22.63-22.63L256 169.17l86.63 86.62L320 278.42l-48-48v153.37h124c31.34 0 59.91-8.8 80.45-24.77 23.26-18.1 35.55-44 35.55-74.83 0-29.94-13.26-55.61-38.34-74.19zM240 383.79h32v80.41h-32z"})})}),h("p",{className:"text-center font-medium text-lime-600",children:e("int_finished")}),h("p",{className:"text-center",children:e("int_saved")}),h("p",{className:"text-center",children:e("int_saved2")}),h("br",{}),h(K,{when:Oe!=null,children:h("button",{className:"p-2 w-full bg-blue-700 rounded hover:opacity-80 text-white",onClick:()=>Oe?d(Oe):null,children:e("gen_nextQuestion")})})]}),_(K,{when:!g,children:[_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"1"}),h("p",{children:e("int_before")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"2"}),h("p",{children:e("int_startIns")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"3"}),h("p",{children:e("int_weUse")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"4"}),h("p",{children:e("int_AI")})]}),_("div",{className:"flex items-start md:items-center gap-2",children:[h("p",{className:"font-medium text-lg h-12 w-12 flex items-center justify-center bg-gray-100 dark:bg-slate-800/30 rounded-full flex-none text-blue-500",children:"5"}),_("p",{children:[" ",e("int_resource")]})]}),h("div",{className:"text-red-600 font-medium p-4 bg-red-50 rounded dark:bg-slate-800/50 dark:text-red-500",children:e("int_enableWebcam")}),h("br",{}),_("button",{className:"flex justify-center items-center py-4 px-2 w-full bg-lime-600 rounded hover:bg-lime-700 text-white disabled:bg-gray-500 disabled:hover:opacity-80",onClick:()=>se(),disabled:w||!U,children:[_(K,{when:!U,children:[h(Za,{className:"!h-5 !w-5"}),h("span",{children:e("int_preparing")})]}),h(K,{when:U,children:h("span",{children:e("int_start")})})]}),h("button",{className:"py-4 px-2 w-full bg-blue-600 rounded hover:bg-blue-700 text-white disabled:bg-gray-500 disabled:hover:opacity-80",onClick:()=>u(!0),disabled:w,children:e("int_setup")})]})]}),_("div",{hidden:!y||E,className:"dark:text-white text-center",children:[h("div",{className:Ce("text-center text-xl mb-2 font-medium",{"text-red-600":y<60}),children:H}),_("div",{className:"relative",children:[h("video",{className:"block w-1/2 rounded-lg m-auto",ref:C,muted:!0}),h("canvas",{className:"absolute inset-0 w-1/2 rounded-lg m-auto",ref:Q,hidden:!0}),h(K,{when:k>0,children:h("div",{className:"absolute w-1/2 h-full top-0 left-1/2 -translate-x-1/2 rounded-lg z-10 flex items-center justify-center bg-slate-400 dark:bg-slate-700",children:h("div",{className:"fill-slate-600 text-gray-300 text-6xl",children:k})})})]}),h("br",{}),h(X4,{stream:(ze=C.current)==null?void 0:ze.srcObject}),h("br",{}),h("button",{className:"px-4 py-2 w-fit text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400 border rounded font-medium hover:bg-blue-600 hover:text-white hover:dark:text-white",onClick:()=>X(!0),children:e("int_finish")})]})]})]})]}):h("div",{className:"p-5",children:_("div",{className:"flex flex-col justify-center md:items-center p-5 min-h-[300px] rounded-md bg-gray-200 dark:bg-slate-800 text-gray-500",children:[h("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:e("test_noQuestion")}),h("p",{className:"text-sm",children:e("test_noQuestion2")}),h("div",{className:"flex md:flex-row flex-col gap-2 mt-3",children:_(Nt,{to:`/modules/edit/${r.type}`,className:"px-4 py-2 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2",children:[h("p",{children:e("mod_addQuestion")}),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})]})})]})})},u2=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),uBe=({setInitId:t})=>{var w,x,k;const{t:e}=ct(),{eventId:n=""}=Ko(),[r,a]=D.useState(),[i,s]=D.useState(),[o,l]=D.useState(!1),[u,c]=D.useState(!1),[d,f]=D.useState([]),p=D.useRef(null);async function m(){var S,E;try{if(!("mediaDevices"in navigator)||!("getUserMedia"in navigator.mediaDevices))throw new Error("Failed initializing camera");if(!p.current)throw new Error("Video component not available");c(!0);const I=await navigator.mediaDevices.getUserMedia({video:{deviceId:r},audio:{deviceId:i}});p.current.autoplay=!0,p.current.srcObject=I;const C=await navigator.mediaDevices.enumerateDevices();f(C);const R=await Sl(`dev_${n}`);if(R)a(R.videoId),s(R.audioId);else{const z=I.getVideoTracks()[0].label,H=(S=C.find(Q=>Q.label===z))==null?void 0:S.deviceId;a(H);const U=I.getAudioTracks()[0].label,q=(E=C.find(Q=>Q.label===U))==null?void 0:E.deviceId;s(q)}l(!0)}catch(I){console.error(Gd(I)),tu({message:e("int_cameraPermission"),title:e("int_cameraPermissionDesc")})}finally{c(!1)}}const g=D.useMemo(()=>{const S=d.filter(R=>R.kind==="videoinput").map(R=>({label:R.label,value:R.deviceId})),E=d.filter(R=>R.kind==="audioinput").map(R=>({label:R.label,value:R.deviceId})),I=S.find(R=>R.value===r),C=E.find(R=>R.value===i);return{videoDevices:S,audioDevices:E,videoVal:I,audioVal:C}},[d,i,r]);function v(){var E;const S=(E=p.current)==null?void 0:E.srcObject;S instanceof MediaStream&&S.getTracks().forEach(I=>I.stop())}const y=S=>async E=>{try{if(!("mediaDevices"in navigator)||!("getUserMedia"in navigator.mediaDevices))throw new Error("Failed initializing camera");if(!p.current)throw new Error("Video component not available");v(),c(!0);const I={deviceId:i},C={deviceId:r};switch(S){case"video":C.deviceId=E,a(E);break;case"audio":I.deviceId=E,s(E);break}const R={audioId:I.deviceId,videoId:C.deviceId};Wr(`dev_${n}`,R);const z=await navigator.mediaDevices.getUserMedia({video:C,audio:I});p.current.autoplay=!0,p.current.srcObject=z,c(!1)}catch(I){console.error(Gd(I)),tu({message:e("int_cameraPermission"),title:e("int_cameraPermissionDesc")})}};function b(){v(),t(!1)}return _("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-4 md:p-8 mb-4 flex flex-col items-center md:text-center",children:[h("h1",{className:"font-medium text-2xl dark:text-white mb-2",children:e("int_check")}),h("p",{className:"dark:text-white opacity-80",children:e("int_beforeIntv")}),h("p",{className:"dark:text-white opacity-80",children:e("int_beforeIntv2")}),h("video",{className:"w-auto h-[150px] sm:h-[250px] rounded my-4",ref:p,hidden:!o,muted:!0}),h(X4,{className:Ce("dark:text-white",{hidden:!o}),stream:(w=p.current)==null?void 0:w.srcObject}),h("p",{className:"dark:text-white opacity-80 mt-5 sm:w-[600px]",hidden:!o,children:e("int_chooseDev")}),h("p",{className:"text-red-500 font-medium mb-2 w-full md:w-auto",children:e("int_cannotChange")}),_("div",{className:"grid sm:grid-cols-2 gap-2 w-full sm:w-[600px] aria-hidden:hidden","aria-hidden":!o,children:[_(zi,{items:g.videoDevices,onClick:y("video"),className:Ce("h-[42px] text-sm px-4 mt-0.5 w-full flex justify-between items-center outline-none border border-1 border-gray-300 dark:border-gray-600 rounded-sm bg-gray-100/40 dark:bg-slate-900/70","aria-expanded:ring aria-expanded:ring-blue-300 aria-expanded:ring-opacity-40 aria-expanded:border-blue-400 dark:aria-expanded:border-blue-300","dark:text-white"),dropClassName:"w-full !max-h-[200px] rounded-sm",itemsClassName:"text-left !py-[9px] !pl-4 text-sm",children:[h("span",{children:(x=g.videoVal)==null?void 0:x.label}),h("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})]}),_(zi,{items:g.audioDevices,onClick:y("audio"),className:Ce("h-[42px] text-sm px-4 mt-0.5 w-full flex justify-between items-center outline-none border border-1 border-gray-300 dark:border-gray-600 rounded-sm bg-gray-100/40 dark:bg-slate-900/70","aria-expanded:ring aria-expanded:ring-blue-300 aria-expanded:ring-opacity-40 aria-expanded:border-blue-400 dark:aria-expanded:border-blue-300","dark:text-white"),dropClassName:"w-full !max-h-[200px] rounded-sm",itemsClassName:"text-left !py-[9px] !pl-4 text-sm",children:[h("span",{children:(k=g.audioVal)==null?void 0:k.label}),h("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:h("polyline",{points:"6 9 12 15 18 9"})})]})]}),h("br",{}),h(K,{when:!o,children:_("button",{type:"button",className:"md:w-fit w-full h-14 px-8 bg-blue-600 dark:bg-blue-500 hover:bg-blue-500 dark:hover:bg-blue-600 disabled:bg-gray-500 dark:disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",onClick:m,disabled:u,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",d:"M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"})}),h("span",{className:"block",children:e("int_activate")})]})}),h(K,{when:o,children:h("button",{type:"button",className:"md:w-fit w-full h-12 py-4 px-8 bg-lime-600 dark:bg-lime-700 hover:bg-lime-500 dark:hover:bg-lime-600 disabled:bg-gray-500 dark:disabled:bg-gray-500 text-white rounded flex justify-center items-center gap-x-2",onClick:b,disabled:u,children:h("span",{className:"block",children:e("int_saveSetting")})})})]})},cBe=()=>{const{t,lang:e}=ct(),{module:n}=uo(),{moduleId:r=""}=Ko(),{submissionId:a,setTotalQuestions:i}=Ll(),[s]=lo("questionId",1),[o,l]=D.useState(),u=o==null?void 0:o.find((m,g)=>g+1===s);D.useEffect(()=>{async function m(){var b;if(!(n!=null&&n.id))return;const{result:v,error:y}=await Ol(n.id,1,TU);if(!(v!=null&&v.data)){Xe({message:t(y||((b=v==null?void 0:v.error)==null?void 0:b.message)||"err_networkProblem"),type:"error"});return}l(v.data.items),i(v.data.totalItems)}const g=setTimeout(m,500);return()=>clearTimeout(g)},[n==null?void 0:n.id]);const{data:c}=gpe({skip:!(u!=null&&u.id),variables:{moduleId:parseInt(r,10),questionId:(u==null?void 0:u.id)||0}}),{update:d,value:f}=ow(`ASM_${a}`,s-1);function p(m){if(n)switch(n.answer_type){case Cu.Single:{d([m]);break}case Cu.Multiple:{const g=f?[...f]:[],v=g.includes(m)?g.filter(y=>y!==m):$ce([...g,m]);d(v);break}case Cu.Priority:{if(!c||!f)break;if(f.includes(m)){d(f.filter(w=>w!==m));break}const g=c.allFormulaOptions.length,v=[...f],y=Math.floor(m/g),b=m%g;for(let w=0;w<g;w++){const x=v.findIndex(S=>S===w+g*y);x>=0&&v.splice(x,1);const k=v.findIndex(S=>S===w*g+b);k>=0&&v.splice(k,1)}v.push(m),d(v);break}}}return!n||!u?_(St,{children:[h("div",{className:"md:hidden flex-1 animate-pulse",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"hidden md:flex h-test",children:[h("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})}),_("div",{className:"grow flex flex-col min-w-0 p-5 space-y-3 animate-pulse",children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700"})]})]})]}):_(St,{children:[_("div",{className:"md:hidden w-full h-full",children:[h(zn,{fallback:h(c2,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(c2,{title:t("test_loadDescription")}),children:h(sb,{className:"overflow-auto",content:vr({en:u.description,id:u.description_id},e,n.enabled_translations)})})}),h("hr",{className:"border-gray-200 dark:border-slate-700"}),_("div",{className:"p-4 space-y-4",children:[_(K,{when:n.answer_type===Cu.Priority,children:[_(K,{when:!(c!=null&&c.allFormulaOptions),children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"})]}),h(K,{when:(c==null?void 0:c.allFormulaOptions)!=null,children:_("table",{className:"w-full dark:text-white",children:[h("thead",{children:_("tr",{children:[h("th",{}),c==null?void 0:c.allFormulaOptions.map((m,g)=>h("th",{className:"font-medium pb-2",children:g+1},g))]})}),h("tbody",{className:"bg-gray-100 dark:bg-slate-700/20 divide-y-4 divide-white dark:divide-slate-900",children:c==null?void 0:c.allFormulaOptions.map((m,g)=>{let v="";switch(e){case"en":v=m.enDescription||"";break;case"id":v=m.idDescription||"";break}v||(v=m.enDescription||m.idDescription||"");let y=[];return f&&(y=[...f]),_("tr",{children:[h("td",{className:"py-3 pl-5",children:v}),c.allFormulaOptions.map((b,w)=>{const x=c.allFormulaOptions.length*g+w;return h("td",{className:"w-1/12",children:h("input",{id:`check-${g}-${w}`,type:"radio",checked:y.includes(x),onClick:()=>p(x),className:"block mx-auto w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer",onChange:()=>{}})},w)})]},g)})})]})})]}),_(K,{when:n.answer_type!==Cu.Priority,children:[_(K,{when:!(c!=null&&c.allFormulaOptions),children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"})]}),c==null?void 0:c.allFormulaOptions.map((m,g)=>{let v="";switch(e){case"en":v=m.enDescription||"";break;case"id":v=m.idDescription||"";break}v||(v=m.enDescription||m.idDescription||"");let y=[];return f&&(y=[...f]),_("label",{className:Ce("flex items-start p-4 text-left rounded border dark:border-gray-600 border-gray-300 font-medium text-gray-900 space-x-2 text-md cursor-pointer select-none",{"dark:text-gray-300":!y.includes(m.id),"bg-blue-100 dark:text-gray-900 ring-2 ring-blue-400":y.includes(m.id)}),children:[h("input",{id:`check-${g}`,type:"radio",checked:y.includes(m.id),onClick:()=>p(m.id),className:"mt-0.5 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:()=>{}}),_("div",{className:"font-semibold uppercase",children:[String.fromCharCode(65+g),"."]}),h("div",{children:v})]},g)})]})]})]}),_("div",{className:"hidden md:flex h-test",children:[_(Ma,{direction:"e",initSize:700,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:[h(K,{when:!!u.picture_url,children:h("div",{className:"p-4 pb-0",children:h("img",{src:u.picture_url,alt:"Question",className:"mx-auto"},u.id)})}),h(zn,{fallback:h(c2,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(c2,{title:t("test_loadDescription")}),children:h(sb,{content:vr({en:u.description,id:u.description_id},e,n.enabled_translations)})})})]}),_("div",{className:"grow p-4 space-y-4",children:[_(K,{when:n.answer_type===Cu.Priority,children:[_(K,{when:!(c!=null&&c.allFormulaOptions),children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"})]}),h(K,{when:(c==null?void 0:c.allFormulaOptions)!=null,children:_("table",{className:"w-full dark:text-white",children:[h("thead",{children:_("tr",{children:[h("th",{}),c==null?void 0:c.allFormulaOptions.map((m,g)=>h("th",{className:"font-medium pb-2",children:g+1},g))]})}),h("tbody",{className:"bg-gray-100 dark:bg-slate-700/20 divide-y-4 divide-white dark:divide-slate-900",children:c==null?void 0:c.allFormulaOptions.map((m,g)=>{let v="";switch(e){case"en":v=m.enDescription||"";break;case"id":v=m.idDescription||"";break}v||(v=m.enDescription||m.idDescription||"");let y=[];return f&&(y=[...f]),_("tr",{children:[h("td",{className:"py-3 pl-5",children:v}),c.allFormulaOptions.map((b,w)=>{const x=c.allFormulaOptions.length*g+w;return h("td",{className:"w-1/12",children:h("input",{id:`check-${g}-${w}`,type:"radio",checked:y.includes(x),onClick:()=>p(x),className:"block mx-auto w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer",onChange:()=>{}})},w)})]},g)})})]})})]}),_(K,{when:n.answer_type!==Cu.Priority,children:[_(K,{when:!(c!=null&&c.allFormulaOptions),children:[h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"}),h("div",{className:"h-14 w-full bg-gray-300 rounded-lg dark:bg-gray-700 animate-pulse"})]}),c==null?void 0:c.allFormulaOptions.map((m,g)=>{let v="";switch(e){case"en":v=m.enDescription||"";break;case"id":v=m.idDescription||"";break}v||(v=m.enDescription||m.idDescription||"");let y=[];return f&&(y=[...f]),_("label",{className:Ce("flex items-start p-4 text-left rounded border dark:border-gray-600 border-gray-300 font-medium text-gray-900 space-x-2 text-md cursor-pointer select-none",{"dark:text-gray-300":!y.includes(m.id),"bg-blue-100 dark:text-gray-900 ring-2 ring-blue-400":y.includes(m.id)}),children:[h("input",{id:`check-${g}`,type:"radio",checked:y.includes(m.id),onClick:()=>p(m.id),className:"mt-0.5 w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600",onChange:()=>{}}),_("div",{className:"font-semibold uppercase",children:[String.fromCharCode(65+g),"."]}),h("div",{children:v})]},g)})]})]})]})]})},c2=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title});async function dBe(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/testBackend`,n)}async function hBe(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/testFrontend`,n)}async function fBe(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/submitBackend`,n)}async function pBe(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/submitFrontend`,n)}async function Fb(t,e,n,r,a){return Tt("GET",`${kt}/s/submission/${t}/${e}/${n}/${r}?itemsPerPage=500`,void 0,void 0,a)}function Ef(t,e,n,r,a,i){return Tt("PATCH",`${kt}/s/submission/${t}/${e}/${n}/${r}/${a}`,i)}function Pb(t,e,n,r,a){return Tt("DELETE",`${kt}/s/submission/${t}/${e}/${n}/${r}/${a}`)}function iK(t,e,n){return Tt("POST",`${kt}/s/modules/${t}/submission/${e}/resetFiles`,{questionId:n})}function sK(t,e,n,r){return Tt("POST",`${kt}/s/submission/${t}/${e}/${n}/codingfiles`,{...r,code:"",is_editable:!0})}function oK(t,e,n,r){return Tt("POST",`${kt}/s/submission/${t}/${e}/${n}/directories`,{...r,is_editable:!0})}const mBe=D.lazy(()=>Pr(()=>import("./FileEditor-a969ddd2.js"),[])),lK=t=>{const{className:e,style:n}=t;return h(zn,{fallback:h("div",{style:n,className:Ce("flex items-center justify-center dark:text-white",e),children:"Failed Loading File Editor!"}),children:h(D.Suspense,{fallback:h("div",{style:n,className:Ce("flex items-center justify-center dark:text-white",e),children:"Loading FileEditor ..."}),children:h(mBe,{...t})})})},n9=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),gBe=()=>{const[t]=Ji(),{t:e,lang:n}=ct(),{module:r}=uo(),{language:[a],setTotalQuestions:i,submissionId:s}=Ll(),{moduleId:o=""}=Ko(),[l]=lo("questionId",1),[u,c]=D.useState(300),{value:d,update:f}=k0(`ASM_${s}`,l-1),[p,m]=D.useState(),g=p==null?void 0:p.find((X,ne)=>l===ne+1);D.useEffect(()=>{async function X(){var We;const{result:ke,error:Oe}=await Ol(parseInt(o),1,N0);if(!(ke!=null&&ke.data)){Xe({message:e(Oe||((We=ke==null?void 0:ke.error)==null?void 0:We.message)||"err_networkProblem"),type:"error"});return}m(ke.data.items),i(ke.data.totalItems)}const ne=setTimeout(X,100);return()=>clearTimeout(ne)},[]);const[v,y]=D.useState(),[b,w]=D.useState(),x=D.useCallback(async X=>{var Oe;if(!(g!=null&&g.id)||!s)return;const{result:ne,error:ke}=await Fb(s,"frontendquestions",g.id,"codingfiles",X);if(ke!=="The user aborted a request."){if(!(ne!=null&&ne.data)){Xe({message:e(ke||((Oe=ne==null?void 0:ne.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}y(ne.data.items)}},[g==null?void 0:g.id,s]),k=D.useCallback(async X=>{var Oe;if(!(g!=null&&g.id)||!s)return;const{result:ne,error:ke}=await Fb(s,"frontendquestions",g.id,"directories",X);if(ke!=="The user aborted a request."){if(!(ne!=null&&ne.data)){Xe({message:e(ke||((Oe=ne==null?void 0:ne.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}w(ne.data.items)}},[g==null?void 0:g.id,s]);D.useEffect(()=>{if(!(g!=null&&g.id)||!s)return;const X=new AbortController,ne=setTimeout(()=>{x(X.signal),k(X.signal)},100);return()=>{clearTimeout(ne),X.abort()}},[x,k]);const[S,E]=D.useState([]),[I,C]=D.useState(!1);async function R(){var ke;if(!r||!g)return;E([]),C(!0);const{error:X,result:ne}=await hBe(r.id,s,{questionId:g.id,framework:a,mainFile:"index",screenshotImages:[{url:"/",image:"/images/default-img.png"}]});if(C(!1),!(ne!=null&&ne.data)){Xe({message:e(X||((ke=ne==null?void 0:ne.error)==null?void 0:ke.message)||"err_networkProblem"),type:"error"});return}E(ne.data.map(r0e)),d&&f({...d,triesCount:d.triesCount+1})}async function z(){var Oe;if(!r||!g||!d)return;const X=ba(`ASM_${s}`);if(!X.length)return;E([]),C(!0);const{error:ne,result:ke}=await pBe(r.id,s,{questionId:g.id,framework:a,mainFile:"index",screenshotImages:[{url:"/",image:"/images/default-img.png"}],timeSpent:X[l-1].timeSpent});if(C(!1),!(ke!=null&&ke.data)){Xe({message:e(ne||((Oe=ke==null?void 0:ke.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}d&&f({...d,submitted:!0}),Xe({message:e("test_solutionSubmittedDesc"),type:"success"})}const H=D.useCallback(X=>{if(!g)return;const{id:ne,name:ke,code:Oe}=X;Ef(s,"frontendquestions",g.id,"codingfiles",ne,{name:ke,code:Oe})},[g]),U=D.useCallback(async()=>{var ke;if(!(r!=null&&r.id)||!(g!=null&&g.id))return;const{error:X,result:ne}=await iK(r==null?void 0:r.id,s,g==null?void 0:g.id);if(!(ne!=null&&ne.data)){Xe({message:e(X||((ke=ne==null?void 0:ne.error)==null?void 0:ke.message)||"err_networkProblem"),type:"error"});return}x(),k()},[r==null?void 0:r.id,g==null?void 0:g.id,x,k]),q=D.useCallback(async X=>{g!=null&&g.id&&oK(s,"frontendquestions",g.id,{name:X.name,parent_id:X.parent_id,exam_submission_id:s,frontend_question_id:g.id})},[g==null?void 0:g.id]),Q=D.useCallback(async X=>{g!=null&&g.id&&sK(s,"frontendquestions",g.id,{name:X.name,directory_id:X.directory_id,exam_submission_id:s,frontend_question_id:g.id})},[g==null?void 0:g.id]),re=D.useCallback(async X=>{g!=null&&g.id&&Ef(s,"frontendquestions",g.id,"directories",X.id,{name:X.name})},[g==null?void 0:g.id]),he=D.useCallback(async X=>{g!=null&&g.id&&Ef(s,"frontendquestions",g.id,"codingfiles",X.id,{name:X.name,code:X.code})},[g==null?void 0:g.id]),ae=D.useCallback(async X=>{g!=null&&g.id&&Pb(s,"frontendquestions",g.id,"directories",X)},[g==null?void 0:g.id]),se=D.useCallback(async X=>{g!=null&&g.id&&Pb(s,"frontendquestions",g.id,"codingfiles",X)},[g==null?void 0:g.id]);return!r||!g||!v||!b?_(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow bg-white dark:bg-[#1e1e1e]"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]}):_(St,{children:[_("div",{className:"md:hidden w-full h-full",children:[_("div",{className:"text-gray-900 bg-yellow-400 px-4 py-2 flex items-center gap-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 shrink-0",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),h("p",{className:"text-sm",children:e("test_mobile")})]}),h(zn,{fallback:h(d2,{title:e("test_failedDescription")}),children:h(D.Suspense,{fallback:h(d2,{title:e("test_loadDescription")}),children:h(n9,{className:"overflow-auto",content:vr({en:g.description,id:g.description_id||""},n,r.enabled_translations)})})})]}),_("div",{className:"hidden md:flex h-test",children:[h(Ma,{direction:"e",initSize:700,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",resizerClass:"z-[100]",children:h(zn,{fallback:h(d2,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(d2,{title:"Loading description, please wait ..."}),children:h(n9,{content:vr({en:g.description,id:g.description_id||""},n,r.enabled_translations)})})})}),_("div",{className:"grow flex flex-col min-w-0",children:[h(lK,{files:v,setFiles:y,directories:b,setDirectories:w,allowCreateDir:g.allow_create_directory,allowCreateFile:g.allow_create_file,style:{height:`calc(100% - ${u}px)`},onSaveFile:H,resetClass:!0,user_id:t==null?void 0:t.id,exam_module_id:r.id,frontend_question_id:g.id,exam_submission_id:s,onResetFiles:U,onCreateDir:q,onCreateFile:Q,onEditDir:re,onEditFile:he,onDeleteDir:ae,onDeleteFile:se},l),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 z-20",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,onResize:c,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[h(K,{when:S.length>0,children:_("div",{className:"flex dark:text-white space-x-2",children:[_("span",{children:[e("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[S.filter(X=>X.status==="correct").length," ",e("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[S.filter(X=>X.status==="wrong").length," ",e("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[S.filter(X=>X.status!=="wrong"&&X.status!=="correct").length," ",e("tc_error")]})]})}),_("button",{className:"ml-auto dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:R,disabled:(d==null?void 0:d.submitted)||I||((d==null?void 0:d.triesCount)||0)>=g.max_test_count,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),_("p",{className:"font-medium text-sm dark:text-white ml-1",children:[e("tc_runTest")," ",(d==null?void 0:d.triesCount)||0,"/",g.max_test_count]})]}),_("a",{href:(d==null?void 0:d.url)||"",target:"_blank",className:"dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 hover:opacity-80 aria-disabled:opacity-60 aria-disabled:pointer-events-none","aria-disabled":d==null?void 0:d.submitted,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:e("fr_preview")})]}),_("button",{className:"bg-sky-500 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:z,disabled:(d==null?void 0:d.submitted)||I,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),h("p",{className:"font-medium text-sm text-white ml-1 capitalize",children:e("gen_submit")})]})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:I,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),h(K,{when:!S.length&&!I,children:h("div",{className:"dark:text-white flex justify-center items-center h-full",children:e(d!=null&&d.submitted?"test_solutionSubmittedDesc":"tc_resultShown")})}),S.map((X,ne)=>h(jo,{...X},ne))]})]})]})]})]})},d2=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),r9=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),yBe=()=>{const[t]=Ji(),{t:e,lang:n}=ct(),{module:r}=uo(),{language:[a],setTotalQuestions:i,submissionId:s}=Ll(),{moduleId:o=""}=Ko(),[l]=lo("questionId",1),[u,c]=D.useState(300),{value:d,update:f}=k0(`ASM_${s}`,l-1),[p,m]=D.useState(),g=p==null?void 0:p.find((X,ne)=>l===ne+1);D.useEffect(()=>{async function X(){var We;const{result:ke,error:Oe}=await Ol(parseInt(o),1,N0);if(!(ke!=null&&ke.data)){Xe({message:e(Oe||((We=ke==null?void 0:ke.error)==null?void 0:We.message)||"err_networkProblem"),type:"error"});return}m(ke.data.items),i(ke.data.totalItems)}const ne=setTimeout(X,100);return()=>clearTimeout(ne)},[o]);const[v,y]=D.useState(),[b,w]=D.useState(),x=D.useCallback(async X=>{var Oe;if(!(g!=null&&g.id)||!s)return;const{result:ne,error:ke}=await Fb(s,"backendquestions",g.id,"codingfiles",X);if(ke!=="The user aborted a request."){if(!(ne!=null&&ne.data)){Xe({message:e(ke||((Oe=ne==null?void 0:ne.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}y(ne.data.items)}},[g==null?void 0:g.id,s]),k=D.useCallback(async X=>{var Oe;if(!(g!=null&&g.id)||!s)return;const{result:ne,error:ke}=await Fb(s,"backendquestions",g.id,"directories",X);if(ke!=="The user aborted a request."){if(!(ne!=null&&ne.data)){Xe({message:e(ke||((Oe=ne==null?void 0:ne.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}w(ne.data.items)}},[g==null?void 0:g.id,s]);D.useEffect(()=>{if(!(g!=null&&g.id)||!s)return;const X=new AbortController,ne=setTimeout(()=>{x(X.signal),k(X.signal)},100);return()=>{clearTimeout(ne),X.abort()}},[x,k]);const[S,E]=D.useState([]),[I,C]=D.useState(!1);async function R(){var ke;if(!r||!g)return;E([]),C(!0);const{error:X,result:ne}=await dBe(r.id,s,{questionId:g.id,framework:a,mainFile:"index"});if(C(!1),!(ne!=null&&ne.data)){Xe({message:e(X||((ke=ne==null?void 0:ne.error)==null?void 0:ke.message)||"err_networkProblem"),type:"error"});return}E(ne.data.map(a0e)),d&&f({...d,triesCount:d.triesCount+1})}async function z(){var Oe;if(!r||!g||!d)return;const X=ba(`ASM_${s}`);if(!X.length)return;E([]),C(!0);const{error:ne,result:ke}=await fBe(r.id,s,{questionId:g.id,framework:a,mainFile:"index",timeSpent:X[l-1].timeSpent});if(C(!1),!(ke!=null&&ke.data)){Xe({message:e(ne||((Oe=ke==null?void 0:ke.error)==null?void 0:Oe.message)||"err_networkProblem"),type:"error"});return}d&&f({...d,submitted:!0}),Xe({message:e("test_solutionSubmittedDesc"),type:"success"})}const H=D.useCallback(X=>{if(!g)return;const{id:ne,name:ke,code:Oe}=X;Ef(s,"backendquestions",g.id,"codingfiles",ne,{name:ke,code:Oe})},[g]),U=D.useCallback(async()=>{var ke;if(!(r!=null&&r.id)||!(g!=null&&g.id))return;const{error:X,result:ne}=await iK(r==null?void 0:r.id,s,g==null?void 0:g.id);if(!(ne!=null&&ne.data)){Xe({message:e(X||((ke=ne==null?void 0:ne.error)==null?void 0:ke.message)||"err_networkProblem"),type:"error"});return}x(),k()},[r==null?void 0:r.id,g==null?void 0:g.id,x,k]),q=D.useCallback(async X=>{g!=null&&g.id&&oK(s,"backendquestions",g.id,{name:X.name,parent_id:X.parent_id,exam_submission_id:s,backend_question_id:g.id})},[g==null?void 0:g.id]),Q=D.useCallback(async X=>{g!=null&&g.id&&sK(s,"backendquestions",g.id,{name:X.name,directory_id:X.directory_id,exam_submission_id:s,backend_question_id:g.id})},[g==null?void 0:g.id]),re=D.useCallback(async X=>{g!=null&&g.id&&Ef(s,"backendquestions",g.id,"directories",X.id,{name:X.name})},[g==null?void 0:g.id]),he=D.useCallback(async X=>{g!=null&&g.id&&Ef(s,"backendquestions",g.id,"codingfiles",X.id,{name:X.name,code:X.code})},[g==null?void 0:g.id]),ae=D.useCallback(async X=>{g!=null&&g.id&&Pb(s,"backendquestions",g.id,"directories",X)},[g==null?void 0:g.id]),se=D.useCallback(async X=>{g!=null&&g.id&&Pb(s,"backendquestions",g.id,"codingfiles",X)},[g==null?void 0:g.id]);return!r||!g||!v||!b?_(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow bg-white dark:bg-[#1e1e1e]"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]}):_(St,{children:[_("div",{className:"md:hidden w-full h-full",children:[_("div",{className:"text-gray-900 bg-yellow-400 px-4 py-2 flex items-center gap-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 shrink-0",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),h("p",{className:"text-sm",children:e("test_mobile")})]}),h(zn,{fallback:h(h2,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(h2,{title:"Loading description, please wait ..."}),children:h(r9,{className:"overflow-auto",content:vr({en:g.description,id:g.description_id||""},n,r.enabled_translations)})})})]}),_("div",{className:"hidden md:flex h-test",children:[h(Ma,{direction:"e",initSize:700,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",resizerClass:"z-[100]",children:h(zn,{fallback:h(h2,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(h2,{title:"Loading description, please wait ..."}),children:h(r9,{content:vr({en:g.description,id:g.description_id||""},n,r.enabled_translations)})})})}),_("div",{className:"grow flex flex-col min-w-0",children:[h(lK,{files:v,setFiles:y,directories:b,setDirectories:w,allowCreateDir:g.allow_create_directory,allowCreateFile:g.allow_create_file,style:{height:`calc(100% - ${u}px)`},onSaveFile:H,resetClass:!0,user_id:t==null?void 0:t.id,exam_module_id:r.id,backend_question_id:g.id,exam_submission_id:s,onResetFiles:U,onCreateDir:q,onCreateFile:Q,onEditDir:re,onEditFile:he,onDeleteDir:ae,onDeleteFile:se},l),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 z-20",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,onResize:c,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[h(K,{when:S.length>0,children:_("div",{className:"flex dark:text-white space-x-2",children:[_("span",{children:[e("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[S.filter(X=>X.status==="correct").length," ",e("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[S.filter(X=>X.status==="wrong").length," ",e("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[S.filter(X=>X.status!=="wrong"&&X.status!=="correct").length," ",e("tc_error")]})]})}),_("button",{className:"ml-auto dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:R,disabled:(d==null?void 0:d.submitted)||I||((d==null?void 0:d.triesCount)||0)>=g.max_test_count,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),_("p",{className:"font-medium text-sm dark:text-white ml-1",children:[e("tc_runTest")," ",(d==null?void 0:d.triesCount)||0,"/",g.max_test_count]})]}),_("a",{href:(d==null?void 0:d.url)||"",target:"_blank",className:"dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 hover:opacity-80 aria-disabled:opacity-60 aria-disabled:pointer-events-none","aria-disabled":d==null?void 0:d.submitted,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:e("fr_preview")})]}),_("button",{className:"bg-sky-500 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:z,disabled:(d==null?void 0:d.submitted)||I,children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),h("p",{className:"font-medium text-sm text-white ml-1 capitalize",children:e("gen_submit")})]})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:I,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),h(K,{when:!S.length&&!I,children:h("div",{className:"dark:text-white flex justify-center items-center h-full",children:e(d!=null&&d.submitted?"test_solutionSubmittedDesc":"tc_resultShown")})}),S.map((X,ne)=>h(jo,{...X},ne))]})]})]})]})]})},h2=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title}),bBe=()=>{const{t}=ct();return h(Es,{title:"Algobash Courses",children:_("div",{className:"w-full px-2 lg:px-10 md:px-4 py-4 mx-auto",children:[h("div",{className:"flex items-center gap-x-2 justify-between mb-4",children:h("h1",{className:"text-xl font-medium dark:text-white flex lg:grow-0 grow truncate text-ellipsis",children:t("gen_courses")})}),h("div",{className:"flex flex-col justify-center items-center p-5 min-h-[300px] rounded-md bg-white dark:bg-slate-900 text-gray-500",children:_("p",{className:"font-medium text-gray-700 dark:text-gray-300 capitalize",children:[t("gen_comingSoon")," "]})})]})})},vBe=()=>{const{t}=ct(),{assessment:e,setAssessmentKey:n}=$l();return e?h("div",{className:"w-full px-2 lg:px-10 md:px-8 py-8 mx-auto gap-4",children:h("div",{className:"bg-white dark:bg-slate-900 rounded-lg",children:_("div",{className:"mx-auto md:w-3/4 lg:w-1/2 w-full p-8 text-center flex flex-col items-center",children:[_("div",{className:"relative flex",children:[h("div",{className:"relative text-white rounded-full w-24 h-24 flex items-center justify-center bg-blue-500 mb-2",children:h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z"})})}),h("div",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-10"})]}),h("h1",{className:"font-medium text-2xl dark:text-white my-2",children:t("asm_finished")}),h("h3",{className:"font-medium text-xl dark:text-white mb-2",children:e.name}),h("p",{className:"dark:text-white opacity-80 mb-4",children:t("asm_mainPage")}),h("p",{className:"dark:text-white opacity-80  mb-4",children:t("asm_mainPage2")}),_(Nt,{to:"/",onClick:()=>n(r=>r+1),className:"md:w-fit w-full h-12 px-4 bg-sky-50 hover:bg-sky-100 disabled:bg-gray-500 text-sky-700 rounded flex justify-center items-center gap-x-2 mt-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),h("span",{className:"block",children:t("asm_goToHome")})]})]})})}):_("div",{className:"animate-pulse min-h-[500px] h-[50vh] p-10 grid grid-cols-2 gap-5",children:[h("div",{className:"bg-gray-200 dark:bg-gray-900 col-span-2 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"}),h("div",{className:"bg-gray-200 dark:bg-gray-900 rounded"})]})},wBe=function(){return h(Es,{title:"Not Found",children:h("div",{className:"min-h-page flex flex-col bg-white dark:bg-gray-900",children:h("div",{className:"w-full flex flex-grow bg-slate-50 dark:bg-slate-800 ",children:h("div",{className:"w-full p-2 lg:px-10 lg:py-4 md:p-4 mx-auto flex flex-col md:flex-row gap-4 grow-0 h-full",children:h("div",{className:"w-full flex flex-col",children:h("div",{className:"rounded-lg px-4 py-4 bg-white dark:bg-slate-900 flex items-center justify-between",children:_("div",{className:"w-full px-4 py-12 flex justify-center flex-col text-center",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"mb-2 w-12 h-12 mx-auto text-gray-200 dark:text-gray-700",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"})}),h("h1",{className:"font-medium text-gray-600 dark:text-gray-200 text-2xl",children:"404 Error"}),h("p",{className:"text-gray-400 text-md",children:"Your requested URL was not found."}),_("p",{className:"text-gray-400 text-md mb-3",children:["If the problem persists, please report your ",h(Nt,{to:"/",className:"underline",children:"ticket here"}),"."]}),_(Nt,{className:"h-12 px-4 bg-blue-500 text-white rounded flex justify-center items-center gap-x-2 w-fit mx-auto",to:"/",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),h("span",{className:"hidden md:block pr-2",children:"Back To Home"})]})]})})})})})})})};function xBe(t){return wr(t)&&"code"in t&&"reason"in t}var _Be=function(t){Ts(e,t);function e(n){var r=t.call(this)||this;return r.client=n,r}return e.prototype.request=function(n){var r=this;return new Cn(function(a){return r.client.subscribe(Ee(Ee({},n),{query:DB(n.query)}),{next:a.next.bind(a),complete:a.complete.bind(a),error:function(i){return i instanceof Error?a.error(i):xBe(i)?a.error(new Error("Socket closed with event ".concat(i.code," ").concat(i.reason||""))):a.error(new To({graphQLErrors:Array.isArray(i)?i:[i]}))}})})},e}(Cs);function uK(t){return new Cs(function(e,n){return new Cn(function(r){var a,i,s;try{a=n(e).subscribe({next:function(o){if(o.errors&&(s=t({graphQLErrors:o.errors,response:o,operation:e,forward:n}),s)){i=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.next(o)},error:function(o){if(s=t({operation:e,networkError:o,graphQLErrors:o&&o.result&&o.result.errors,forward:n}),s){i=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)});return}r.error(o)},complete:function(){s||r.complete.bind(r)()}})}catch(o){t({networkError:o,operation:e,forward:n}),r.error(o)}return function(){a&&a.unsubscribe(),i&&a.unsubscribe()}})})}(function(t){Ts(e,t);function e(n){var r=t.call(this)||this;return r.link=uK(n),r}return e.prototype.request=function(n,r){return this.link.request(n,r)},e})(Cs);const kBe=u5(Gfe),SBe=u5(Xhe);var NBe=class{constructor({uri:e,name:n,type:r}){this.uri=e,this.name=n,this.type=r}};const EBe=NBe;var cK=function(e){return typeof File<"u"&&e instanceof File||typeof Blob<"u"&&e instanceof Blob||e instanceof EBe};const TBe=cK;var CBe=function(e,n="",r=TBe){const a=new Map,i=new Map;function s(o,l,u){let c=o;if(r(o)){c=null;const d=a.get(o);d?d.push(l):a.set(o,[l])}else{const d=Array.isArray(o)||typeof FileList<"u"&&o instanceof FileList,f=o&&o.constructor===Object;if(d||f){const p=i.has(o);if(p?c=i.get(o):(c=d?[]:{},i.set(o,c)),!u.has(o)){const m=l?`${l}.`:"",g=new Set(u).add(o);if(d){let v=0;for(const y of o){const b=s(y,m+v++,g);p||c.push(b)}}else for(const v in o){const y=s(o[v],m+v,g);p||(c[v]=y)}}}}return c}return{clone:s(e,n,new Set),files:a}},IBe=function(e,n,r){e.append(n,r,r.name)},ABe=cK;const{ApolloLink:DBe,Observable:a9}=kBe,{createSignalIfSupported:RBe,fallbackHttpConfig:$Be,parseAndCheckHttpResponse:OBe,rewriteURIForGET:LBe,selectHttpOptionsAndBody:FBe,selectURI:PBe,serializeFetchParameter:i9}=SBe,MBe=CBe,BBe=IBe,zBe=ABe;var UBe=function({uri:e="/graphql",useGETForQueries:n,isExtractableFile:r=zBe,FormData:a,formDataAppendFile:i=BBe,fetch:s,fetchOptions:o,credentials:l,headers:u,includeExtensions:c}={}){const d={http:{includeExtensions:c},options:o,credentials:l,headers:u};return new DBe(f=>{const p=f.getContext(),{clientAwareness:{name:m,version:g}={},headers:v}=p,y={http:p.http,options:p.fetchOptions,credentials:p.credentials,headers:{...m&&{"apollographql-client-name":m},...g&&{"apollographql-client-version":g},...v}},{options:b,body:w}=FBe(f,$Be,d,y),{clone:x,files:k}=MBe(w,"",r);let S=PBe(f,e);if(k.size){delete b.headers["content-type"];const C=a||FormData,R=new C;R.append("operations",i9(x,"Payload"));const z={};let H=0;k.forEach(U=>{z[++H]=U}),R.append("map",JSON.stringify(z)),H=0,k.forEach((U,q)=>{i(R,++H,q)}),b.body=R}else if(n&&!f.query.definitions.some(C=>C.kind==="OperationDefinition"&&C.operation==="mutation")&&(b.method="GET"),b.method==="GET"){const{newURI:C,parseError:R}=LBe(S,w);if(R)return new a9(z=>{z.error(R)});S=C}else b.body=i9(x,"Payload");const{controller:E}=RBe();E&&(b.signal&&(b.signal.aborted?E.abort():b.signal.addEventListener("abort",()=>{E.abort()},{once:!0})),b.signal=E.signal);const I=s||fetch;return new a9(C=>{let R;return I(S,b).then(z=>(f.setContext({response:z}),z)).then(OBe(f)).then(z=>{C.next(z),C.complete()}).catch(z=>{R||(z.result&&z.result.errors&&z.result.data&&C.next(z.result),C.error(z))}),()=>{R=!0,E&&E.abort()}})})};const jBe=Bb(UBe);function Li(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function od(t){return Li(t)==="object"}function VBe(t){return Array.isArray(t)&&t.length>0&&t.every(e=>"message"in e)}function s9(t,e){return t.length<124?t:e}const WBe="graphql-transport-ws";var ds;(function(t){t[t.InternalServerError=4500]="InternalServerError",t[t.InternalClientError=4005]="InternalClientError",t[t.BadRequest=4400]="BadRequest",t[t.BadResponse=4004]="BadResponse",t[t.Unauthorized=4401]="Unauthorized",t[t.Forbidden=4403]="Forbidden",t[t.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",t[t.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",t[t.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",t[t.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",t[t.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(ds||(ds={}));var Or;(function(t){t.ConnectionInit="connection_init",t.ConnectionAck="connection_ack",t.Ping="ping",t.Pong="pong",t.Subscribe="subscribe",t.Next="next",t.Error="error",t.Complete="complete"})(Or||(Or={}));function dK(t){if(!od(t))throw new Error(`Message is expected to be an object, but got ${Li(t)}`);if(!t.type)throw new Error("Message is missing the 'type' property");if(typeof t.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Li(t.type)}`);switch(t.type){case Or.ConnectionInit:case Or.ConnectionAck:case Or.Ping:case Or.Pong:{if(t.payload!=null&&!od(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${t.payload}"`);break}case Or.Subscribe:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Li(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!od(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${Li(t.payload)}`);if(typeof t.payload.query!="string")throw new Error(`"${t.type}" message payload expects the 'query' property to be a string, but got ${Li(t.payload.query)}`);if(t.payload.variables!=null&&!od(t.payload.variables))throw new Error(`"${t.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Li(t.payload.variables)}`);if(t.payload.operationName!=null&&Li(t.payload.operationName)!=="string")throw new Error(`"${t.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Li(t.payload.operationName)}`);if(t.payload.extensions!=null&&!od(t.payload.extensions))throw new Error(`"${t.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Li(t.payload.extensions)}`);break}case Or.Next:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Li(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!od(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an object, but got ${Li(t.payload)}`);break}case Or.Error:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Li(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);if(!VBe(t.payload))throw new Error(`"${t.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(t.payload)}`);break}case Or.Complete:{if(typeof t.id!="string")throw new Error(`"${t.type}" message expects the 'id' property to be a string, but got ${Li(t.id)}`);if(!t.id)throw new Error(`"${t.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${t.type}"`)}return t}function GBe(t,e){return dK(typeof t=="string"?JSON.parse(t,e):t)}function dm(t,e){return dK(t),JSON.stringify(t,e)}function HBe(t){const{url:e,connectionParams:n,lazy:r=!0,onNonLazyError:a=console.error,lazyCloseTimeout:i=0,keepAlive:s=0,disablePong:o,connectionAckWaitTimeout:l=0,retryAttempts:u=5,retryWait:c=async function(Q){let re=1e3;for(let he=0;he<Q;he++)re*=2;await new Promise(he=>setTimeout(he,re+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:d=f2,isFatalConnectionProblem:f,on:p,webSocketImpl:m,generateID:g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Q=>{const re=Math.random()*16|0;return(Q=="x"?re:re&3|8).toString(16)})},jsonMessageReplacer:v,jsonMessageReviver:y}=t;let b;if(m){if(!YBe(m))throw new Error("Invalid WebSocket implementation provided");b=m}else typeof WebSocket<"u"?b=WebSocket:typeof global<"u"?b=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(b=window.WebSocket||window.MozWebSocket);if(!b)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const w=b,x=(()=>{const q=(()=>{const re={};return{on(he,ae){return re[he]=ae,()=>{delete re[he]}},emit(he){var ae;"id"in he&&((ae=re[he.id])===null||ae===void 0||ae.call(re,he))}}})(),Q={connecting:p!=null&&p.connecting?[p.connecting]:[],opened:p!=null&&p.opened?[p.opened]:[],connected:p!=null&&p.connected?[p.connected]:[],ping:p!=null&&p.ping?[p.ping]:[],pong:p!=null&&p.pong?[p.pong]:[],message:p!=null&&p.message?[q.emit,p.message]:[q.emit],closed:p!=null&&p.closed?[p.closed]:[],error:p!=null&&p.error?[p.error]:[]};return{onMessage:q.on,on(re,he){const ae=Q[re];return ae.push(he),()=>{ae.splice(ae.indexOf(he),1)}},emit(re,...he){for(const ae of[...Q[re]])ae(...he)}}})();function k(q){const Q=[x.on("error",re=>{Q.forEach(he=>he()),q(re)}),x.on("closed",re=>{Q.forEach(he=>he()),q(re)})]}let S,E=0,I,C=!1,R=0,z=!1;async function H(){clearTimeout(I);const[q,Q]=await(S??(S=new Promise((ae,se)=>(async()=>{if(C){if(await c(R),!E)return S=void 0,se({code:1e3,reason:"All Subscriptions Gone"});R++}x.emit("connecting");const X=new w(typeof e=="function"?await e():e,WBe);let ne,ke;function Oe(){isFinite(s)&&s>0&&(clearTimeout(ke),ke=setTimeout(()=>{X.readyState===w.OPEN&&(X.send(dm({type:Or.Ping})),x.emit("ping",!1,void 0))},s))}k(ze=>{S=void 0,clearTimeout(ne),clearTimeout(ke),se(ze),f2(ze)&&ze.code===4499&&(X.close(4499,"Terminated"),X.onerror=null,X.onclose=null)}),X.onerror=ze=>x.emit("error",ze),X.onclose=ze=>x.emit("closed",ze),X.onopen=async()=>{try{x.emit("opened",X);const ze=typeof n=="function"?await n():n;if(X.readyState!==w.OPEN)return;X.send(dm(ze?{type:Or.ConnectionInit,payload:ze}:{type:Or.ConnectionInit},v)),isFinite(l)&&l>0&&(ne=setTimeout(()=>{X.close(ds.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),Oe()}catch(ze){x.emit("error",ze),X.close(ds.InternalClientError,s9(ze instanceof Error?ze.message:new Error(ze).message,"Internal client error"))}};let We=!1;X.onmessage=({data:ze})=>{try{const be=GBe(ze,y);if(x.emit("message",be),be.type==="ping"||be.type==="pong"){x.emit(be.type,!0,be.payload),be.type==="pong"?Oe():o||(X.send(dm(be.payload?{type:Or.Pong,payload:be.payload}:{type:Or.Pong})),x.emit("pong",!1,be.payload));return}if(We)return;if(be.type!==Or.ConnectionAck)throw new Error(`First message cannot be of type ${be.type}`);clearTimeout(ne),We=!0,x.emit("connected",X,be.payload),C=!1,R=0,ae([X,new Promise((Ie,Le)=>k(Le))])}catch(be){X.onmessage=null,x.emit("error",be),X.close(ds.BadResponse,s9(be instanceof Error?be.message:new Error(be).message,"Bad response"))}}})())));q.readyState===w.CLOSING&&await Q;let re=()=>{};const he=new Promise(ae=>re=ae);return[q,re,Promise.race([he.then(()=>{if(!E){const ae=()=>q.close(1e3,"Normal Closure");isFinite(i)&&i>0?I=setTimeout(()=>{q.readyState===w.OPEN&&ae()},i):ae()}}),Q])]}function U(q){if(f2(q)&&(qBe(q.code)||[ds.InternalServerError,ds.InternalClientError,ds.BadRequest,ds.BadResponse,ds.Unauthorized,ds.SubprotocolNotAcceptable,ds.SubscriberAlreadyExists,ds.TooManyInitialisationRequests].includes(q.code)))throw q;if(z)return!1;if(f2(q)&&q.code===1e3)return E>0;if(!u||R>=u||!d(q)||f!=null&&f(q))throw q;return C=!0}return r||(async()=>{for(E++;;)try{const[,,q]=await H();await q}catch(q){try{if(!U(q))return}catch(Q){return a==null?void 0:a(Q)}}})(),{on:x.on,subscribe(q,Q){const re=g(q);let he=!1,ae=!1,se=()=>{E--,he=!0};return(async()=>{for(E++;;)try{const[X,ne,ke]=await H();if(he)return ne();const Oe=x.onMessage(re,We=>{switch(We.type){case Or.Next:{Q.next(We.payload);return}case Or.Error:{ae=!0,he=!0,Q.error(We.payload),se();return}case Or.Complete:{he=!0,se();return}}});X.send(dm({id:re,type:Or.Subscribe,payload:q},v)),se=()=>{!he&&X.readyState===w.OPEN&&X.send(dm({id:re,type:Or.Complete},v)),E--,he=!0,ne()},await ke.finally(Oe);return}catch(X){if(!U(X))return}})().then(()=>{ae||Q.complete()}).catch(X=>{Q.error(X)}),()=>{he||se()}},async dispose(){if(z=!0,S){const[q]=await S;q.close(1e3,"Normal Closure")}},terminate(){S&&x.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function f2(t){return od(t)&&"code"in t&&"reason"in t}function qBe(t){return[1e3,1001,1006,1005,1012,1013,1013].includes(t)?!1:t>=1e3&&t<=1999}function YBe(t){return typeof t=="function"&&"constructor"in t&&"CLOSED"in t&&"CLOSING"in t&&"CONNECTING"in t&&"OPEN"in t}const KBe=jBe({uri:NM,credentials:"include"}),XBe=new _Be(HBe({url:kse})),QBe=jB(({query:t})=>{const e=Gv(t);return e.kind==="OperationDefinition"&&e.operation==="subscription"},XBe,KBe),ZBe=uK(({graphQLErrors:t,networkError:e})=>{if(t&&t.length){const{message:n}=t[0];n==="UNAUTHENTICATED"&&hE()}e&&e.message.includes("500")&&Xe({message:jN("err_networkProblem"),type:"error"})}),o5=new wz({cache:new mz({typePolicies:{Submission:{keyFields:["id","moduleId"]}}}),link:ZBe.concat(QBe),defaultOptions:{query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{fetchPolicy:"network-only",errorPolicy:"all"},watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"all"}}}),o9=D.lazy(()=>Pr(()=>import("./index-8edfd4c4.js"),[])),hK=new Audio("/audio/project-warning-5.wav");hK.loop=!1;const JBe=()=>{const{t,lang:e}=ct(),{module:n,submission:r}=uo(),{assessment:a}=$l(),{diff:i,submissionId:s,setTotalQuestions:o}=Ll(),{moduleId:l=""}=Ko(),[u]=lo("questionId",1),[c,d]=D.useState(),f=c==null?void 0:c.find((C,R)=>u===R+1);D.useEffect(()=>{async function C(){var U;const{result:z,error:H}=await Ol(parseInt(l),1,iye);if(!(z!=null&&z.data)){Xe({message:t(H||((U=z==null?void 0:z.error)==null?void 0:U.message)||"err_networkProblem"),type:"error"});return}d(z.data.items),o(z.data.totalItems)}const R=setTimeout(C,100);return()=>clearTimeout(R)},[l]);const{data:p}=Tpe({skip:!f||!s,variables:{examSubmissionID:s,questionID:(f==null?void 0:f.id)||0}}),{data:m}=Ipe({skip:!f,variables:{submissionId:s,questionId:(f==null?void 0:f.id)||0}});D.useEffect(()=>{m&&oT.highlightAll()},[m]);const{data:g}=Npe(),[v,y]=D.useState([]),[b,w]=D.useState(!1);function x(){!(f!=null&&f.id)||!s||(w(!0),o5.subscribe({query:_pe,variables:{examSubmissionID:s,questionID:f.id}}).subscribe({next(C){var R,z;!((R=C.data)!=null&&R.testProject.frontendResult.length)||!((z=C.data)!=null&&z.testProject.backendResult.length)||(w(!1),y([...C.data.testProject.frontendResult.map(QR),...C.data.testProject.backendResult.map(ZR)]))}}))}function k(){!(f!=null&&f.id)||!s||(w(!0),o5.subscribe({query:kpe,variables:{examSubmissionID:s,questionID:f.id}}).subscribe({next(C){var R,z;!((R=C.data)!=null&&R.submitProject.frontendResult.length)||!((z=C.data)!=null&&z.submitProject.backendResult.length)||(w(!1),y([...C.data.submitProject.frontendResult.map(QR),...C.data.submitProject.backendResult.map(ZR)]))}}))}const S=D.useRef(!1);if(D.useEffect(()=>{async function C(){if(!r||!a||r.status==="done"||S.current||a!=null&&a.is_course)return;const z=`project_timer_${r.id}`;if(await Sl(z)){S.current=!0;return}i>=3e5||(S.current=!0,Wr(z,!0),hK.play())}const R=setTimeout(C,100);return()=>clearTimeout(R)},[i]),!n||!f)return _(St,{children:[_("div",{className:"md:hidden flex-1 animate-pulse",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"hidden md:flex h-test",children:[_("div",{style:{width:window.innerWidth/2},className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0 animate-pulse overflow-auto",children:[_("div",{className:"h-[42px] py-2 px-3 mb-0.5 border-b-2 border-gray-200 dark:border-gray-800 flex items-center",children:[h("p",{className:"w-36 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),",",h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]}),_("div",{className:"w-full py-2 px-3 space-y-2",children:[h("h1",{className:"h-8 w-60 bg-gray-300 rounded-lg dark:bg-gray-600"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("br",{}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-full h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-4/5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-64 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]}),_("div",{className:"grow flex flex-col min-w-0",children:[h("div",{className:"grow"}),_("div",{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0 h-[300px]",children:[h("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:_("div",{className:"flex space-x-2 ml-auto animate-pulse",children:[h("div",{className:"h-[40px] w-[130px] bg-gray-300 rounded dark:bg-gray-600"}),h("div",{className:"h-[40px] w-[100px] bg-gray-300 rounded dark:bg-gray-600"})]})}),_("div",{className:"p-3 space-y-4 overflow-auto h-[calc(100%-58px)] animate-pulse",children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]})]})]})]})]});const E=navigator.userAgentData.platform.includes("windows"),I=m==null?void 0:m.getProxyInfo.gitCloneUrl.replace("https://",`https://${g==null?void 0:g.viewGitCredential.username}:${encodeURI((g==null?void 0:g.viewGitCredential.password)||"")}@`);return _(St,{children:[_("div",{className:"md:hidden flex-1 flex",children:[_("div",{className:"text-gray-900 bg-yellow-400 px-4 py-2 flex items-center gap-2",children:[h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 shrink-0",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),h("p",{className:"text-sm",children:t("test_mobile")})]}),h(zn,{fallback:h(p2,{title:t("test_failedDescription")}),children:h(D.Suspense,{fallback:h(p2,{title:t("test_loadDescription")}),children:h(o9,{className:"overflow-auto",content:vr({en:f.description,id:f.description_id||""},e,n.enabled_translations)})})})]}),_("div",{className:"hidden md:flex h-test",children:[h(Ma,{direction:"e",initSize:window.innerWidth/2,codingTest:!0,className:"dark:border-gray-800 border-r-2 border-gray-200 shrink-0",children:h(zn,{fallback:h(p2,{title:"Failed loading description, please refresh!"}),children:h(D.Suspense,{fallback:h(p2,{title:"Loading description, please wait ..."}),children:h(o9,{content:vr({en:f.description,id:f.description_id||""},e,n.enabled_translations)})})})}),_("div",{className:"grow flex flex-col min-w-0",children:[_("div",{className:"grow p-2 dark:text-white space-y-2 overflow-auto",children:[h("h1",{className:"text-4xl font-medium",children:t("prj_instruction")}),_("div",{children:[h("h2",{className:"text-2xl font-medium",children:t("prj_gitAcc")}),_("div",{className:"pl-0.5 space-y-1",children:[_("p",{children:[t("prj_access1")," ",h("a",{href:Sse,target:"_blank",className:"text-sky-500 hover:text-sky-300 hover:underline",children:"Git"})," ",t("prj_access2")]}),_("div",{className:"grid grid-cols-[auto_auto_minmax(0,1fr)] pl-1",hidden:!g,children:[_("div",{className:"flex items-center gap-1.5",children:[h("div",{className:"w-[5px] h-[5px] rounded-full bg-black dark:bg-white"}),h("div",{children:"Username"})]}),h("div",{className:"mx-1",children:":"}),h("i",{children:g==null?void 0:g.viewGitCredential.username}),_("div",{className:"flex items-center gap-1.5",children:[h("div",{className:"w-[5px] h-[5px] rounded-full bg-black dark:bg-white"}),h("div",{children:"Password"})]}),h("div",{className:"mx-1",children:":"}),h("i",{children:g==null?void 0:g.viewGitCredential.password}),_("div",{className:"flex items-center gap-1.5",children:[h("div",{className:"w-[5px] h-[5px] rounded-full bg-black dark:bg-white"}),h("div",{children:"Project"})]}),h("div",{className:"mx-1",children:":"}),_("a",{href:m==null?void 0:m.getProxyInfo.gitUrl,target:"_blank",className:"text-sky-500 hover:text-sky-300 hover:underline italic",children:[m==null?void 0:m.getProxyInfo.gitUrl,"."]})]})]})]}),_("div",{children:[h("h2",{className:"text-2xl font-medium",children:t("prj_project")}),_("div",{className:"pl-0.5 space-y-1",hidden:!(m!=null&&m.getProxyInfo.gitCloneUrl),children:[h("p",{children:t("prj_projectDown")}),h("p",{children:t("prj_projectPull")}),h("div",{className:Ce(yd.rtp,yd.prj),children:h("pre",{className:"language-bash","data-role":"codeBlock","data-info":"bash",children:h("code",{children:`git clone ${I}`})})})]})]}),_("div",{children:[h("h2",{className:"text-2xl font-medium",children:t("prj_proxy")}),_("ol",{className:"list-decimal list-outside pl-6",children:[h("li",{children:t("prj_terminal")}),_("li",{children:[t("prj_runCmd")," ",h("br",{}),_("div",{className:Ce(yd.rtp,yd.prj),children:[h(K,{when:E,children:h("pre",{className:"language-bash","data-role":"codeBlock","data-info":"bash",children:h("code",{children:`$token = "845TR6AE"; iex (Invoke-RestMethod -Uri 'https://app2.algo.kekal.id/download/algo.ps1')`})})}),h(K,{when:!E,children:h("pre",{className:"language-bash","data-role":"codeBlock","data-info":"bash",children:h("code",{children:`sh <(curl -sSfL https://app2.algo.kekal.id/download/algo.sh) ${m==null?void 0:m.getProxyInfo.token}`})})})]})]}),_("li",{children:[t("prj_check")," : ",h("a",{href:`//${p==null?void 0:p.statusProxy.publicUrl}`,target:"_blank",className:"text-sky-500 hover:text-sky-300 hover:underline",children:p==null?void 0:p.statusProxy.publicUrl})]}),h("li",{children:t("prj_status")})]})]}),_("div",{children:[h("h2",{className:"text-2xl font-medium",children:t("prj_wtp")}),_("div",{className:"pl-0.5 space-y-1",children:[_("p",{children:[t("prj_timer")," ",t("prj_recommend")]}),_("p",{children:[t("prj_howToPush")," ",h("span",{className:"font-mono text-xs pt-1 pb-[0.2rem] px-2 rounded bg-gray-300 dark:bg-slate-700 text-slate-600 dark:text-sky-300",children:"git push origin"}),". ",t("prj_thisStep")]})]})]})]}),_(Ma,{className:"bg-white dark:bg-gray-900 dark:border-gray-800 border-t-2 border-gray-200 shrink-0",direction:"n",initSize:300,codingTest:!0,noOverFlow:!0,children:[_("div",{className:"border-b-2 dark:border-gray-800 border-gray-200 p-2 px-3 flex items-center sticky",children:[_("div",{className:"flex dark:text-white gap-1",children:[h("div",{className:"font-semibold",children:"Proxy Status :"}),_("div",{className:Ce("flex items-center",{"text-lime-600":(p==null?void 0:p.statusProxy.status)===U2.Online,"text-rose-600":(p==null?void 0:p.statusProxy.status)===U2.Offline,"text-gray-400":(p==null?void 0:p.statusProxy.status)===U2.Stopping}),children:[h("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:h("path",{d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"})}),h("p",{className:"font-semibold",children:p==null?void 0:p.statusProxy.status})]})]}),h(K,{when:v.length>0,children:_("div",{className:"flex dark:text-white space-x-2",children:[_("span",{children:[t("gen_result")," :"]}),_("span",{className:"text-lime-600 font-semibold",children:[v.filter(C=>C.status==="correct").length," ",t("tc_correct")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-orange-600 font-semibold",children:[v.filter(C=>C.status==="wrong").length," ",t("tc_wrong")]}),h("div",{className:"border-l-[1px] border-gray-300 dark:border-gray-700"}),_("span",{className:"text-red-600 font-semibold",children:[v.filter(C=>C.status!=="wrong"&&C.status!=="correct").length," ",t("tc_error")]})]})}),_("button",{className:"ml-auto dark:border-gray-600 border-2 border-gray-150 text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80",onClick:x,disabled:b,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"dark:text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm dark:text-white ml-1",children:t("tc_runTest")})]}),_("button",{className:"text-sm font-medium py-2 px-4 rounded flex items-center mr-2 disabled:opacity-60 hover:opacity-80 bg-sky-500",onClick:k,disabled:b,children:[h("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"text-white w-4 h-4",children:h("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"})}),h("p",{className:"font-medium text-sm text-white ml-1",children:t("test_submitTest")})]})]}),_("div",{className:Ce("p-3 space-y-4 overflow-auto h-[calc(100%-58px)]"),children:[_(K,{when:b,children:[_("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:[h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-t-sm h-10"}),_("div",{className:"border-l-4 p-3 border-gray-300 dark:border-gray-600 space-y-2",children:[h("p",{className:"w-48 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-20 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"h-2"}),_("div",{className:"flex gap-2",children:[h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"}),h("p",{className:"w-5 h-2 bg-gray-200 rounded-lg dark:bg-gray-700"})]})]})]}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})}),h("div",{className:"w-full overflow-hidden bg-white shadow-lg animate-pulse dark:bg-gray-800",children:h("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-sm h-10"})})]}),v.map((C,R)=>h(jo,{...C},R))]})]})]})]})]})},p2=t=>h("div",{className:"py-2 px-3 text-gray-800 dark:text-white italic h-1/2 flex items-center justify-center",children:t.title});function eze(){return h(St,{children:_("div",{className:"relative flex flex-col min-h-screen bg-slate-50 dark:bg-gray-900/95 z-0",children:[h(bB,{}),_(OZ,{children:[h(kn,{path:"/",element:h(Vpe,{})}),h(kn,{path:"/course",element:h(bBe,{})}),h(kn,{path:"/login",element:h(Gpe,{})}),h(kn,{path:"/register",element:h(qpe,{})}),h(kn,{path:"/forgot-password",element:h(Ype,{})}),h(kn,{path:"/guide",element:h(Pce,{})}),_(kn,{path:"/profile/*",element:h(Kpe,{}),children:[h(kn,{path:"",element:h(tme,{})}),h(kn,{path:"password",element:h(nme,{})}),h(kn,{path:"2fa",element:h(cge,{})})]}),_(kn,{path:"/assessments/:eventId",element:h(Qge,{}),children:[h(kn,{path:"",element:h(v0e,{})}),h(kn,{path:"finish",element:h(vBe,{})}),_(kn,{path:"modules/:moduleId",element:h(w0e,{}),children:[h(kn,{path:"",element:h(hU,{})}),_(kn,{path:"test",element:h(h2e,{}),children:[h(kn,{path:"choice",element:h(w8,{})}),h(kn,{path:"weighted",element:h(w8,{})}),h(kn,{path:"formula",element:h(cBe,{})}),h(kn,{path:"programming",element:h(sye,{})}),h(kn,{path:"sql",element:h(oye,{})}),h(kn,{path:"spreadsheet",element:h(pye,{})}),h(kn,{path:"essay",element:h(yye,{})}),h(kn,{path:"interview",element:h(lBe,{})}),h(kn,{path:"frontend",element:h(gBe,{})}),h(kn,{path:"backend",element:h(yBe,{})}),h(kn,{path:"project",element:h(JBe,{})})]})]})]}),h(kn,{path:"/logout",element:h(Ace,{})}),h(kn,{path:"*",element:h(wBe,{})})]})]})})}const tze=({children:t})=>h(Hfe,{client:o5,children:t}),l5="POPUP_PROMPT",Mb="POPUP_PROMPT_FINISH",l9="POPUP_PROMPT_CLOSE",nze=()=>{const{t}=ct(),e=D.useRef(null),[n,r]=D.useState(!1),[a,i]=D.useState(!1),[s,o]=D.useState({message:"",title:"",input:"text"}),[l,u]=D.useState(""),[c,d]=D.useState();D.useEffect(()=>{c&&d("")},[l]);function f(){a||(r(!1),i(!1),window.dispatchEvent(new CustomEvent(Mb)))}D.useEffect(()=>{function m(g){r(!0),i(!1),u(g.detail.initialValue||""),o(g.detail),setTimeout(()=>{var v;(v=e.current)==null||v.focus()},10)}return window.addEventListener(l5,m),()=>window.removeEventListener(l5,m)},[]),D.useEffect(()=>{function m(){r(!1),i(!1),u("")}return window.addEventListener(l9,m),()=>window.removeEventListener(l9,m)},[]);async function p(m){if(m.preventDefault(),s.validation){const g=s.validation.toString().includes("async");g&&i(!0);const v=await s.validation(l);if(g&&i(!1),v)return d(v)}s.loadOnPrompt?i(!0):r(!1),window.dispatchEvent(new CustomEvent(Mb,{detail:l}))}return h(gu,{open:n,toggle:f,children:_("div",{className:"relative p-5 xl:w-1/3 md:w-1/2 md:mx-0 mx-5 w-full dark:text-white bg-white rounded-lg shadow-xl dark:bg-gray-800 space-y-1",children:[typeof s.title=="string"?h("div",{className:Ce("text-2xl font-semibold mb-2",s.titleClass),dangerouslySetInnerHTML:{__html:s.title}}):s.title,typeof s.message=="string"?h("div",{className:s.messageClass,dangerouslySetInnerHTML:{__html:s.message}}):s.message,_("form",{onSubmit:p,children:[h(qs,{getter:l,setter:u,type:s.input,disabled:a,error:c,className:"mt-1 !px-3 !py-2",innerRef:e}),h("br",{}),_("div",{className:"flex justify-end gap-2",children:[h("button",{className:"py-2 px-5 rounded text-white text-md bg-blue-600 disabled:bg-gray-400 dark:disabled:bg-gray-700 capitalize enabled:focus:ring-2 ring-blue-400",disabled:a,children:t(s.submitText||"gen_submit")}),h("button",{type:"button",onClick:f,className:"py-2 px-5 rounded border-2 border-blue-600 text-blue-600 dark:border-blue-400 dark:text-blue-400 font-medium disabled:bg-gray-400 dark:disabled:bg-gray-700 capitalize enabled:focus:ring-2 ring-blue-400",disabled:a,children:t(s.cancelText||"gen_cancel")})]})]})]})})};function xze(t){return new Promise(e=>{window.dispatchEvent(new CustomEvent(l5,{detail:t}));function n(r){e(r.detail),window.removeEventListener(Mb,n)}window.addEventListener(Mb,n)})}const rze=({children:t})=>_(St,{children:[t,h(Ece,{}),h(nze,{})]}),aze="https://api.algobash.com/s";function ize(){switch("production"){case"production":return"prod";case"staging":return"stg";default:return"dev"}}const sze=["Network request failed","Failed to fetch","NetworkError","Network Error","withrealtime/messaging"],oze=["https://api.algo.kekal.id","https://api.stg-algo.kekal.id","https://api.algobash.com","http://localhost:8081"];const lze=({children:t})=>{const{t:e}=ct(),n=window.navigator.userAgent.toLocaleLowerCase(),r=n.includes("firefox")||n.includes("chrome")||n.includes("crios");return D.useEffect(()=>{r||(document.title=`Algobash - ${e("err_browserNotSupported")}`)},[e]),r?h(St,{children:t}):_("div",{className:"relative flex flex-col min-h-screen bg-slate-50 dark:bg-gray-900/95 z-0",children:[h(bB,{disableBanner:!0}),_("div",{className:"bg-white dark:bg-gray-900 min-h-[calc(100vh-58px)] p-5 text-center",children:[h("h1",{className:"text-2xl md:text-3xl mb-2 font-semibold dark:text-white capitalize",children:e("err_browserNotSupported")}),h("p",{className:"text-gray-500 dark:text-gray-300 text-lg",children:e("err_browserNotSupportedDesc")})]})]})};function uze(){const t=document.getElementById("root");t?(gse(),Hie({dsn:"https://0a3bd40e12334dfaa9e9a14cc67fe534@o985732.ingest.sentry.io/5942138",tunnel:aze,environment:ize(),integrations:[new Gie({routingInstrumentation:nse(v_.useEffect)}),new yv],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,tracePropagationTargets:["localhost",/^\/api/],allowUrls:oze,ignoreErrors:sze}),w_.createRoot(t).render(h(v_.StrictMode,{children:h(xse,{children:h(_se,{children:h(yse,{children:h(rze,{children:h(tze,{children:h(zZ,{children:h(bse,{children:h(Tce,{type:"app",children:h(lze,{children:h(eze,{})})})})})})})})})})}))):alert("missing root element")}uze();export{Zd as C,zn as E,St as F,xze as P,sb as R,K as S,tb as T,Pr as _,Ov as a,ct as b,h as c,Ce as d,nU as e,vi as f,Bb as g,v_ as h,HR as i,_ as j,T8 as k,nv as l,fze as m,Hf as n,Jv as p,D as r,jN as t,ph as u};
//# sourceMappingURL=index-41b43ac4.js.map
